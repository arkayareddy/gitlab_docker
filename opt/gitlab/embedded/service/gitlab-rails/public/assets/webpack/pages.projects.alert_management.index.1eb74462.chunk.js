(this.webpackJsonp=this.webpackJsonp||[]).push([[186],{"+BSi":function(e,t,n){"use strict";n.r(t);var a=n("jB52"),i=n("GiFX"),r=n("5v28"),s=n("gr1B"),l=n("NmEs"),o=(n("va8A"),n("9U97"),n("kO4A"),n("+kFb"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h"),n("dsLq")),u=n("FkSe"),d=n("znvU"),c=n("dsWN"),g=n("GTGS"),p=n("Yyc1"),m=n("wP8z"),f=n("s1D3"),v=n("pbPB"),h=n("sF+2"),b=n("Lzak"),k=n("qVG1"),y=n("XRO8"),P=n("/lV4"),S=n("3twG"),C=n("Fsq/"),A=n("jbxQ"),_=n.n(A),j=n("dqhN"),x=n.n(j),N=n("z+V3"),w=n("OMVl"),D=n.n(w),O=n("0AwG"),M=n("4ZIW");function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q="table-col gl-display-flex d-md-table-cell gl-align-items-center",I="gl-hover-bg-blue-50",L={currentPage:1,prevPageCursor:"",nextPageCursor:"",firstPageSize:N.c,lastPageSize:null},F={i18n:{noAlertsMsg:Object(P.d)("AlertManagement|No alerts available to display. If you think you're seeing this message in error, refresh the page."),errorMsg:Object(P.d)("AlertManagement|There was an error displaying the alerts. Confirm your endpoint's configuration details to ensure alerts appear.")},fields:[{key:"severity",label:Object(P.d)("AlertManagement|Severity"),tdClass:"".concat(q," rounded-top text-capitalize"),thClass:I,sortable:!0},{key:"startedAt",label:Object(P.d)("AlertManagement|Start time"),thClass:"".concat(I," js-started-at"),tdClass:q,sortable:!0},{key:"endedAt",label:Object(P.d)("AlertManagement|End time"),thClass:I,tdClass:q,sortable:!0},{key:"title",label:Object(P.d)("AlertManagement|Alert"),thClass:"".concat(I," w-30p gl-pointer-events-none"),tdClass:q,sortable:!1},{key:"eventCount",label:Object(P.d)("AlertManagement|Events"),thClass:"".concat(I," text-right gl-pr-9 w-3rem"),tdClass:"".concat(q," text-md-right"),sortable:!0},{key:"assignees",label:Object(P.d)("AlertManagement|Assignees"),tdClass:q},{key:"status",thClass:"".concat(I," w-15p"),label:Object(P.d)("AlertManagement|Status"),tdClass:"".concat(q," rounded-bottom"),sortable:!0}],statuses:{TRIGGERED:Object(P.d)("AlertManagement|Triggered"),ACKNOWLEDGED:Object(P.d)("AlertManagement|Acknowledged"),RESOLVED:Object(P.d)("AlertManagement|Resolved")},severityLabels:N.a,statusTabs:N.b,components:{GlEmptyState:o.a,GlLoadingIcon:u.a,GlTable:d.a,GlAlert:c.a,GlDeprecatedButton:g.a,TimeAgo:C.a,GlDropdown:p.a,GlDropdownItem:m.a,GlIcon:f.a,GlTabs:v.a,GlTab:h.a,GlBadge:b.a,GlPagination:k.a},props:{projectPath:{type:String,required:!0},alertManagementEnabled:{type:Boolean,required:!0},enableAlertManagementPath:{type:String,required:!0},userCanEnableAlertManagement:{type:Boolean,required:!0},emptyAlertSvgPath:{type:String,required:!0}},apollo:{alerts:{fetchPolicy:r.b.CACHE_AND_NETWORK,query:_.a,variables:function(){return{projectPath:this.projectPath,statuses:this.statusFilter,sort:this.sort,firstPageSize:this.pagination.firstPageSize,lastPageSize:this.pagination.lastPageSize,prevPageCursor:this.pagination.prevPageCursor,nextPageCursor:this.pagination.nextPageCursor}},update:function(e){var t=(e.project||{}).alertManagementAlerts,n=(t=void 0===t?{}:t).nodes,a=void 0===n?[]:n,i=t.pageInfo;return{list:a,pageInfo:void 0===i?{}:i}},error:function(){this.errored=!0}},alertsCount:{query:x.a,variables:function(){return{projectPath:this.projectPath}},update:function(e){var t;return null===(t=e.project)||void 0===t?void 0:t.alertManagementAlertStatusCounts}}},data:function(){return{errored:!1,isAlertDismissed:!1,isErrorAlertDismissed:!1,sort:"STARTED_AT_DESC",statusFilter:[],filteredByStatus:"",pagination:L,sortBy:"startedAt",sortDesc:!0,sortDirection:"desc"}},computed:{showNoAlertsMsg:function(){var e;return!this.errored&&!this.loading&&0===(null===(e=this.alertsCount)||void 0===e?void 0:e.all)&&!this.isAlertDismissed},showErrorMsg:function(){return this.errored&&!this.isErrorAlertDismissed},loading:function(){return this.$apollo.queries.alerts.loading},hasAlerts:function(){var e,t;return null===(e=this.alerts)||void 0===e?void 0:null===(t=e.list)||void 0===t?void 0:t.length},tbodyTrClass:function(){return!this.loading&&this.hasAlerts?"gl-border-1 gl-border-t-solid gl-border-gray-100 gl-hover-bg-blue-50 gl-hover-cursor-pointer gl-hover-border-b-solid gl-hover-border-blue-200":""},showPaginationControls:function(){return Boolean(this.prevPage||this.nextPage)},alertsForCurrentTab:function(){return this.alertsCount?this.alertsCount[this.filteredByStatus.toLowerCase()]:0},prevPage:function(){return Math.max(this.pagination.currentPage-1,0)},nextPage:function(){var e=this.pagination.currentPage+1;return e>Math.ceil(this.alertsForCurrentTab/N.c)?null:e}},mounted:function(){this.trackPageViews()},methods:{filterAlertsByStatus:function(e){this.resetPagination();var t=this.$options.statusTabs[e],n=t.filters,a=t.status;this.statusFilter=n,this.filteredByStatus=a},fetchSortedData:function(e){var t=e.sortBy,n=e.sortDesc?"DESC":"ASC",a=Object(O.d)(t).toUpperCase();this.resetPagination(),this.sort="".concat(a,"_").concat(n)},updateAlertStatus:function(e,t){var n=this;this.$apollo.mutate({mutation:D.a,variables:{iid:t,status:e.toUpperCase(),projectPath:this.projectPath}}).then((function(){n.trackStatusUpdate(e),n.$apollo.queries.alerts.refetch(),n.$apollo.queries.alertsCount.refetch(),n.resetPagination()})).catch((function(){Object(y.a)(Object(P.d)("AlertManagement|There was an error while updating the status of the alert. Please try again."))}))},navigateToAlertDetails:function(e){var t=e.iid;return Object(S.z)(Object(S.m)(window.location.pathname,t,"details"))},trackPageViews:function(){var e=N.d.category,t=N.d.action;M.a.event(e,t)},trackStatusUpdate:function(e){var t=N.e.category,n=N.e.action,a=N.e.label;M.a.event(t,n,{label:a,property:e})},getAssignees:function(e){var t,n;return(null===(t=e.nodes)||void 0===t?void 0:t.length)>0?null===(n=e.nodes[0])||void 0===n?void 0:n.username:Object(P.d)("AlertManagement|Unassigned")},handlePageChange:function(e){var t=this.alerts.pageInfo,n=t.startCursor,a=t.endCursor;e>this.pagination.currentPage?this.pagination=E(E({},L),{},{nextPageCursor:a,currentPage:e}):this.pagination={lastPageSize:N.c,firstPageSize:null,prevPageCursor:n,nextPageCursor:"",currentPage:e}},resetPagination:function(){this.pagination=L}}},V=n("tBpV"),z=Object(V.a)(F,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.alertManagementEnabled?n("div",{staticClass:"alert-management-list"},[e.showNoAlertsMsg?n("gl-alert",{on:{dismiss:function(t){e.isAlertDismissed=!0}}},[e._v("\n      "+e._s(e.$options.i18n.noAlertsMsg)+"\n    ")]):e._e(),e._v(" "),e.showErrorMsg?n("gl-alert",{attrs:{variant:"danger"},on:{dismiss:function(t){e.isErrorAlertDismissed=!0}}},[e._v("\n      "+e._s(e.$options.i18n.errorMsg)+"\n    ")]):e._e(),e._v(" "),n("gl-tabs",{on:{input:e.filterAlertsByStatus}},e._l(e.$options.statusTabs,(function(t){return n("gl-tab",{key:t.status},[n("template",{slot:"title"},[n("span",[e._v(e._s(t.title))]),e._v(" "),e.alertsCount?n("gl-badge",{staticClass:"gl-tab-counter-badge",attrs:{pill:"",size:"sm"}},[e._v("\n            "+e._s(e.alertsCount[t.status.toLowerCase()])+"\n          ")]):e._e()],1)],2)})),1),e._v(" "),n("h4",{staticClass:"d-block d-md-none my-3"},[e._v("\n      "+e._s(e.s__("AlertManagement|Alerts"))+"\n    ")]),e._v(" "),n("gl-table",{staticClass:"alert-management-table mt-3",attrs:{items:e.alerts?e.alerts.list:[],fields:e.$options.fields,"show-empty":!0,busy:e.loading,stacked:"md","tbody-tr-class":e.tbodyTrClass,"no-local-sorting":!0,"sort-direction":e.sortDirection,"sort-desc":e.sortDesc,"sort-by":e.sortBy,"sort-icon-left":""},on:{"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"row-clicked":e.navigateToAlertDetails,"sort-changed":e.fetchSortedData},scopedSlots:e._u([{key:"cell(severity)",fn:function(t){var a=t.item;return[n("div",{staticClass:"d-inline-flex align-items-center justify-content-between",attrs:{"data-testid":"severityField"}},[n("gl-icon",{staticClass:"mr-2",class:"icon-"+a.severity.toLowerCase(),attrs:{size:12,name:"severity-"+a.severity.toLowerCase()}}),e._v("\n          "+e._s(e.$options.severityLabels[a.severity])+"\n        ")],1)]}},{key:"cell(startedAt)",fn:function(t){var a=t.item;return[a.startedAt?n("time-ago",{attrs:{time:a.startedAt}}):e._e()]}},{key:"cell(endedAt)",fn:function(t){var a=t.item;return[a.endedAt?n("time-ago",{attrs:{time:a.endedAt}}):e._e()]}},{key:"cell(eventCount)",fn:function(t){var n=t.item;return[e._v("\n        "+e._s(n.eventCount)+"\n      ")]}},{key:"cell(title)",fn:function(t){var a=t.item;return[n("div",{staticClass:"gl-max-w-full text-truncate"},[e._v(e._s(a.title))])]}},{key:"cell(assignees)",fn:function(t){var a=t.item;return[n("div",{staticClass:"gl-max-w-full text-truncate",attrs:{"data-testid":"assigneesField"}},[e._v("\n          "+e._s(e.getAssignees(a.assignees))+"\n        ")])]}},{key:"cell(status)",fn:function(t){var a=t.item;return[n("gl-dropdown",{staticClass:"w-100",attrs:{text:e.$options.statuses[a.status],right:""}},e._l(e.$options.statuses,(function(t,i){return n("gl-dropdown-item",{key:i,on:{click:function(n){return e.updateAlertStatus(t,a.iid)}}},[n("span",{staticClass:"d-flex"},[n("gl-icon",{staticClass:"flex-shrink-0 append-right-4",class:{invisible:t.toUpperCase()!==a.status},attrs:{name:"mobile-issue-close"}}),e._v("\n              "+e._s(t)+"\n            ")],1)])})),1)]}},{key:"empty",fn:function(){return[e._v("\n        "+e._s(e.s__("AlertManagement|No alerts to display."))+"\n      ")]},proxy:!0},{key:"table-busy",fn:function(){return[n("gl-loading-icon",{staticClass:"mt-3",attrs:{size:"lg",color:"dark"}})]},proxy:!0}],null,!1,620546948)}),e._v(" "),e.showPaginationControls?n("gl-pagination",{staticClass:"gl-pagination prepend-top-default",attrs:{value:e.pagination.currentPage,"prev-page":e.prevPage,"next-page":e.nextPage,align:"center"},on:{input:e.handlePageChange}}):e._e()],1):n("gl-empty-state",{attrs:{title:e.s__("AlertManagement|Surface alerts in GitLab"),"svg-path":e.emptyAlertSvgPath},scopedSlots:e._u([{key:"description",fn:function(){return[n("div",{staticClass:"d-block"},[n("span",[e._v(e._s(e.s__("AlertManagement|Display alerts from all your monitoring tools directly within GitLab. Streamline the investigation of your alerts and the escalation of alerts to incidents.")))]),e._v(" "),n("a",{attrs:{href:"/help/user/project/operations/alert_management.html",target:"_blank"}},[e._v("\n          "+e._s(e.s__("AlertManagement|More information"))+"\n        ")])]),e._v(" "),e.userCanEnableAlertManagement?n("div",{staticClass:"d-block center pt-4"},[n("gl-deprecated-button",{attrs:{category:"primary",variant:"success",href:e.enableAlertManagementPath}},[e._v("\n          "+e._s(e.s__("AlertManagement|Authorize external service"))+"\n        ")])],1):e._e()]},proxy:!0}])})],1)}),[],!1,null,null,null).exports;a.default.use(i.b);document.addEventListener("DOMContentLoaded",(function(){!function(){var e=document.querySelector("#js-alert_management"),t=e.dataset,n=t.projectPath,o=t.enableAlertManagementPath,u=t.emptyAlertSvgPath,d=e.dataset,c=d.alertManagementEnabled,g=d.userCanEnableAlertManagement;c=Object(l.H)(c),g=Object(l.H)(g);var p=new i.b({defaultClient:Object(r.a)({},{cacheConfig:{dataIdFromObject:function(e){return"AlertManagementAlert"===e.__typename?e.iid:Object(s.c)(e)}}})});new a.default({el:"#js-alert_management",apolloProvider:p,components:{AlertManagementList:z},render:function(e){return e("alert-management-list",{props:{projectPath:n,enableAlertManagementPath:o,emptyAlertSvgPath:u,alertManagementEnabled:c,userCanEnableAlertManagement:g}})}})}()}))},"19QD":function(e,t,n){var a=n("Ms17"),i=n("etTJ"),r=n("UfSc");e.exports=function(e){return function(t,n,s){return s&&"number"!=typeof s&&i(t,n,s)&&(n=s=void 0),t=r(t),void 0===n?(n=t,t=0):n=r(n),s=void 0===s?t<n?1:-1:r(s),a(t,n,s,e)}}},90:function(e,t,n){n("HVBj"),n("gjpc"),e.exports=n("+BSi")},MV2A:function(e,t,n){"use strict";var a=n("1m+M"),i=n("jB52"),r=function(e){try{var t=new URL(e,(n=window.location,a=n.protocol,i=n.host,"".concat(a,"//").concat(i)));return["http:","https:","mailto:","ftp:"].includes(t.protocol)}catch(e){return!1}var n,a,i},s=function(e){var t=e.href,n=e.target,a=e.rel,i=e.hostname;r(t)||(e.href="about:blank"),function(e,t){return"_blank"===e&&t!==window.location.hostname}(n,i)&&(e.rel=function(e){var t=e?e.trim().split(" "):[];return t.includes("noopener")||t.push("noopener"),t.includes("noreferrer")||t.push("noreferrer"),t.join(" ")}(a))},l={inserted:s,update:function(e){i.default.nextTick((function(){s(e)}))}},o=n("Pyw5"),u=n.n(o);const d={components:{BLink:a.a},directives:{SafeLink:l},props:{target:{type:String,required:!1,default:null}}};const c=u()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-link",this._g(this._b({directives:[{name:"safe-link",rawName:"v-safe-link"}],staticClass:"gl-link",attrs:{target:this.target}},"b-link",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,d,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=c},Ms17:function(e,t){var n=Math.ceil,a=Math.max;e.exports=function(e,t,i,r){for(var s=-1,l=a(n((t-e)/(i||1)),0),o=Array(l);l--;)o[r?l:++s]=e,e+=i;return o}},dqhN:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAlertsCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertManagementAlertStatusCounts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"all"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"open"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"acknowledged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"triggered"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:242}};n.loc.source={body:"query getAlertsCount($projectPath: ID!) {\n    project(fullPath: $projectPath) {\n        alertManagementAlertStatusCounts {\n            all\n            open\n            acknowledged\n            resolved\n            triggered\n        }\n    }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.getAlertsCount=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,s=new Set,l=new Set;for(r.forEach((function(e){l.add(e)}));l.size>0;){var o=l;l=new Set,o.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){l.add(e)})))}))}return s.forEach((function(t){var a=i(e,t);a&&n.definitions.push(a)})),n}(n,"getAlertsCount")},dsLq:function(e,t,n){"use strict";var a=n("4lAS"),i=n("Pyw5"),r=n.n(i);const s={components:{GlButton:a.a},props:{title:{type:String,required:!0},svgPath:{type:String,required:!1,default:null},description:{type:String,required:!1,default:null},primaryButtonLink:{type:String,required:!1,default:null},primaryButtonText:{type:String,required:!1,default:null},secondaryButtonLink:{type:String,required:!1,default:null},secondaryButtonText:{type:String,required:!1,default:null},compact:{type:Boolean,required:!1,default:!1}},computed:{shouldRenderPrimaryButton:function(){return Boolean(this.primaryButtonLink&&this.primaryButtonText)},shouldRenderSecondaryButton:function(){return Boolean(this.shouldRenderPrimaryButton&&this.secondaryButtonLink&&this.secondaryButtonText)}}};const l=r()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"row",class:{"empty-state text-center":!e.compact}},[n("div",{class:{"col-3 d-none d-sm-block":e.compact,"col-12":!e.compact}},[e.svgPath?n("div",{staticClass:"svg-250",class:{"svg-content":!e.compact}},[n("img",{staticClass:"gl-max-w-full",attrs:{src:e.svgPath,alt:e.title}})]):e._e()]),e._v(" "),n("div",{class:e.compact?"col-sm-9":"col-12"},[n("div",{staticClass:"text-content gl-mx-auto gl-my-0",class:{"gl-p-5":!e.compact}},[n("h1",{ref:"title",class:e.compact?"h5":"h4"},[e._v(e._s(e.title))]),e._v(" "),e.description||e.$slots.description?n("p",{ref:"description"},[e._t("description",[e._v("\n          "+e._s(e.description)+"\n        ")])],2):e._e(),e._v(" "),n("div",[e._t("actions",[e.shouldRenderPrimaryButton?n("gl-button",{attrs:{variant:"success",href:e.primaryButtonLink}},[e._v(e._s(e.primaryButtonText))]):e._e(),e._v(" "),e.shouldRenderSecondaryButton?n("gl-button",{attrs:{href:e.secondaryButtonLink}},[e._v(e._s(e.secondaryButtonText))]):e._e()])],2)])])])},staticRenderFns:[]},void 0,s,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=l},j5yP:function(e,t,n){var a=n("19QD")();e.exports=a},jbxQ:function(e,t,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAlerts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"statuses"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AlertManagementStatus"}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NamedType",name:{kind:"Name",value:"AlertManagementAlertSort"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"firstPageSize"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"lastPageSize"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"prevPageCursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},defaultValue:{kind:"StringValue",value:"",block:!1}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"nextPageCursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},defaultValue:{kind:"StringValue",value:"",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertManagementAlerts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"statuses"},value:{kind:"Variable",name:{kind:"Name",value:"statuses"}}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"firstPageSize"}}},{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"lastPageSize"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"nextPageCursor"}}},{kind:"Argument",name:{kind:"Name",value:"before"},value:{kind:"Variable",name:{kind:"Name",value:"prevPageCursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AlertListItem"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPreviousPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startCursor"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:806}};a.loc.source={body:'#import "../fragments/list_item.fragment.graphql"\n\nquery getAlerts(\n    $projectPath: ID!,\n    $statuses: [AlertManagementStatus!],\n    $sort: AlertManagementAlertSort,\n    $firstPageSize: Int,\n    $lastPageSize: Int,\n    $prevPageCursor: String = ""\n    $nextPageCursor: String = ""\n) {\n    project(fullPath: $projectPath, ) {\n        alertManagementAlerts(\n            statuses: $statuses,\n            sort: $sort,\n            first: $firstPageSize\n            last: $lastPageSize,\n            after: $nextPageCursor,\n            before: $prevPageCursor\n        )  {\n            nodes {\n                ...AlertListItem\n            },\n            pageInfo {\n                hasNextPage\n                endCursor\n                hasPreviousPage\n                startCursor\n            }\n        }\n    }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};a.definitions=a.definitions.concat(n("zH20").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)})));var r={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}a.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=a,e.exports.getAlerts=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,i=new Set,l=new Set;for(a.forEach((function(e){l.add(e)}));l.size>0;){var o=l;l=new Set,o.forEach((function(e){i.has(e)||(i.add(e),(r[e]||new Set).forEach((function(e){l.add(e)})))}))}return i.forEach((function(t){var a=s(e,t);a&&n.definitions.push(a)})),n}(a,"getAlerts")},qVG1:function(e,t,n){"use strict";var a=n("j5yP"),i=n.n(a),r=n("KFC0"),s=n.n(r),l=n("Tmea"),o=n.n(l),u=n("MV2A"),d=n("s1D3"),c=n("eVUo"),g=n("XBTk"),p=n("Pyw5"),m=n.n(p);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const b={name:"Pagination",components:{GlLink:u.a,GlIcon:d.a},model:{prop:"value",event:"input"},props:{value:{type:Number,required:!1,default:1,validator:function(e){return e>0}},perPage:{type:Number,required:!1,default:20,validator:function(e){return e>0}},totalItems:{type:Number,required:!1,default:0},limits:{type:Object,required:!1,default:function(){return{xs:0,sm:3,md:9,default:9}},validator:function(e){return 0===Object.keys(c.a).filter((function(t){return!e[t]})).length||e.default}},linkGen:{type:Function,required:!1,default:null},prevPage:{type:Number,required:!1,default:null},prevText:{type:String,required:!1,default:"Prev"},nextPage:{type:Number,required:!1,default:null},nextText:{type:String,required:!1,default:"Next"},ellipsisText:{type:String,required:!1,default:"…"},labelFirstPage:{type:String,required:!1,default:"Go to first page"},labelPrevPage:{type:String,required:!1,default:"Go to previous page"},labelNextPage:{type:String,required:!1,default:"Go to next page"},labelLastPage:{type:String,required:!1,default:"Go to last page"},labelPage:{type:Function,required:!1,default:function(e){return"Go to page ".concat(e)}},size:{type:String,required:!1,default:null,validator:function(e){return Object.keys(g.A).includes(e)}},align:{type:String,required:!1,default:g.c.left,validator:function(e){return Object.keys(g.c).includes(e)}},disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{breakpoint:c.b.getBreakpointSize(),minTotalPagesToCollapse:4}},computed:{isVisible:function(){return this.totalPages>1||this.isCompactPagination},isLinkBased:function(){return s()(this.linkGen)},paginationLimit:function(){return void 0!==this.limits[this.breakpoint]?this.limits[this.breakpoint]:this.limits.default},maxAdjacentPages:function(){return Math.max(Math.ceil((this.paginationLimit-1)/2),0)},totalPages:function(){return Math.ceil(this.totalItems/this.perPage)},isFillAlign:function(){return this.align===g.c.fill},wrapperClasses:function(){var e=[];return this.align===g.c.center&&e.push("justify-content-center"),this.align===g.c.right&&e.push("justify-content-end"),this.isFillAlign&&e.push("text-center"),this.size&&e.push("pagination-".concat(this.size)),Object.keys(this.$slots).length>0&&e.push("custom-rendering"),e},shouldCollapseLeftSide:function(){var e=this.value-this.maxAdjacentPages;return e>=this.maxAdjacentPages&&e>3&&this.totalPages>this.minTotalPagesToCollapse},shouldCollapseRightSide:function(){return this.totalPages-2-this.value>this.maxAdjacentPages&&this.totalPages>this.minTotalPagesToCollapse},visibleItems:function(){var e,t,n=this,a=[];if(!this.isCompactPagination){var r=this.shouldCollapseLeftSide?this.value-this.maxAdjacentPages:1;r=Math.min(r,this.totalPages-1);var s=this.shouldCollapseRightSide?this.value+this.maxAdjacentPages:this.totalPages;s=Math.max(s,2),a=(e=r,t=s,i()(e,t+1,1)).map((function(e){return n.getPageItem(e)})),this.shouldCollapseLeftSide&&a.splice(0,0,this.getPageItem(1,this.labelFirstPage),this.getEllipsisItem("left")),this.shouldCollapseRightSide&&a.push(this.getEllipsisItem("right"),this.getPageItem(this.totalPages,this.labelLastPage))}return a},isCompactPagination:function(){return Boolean(!this.totalItems&&(this.prevPage||this.nextPage))},prevPageIsDisabled:function(){return this.pageIsDisabled(this.value-1)},nextPageIsDisabled:function(){return this.pageIsDisabled(this.value+1)}},created:function(){window.addEventListener("resize",o()(this.setBreakpoint,g.z))},beforeDestroy:function(){window.removeEventListener("resize",o()(this.setBreakpoint,g.z))},methods:{setBreakpoint:function(){this.breakpoint=c.b.getBreakpointSize()},pageIsDisabled:function(e){return this.disabled||e<1||this.isCompactPagination&&e>this.value&&!this.nextPage||!this.isCompactPagination&&e>this.totalPages},getPageItem:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a={"aria-label":n||this.labelPage(e),href:"#",class:[]},i=e===this.value,r=this.pageIsDisabled(e),s=h({},a),l={};return i&&s.class.push("active","btn-primary"),this.isLinkBased&&(s.href=this.linkGen(e)),l.click=function(n){return t.handleClick(n,e)},{content:e,component:r?"span":u.a,disabled:r,key:"page_".concat(e),slot:"page-number",slotData:{page:e,active:i,disabled:r},attrs:s,listeners:l}},getEllipsisItem:function(e){return{content:this.ellipsisText,key:"ellipsis_".concat(e),slot:"ellipsis-".concat(e),component:"span",disabled:!0}},handleClick:function(e,t){this.isLinkBased||(e.preventDefault(),this.$emit("input",t))}}};const k=m()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isVisible?n("ul",{staticClass:"pagination gl-pagination text-nowrap",class:e.wrapperClasses,attrs:{role:"navigation","aria-label":"Pagination"}},[n("li",{staticClass:"page-item",class:{disabled:e.prevPageIsDisabled,"flex-fill":e.isFillAlign}},[n(e.prevPageIsDisabled?"span":"a",{tag:"component",staticClass:"page-link prev-page-item",attrs:{"aria-disabled":e.prevPageIsDisabled,"aria-label":e.labelPrevPage||e.labelPage(e.value-1),href:e.isLinkBased?e.linkGen(e.value-1):"#"},on:{click:function(t){return e.handleClick(t,e.value-1)}}},[e._t("previous",[n("gl-icon",{attrs:{name:"chevron-left"}}),e._v(" "),n("span",[e._v(e._s(e.prevText))])],null,{page:e.value-1,disabled:e.prevPageIsDisabled})],2)],1),e._v(" "),e._l(e.visibleItems,(function(t){return n("li",{key:t.key,staticClass:"page-item",class:{disabled:t.disabled,"flex-fill":e.isFillAlign}},[n(t.component,e._g(e._b({tag:"component",staticClass:"page-link",attrs:{size:e.size,"aria-disabled":t.disabled}},"component",t.attrs,!1),t.listeners),[e._t(t.slot,[e._v(e._s(t.content))],null,t.slotData)],2)],1)})),e._v(" "),n("li",{staticClass:"page-item",class:{disabled:e.nextPageIsDisabled,"flex-fill":e.isFillAlign}},[n(e.nextPageIsDisabled?"span":"a",{tag:"component",staticClass:"page-link next-page-item",attrs:{"aria-disabled":e.nextPageIsDisabled,"aria-label":e.labelNextPage||e.labelPage(e.value+1),href:e.isLinkBased?e.linkGen(e.value+1):"#"},on:{click:function(t){return e.handleClick(t,e.value+1)}}},[e._t("next",[n("span",[e._v(e._s(e.nextText))]),e._v(" "),n("gl-icon",{attrs:{name:"chevron-right"}})],null,{page:e.value+1,disabled:e.nextPageIsDisabled})],2)],1)],2):e._e()},staticRenderFns:[]},void 0,b,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=k}},[[90,1,0,12,67]]]);
//# sourceMappingURL=pages.projects.alert_management.index.1eb74462.chunk.js.map