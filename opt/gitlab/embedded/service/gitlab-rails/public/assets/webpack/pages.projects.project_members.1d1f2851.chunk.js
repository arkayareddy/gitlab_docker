(this.webpackJsonp=this.webpackJsonp||[]).push([[262],{167:function(e,t,n){n("HVBj"),n("gjpc"),e.exports=n("qqe6")},CX32:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n("va8A"),n("z4I3"),n("dj/k"),n("x/6R"),n("WQYg"),n("MRnW"),n("EfZm"),n("GzNv"),n("tbvx"),n("orcL");var r=n("t6Yz"),a=n.n(r),o=n("yQ8t");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var a=l(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,e);var t=s(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),e=t.call(this),a.a.bind("g p",(function(){return Object(o.a)(".shortcuts-project")})),a.a.bind("g v",(function(){return Object(o.a)(".shortcuts-project-activity")})),a.a.bind("g r",(function(){return Object(o.a)(".shortcuts-project-releases")})),a.a.bind("g f",(function(){return Object(o.a)(".shortcuts-tree")})),a.a.bind("g c",(function(){return Object(o.a)(".shortcuts-commits")})),a.a.bind("g j",(function(){return Object(o.a)(".shortcuts-builds")})),a.a.bind("g n",(function(){return Object(o.a)(".shortcuts-network")})),a.a.bind("g d",(function(){return Object(o.a)(".shortcuts-repository-charts")})),a.a.bind("g i",(function(){return Object(o.a)(".shortcuts-issues")})),a.a.bind("g b",(function(){return Object(o.a)(".shortcuts-issue-boards")})),a.a.bind("g m",(function(){return Object(o.a)(".shortcuts-merge_requests")})),a.a.bind("g w",(function(){return Object(o.a)(".shortcuts-wiki")})),a.a.bind("g s",(function(){return Object(o.a)(".shortcuts-snippets")})),a.a.bind("g k",(function(){return Object(o.a)(".shortcuts-kubernetes")})),a.a.bind("g e",(function(){return Object(o.a)(".shortcuts-environments")})),a.a.bind("g l",(function(){return Object(o.a)(".shortcuts-metrics")})),a.a.bind("i",(function(){return Object(o.a)(".shortcuts-new-issue")})),e}return n}(n("v+Mp").a)},"V4+i":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("t3Gg"),n("MRnW"),n("GzNv");var r=n("3a3M"),a=n.n(r),o=n("+XPY"),i=n.n(o),c=n("bOix");function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".js-access-expiration-date";function t(){a()(this).closest(".clearable-input").toggleClass("has-value",""!==a()(this).val())}var n=a()(e);n.each((function(e,n){var r=a()(n),o=new i.a({field:r.get(0),theme:"gitlab-theme animate-picker",format:"yyyy-mm-dd",minDate:new Date,container:r.parent().get(0),parse:function(e){return Object(c.o)(e)},toString:function(e){return Object(c.q)(e)},onSelect:function(e){r.val(o.toString(e)),t.call(r)},firstDay:gon.first_day_of_week});o.setDate(Object(c.o)(r.val())),r.data("pikaday",o)})),n.next(".js-clear-input").on("click",(function(n){n.preventDefault();var r=a()(this).closest(".clearable-input").find(e);r.data("pikaday").setDate(null),t.call(r)})),n.on("blur",t),n.each(t)}},ZeWX:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("t3Gg"),n("+xeR");var r=n("3a3M"),a=n.n(r),o=n("06tH"),i=n.n(o),c=n("/lV4"),s=n("3twG");n("kO4A"),n("OZM5"),n("x/6R"),n("Z5ek"),n("yaFd"),n("8Qi2"),n("EWC9"),n("MRnW"),n("tbvx"),n("orcL");var u=function(e){return e.reduce((function(e,t){var n=t.name,r=t.value;return Object.assign(e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,r))}),{})},l=n("2ibD"),d=n("XRO8"),f=n("k/Fq");function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=a()("ul.clone-options-dropdown"),n=a()("#project_clone"),r=a()(".js-git-clone-holder .js-clone-dropdown-label"),o=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),c=r.text().trim();c.length>0&&a()("a:contains('".concat(c,"')"),t).addClass("is-active"),a()("a",t).on("click",(function(e){e.preventDefault();var r=a()(e.currentTarget),i=r.attr("href"),c=r.data("cloneType");a()(".is-active",t).removeClass("is-active"),a()('a[data-clone-type="'.concat(c,'"]')).each((function(){var e=a()(this),t=e.find(".dropdown-menu-inner-title").text(),n=e.closest(".project-clone-holder").find(".js-clone-dropdown-label");e.toggleClass("is-active"),n.text(t)})),o?o.dataset.clipboardText=i:n.val(i),a()(".js-git-empty .js-clone").text(i)})),e.initRefSwitcher(),a()(".project-refs-select").on("change",(function(){return a()(this).parents("form").submit()})),a()(".hide-no-ssh-message").on("click",(function(e){return i.a.set("hide_no_ssh_message","false"),a()(this).parents(".no-ssh-key-message").remove(),e.preventDefault()})),a()(".hide-no-password-message").on("click",(function(e){return i.a.set("hide_no_password_message","false"),a()(this).parents(".no-password-message").remove(),e.preventDefault()})),a()(".hide-auto-devops-implicitly-enabled-banner").on("click",(function(e){var t=a()(this).data("project-id"),n="hide_auto_devops_implicitly_enabled_banner_".concat(t);return i.a.set(n,"false"),a()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),e.preventDefault()})),e.projectSelectDropdown()}var t,n,r;return t=e,r=[{key:"projectSelectDropdown",value:function(){Object(f.a)(),a()(".project-item-select").on("click",(function(t){return e.changeProject(a()(t.currentTarget).val())}))}},{key:"changeProject",value:function(e){return window.location=e}},{key:"initRefSwitcher",value:function(){var e=document.createElement("li"),t=document.createElement("a");return t.href="#",a()(".js-project-refs-dropdown").each((function(){var n,r,o,i=a()(this),f=i.data("selected"),p=i.data("fieldName"),h=Boolean(i.data("visit")),b=i.closest("form"),g=b.attr("action"),m=Object(s.n)((n=b[0],r=new FormData(n),o=Array.from(r.keys()).map((function(e){var t=r.getAll(e);return{name:e,value:1===(t=t.filter((function(e){return e}))).length?t[0]:t}})),u(o)),g);return i.glDropdown({data:function(e,t){l.a.get(i.data("refsUrl"),{params:{ref:i.data("ref"),search:e}}).then((function(e){var n=e.data;return t(n)})).catch((function(){return Object(d.a)(Object(c.a)("An error occurred while getting projects"))}))},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:i.data("inputFieldName"),fieldName:p,renderRow:function(n){var r,a,o,i=e.cloneNode(!1),c=t.cloneNode(!1);return n===f&&(c.className="is-active"),c.textContent=n,c.dataset.ref=n,n.length>0&&h&&(c.href=Object(s.n)((o=n,(a=p)in(r={})?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o,r),m)),i.appendChild(c),i},id:function(e,t){return t.attr("data-ref")},toggleLabel:function(e,t){return t.text().trim()},clicked:function(e){var t=e.e;h||t.preventDefault()}})}))}}],(n=null)&&p(t.prototype,n),r&&p(t,r),e}()},gjpc:function(e,t,n){"use strict";n.r(t);var r=n("ZeWX"),a=n("CX32");document.addEventListener("DOMContentLoaded",(function(){new r.a,new a.a}))},"k/Fq":function(e,t,n){"use strict";n("9U97"),n("8Qi2"),n("MRnW"),n("jaBk");var r=n("3a3M"),a=n.n(r),o=n("qPgm"),i=(n("gyUR"),n("4ql4"),n("IdsT"),n("pBsb"),n("n7CP"));function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.projectSelectInput=a()(t),this.newItemBtn=a()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}var t,r,o;return t=e,(r=[{key:"bindEvents",value:function(){var e=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",(function(t){return e.openDropdown(t)})),this.newItemBtn.on("click",(function(t){e.getProjectFromLocalStorage()||(t.preventDefault(),e.openDropdown(t))})),this.projectSelectInput.on("change",(function(){return e.selectProject()}))}},{key:"initLocalStorage",value:function(){i.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}},{key:"openDropdown",value:function(e){n.e(311).then(n.t.bind(null,"p9g0",7)).then((function(){a()(e.currentTarget).siblings(".project-item-select").select2("open")})).catch((function(){}))}},{key:"selectProject",value:function(){var e=JSON.parse(this.projectSelectInput.val()),t={url:"".concat(e.url,"/").concat(this.projectSelectInput.data("relativePath")),name:e.name};this.setNewItemBtnAttributes(t),this.setProjectInLocalStorage(t)}},{key:"setBtnTextFromLocalStorage",value:function(){var e=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(e)}},{key:"setNewItemBtnAttributes",value:function(e){e?(this.newItemBtn.attr("href",e.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(e.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}},{key:"getProjectFromLocalStorage",value:function(){var e=localStorage.getItem(this.localStorageKey);return JSON.parse(e)}},{key:"setProjectInLocalStorage",value:function(e){var t=JSON.stringify(e);localStorage.setItem(this.localStorageKey,t)}},{key:"deriveTextVariants",value:function(){var e=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:e,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}])&&c(t.prototype,r),o&&c(t,o),e}(),u=n("/lV4"),l=function(){a()(".ajax-project-select").each((function(e,t){var n,r=this,i=a()(t).data("simpleFilter")||!1,c=a()(t).data("select2");return this.groupId=a()(t).data("groupId"),this.userId=a()(t).data("userId"),this.includeGroups=a()(t).data("includeGroups"),this.allProjects=a()(t).data("allProjects")||!1,this.orderBy=a()(t).data("orderBy")||"id",this.withIssuesEnabled=a()(t).data("withIssuesEnabled"),this.withMergeRequestsEnabled=a()(t).data("withMergeRequestsEnabled"),this.withShared=void 0===a()(t).data("withShared")||a()(t).data("withShared"),this.includeProjectsInSubgroups=a()(t).data("includeProjectsInSubgroups")||!1,this.allowClear=a()(t).data("allowClear")||!1,n=Object(u.d)("ProjectSelect|Search for project"),this.includeGroups&&(n+=Object(u.d)("ProjectSelect| or group")),a()(t).select2({placeholder:n,minimumInputLength:0,query:function(e){var t,n=function(t){var n={results:t};return e.callback(n)};return t=r.includeGroups?function(t){return o.a.groups(e.term,{},(function(e){var r=e.concat(t);return n(r)}))}:n,r.groupId?o.a.groupProjects(r.groupId,e.term,{search_namespaces:!0,with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,with_shared:r.withShared,include_subgroups:r.includeProjectsInSubgroups},t):r.userId?o.a.userProjects(r.userId,e.term,{with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,with_shared:r.withShared,include_subgroups:r.includeProjectsInSubgroups},t):o.a.projects(e.term,{order_by:r.orderBy,with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,membership:!r.allProjects},t)},id:function(e){return i?e.id:JSON.stringify({name:e.name,url:e.web_url})},text:function(e){return e.name_with_namespace||e.name},initSelection:function(e,t){return o.a.project(e.val()).then((function(e){var n=e.data;return t(n)}))},allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),c||i?t:new s(t)}))};t.a=function(){return n.e(311).then(n.t.bind(null,"p9g0",7)).then(l).catch((function(){}))}},mltO:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("t3Gg");var r=n("3a3M"),a=n.n(r);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addListeners(),this.initGLDropdown()}var t,n,r;return t=e,(n=[{key:"addListeners",value:function(){a()(".js-member-update-control").off("change").on("change",this.formSubmit.bind(this)),a()(".js-edit-member-form").off("ajax:success").on("ajax:success",this.formSuccess.bind(this)),gl.utils.disableButtonIfEmptyField("#user_ids","input[name=commit]","change")}},{key:"dropdownClicked",value:function(e){e.e.preventDefault(),this.formSubmit(null,e.$el)}},{key:"dropdownToggleLabel",value:function(e,t){return t.text()}},{key:"dropdownIsSelectable",value:function(e,t){return!t.hasClass("is-active")}},{key:"initGLDropdown",value:function(){var e=this;a()(".js-member-permissions-dropdown").each((function(t,n){var r=a()(n);r.glDropdown({selectable:!0,isSelectable:function(t,n){return e.dropdownIsSelectable(t,n)},fieldName:r.data("fieldName"),id:function(e,t){return t.data("id")},toggleLabel:function(t,n){return e.dropdownToggleLabel(t,n,r)},clicked:function(t){return e.dropdownClicked(t)}})}))}},{key:"formSubmit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e?a()(e.currentTarget):t,r=this.getMemberListItems(n),o=r.$toggle,i=r.$dateInput;n.closest("form").trigger("submit.rails"),o.disable(),i.disable()}},{key:"formSuccess",value:function(e){var t=this.getMemberListItems(a()(e.currentTarget).closest(".member")),n=t.$toggle,r=t.$dateInput;n.enable(),r.enable()}},{key:"getMemberListItems",value:function(e){var t=e.is(".member")?e:a()("#".concat(e.data("elId")));return{$memberListItem:t,$toggle:t.find(".dropdown-menu-toggle"),$dateInput:t.find(".js-access-expiration-date")}}}])&&o(t.prototype,n),r&&o(t,r),e}()},n9rM:function(e,t,n){"use strict";n("9U97"),n("kO4A"),n("S6uq"),n("MRnW"),n("jaBk"),n("IdsT"),n("S26F");var r=n("G3fq"),a=n.n(r),o=n("3a3M"),i=n.n(o),c=n("2ibD"),s=n("qPgm"),u=n("NmEs"),l=n("/lV4"),d=function(){window.GROUP_SELECT_PER_PAGE=20,i()(".ajax-groups-select").each((function(){var e=i()(this),t=e.data("allAvailable"),n=e.data("skipGroups")||[],r=e.data("parentId"),o=r?s.a.subgroupsPath.replace(":id",r):s.a.groupsPath;e.select2({placeholder:Object(l.a)("Search for a group"),allowClear:e.hasClass("allowClear"),multiple:e.hasClass("multiselect"),minimumInputLength:0,ajax:{url:s.a.buildUrl(o),dataType:"json",quietMillis:250,transport:function(e){c.a[e.type.toLowerCase()](e.url,{params:e.data}).then((function(t){var n=t.data||[],r=Object(u.F)(t.headers),a=(parseInt(r["X-PAGE"],10)||0)<(parseInt(r["X-TOTAL-PAGES"],10)||0);e.success({results:n,pagination:{more:a}})})).catch(e.error)},data:function(e,n){return{search:e,page:n,per_page:window.GROUP_SELECT_PER_PAGE,all_available:t}},results:function(e,t){if(e.length)return{results:[]};var r=e.length?e:e.results||[],a=!!e.pagination&&e.pagination.more,o=r.filter((function(e){return-1===n.indexOf(e.id)}));return{results:o,page:t,more:a}}},initSelection:function(e,t){var n=i()(e).val();if(""!==n)return s.a.group(n,t)},formatResult:function(e){return"<div class='group-result'> <div class='group-name'>".concat(a()(e.full_name),"</div> <div class='group-path'>").concat(e.full_path,"</div> </div>")},formatSelection:function(e){return a()(e.full_name)},dropdownCssClass:"ajax-groups-dropdown select2-infinite",escapeMarkup:function(e){return e}}),e.on("select2-loaded",(function(){var e=document.querySelector(".select2-infinite .select2-results");e.style.height="".concat(Math.floor(e.scrollHeight),"px")}))}))};t.a=function(){return n.e(311).then(n.t.bind(null,"p9g0",7)).then(d).catch((function(){}))}},qqe6:function(e,t,n){"use strict";n.r(t);var r=n("mltO"),a=n("V4+i"),o=n("yYhH"),i=n("n9rM");document.addEventListener("DOMContentLoaded",(function(){Object(a.a)(".js-access-expiration-date-groups"),Object(i.a)(),Object(a.a)(),new r.a,new o.a}))}},[[167,1,0,6,8]]]);
//# sourceMappingURL=pages.projects.project_members.1d1f2851.chunk.js.map