(this.webpackJsonp=this.webpackJsonp||[]).push([[77],{"+p8b":function(e,t){e.exports=function(e){return e&&e.length?e[0]:void 0}},"1jeo":function(e,t,n){"use strict";n("t3Gg");var a=n("3a3M"),o=n.n(a),r=n("/lV4");function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.initDropdown()}var t,n,a;return t=e,(n=[{key:"initDropdown",value:function(){var e=this.options.onSelect;this.options.$dropdown.glDropdown({data:this.options.data,selectable:!0,inputId:this.options.$dropdown.data("inputId"),fieldName:this.options.$dropdown.data("fieldName"),toggleLabel:function(e,t){return t.is(".is-active")?e.text:Object(r.a)("Select")},clicked:function(t){t.e.preventDefault(),e()}})}}])&&i(t.prototype,n),a&&i(t,a),e}(),c=n("SaZh");function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$form=o()(".js-new-protected-tag"),this.buildDropdowns()}var t,n,a;return t=e,a=[{key:"getProtectedTags",value:function(e,t){t(gon.open_tags)}}],(n=[{key:"buildDropdowns",value:function(){var t=this.$form.find(".js-allowed-to-create");this.onSelectCallback=this.onSelect.bind(this),this.protectedTagAccessDropdown=new s({$dropdown:t,data:gon.create_access_levels,onSelect:this.onSelectCallback}),t.data("glDropdown").selectRowAtIndex(0),this.createItemDropdown=new c.a({$dropdown:this.$form.find(".js-protected-tag-select"),defaultToggleLabel:Object(r.a)("Protected Tag"),fieldName:"protected_tag[name]",onSelect:this.onSelectCallback,getData:e.getProtectedTags})}},{key:"onSelect",value:function(){var e=this.$form.find('input[name="protected_tag[name]"]'),t=this.$form.find("#create_access_levels_attributes");this.$form.find('input[type="submit"]').prop("disabled",!(e.val()&&t.length))}}])&&l(t.prototype,n),a&&l(t,a),e}(),u=n("XRO8"),p=n("2ibD");function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$wrap=t.$wrap,this.$allowedToCreateDropdownButton=this.$wrap.find(".js-allowed-to-create"),this.onSelectCallback=this.onSelect.bind(this),this.buildDropdowns()}var t,n,a;return t=e,(n=[{key:"buildDropdowns",value:function(){this.protectedTagAccessDropdown=new s({$dropdown:this.$allowedToCreateDropdownButton,data:gon.create_access_levels,onSelect:this.onSelectCallback})}},{key:"onSelect",value:function(){var e=this,t=this.$wrap.find('input[name="'.concat(this.$allowedToCreateDropdownButton.data("fieldName"),'"]'));t.length&&(this.$allowedToCreateDropdownButton.disable(),p.a.patch(this.$wrap.data("url"),{protected_tag:{create_access_levels_attributes:[{id:this.$allowedToCreateDropdownButton.data("accessLevelId"),access_level:t.val()}]}}).then((function(){e.$allowedToCreateDropdownButton.enable()})).catch((function(){e.$allowedToCreateDropdownButton.enable(),Object(u.a)(Object(r.a)("Failed to update tag!"),"alert",document.querySelector(".js-protected-tags-list"))})))}}])&&f(t.prototype,n),a&&f(t,a),e}();function b(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$wrap=o()(".protected-tags-list"),this.initEditForm()}var t,n,a;return t=e,(n=[{key:"initEditForm",value:function(){this.$wrap.find(".js-protected-tag-edit-form").each((function(e,t){new h({$wrap:o()(t)})}))}}])&&b(t.prototype,n),a&&b(t,a),e}(),v=n("r5uf"),g=n("jB52"),m=(n("x/6R"),n("Z5ek"),n("BD5p"),n("MRnW"),n("orcL"),n("FkSe")),w=n("ME8r"),j=n("7xOh"),_=Object(j.a)();function k(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var D=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.axios=p.a.create({baseURL:t})}var t,n,a;return t=e,(n=[{key:"getKeys",value:function(){return this.axios.get().then((function(e){return e.data}))}},{key:"enableKey",value:function(e){return this.axios.put("".concat(e,"/enable")).then((function(e){return e.data}))}},{key:"disableKey",value:function(e){return this.axios.put("".concat(e,"/disable")).then((function(e){return e.data}))}}])&&k(t.prototype,n),a&&k(t,a),e}();n("y6Fo");function S(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var C=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.keys={}}var t,n,a;return t=e,(n=[{key:"isEnabled",value:function(e){return this.keys.enabled_keys.some((function(t){return t.id===e}))}}])&&S(t.prototype,n),a&&S(t,a),e}(),$=(n("va8A"),n("z4I3"),n("dj/k"),n("9U97"),n("8pn6"),n("OZM5"),n("4ql4"),n("jnfO"),n("8Qi2"),n("GzNv"),n("tbvx"),n("HgGg")),O=n.n($),x=n("+p8b"),I=n.n(x),T=n("len0"),P=n("Dfb/"),E=n("5QKO"),K={components:{GlLoadingIcon:m.a},props:{deployKey:{type:Object,required:!0},type:{type:String,required:!0},btnCssClass:{type:String,required:!1,default:"btn-default"}},data:function(){return{isLoading:!1}},methods:{doAction:function(){var e=this;this.isLoading=!0,_.$emit("".concat(this.type,".key"),this.deployKey,(function(){e.isLoading=!1}))}}},N=n("tBpV");function B(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var R={components:{actionBtn:Object(N.a)(K,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"btn",class:[{disabled:e.isLoading},e.btnCssClass],attrs:{disabled:e.isLoading},on:{click:e.doAction}},[e._t("default"),e._v(" "),e.isLoading?n("gl-loading-icon",{attrs:{inline:!0}}):e._e()],2)}),[],!1,null,null,null).exports,icon:T.a},directives:{tooltip:P.a},mixins:[E.a],props:{deployKey:{type:Object,required:!0},store:{type:Object,required:!0},endpoint:{type:String,required:!0},projectId:{type:String,required:!1,default:null}},data:function(){return{projectsExpanded:!1}},computed:{editDeployKeyPath:function(){return"".concat(this.endpoint,"/").concat(this.deployKey.id,"/edit")},projects:function(){var e=this,t=B(this.deployKey.deploy_keys_projects);if(null!==this.projectId){var n=t.findIndex((function(t){return t&&t.project&&t.project.id&&t.project.id.toString()===e.projectId}));if(n>-1){var a=t.splice(n,1);return a[0].project.full_name=Object(r.d)("DeployKeys|Current project"),a.concat(t)}}return t},firstProject:function(){return I()(this.projects)},restProjects:function(){return O()(this.projects)},restProjectsTooltip:function(){return Object(r.e)(Object(r.d)("DeployKeys|Expand %{count} other projects"),{count:this.restProjects.length})},restProjectsLabel:function(){return Object(r.e)(Object(r.d)("DeployKeys|+%{count} others"),{count:this.restProjects.length})},isEnabled:function(){return this.store.isEnabled(this.deployKey.id)},isRemovable:function(){return this.store.isEnabled(this.deployKey.id)&&this.deployKey.destroyed_when_orphaned&&this.deployKey.almost_orphaned},isExpandable:function(){return!this.projectsExpanded&&this.restProjects.length>1},isExpanded:function(){return this.projectsExpanded||1===this.restProjects.length}},methods:{projectTooltipTitle:function(e){return e.can_push?Object(r.d)("DeployKeys|Write access allowed"):Object(r.d)("DeployKeys|Read access only")},toggleExpanded:function(){this.projectsExpanded=!this.projectsExpanded}}},q={components:{deployKey:Object(N.a)(R,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-responsive-table-row deploy-key"},[n("div",{staticClass:"table-section section-40"},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v(e._s(e.s__("DeployKeys|Deploy key")))]),e._v(" "),n("div",{staticClass:"table-mobile-content qa-key"},[n("strong",{staticClass:"title qa-key-title"},[e._v(" "+e._s(e.deployKey.title)+" ")]),e._v(" "),n("div",{staticClass:"fingerprint",attrs:{"data-qa-selector":"key_md5_fingerprint"}},[e._v("\n        "+e._s(e.__("MD5"))+":"+e._s(e.deployKey.fingerprint)+"\n      ")]),e._v(" "),n("div",{staticClass:"fingerprint"},[e._v(e._s(e.__("SHA256"))+":"+e._s(e.deployKey.fingerprint_sha256))])])]),e._v(" "),n("div",{staticClass:"table-section section-30 section-wrap"},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v(e._s(e.s__("DeployKeys|Project usage")))]),e._v(" "),n("div",{staticClass:"table-mobile-content deploy-project-list"},[e.projects.length>0?[n("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"label deploy-project-label",attrs:{title:e.projectTooltipTitle(e.firstProject)}},[n("span",[e._v(" "+e._s(e.firstProject.project.full_name)+" ")]),e._v(" "),n("icon",{attrs:{name:e.firstProject.can_push?"lock-open":"lock"}})],1),e._v(" "),e.isExpandable?n("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"label deploy-project-label",attrs:{title:e.restProjectsTooltip},on:{click:e.toggleExpanded}},[n("span",[e._v(e._s(e.restProjectsLabel))])]):e.isExpanded?e._l(e.restProjects,(function(t){return n("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],key:t.project.full_path,staticClass:"label deploy-project-label",attrs:{href:t.project.full_path,title:e.projectTooltipTitle(t)}},[n("span",[e._v(" "+e._s(t.project.full_name)+" ")]),e._v(" "),n("icon",{attrs:{name:t.can_push?"lock-open":"lock"}})],1)})):e._e()]:n("span",{staticClass:"text-secondary"},[e._v(e._s(e.__("None")))])],2)]),e._v(" "),n("div",{staticClass:"table-section section-15 text-right"},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v(e._s(e.__("Created")))]),e._v(" "),n("div",{staticClass:"table-mobile-content text-secondary key-created-at"},[n("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:e.tooltipTitle(e.deployKey.created_at)}},[n("icon",{attrs:{name:"calendar"}}),e._v(" "),n("span",[e._v(e._s(e.timeFormatted(e.deployKey.created_at)))])],1)])]),e._v(" "),n("div",{staticClass:"table-section section-15 table-button-footer deploy-key-actions"},[n("div",{staticClass:"btn-group table-action-buttons"},[e.isEnabled?e._e():n("action-btn",{attrs:{"deploy-key":e.deployKey,type:"enable"}},[e._v("\n        "+e._s(e.__("Enable"))+"\n      ")]),e._v(" "),e.deployKey.can_edit?n("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"btn btn-default text-secondary",attrs:{href:e.editDeployKeyPath,title:e.__("Edit"),"data-container":"body"}},[n("icon",{attrs:{name:"pencil"}})],1):e._e(),e._v(" "),e.isRemovable?n("action-btn",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{"deploy-key":e.deployKey,title:e.__("Remove"),"btn-css-class":"btn-danger",type:"remove","data-container":"body"}},[n("icon",{attrs:{name:"remove"}})],1):e.isEnabled?n("action-btn",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{"deploy-key":e.deployKey,title:e.__("Disable"),"btn-css-class":"btn-warning",type:"disable","data-container":"body"}},[n("icon",{attrs:{name:"cancel"}})],1):e._e()],1)])])}),[],!1,null,null,null).exports},props:{keys:{type:Array,required:!0},store:{type:Object,required:!0},endpoint:{type:String,required:!0},projectId:{type:String,required:!1,default:null}}},A={components:{KeysPanel:Object(N.a)(q,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"deploy-keys-panel table-holder"},[e.keys.length>0?[n("div",{staticClass:"gl-responsive-table-row table-row-header",attrs:{role:"row"}},[n("div",{staticClass:"table-section section-40",attrs:{role:"rowheader"}},[e._v("\n        "+e._s(e.s__("DeployKeys|Deploy key"))+"\n      ")]),e._v(" "),n("div",{staticClass:"table-section section-30",attrs:{role:"rowheader"}},[e._v("\n        "+e._s(e.s__("DeployKeys|Project usage"))+"\n      ")]),e._v(" "),n("div",{staticClass:"table-section section-15 text-right",attrs:{role:"rowheader"}},[e._v(e._s(e.__("Created")))])]),e._v(" "),e._l(e.keys,(function(t){return n("deploy-key",{key:t.id,attrs:{"deploy-key":t,store:e.store,endpoint:e.endpoint,"project-id":e.projectId}})}))]:n("div",{staticClass:"settings-message text-center"},[e._v("\n    "+e._s(e.s__("DeployKeys|No deploy keys found. Create one with the form above."))+"\n  ")])],2)}),[],!1,null,null,null).exports,NavigationTabs:w.a,GlLoadingIcon:m.a},props:{endpoint:{type:String,required:!0},projectId:{type:String,required:!0}},data:function(){return{currentTab:"enabled_keys",isLoading:!1,store:new C}},scopes:{enabled_keys:Object(r.d)("DeployKeys|Enabled deploy keys"),available_project_keys:Object(r.d)("DeployKeys|Privately accessible deploy keys"),public_keys:Object(r.d)("DeployKeys|Publicly accessible deploy keys")},computed:{tabs:function(){var e=this;return Object.keys(this.$options.scopes).map((function(t){var n=Array.isArray(e.keys[t])?e.keys[t].length:null;return{name:e.$options.scopes[t],scope:t,isActive:t===e.currentTab,count:n}}))},hasKeys:function(){return Object.keys(this.keys).length},keys:function(){return this.store.keys}},created:function(){this.service=new D(this.endpoint),_.$on("enable.key",this.enableKey),_.$on("remove.key",this.disableKey),_.$on("disable.key",this.disableKey)},mounted:function(){this.fetchKeys()},beforeDestroy:function(){_.$off("enable.key",this.enableKey),_.$off("remove.key",this.disableKey),_.$off("disable.key",this.disableKey)},methods:{onChangeTab:function(e){this.currentTab=e},fetchKeys:function(){var e=this;return this.isLoading=!0,this.service.getKeys().then((function(t){e.isLoading=!1,e.store.keys=t})).catch((function(){return e.isLoading=!1,e.store.keys={},new u.a(Object(r.d)("DeployKeys|Error getting deploy keys"))}))},enableKey:function(e){this.service.enableKey(e.id).then(this.fetchKeys).catch((function(){return new u.a(Object(r.d)("DeployKeys|Error enabling deploy key"))}))},disableKey:function(e,t){window.confirm(Object(r.d)("DeployKeys|You are going to remove this deploy key. Are you sure?"))?this.service.disableKey(e.id).then(this.fetchKeys).then(t).catch((function(){return new u.a(Object(r.d)("DeployKeys|Error removing deploy key"))})):t()}}},F=Object(N.a)(A,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"append-bottom-default deploy-keys"},[e.isLoading&&!e.hasKeys?n("gl-loading-icon",{attrs:{label:e.s__("DeployKeys|Loading deploy keys"),size:"lg"}}):e.hasKeys?[n("div",{staticClass:"top-area scrolling-tabs-container inner-page-scroll-tabs"},[n("div",{staticClass:"fade-left"},[n("i",{staticClass:"fa fa-angle-left",attrs:{"aria-hidden":"true"}})]),e._v(" "),n("div",{staticClass:"fade-right"},[n("i",{staticClass:"fa fa-angle-right",attrs:{"aria-hidden":"true"}})]),e._v(" "),n("navigation-tabs",{attrs:{tabs:e.tabs,scope:"deployKeys"},on:{onChangeTab:e.onChangeTab}})],1),e._v(" "),n("keys-panel",{attrs:{"project-id":e.projectId,keys:e.keys[e.currentTab],store:e.store,endpoint:e.endpoint,"data-qa-selector":"project_deploy_keys"}})]:e._e()],2)}),[],!1,null,null,null).exports;function M(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var G=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.initDropdown()}var t,n,a;return t=e,(n=[{key:"initDropdown",value:function(){var e=this.options,t=e.$dropdown,n=e.data,a=e.onSelect;t.glDropdown({data:n,selectable:!0,inputId:t.data("inputId"),fieldName:t.data("fieldName"),toggleLabel:function(e,t){return t.is(".is-active")?e.text:Object(r.a)("Select")},clicked:function(e){e.e.preventDefault(),a()}})}}])&&M(t.prototype,n),a&&M(t,a),e}(),V=n("n7CP");function U(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var W=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$form=o()(".js-new-protected-branch"),this.isLocalStorageAvailable=V.a.isLocalStorageAccessSafe(),this.currentProjectUserDefaults={},this.buildDropdowns()}var t,n,a;return t=e,a=[{key:"getProtectedBranches",value:function(e,t){t(gon.open_branches)}}],(n=[{key:"buildDropdowns",value:function(){var t=this.$form.find(".js-allowed-to-merge"),n=this.$form.find(".js-allowed-to-push"),a=this.$form.find(".js-protected-branch-select");this.onSelectCallback=this.onSelect.bind(this),this.protectedBranchMergeAccessDropdown=new G({$dropdown:t,data:gon.merge_access_levels,onSelect:this.onSelectCallback}),this.protectedBranchPushAccessDropdown=new G({$dropdown:n,data:gon.push_access_levels,onSelect:this.onSelectCallback}),this.createItemDropdown=new c.a({$dropdown:a,defaultToggleLabel:Object(r.a)("Protected Branch"),fieldName:"protected_branch[name]",onSelect:this.onSelectCallback,getData:e.getProtectedBranches})}},{key:"onSelect",value:function(){var e=this.$form.find('input[name="protected_branch[name]"]'),t=this.$form.find('input[name="protected_branch[merge_access_levels_attributes][0][access_level]"]'),n=this.$form.find('input[name="protected_branch[push_access_levels_attributes][0][access_level]"]'),a=!(e.val()&&t.length&&n.length);this.$form.find('input[type="submit"]').prop("disabled",a)}}])&&U(t.prototype,n),a&&U(t,a),e}();function Z(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var z=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$wrap=t.$wrap,this.$allowedToMergeDropdown=this.$wrap.find(".js-allowed-to-merge"),this.$allowedToPushDropdown=this.$wrap.find(".js-allowed-to-push"),this.onSelectCallback=this.onSelect.bind(this),this.buildDropdowns()}var t,n,a;return t=e,(n=[{key:"buildDropdowns",value:function(){this.protectedBranchAccessDropdown=new G({$dropdown:this.$allowedToMergeDropdown,data:gon.merge_access_levels,onSelect:this.onSelectCallback}),this.protectedBranchAccessDropdown=new G({$dropdown:this.$allowedToPushDropdown,data:gon.push_access_levels,onSelect:this.onSelectCallback})}},{key:"onSelect",value:function(){var e=this,t=this.$wrap.find('input[name="'.concat(this.$allowedToMergeDropdown.data("fieldName"),'"]')),n=this.$wrap.find('input[name="'.concat(this.$allowedToPushDropdown.data("fieldName"),'"]'));t.length&&n.length&&(this.$allowedToMergeDropdown.disable(),this.$allowedToPushDropdown.disable(),p.a.patch(this.$wrap.data("url"),{protected_branch:{merge_access_levels_attributes:[{id:this.$allowedToMergeDropdown.data("accessLevelId"),access_level:t.val()}],push_access_levels_attributes:[{id:this.$allowedToPushDropdown.data("accessLevelId"),access_level:n.val()}]}}).then((function(){e.$allowedToMergeDropdown.enable(),e.$allowedToPushDropdown.enable()})).catch((function(){e.$allowedToMergeDropdown.enable(),e.$allowedToPushDropdown.enable(),Object(u.a)(Object(r.a)("Failed to update branch!"),"alert",document.querySelector(".js-protected-branches-list"))})))}}])&&Z(t.prototype,n),a&&Z(t,a),e}();function X(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var J=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$wrap=o()(".protected-branches-list"),this.initEditForm()}var t,n,a;return t=e,(n=[{key:"initEditForm",value:function(){this.$wrap.find(".js-protected-branch-edit-form").each((function(e,t){new z({$wrap:o()(t)})}))}}])&&X(t.prototype,n),a&&X(t,a),e}(),Q=n("bplN"),Y=n("O4Ih");t.a=function(){new d,new y,new g.default({el:document.getElementById("js-deploy-keys"),components:{deployKeysApp:F},data:function(){return{endpoint:this.$options.el.dataset.endpoint,projectId:this.$options.el.dataset.projectId}},render:function(e){return e("deploy-keys-app",{props:{endpoint:this.endpoint,projectId:this.projectId}})}}),Object(v.a)(),new W,new J,new Q.a,Object(Y.a)(".js-choose-file",".js-object-map-input")}},"8pn6":function(e,t,n){"use strict";var a=n("ZfjD"),o=n("WG2a").findIndex,r=n("x5C5"),i=n("sRF7"),s=!0,c=i("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){s=!1})),a({target:"Array",proto:!0,forced:s||!c},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),r("findIndex")},CX32:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("va8A"),n("z4I3"),n("dj/k"),n("x/6R"),n("WQYg"),n("MRnW"),n("EfZm"),n("GzNv"),n("tbvx"),n("orcL");var a=n("t6Yz"),o=n.n(a),r=n("yQ8t");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,e);var t=c(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),e=t.call(this),o.a.bind("g p",(function(){return Object(r.a)(".shortcuts-project")})),o.a.bind("g v",(function(){return Object(r.a)(".shortcuts-project-activity")})),o.a.bind("g r",(function(){return Object(r.a)(".shortcuts-project-releases")})),o.a.bind("g f",(function(){return Object(r.a)(".shortcuts-tree")})),o.a.bind("g c",(function(){return Object(r.a)(".shortcuts-commits")})),o.a.bind("g j",(function(){return Object(r.a)(".shortcuts-builds")})),o.a.bind("g n",(function(){return Object(r.a)(".shortcuts-network")})),o.a.bind("g d",(function(){return Object(r.a)(".shortcuts-repository-charts")})),o.a.bind("g i",(function(){return Object(r.a)(".shortcuts-issues")})),o.a.bind("g b",(function(){return Object(r.a)(".shortcuts-issue-boards")})),o.a.bind("g m",(function(){return Object(r.a)(".shortcuts-merge_requests")})),o.a.bind("g w",(function(){return Object(r.a)(".shortcuts-wiki")})),o.a.bind("g s",(function(){return Object(r.a)(".shortcuts-snippets")})),o.a.bind("g k",(function(){return Object(r.a)(".shortcuts-kubernetes")})),o.a.bind("g e",(function(){return Object(r.a)(".shortcuts-environments")})),o.a.bind("g l",(function(){return Object(r.a)(".shortcuts-metrics")})),o.a.bind("i",(function(){return Object(r.a)(".shortcuts-new-issue")})),e}return n}(n("v+Mp").a)},"Dfb/":function(e,t,n){"use strict";var a=n("3a3M"),o=n.n(a);n("yv3B");t.a={bind:function(e){var t=localStorage.getItem("gl-tooltip-delay"),n=t?JSON.parse(t):0;o()(e).tooltip({trigger:"hover",delay:n})},componentUpdated:function(e){o()(e).tooltip("_fixTitle");var t=o()(e).data("bs.tooltip"),n=t.getTipElement();t.setElementContent(o()(n.querySelectorAll(".tooltip-inner")),t.getTitle())},unbind:function(e){o()(e).tooltip("dispose")}}},HgGg:function(e,t,n){var a=n("zx4+");e.exports=function(e){var t=null==e?0:e.length;return t?a(e,1,t):[]}},ME8r:function(e,t,n){"use strict";var a=n("3a3M"),o=n.n(a),r={name:"NavigationTabs",props:{tabs:{type:Array,required:!0},scope:{type:String,required:!1,default:""}},mounted:function(){o()(document).trigger("init.scrolling-tabs")},methods:{shouldRenderBadge:function(e){return!(null==e)},onTabClick:function(e){this.$emit("onChangeTab",e.scope)}}},i=n("tBpV"),s=Object(i.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"nav-links scrolling-tabs separator"},e._l(e.tabs,(function(t,a){return n("li",{key:a,class:{active:t.isActive}},[n("a",{class:"js-"+e.scope+"-tab-"+t.scope,attrs:{role:"button"},on:{click:function(n){return e.onTabClick(t)}}},[e._v("\n      "+e._s(t.name)+"\n\n      "),e.shouldRenderBadge(t.count)?n("span",{staticClass:"badge badge-pill"},[e._v(" "+e._s(t.count)+" ")]):e._e()])])})),0)}),[],!1,null,null,null);t.a=s.exports},O4Ih:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));n("IdsT"),n("S26F"),n("pBsb");t.a=function(e,t){var n=document.querySelector(e),a=document.querySelector(t);if(n&&a){var o=n.closest("form");n.addEventListener("click",(function(){a.click()})),a.addEventListener("change",(function(){o.querySelector(".js-filename").textContent=a.value.replace(/^.*[\\\/]/,"")}))}};var a=function(e){var t,n=e.clipboardData;return window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):n&&n.getData&&(t=n.getData("text/plain")),(t=t.split("\r"))[0]}},SaZh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("9U97"),n("t3Gg"),n("y6Fo");var a=n("G3fq"),o=n.n(a);n("X42B");function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultToggleLabel=t.defaultToggleLabel,this.fieldName=t.fieldName,this.onSelect=t.onSelect||function(){},this.getDataOption=t.getData,this.getDataRemote=Boolean(t.filterRemote),this.createNewItemFromValueOption=t.createNewItemFromValue,this.$dropdown=t.$dropdown,this.$dropdownContainer=this.$dropdown.parent(),this.$dropdownFooter=this.$dropdownContainer.find(".dropdown-footer"),this.$createButton=this.$dropdownContainer.find(".js-dropdown-create-new-item"),this.buildDropdown(),this.bindEvents(),this.toggleFooter(!0)}var t,n,a;return t=e,(n=[{key:"buildDropdown",value:function(){var e=this;this.$dropdown.glDropdown({data:this.getData.bind(this),filterable:!0,filterRemote:this.getDataRemote,search:{fields:["text"]},selectable:!0,toggleLabel:function(e){return e&&"id"in e?o()(e.title):this.defaultToggleLabel},fieldName:this.fieldName,text:function(e){return o()(e.text)},id:function(e){return o()(e.id)},onFilter:this.toggleCreateNewButton.bind(this),clicked:function(t){t.e.preventDefault(),e.onSelect()}})}},{key:"clearDropdown",value:function(){this.$dropdownContainer.find(".dropdown-content").html(""),this.$dropdownContainer.find(".dropdown-input-field").val("")}},{key:"bindEvents",value:function(){this.$createButton.on("click",this.onClickCreateWildcard.bind(this))}},{key:"onClickCreateWildcard",value:function(e){e.preventDefault(),this.refreshData(),this.$dropdown.data("glDropdown").selectRowAtIndex()}},{key:"refreshData",value:function(){this.$dropdown.data("glDropdown").remote.execute()}},{key:"getData",value:function(e,t){var n=this;this.getDataOption(e,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=n.selectedItem&&e.some((function(e){return e.id===n.selectedItem.id})),o=e;a||(o=e.concat(n.selectedItem||[])),t(o)}))}},{key:"createNewItemFromValue",value:function(e){return this.createNewItemFromValueOption?this.createNewItemFromValueOption(e):{title:e,id:e,text:e}}},{key:"toggleCreateNewButton",value:function(e){e&&(this.selectedItem=this.createNewItemFromValue(e),this.$dropdownContainer.find(".js-dropdown-create-new-item code").text(e)),this.toggleFooter(!e)}},{key:"toggleFooter",value:function(e){this.$dropdownFooter.toggleClass("hidden",e)}}])&&r(t.prototype,n),a&&r(t,a),e}()},ZeWX:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("t3Gg"),n("+xeR");var a=n("3a3M"),o=n.n(a),r=n("06tH"),i=n.n(r),s=n("/lV4"),c=n("3twG");n("kO4A"),n("OZM5"),n("x/6R"),n("Z5ek"),n("yaFd"),n("8Qi2"),n("EWC9"),n("MRnW"),n("tbvx"),n("orcL");var l=function(e){return e.reduce((function(e,t){var n=t.name,a=t.value;return Object.assign(e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,a))}),{})},d=n("2ibD"),u=n("XRO8"),p=n("k/Fq");function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=o()("ul.clone-options-dropdown"),n=o()("#project_clone"),a=o()(".js-git-clone-holder .js-clone-dropdown-label"),r=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),s=a.text().trim();s.length>0&&o()("a:contains('".concat(s,"')"),t).addClass("is-active"),o()("a",t).on("click",(function(e){e.preventDefault();var a=o()(e.currentTarget),i=a.attr("href"),s=a.data("cloneType");o()(".is-active",t).removeClass("is-active"),o()('a[data-clone-type="'.concat(s,'"]')).each((function(){var e=o()(this),t=e.find(".dropdown-menu-inner-title").text(),n=e.closest(".project-clone-holder").find(".js-clone-dropdown-label");e.toggleClass("is-active"),n.text(t)})),r?r.dataset.clipboardText=i:n.val(i),o()(".js-git-empty .js-clone").text(i)})),e.initRefSwitcher(),o()(".project-refs-select").on("change",(function(){return o()(this).parents("form").submit()})),o()(".hide-no-ssh-message").on("click",(function(e){return i.a.set("hide_no_ssh_message","false"),o()(this).parents(".no-ssh-key-message").remove(),e.preventDefault()})),o()(".hide-no-password-message").on("click",(function(e){return i.a.set("hide_no_password_message","false"),o()(this).parents(".no-password-message").remove(),e.preventDefault()})),o()(".hide-auto-devops-implicitly-enabled-banner").on("click",(function(e){var t=o()(this).data("project-id"),n="hide_auto_devops_implicitly_enabled_banner_".concat(t);return i.a.set(n,"false"),o()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),e.preventDefault()})),e.projectSelectDropdown()}var t,n,a;return t=e,a=[{key:"projectSelectDropdown",value:function(){Object(p.a)(),o()(".project-item-select").on("click",(function(t){return e.changeProject(o()(t.currentTarget).val())}))}},{key:"changeProject",value:function(e){return window.location=e}},{key:"initRefSwitcher",value:function(){var e=document.createElement("li"),t=document.createElement("a");return t.href="#",o()(".js-project-refs-dropdown").each((function(){var n,a,r,i=o()(this),p=i.data("selected"),f=i.data("fieldName"),h=Boolean(i.data("visit")),b=i.closest("form"),y=b.attr("action"),v=Object(c.n)((n=b[0],a=new FormData(n),r=Array.from(a.keys()).map((function(e){var t=a.getAll(e);return{name:e,value:1===(t=t.filter((function(e){return e}))).length?t[0]:t}})),l(r)),y);return i.glDropdown({data:function(e,t){d.a.get(i.data("refsUrl"),{params:{ref:i.data("ref"),search:e}}).then((function(e){var n=e.data;return t(n)})).catch((function(){return Object(u.a)(Object(s.a)("An error occurred while getting projects"))}))},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:i.data("inputFieldName"),fieldName:f,renderRow:function(n){var a,o,r,i=e.cloneNode(!1),s=t.cloneNode(!1);return n===p&&(s.className="is-active"),s.textContent=n,s.dataset.ref=n,n.length>0&&h&&(s.href=Object(c.n)((r=n,(o=f)in(a={})?Object.defineProperty(a,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[o]=r,a),v)),i.appendChild(s),i},id:function(e,t){return t.attr("data-ref")},toggleLabel:function(e,t){return t.text().trim()},clicked:function(e){var t=e.e;h||t.preventDefault()}})}))}}],(n=null)&&f(t.prototype,n),a&&f(t,a),e}()},bplN:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));n("9U97"),n("t3Gg"),n("Z5ek"),n("MRnW"),n("IdsT"),n("GzNv"),n("pBsb");var a=n("3a3M"),o=n.n(a),r=n("+XPY"),i=n.n(r),s=n("a+C/"),c=n.n(s),l=n("/lV4"),d=n("2ibD"),u=n("bOix"),p=n("KQYO");function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}var y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.$dropdown,a=t.$loading;f(this,e);var r=n.closest(".dropdown"),i=n.closest(".block");this.$loading=a,this.$dropdown=n,this.$dropdownParent=r,this.$datePicker=r.find(".js-due-date-calendar"),this.$block=i,this.$sidebarCollapsedValue=i.find(".sidebar-collapsed-icon"),this.$selectbox=n.closest(".selectbox"),this.$value=i.find(".value"),this.$valueContent=i.find(".value-content"),this.$sidebarValue=o()(".js-due-date-sidebar-value",i),this.fieldName=n.data("fieldName"),this.abilityName=n.data("abilityName"),this.issueUpdateURL=n.data("issueUpdate"),this.rawSelectedDate=null,this.displayedDate=null,this.datePayload=null,this.initGlDropdown(),this.initRemoveDueDate(),this.initDatePicker()}return b(e,[{key:"initGlDropdown",value:function(){var e=this;this.$dropdown.glDropdown({opened:function(){e.$datePicker.data("pikaday").show()},hidden:function(){e.$selectbox.hide(),e.$value.css("display","")},shouldPropagate:!1})}},{key:"initDatePicker",value:function(){var e=this,t=o()("input[name='".concat(this.fieldName,"']")),n=new i.a({field:t.get(0),theme:"gitlab-theme",format:"yyyy-mm-dd",parse:function(e){return Object(u.o)(e)},toString:function(e){return Object(u.q)(e)},onSelect:function(a){t.val(n.toString(a)),e.$dropdown.hasClass("js-issue-boards-due-date")?(p.c.detail.issue.dueDate=t.val(),e.updateIssueBoardIssue()):e.saveDueDate(!0)},firstDay:gon.first_day_of_week});n.setDate(Object(u.o)(t.val())),this.$datePicker.append(n.el),this.$datePicker.data("pikaday",n)}},{key:"initRemoveDueDate",value:function(){var e=this;this.$block.on("click",".js-remove-due-date",(function(t){var n=e.$datePicker.data("pikaday");t.preventDefault(),n.setDate(null),e.$dropdown.hasClass("js-issue-boards-due-date")?(p.c.detail.issue.dueDate="",e.updateIssueBoardIssue()):(o()("input[name='".concat(e.fieldName,"']")).val(""),e.saveDueDate(!1))}))}},{key:"saveDueDate",value:function(e){this.parseSelectedDate(),this.prepSelectedDate(),this.submitSelectedDate(e)}},{key:"parseSelectedDate",value:function(){if(this.rawSelectedDate=o()("input[name='".concat(this.fieldName,"']")).val(),this.rawSelectedDate.length){var e=this.rawSelectedDate.split("-").map((function(e){return parseInt(e,10)})),t=new Date(e[0],e[1]-1,e[2]);this.displayedDate=c()(t,"mmm d, yyyy")}else this.displayedDate=Object(l.a)("None")}},{key:"prepSelectedDate",value:function(){var e={};e[this.abilityName]={},e[this.abilityName].due_date=this.rawSelectedDate,this.datePayload=e}},{key:"updateIssueBoardIssue",value:function(){var e=this;this.$loading.fadeIn(),this.$dropdown.trigger("loading.gl.dropdown"),this.$selectbox.hide(),this.$value.css("display","");var t=function(){e.$loading.fadeOut()};p.c.detail.issue.update(this.$dropdown.attr("data-issue-update")).then(t).catch(t)}},{key:"submitSelectedDate",value:function(e){var t=this,n=this.datePayload[this.abilityName].due_date,a=this.displayedDate!==Object(l.a)("None"),r=a?"bold":"no-value";return this.$loading.removeClass("hidden").fadeIn(),e&&(this.$dropdown.trigger("loading.gl.dropdown"),this.$selectbox.hide()),this.$value.css("display",""),this.$valueContent.html("<span class='".concat(r,"'>").concat(this.displayedDate,"</span>")),this.$sidebarValue.html(this.displayedDate),o()(".js-remove-due-date-holder").toggleClass("hidden",n.length),d.a.put(this.issueUpdateURL,this.datePayload).then((function(){var o=a?"".concat(Object(l.a)("Due date"),"<br />").concat(n," (").concat(Object(u.t)(n),")"):Object(l.a)("Due date");return e&&(t.$dropdown.trigger("loaded.gl.dropdown"),t.$dropdown.dropdown("toggle")),t.$sidebarCollapsedValue.attr("data-original-title",o),t.$loading.fadeOut()}))}}]),e}(),v=function(){function e(){f(this,e),this.initMilestoneDatePicker(),this.initIssuableSelect()}return b(e,[{key:"initMilestoneDatePicker",value:function(){o()(".datepicker").each((function(){var e=o()(this),t=e.val(),n=new i.a({field:e.get(0),theme:"gitlab-theme animate-picker",format:"yyyy-mm-dd",container:e.parent().get(0),parse:function(e){return Object(u.o)(e)},toString:function(e){return Object(u.q)(e)},onSelect:function(t){e.val(n.toString(t))},firstDay:gon.first_day_of_week});n.setDate(Object(u.o)(t)),e.data("pikaday",n)})),o()(".js-clear-due-date,.js-clear-start-date").on("click",(function(e){e.preventDefault(),o()(e.target).siblings(".datepicker").data("pikaday").setDate(null)}))}},{key:"initIssuableSelect",value:function(){var e=o()(".js-issuable-update .due_date").find(".block-loading").hide();o()(".js-due-date-select").each((function(t,n){var a=o()(n);new y({$dropdown:a,$loading:e})}))}}]),e}()},gjpc:function(e,t,n){"use strict";n.r(t);var a=n("ZeWX"),o=n("CX32");document.addEventListener("DOMContentLoaded",(function(){new a.a,new o.a}))},"k/Fq":function(e,t,n){"use strict";n("9U97"),n("8Qi2"),n("MRnW"),n("jaBk");var a=n("3a3M"),o=n.n(a),r=n("qPgm"),i=(n("gyUR"),n("4ql4"),n("IdsT"),n("pBsb"),n("n7CP"));function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.projectSelectInput=o()(t),this.newItemBtn=o()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}var t,a,r;return t=e,(a=[{key:"bindEvents",value:function(){var e=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",(function(t){return e.openDropdown(t)})),this.newItemBtn.on("click",(function(t){e.getProjectFromLocalStorage()||(t.preventDefault(),e.openDropdown(t))})),this.projectSelectInput.on("change",(function(){return e.selectProject()}))}},{key:"initLocalStorage",value:function(){i.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}},{key:"openDropdown",value:function(e){n.e(311).then(n.t.bind(null,"p9g0",7)).then((function(){o()(e.currentTarget).siblings(".project-item-select").select2("open")})).catch((function(){}))}},{key:"selectProject",value:function(){var e=JSON.parse(this.projectSelectInput.val()),t={url:"".concat(e.url,"/").concat(this.projectSelectInput.data("relativePath")),name:e.name};this.setNewItemBtnAttributes(t),this.setProjectInLocalStorage(t)}},{key:"setBtnTextFromLocalStorage",value:function(){var e=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(e)}},{key:"setNewItemBtnAttributes",value:function(e){e?(this.newItemBtn.attr("href",e.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(e.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}},{key:"getProjectFromLocalStorage",value:function(){var e=localStorage.getItem(this.localStorageKey);return JSON.parse(e)}},{key:"setProjectInLocalStorage",value:function(e){var t=JSON.stringify(e);localStorage.setItem(this.localStorageKey,t)}},{key:"deriveTextVariants",value:function(){var e=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:e,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}])&&s(t.prototype,a),r&&s(t,r),e}(),l=n("/lV4"),d=function(){o()(".ajax-project-select").each((function(e,t){var n,a=this,i=o()(t).data("simpleFilter")||!1,s=o()(t).data("select2");return this.groupId=o()(t).data("groupId"),this.userId=o()(t).data("userId"),this.includeGroups=o()(t).data("includeGroups"),this.allProjects=o()(t).data("allProjects")||!1,this.orderBy=o()(t).data("orderBy")||"id",this.withIssuesEnabled=o()(t).data("withIssuesEnabled"),this.withMergeRequestsEnabled=o()(t).data("withMergeRequestsEnabled"),this.withShared=void 0===o()(t).data("withShared")||o()(t).data("withShared"),this.includeProjectsInSubgroups=o()(t).data("includeProjectsInSubgroups")||!1,this.allowClear=o()(t).data("allowClear")||!1,n=Object(l.d)("ProjectSelect|Search for project"),this.includeGroups&&(n+=Object(l.d)("ProjectSelect| or group")),o()(t).select2({placeholder:n,minimumInputLength:0,query:function(e){var t,n=function(t){var n={results:t};return e.callback(n)};return t=a.includeGroups?function(t){return r.a.groups(e.term,{},(function(e){var a=e.concat(t);return n(a)}))}:n,a.groupId?r.a.groupProjects(a.groupId,e.term,{search_namespaces:!0,with_issues_enabled:a.withIssuesEnabled,with_merge_requests_enabled:a.withMergeRequestsEnabled,with_shared:a.withShared,include_subgroups:a.includeProjectsInSubgroups},t):a.userId?r.a.userProjects(a.userId,e.term,{with_issues_enabled:a.withIssuesEnabled,with_merge_requests_enabled:a.withMergeRequestsEnabled,with_shared:a.withShared,include_subgroups:a.includeProjectsInSubgroups},t):r.a.projects(e.term,{order_by:a.orderBy,with_issues_enabled:a.withIssuesEnabled,with_merge_requests_enabled:a.withMergeRequestsEnabled,membership:!a.allProjects},t)},id:function(e){return i?e.id:JSON.stringify({name:e.name,url:e.web_url})},text:function(e){return e.name_with_namespace||e.name},initSelection:function(e,t){return r.a.project(e.val()).then((function(e){var n=e.data;return t(n)}))},allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),s||i?t:new c(t)}))};t.a=function(){return n.e(311).then(n.t.bind(null,"p9g0",7)).then(d).catch((function(){}))}},r5uf:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("t3Gg");var a=n("3a3M"),o=n.n(a),r=n("/lV4");function i(e){e.find(".js-settings-toggle:not(.js-settings-toggle-trigger-only)").text(Object(r.a)("Collapse")),e.find(".settings-content").off("scroll.expandSection").scrollTop(0),e.addClass("expanded"),e.hasClass("no-animate")||e.addClass("animating").one("animationend.animateSection",(function(){return e.removeClass("animating")}))}function s(e){e.removeClass("no-animate"),e.hasClass("expanded")?function(e){e.find(".js-settings-toggle:not(.js-settings-toggle-trigger-only)").text(Object(r.a)("Expand")),e.find(".settings-content").on("scroll.expandSection",(function(){return i(e)})),e.removeClass("expanded"),e.hasClass("no-animate")||e.addClass("animating").one("animationend.animateSection",(function(){return e.removeClass("animating")}))}(e):i(e)}function c(){if(o()(".settings").each((function(e,t){var n=o()(t);n.on("click.toggleSection",".js-settings-toggle",(function(){return s(n)})),n.hasClass("expanded")||n.find(".settings-content").on("scroll.expandSection",(function(){n.removeClass("no-animate"),i(n)}))})),window.location.hash){var e=o()(window.location.hash);e.length&&e.hasClass("settings")&&i(e)}}},"zx4+":function(e,t){e.exports=function(e,t,n){var a=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var r=Array(o);++a<o;)r[a]=e[a+t];return r}}}]);
//# sourceMappingURL=commons~pages.projects.settings.repository.create_deploy_token~pages.projects.settings.repository.show.be0c9570.chunk.js.map