(this.webpackJsonp=this.webpackJsonp||[]).push([[53],{"4ips":function(t,e,n){var o=n("1qE/"),a=n("MlCX");t.exports=function t(e,n,i,r,l){var s=-1,c=e.length;for(i||(i=a),l||(l=[]);++s<c;){var d=e[s];n>0&&i(d)?n>1?t(d,n-1,i,r,l):o(l,d):r||(l[l.length]=d)}return l}},"7Gq8":function(t,e,n){var o=n("BZxG");t.exports=function(t,e,n){for(var a=-1,i=t.criteria,r=e.criteria,l=i.length,s=n.length;++a<l;){var c=o(i[a],r[a]);if(c)return a>=s?c:c*("desc"==n[a]?-1:1)}return t.index-e.index}},"7rao":function(t,e,n){var o=n("k9pk")("sortBy",n("TKCn"));o.placeholder=n("gkan"),t.exports=o},"95R8":function(t,e,n){var o=n("90g9"),a=n("nHTl"),i=n("QwWC"),r=n("uHqx"),l=n("wJPF"),s=n("7Gq8"),c=n("uYOL");t.exports=function(t,e,n){var d=-1;e=o(e.length?e:[c],l(a));var u=i(t,(function(t,n,a){return{criteria:o(e,(function(e){return e(t)})),index:++d,value:t}}));return r(u,(function(t,e){return s(t,e,n)}))}},BZxG:function(t,e,n){var o=n("G1mR");t.exports=function(t,e){if(t!==e){var n=void 0!==t,a=null===t,i=t==t,r=o(t),l=void 0!==e,s=null===e,c=e==e,d=o(e);if(!s&&!d&&!r&&t>e||r&&l&&c&&!s&&!d||a&&l&&c||!n&&c||!i)return 1;if(!a&&!r&&!d&&t<e||d&&n&&i&&!a&&!r||s&&n&&i||!l&&i||!c)return-1}return 0}},"Dfb/":function(t,e,n){"use strict";var o=n("3a3M"),a=n.n(o);n("yv3B");e.a={bind:function(t){var e=localStorage.getItem("gl-tooltip-delay"),n=e?JSON.parse(e):0;a()(t).tooltip({trigger:"hover",delay:n})},componentUpdated:function(t){a()(t).tooltip("_fixTitle");var e=a()(t).data("bs.tooltip"),n=e.getTipElement();e.setElementContent(a()(n.querySelectorAll(".tooltip-inner")),e.getTitle())},unbind:function(t){a()(t).tooltip("dispose")}}},ME8r:function(t,e,n){"use strict";var o=n("3a3M"),a=n.n(o),i={name:"NavigationTabs",props:{tabs:{type:Array,required:!0},scope:{type:String,required:!1,default:""}},mounted:function(){a()(document).trigger("init.scrolling-tabs")},methods:{shouldRenderBadge:function(t){return!(null==t)},onTabClick:function(t){this.$emit("onChangeTab",t.scope)}}},r=n("tBpV"),l=Object(r.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"nav-links scrolling-tabs separator"},t._l(t.tabs,(function(e,o){return n("li",{key:o,class:{active:e.isActive}},[n("a",{class:"js-"+t.scope+"-tab-"+e.scope,attrs:{role:"button"},on:{click:function(n){return t.onTabClick(e)}}},[t._v("\n      "+t._s(e.name)+"\n\n      "),t.shouldRenderBadge(e.count)?n("span",{staticClass:"badge badge-pill"},[t._v(" "+t._s(e.count)+" ")]):t._e()])])})),0)}),[],!1,null,null,null);e.a=l.exports},MlCX:function(t,e,n){var o=n("aCzx"),a=n("x14d"),i=n("P/Kr"),r=o?o.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||a(t)||!!(r&&t&&t[r])}},QwWC:function(t,e,n){var o=n("2v8U"),a=n("20jF");t.exports=function(t,e){var n=-1,i=a(t)?Array(t.length):[];return o(t,(function(t,o,a){i[++n]=e(t,o,a)})),i}},TKCn:function(t,e,n){var o=n("4ips"),a=n("95R8"),i=n("Opi0"),r=n("etTJ"),l=i((function(t,e){if(null==t)return[];var n=e.length;return n>1&&r(t,e[0],e[1])?e=[]:n>2&&r(e[0],e[1],e[2])&&(e=[e[0]]),a(t,o(e,1),[])}));t.exports=l},VNnR:function(t,e,n){var o=n("7/U+");t.exports=function(t,e){return o(t,e)}},VX9u:function(t,e){var n=Array.prototype.reverse;t.exports=function(t){return null==t?t:n.call(t)}},XqDB:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var o=n("Mm9T"),a=n("o/E4"),i=n("QXXq"),r=n("BrvI"),l=n("7bmO"),s="__bv_modal_directive__",c=function(t){var e=t.modifiers,n=void 0===e?{}:e,o=t.arg,a=t.value;return Object(r.i)(a)?a:Object(r.i)(o)?o:Object(l.j)(n).reverse()[0]},d=function(t){return t&&Object(a.p)(t,".dropdown-menu > li, li.nav-item")&&Object(a.v)("a, button",t)||t},u=function(t){t&&"BUTTON"!==t.tagName&&(Object(a.k)(t,"role")||Object(a.x)(t,"role","button"),"A"===t.tagName||Object(a.k)(t,"tabindex")||Object(a.x)(t,"tabindex","0"))},m=function(t){var e=t[s]||{},n=e.trigger,o=e.handler;n&&o&&(Object(i.c)(n,"click",o,i.b),Object(i.c)(n,"keydown",o,i.b),Object(i.c)(t,"click",o,i.b),Object(i.c)(t,"keydown",o,i.b)),delete t[s]},p=function(t,e,n){var r=t[s]||{},l=c(e),p=d(t);l===r.target&&p===r.trigger||(m(t),function(t,e,n){var r=c(e),l=d(t);if(r&&l){var m=function(t){var e=t.currentTarget;if(!Object(a.m)(e)){var i=t.type,l=t.keyCode;"click"!==i&&("keydown"!==i||l!==o.a.ENTER&&l!==o.a.SPACE)||n.context.$root.$emit("bv::show::modal",r,e)}};t[s]={handler:m,target:r,trigger:l},u(l),Object(i.d)(l,"click",m,i.b),"BUTTON"!==l.tagName&&"button"===Object(a.e)(l,"role")&&Object(i.d)(l,"keydown",m,i.b)}}(t,e,n)),u(p)},h={inserted:p,updated:function(){},componentUpdated:p,unbind:m}},aCCI:function(t,e,n){"use strict";n("gyUR"),n("IdsT"),n("pBsb");var o=n("nUKU"),a=n.n(o),i=n("KFC0"),r=n.n(i),l=n("VNnR"),s=n.n(l),c=n("99pJ"),d=n.n(c),u=(n("va8A"),n("kO4A"),n("t3Gg"),n("+kFb"),n("Z5ek"),n("8Qi2"),n("EWC9"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h"),function(t,e){return e}),m=n("NmEs");function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var b=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.state={},this.state.environments=[],this.state.stoppedCounter=0,this.state.availableCounter=0,this.state.paginationInformation={},this.state.reviewAppDetails={},this}var e,n,o;return e=t,(n=[{key:"storeEnvironments",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=e.map((function(e){var n=t.state.environments.find((function(t){return e.latest?t.id===e.latest.id:t.id===e.id}))||{},o={};return e.size>1&&(o=h(h({},e),{},{isFolder:!0,isLoadingFolderContent:n.isLoading||!1,folderName:e.name,isOpen:n.isOpen||!1,children:n.children||[]})),e.latest?delete(o=Object.assign(o,e,e.latest)).latest:o=Object.assign(o,e),o=u(0,o)}));return this.state.environments=n,n}},{key:"setPagination",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(m.F)(t),n=Object(m.I)(e);return this.state.paginationInformation=n,n}},{key:"setReviewAppDetails",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.state.reviewAppDetails=t,t}},{key:"storeAvailableCount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.availableCounter=t,t}},{key:"storeStoppedCount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.stoppedCounter=t,t}},{key:"toggleDeployBoard",value:function(){return this.state.environments}},{key:"toggleFolder",value:function(t){return this.updateEnvironmentProp(t,"isOpen",!t.isOpen)}},{key:"setfolderContent",value:function(t,e){var n=e.map((function(t){var e=t;return t.latest?delete(e=h(h({},t),t.latest)).latest:e=t,e.isChildren=!0,e}));return this.updateEnvironmentProp(t,"children",n)}},{key:"updateEnvironmentProp",value:function(t,e,n){var o=this.state.environments.map((function(o){var a=h({},o);return o.id===t.id&&(a[e]=n),a}));this.state.environments=o}},{key:"getOpenFolders",value:function(){return this.state.environments.filter((function(t){return t.isFolder&&t.isOpen}))}}])&&f(e.prototype,n),o&&f(e,o),t}(),y=n("hqF9"),g=n("/lV4"),_=n("XRO8"),O=n("kJRM"),D=(n("9U97"),n("2ibD"));function C(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var j=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.environmentsEndpoint=e,this.folderResults=3}var e,n,o;return e=t,(n=[{key:"fetchEnvironments",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.scope,n=t.page,o=t.nested;return D.a.get(this.environmentsEndpoint,{params:{scope:e,page:n,nested:o}})}},{key:"postAction",value:function(t){return D.a.post(t,{})}},{key:"deleteAction",value:function(t){return D.a.delete(t,{})}},{key:"getFolderContent",value:function(t){return D.a.get("".concat(t,".json?per_page=").concat(this.folderResults))}}])&&C(e.prototype,n),o&&C(e,o),t}(),w=n("QSe5"),k=(n("MRnW"),n("jaBk"),n("7rao")),E=n.n(k),S=n("gZIW"),P=n.n(S),x=n("vKZT"),A=n.n(x),q=n("FkSe"),R=n("Q33P"),L=n.n(R),B=n("LLbv"),$=n("5QKO"),N=n("ZHzM"),T=n("AN20"),I=n("len0"),U=n("rX0p"),M=n("bOix"),F={directives:{tooltip:n("Dfb/").a},components:{Icon:I.a,GlLoadingIcon:q.a},props:{actions:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{isLoading:!1}},computed:{title:function(){return Object(g.a)("Deploy to...")}},methods:{onClickAction:function(t){if(t.scheduledAt){var e=Object(g.e)(Object(g.d)("DelayedJobs|Are you sure you want to run %{jobName} immediately? Otherwise this job will run automatically after it's timer finishes."),{jobName:t.name});if(!window.confirm(e))return}this.isLoading=!0,O.a.$emit("postAction",{endpoint:t.playPath})},isActionDisabled:function(t){return void 0!==t.playable&&!t.playable},remainingTime:function(t){var e=new Date(t.scheduledAt).getTime()-Date.now();return Object(M.e)(Math.max(0,e))}}},G=n("tBpV"),V=Object(G.a)(F,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btn-group",attrs:{role:"group"}},[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"dropdown btn btn-default dropdown-new js-environment-actions-dropdown",attrs:{title:t.title,"aria-label":t.title,disabled:t.isLoading,type:"button","data-container":"body","data-toggle":"dropdown"}},[n("span",[n("icon",{attrs:{name:"play"}}),t._v(" "),n("icon",{attrs:{name:"chevron-down"}}),t._v(" "),t.isLoading?n("gl-loading-icon"):t._e()],1)]),t._v(" "),n("ul",{staticClass:"dropdown-menu dropdown-menu-right"},t._l(t.actions,(function(e,o){return n("li",{key:o},[n("button",{staticClass:"js-manual-action-link no-btn btn d-flex align-items-center",class:{disabled:t.isActionDisabled(e)},attrs:{disabled:t.isActionDisabled(e),type:"button"},on:{click:function(n){return t.onClickAction(e)}}},[n("span",{staticClass:"flex-fill"},[t._v(t._s(e.name))]),t._v(" "),e.scheduledAt?n("span",{staticClass:"text-secondary"},[n("icon",{attrs:{name:"clock"}}),t._v("\n          "+t._s(t.remainingTime(e))+"\n        ")],1):t._e()])])})),0)])}),[],!1,null,null,null).exports,K={components:{Icon:I.a},directives:{GlTooltip:B.a},props:{externalUrl:{type:String,required:!0}},computed:{title:function(){return Object(g.d)("Environments|Open live environment")}}},J=Object(G.a)(K,(function(){var t=this.$createElement,e=this._self._c||t;return e("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"btn external-url",attrs:{title:this.title,"aria-label":this.title,href:this.externalUrl,target:"_blank",rel:"noopener noreferrer nofollow"}},[e("icon",{attrs:{name:"external-link"}})],1)}),[],!1,null,null,null).exports,X=n("GTGS"),H={components:{Icon:I.a,GlDeprecatedButton:X.a},directives:{GlTooltip:B.a},props:{monitoringUrl:{type:String,required:!0}},computed:{title:function(){return Object(g.a)("Monitoring")}}},z=Object(G.a)(H,(function(){var t=this.$createElement,e=this._self._c||t;return e("gl-deprecated-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"monitoring-url d-none d-sm-none d-md-block",attrs:{href:this.monitoringUrl,title:this.title,"aria-label":this.title,rel:"noopener noreferrer nofollow",variant:"default"}},[e("icon",{attrs:{name:"chart"}})],1)}),[],!1,null,null,null).exports,Z={components:{Icon:I.a,GlDeprecatedButton:X.a},directives:{GlTooltip:B.a},props:{autoStopUrl:{type:String,required:!0}},methods:{onPinClick:function(){O.a.$emit("cancelAutoStop",this.autoStopUrl)}},title:Object(g.a)("Prevent environment from auto-stopping")},Q=Object(G.a)(Z,(function(){var t=this.$createElement,e=this._self._c||t;return e("gl-deprecated-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:this.$options.title,"aria-label":this.$options.title},on:{click:this.onPinClick}},[e("icon",{attrs:{name:"thumbtack"}})],1)}),[],!1,null,null,null).exports,W=n("3a3M"),Y=n.n(W),tt=n("3c3Z"),et={components:{Icon:I.a,LoadingButton:tt.a},directives:{GlTooltip:B.a},props:{environment:{type:Object,required:!0}},data:function(){return{isLoading:!1}},computed:{title:function(){return Object(g.d)("Environments|Delete environment")}},mounted:function(){O.a.$on("deleteEnvironment",this.onDeleteEnvironment)},beforeDestroy:function(){O.a.$off("deleteEnvironment",this.onDeleteEnvironment)},methods:{onClick:function(){Y()(this.$el).tooltip("dispose"),O.a.$emit("requestDeleteEnvironment",this.environment)},onDeleteEnvironment:function(t){this.environment.id===t.id&&(this.isLoading=!0)}}},nt=Object(G.a)(et,(function(){var t=this.$createElement,e=this._self._c||t;return e("loading-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{loading:this.isLoading,title:this.title,"aria-label":this.title,"container-class":"btn btn-danger d-none d-sm-none d-md-block","data-toggle":"modal","data-target":"#delete-environment-modal"},on:{click:this.onClick}},[e("icon",{attrs:{name:"remove"}})],1)}),[],!1,null,null,null).exports,ot={components:{Icon:I.a,LoadingButton:tt.a},directives:{GlTooltip:B.a},props:{environment:{type:Object,required:!0}},data:function(){return{isLoading:!1}},computed:{title:function(){return Object(g.d)("Environments|Stop environment")}},mounted:function(){O.a.$on("stopEnvironment",this.onStopEnvironment)},beforeDestroy:function(){O.a.$off("stopEnvironment",this.onStopEnvironment)},methods:{onClick:function(){Y()(this.$el).tooltip("dispose"),O.a.$emit("requestStopEnvironment",this.environment)},onStopEnvironment:function(t){this.environment.id===t.id&&(this.isLoading=!0)}}},at=Object(G.a)(ot,(function(){var t=this.$createElement,e=this._self._c||t;return e("loading-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{loading:this.isLoading,title:this.title,"aria-label":this.title,"container-class":"btn btn-danger d-none d-sm-none d-md-block","data-toggle":"modal","data-target":"#stop-environment-modal"},on:{click:this.onClick}},[e("icon",{attrs:{name:"stop"}})],1)}),[],!1,null,null,null).exports,it=n("XqDB");function rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(n),!0).forEach((function(e){st(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function st(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ct={components:{Icon:I.a,GlLoadingIcon:q.a,GlDeprecatedButton:X.a},directives:{GlTooltip:B.a,GlModal:it.a},props:{isLastDeployment:{type:Boolean,default:!0,required:!1},environment:{type:Object,required:!0},retryUrl:{type:String,required:!0}},data:function(){return{isLoading:!1}},computed:{title:function(){return this.isLastDeployment?Object(g.d)("Environments|Re-deploy to environment"):Object(g.d)("Environments|Rollback environment")}},methods:{onClick:function(){var t=this;O.a.$emit("requestRollbackEnvironment",lt(lt({},this.environment),{},{retryUrl:this.retryUrl,isLastDeployment:this.isLastDeployment})),O.a.$on("rollbackEnvironment",(function(e){e.id===t.environment.id&&(t.isLoading=!0)}))}}},dt=Object(G.a)(ct,(function(){var t=this.$createElement,e=this._self._c||t;return e("gl-deprecated-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"},{name:"gl-modal",rawName:"v-gl-modal.confirm-rollback-modal",modifiers:{"confirm-rollback-modal":!0}}],staticClass:"d-none d-md-block text-secondary",attrs:{disabled:this.isLoading,title:this.title},on:{click:this.onClick}},[this.isLastDeployment?e("icon",{attrs:{name:"repeat"}}):e("icon",{attrs:{name:"redo"}}),this._v(" "),this.isLoading?e("gl-loading-icon"):this._e()],1)}),[],!1,null,null,null).exports,ut={components:{Icon:I.a},directives:{GlTooltip:B.a},props:{terminalPath:{type:String,required:!1,default:""},disabled:{type:Boolean,required:!1,default:!1}},computed:{title:function(){return Object(g.a)("Terminal")}}},mt=Object(G.a)(ut,(function(){var t=this.$createElement,e=this._self._c||t;return e("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"btn terminal-button d-none d-sm-none d-md-block text-secondary",class:{disabled:this.disabled},attrs:{title:this.title,"aria-label":this.title,href:this.terminalPath}},[e("icon",{attrs:{name:"terminal"}})],1)}),[],!1,null,null,null).exports;function pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(n),!0).forEach((function(e){vt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ft={components:{ActionsComponent:V,CommitComponent:T.a,ExternalUrlComponent:J,Icon:I.a,MonitoringButtonComponent:z,PinComponent:Q,DeleteComponent:nt,RollbackComponent:dt,StopComponent:at,TerminalButtonComponent:mt,TooltipOnTruncate:U.a,UserAvatarLink:N.a},directives:{GlTooltip:B.a},mixins:[$.a],props:{canReadEnvironment:{type:Boolean,required:!1,default:!1},model:{type:Object,required:!0},tableData:{type:Object,required:!0}},computed:{deployIconName:function(){return this.model.isDeployBoardVisible?"chevron-down":"chevron-right"},hasLastDeploymentKey:function(){return!(!this.model||!this.model.last_deployment||L()(this.model.last_deployment))},isFolder:function(){return this.model.isFolder},isProtected:function(){return this.model&&this.model.is_protected},canStopEnvironment:function(){return this.model&&this.model.can_stop},canDeleteEnvironment:function(){return Boolean(this.model&&this.model.can_delete&&this.model.delete_path)},canRetry:function(){return this.model&&this.hasLastDeploymentKey&&this.model.last_deployment&&this.model.last_deployment.deployable&&this.model.last_deployment.deployable.retry_path},canShowAutoStopDate:function(){if(!this.model.auto_stop_at)return!1;var t=new Date(this.model.auto_stop_at);return new Date<t},autoStopDate:function(){return this.canShowAutoStopDate?{formatted:this.timeFormatted(this.model.auto_stop_at),tooltip:this.tooltipTitle(this.model.auto_stop_at)}:{formatted:"",tooltip:""}},canShowDeploymentDate:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.deployed_at},deployedDate:function(){return this.canShowDeploymentDate?{formatted:this.timeFormatted(this.model.last_deployment.deployed_at),tooltip:this.tooltipTitle(this.model.last_deployment.deployed_at)}:{formatted:"",tooltip:""}},actions:function(){if(!this.model||!this.model.last_deployment)return[];var t=Object(m.g)(this.model.last_deployment,{deep:!0}),e=t.manualActions,n=t.scheduledActions;return(e||[]).concat(n||[]).map((function(t){return ht(ht({},t),{},{name:t.name})}))},shouldRenderDeployBoard:function(){return this.model.hasDeployBoard},userImageAltDescription:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.user&&this.model.last_deployment.user.username?Object(g.e)(Object(g.a)("%{username}'s avatar"),{username:this.model.last_deployment.user.username}):""},commitTag:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.tag)return this.model.last_deployment.tag},commitRef:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.ref)return this.model.last_deployment.ref},commitUrl:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.commit&&this.model.last_deployment.commit.commit_path)return this.model.last_deployment.commit.commit_path},commitShortSha:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.commit&&this.model.last_deployment.commit.short_id)return this.model.last_deployment.commit.short_id},commitTitle:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.commit&&this.model.last_deployment.commit.title)return this.model.last_deployment.commit.title},commitAuthor:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.commit&&this.model.last_deployment.commit.author)return this.model.last_deployment.commit.author},retryUrl:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.deployable&&this.model.last_deployment.deployable.retry_path)return this.model.last_deployment.deployable.retry_path},isLastDeployment:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment["last?"]},buildName:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.deployable){var t=this.model.last_deployment.deployable;return"".concat(t.name," #").concat(t.id)}return""},deploymentInternalId:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.iid?"#".concat(this.model.last_deployment.iid):""},deploymentHasUser:function(){return this.model&&!L()(this.model.last_deployment)&&!L()(this.model.last_deployment.user)},deploymentUser:function(){return!this.model||L()(this.model.last_deployment)||L()(this.model.last_deployment.user)?{}:this.model.last_deployment.user},showNoDeployments:function(){return!this.hasLastDeploymentKey&&!this.isFolder},shouldRenderBuildName:function(){return!this.isFolder&&!L()(this.model.last_deployment)&&!L()(this.model.last_deployment.deployable)},buildPath:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.deployable&&this.model.last_deployment.deployable.build_path?this.model.last_deployment.deployable.build_path:""},externalURL:function(){return this.model.external_url||""},shouldRenderDeploymentID:function(){return!this.isFolder&&!L()(this.model.last_deployment)&&void 0!==this.model.last_deployment.iid},environmentPath:function(){return this.model.environment_path||""},monitoringUrl:function(){return this.model.metrics_path||""},autoStopUrl:function(){return this.model.cancel_auto_stop_path||""},displayEnvironmentActions:function(){return this.actions.length>0||this.externalURL||this.monitoringUrl||this.canStopEnvironment||this.canDeleteEnvironment||this.canRetry},folderIconName:function(){return this.model.isOpen?"chevron-down":"chevron-right"}},methods:{toggleDeployBoard:function(){O.a.$emit("toggleDeployBoard",this.model)},onClickFolder:function(){O.a.$emit("toggleFolder",this.model)}}};function bt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bt(Object(n),!0).forEach((function(e){gt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _t={components:{EnvironmentItem:Object(G.a)(ft,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"gl-responsive-table-row",class:{"js-child-row environment-child-row":t.model.isChildren,"folder-row":t.isFolder},attrs:{role:"row"}},[n("div",{staticClass:"table-section section-wrap text-truncate",class:t.tableData.name.spacing,attrs:{role:"gridcell"}},[t.isFolder?t._e():n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v("\n      "+t._s(t.tableData.name.title)+"\n    ")]),t._v(" "),t.shouldRenderDeployBoard?n("span",{staticClass:"deploy-board-icon",on:{click:t.toggleDeployBoard}},[n("icon",{attrs:{name:t.deployIconName}})],1):t._e(),t._v(" "),t.isFolder?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"folder-name",attrs:{title:t.model.folderName,role:"button"},on:{click:t.onClickFolder}},[n("icon",{staticClass:"folder-icon",attrs:{name:t.folderIconName}}),t._v(" "),n("icon",{staticClass:"folder-icon",attrs:{name:"folder"}}),t._v(" "),n("span",[t._v(" "+t._s(t.model.folderName)+" ")]),t._v(" "),n("span",{staticClass:"badge badge-pill"},[t._v(" "+t._s(t.model.size)+" ")])],1):n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"environment-name table-mobile-content",attrs:{title:t.model.name}},[n("a",{staticClass:"qa-environment-link",attrs:{href:t.environmentPath}},[1===t.model.size?n("span",[t._v(t._s(t.model.name))]):n("span",[t._v(t._s(t.model.name_without_type))])]),t._v(" "),t.isProtected?n("span",{staticClass:"badge badge-success"},[t._v("\n        "+t._s(t.s__("Environments|protected"))+"\n      ")]):t._e()])]),t._v(" "),n("div",{staticClass:"table-section deployment-column d-none d-sm-none d-md-block",class:t.tableData.deploy.spacing,attrs:{role:"gridcell"}},[t.shouldRenderDeploymentID?n("span",{staticClass:"text-break-word"},[t._v("\n      "+t._s(t.deploymentInternalId)+"\n    ")]):t._e(),t._v(" "),!t.isFolder&&t.deploymentHasUser?n("span",{staticClass:"text-break-word"},[t._v("\n      by\n      "),n("user-avatar-link",{staticClass:"js-deploy-user-container float-none",attrs:{"link-href":t.deploymentUser.web_url,"img-src":t.deploymentUser.avatar_url,"img-alt":t.userImageAltDescription,"tooltip-text":t.deploymentUser.username}})],1):t._e(),t._v(" "),t.showNoDeployments?n("div",{staticClass:"commit-title table-mobile-content"},[t._v("\n      "+t._s(t.s__("Environments|No deployments yet"))+"\n    ")]):t._e()]),t._v(" "),n("div",{staticClass:"table-section d-none d-sm-none d-md-block",class:t.tableData.build.spacing,attrs:{role:"gridcell"}},[t.shouldRenderBuildName?n("a",{staticClass:"build-link cgray",attrs:{href:t.buildPath}},[n("tooltip-on-truncate",{staticClass:"flex-truncate-parent",attrs:{title:t.buildName,"truncate-target":"child"}},[n("span",{staticClass:"flex-truncate-child"},[t._v("\n          "+t._s(t.buildName)+"\n        ")])])],1):t._e()]),t._v(" "),t.isFolder?t._e():n("div",{staticClass:"table-section",class:t.tableData.commit.spacing,attrs:{role:"gridcell"}},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v(t._s(t.tableData.commit.title))]),t._v(" "),t.hasLastDeploymentKey?n("div",{staticClass:"js-commit-component table-mobile-content"},[n("commit-component",{attrs:{tag:t.commitTag,"commit-ref":t.commitRef,"commit-url":t.commitUrl,"short-sha":t.commitShortSha,title:t.commitTitle,author:t.commitAuthor}})],1):t._e()]),t._v(" "),t.isFolder?t._e():n("div",{staticClass:"table-section",class:t.tableData.date.spacing,attrs:{role:"gridcell"}},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v(t._s(t.tableData.date.title))]),t._v(" "),t.canShowDeploymentDate?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"environment-created-date-timeago table-mobile-content flex-truncate-parent",attrs:{title:t.deployedDate.tooltip}},[n("span",{staticClass:"flex-truncate-child"},[t._v("\n        "+t._s(t.deployedDate.formatted)+"\n      ")])]):t._e()]),t._v(" "),t.isFolder?t._e():n("div",{staticClass:"table-section",class:t.tableData.autoStop.spacing,attrs:{role:"gridcell"}},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v(t._s(t.tableData.autoStop.title))]),t._v(" "),t.canShowAutoStopDate?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"table-mobile-content flex-truncate-parent",attrs:{title:t.autoStopDate.tooltip}},[n("span",{staticClass:"flex-truncate-child js-auto-stop"},[t._v(t._s(t.autoStopDate.formatted))])]):t._e()]),t._v(" "),!t.isFolder&&t.displayEnvironmentActions?n("div",{staticClass:"table-section table-button-footer",class:t.tableData.actions.spacing,attrs:{role:"gridcell"}},[n("div",{staticClass:"btn-group table-action-buttons",attrs:{role:"group"}},[t.canShowAutoStopDate?n("pin-component",{attrs:{"auto-stop-url":t.autoStopUrl}}):t._e(),t._v(" "),t.externalURL&&t.canReadEnvironment?n("external-url-component",{attrs:{"external-url":t.externalURL}}):t._e(),t._v(" "),t.monitoringUrl&&t.canReadEnvironment?n("monitoring-button-component",{attrs:{"monitoring-url":t.monitoringUrl}}):t._e(),t._v(" "),t.actions.length>0?n("actions-component",{attrs:{actions:t.actions}}):t._e(),t._v(" "),t.model&&t.model.terminal_path?n("terminal-button-component",{attrs:{"terminal-path":t.model.terminal_path}}):t._e(),t._v(" "),t.canRetry?n("rollback-component",{attrs:{environment:t.model,"is-last-deployment":t.isLastDeployment,"retry-url":t.retryUrl}}):t._e(),t._v(" "),t.canStopEnvironment?n("stop-component",{attrs:{environment:t.model}}):t._e(),t._v(" "),t.canDeleteEnvironment?n("delete-component",{attrs:{environment:t.model}}):t._e()],1)]):t._e()])}),[],!1,null,null,null).exports,GlLoadingIcon:q.a,DeployBoard:function(){return n.e(14).then(n.bind(null,"4b03"))},CanaryDeploymentCallout:function(){return n.e(14).then(n.bind(null,"4b03"))}},props:{environments:{type:Array,required:!0,default:function(){return[]}},deployBoardsHelpPath:{type:String,required:!1,default:""},canReadEnvironment:{type:Boolean,required:!1,default:!1},canaryDeploymentFeatureId:{type:String,required:!1,default:""},helpCanaryDeploymentsPath:{type:String,required:!1,default:""},lockPromotionSvgPath:{type:String,required:!1,default:""},showCanaryDeploymentCallout:{type:Boolean,required:!1,default:!1},userCalloutsPath:{type:String,required:!1,default:""}},computed:{sortedEnvironments:function(){var t=this;return this.sortEnvironments(this.environments).map((function(e){return t.shouldRenderFolderContent(e)?yt(yt({},e),{},{children:t.sortEnvironments(e.children)}):e}))},tableData:function(){return{name:{title:Object(g.d)("Environments|Environment"),spacing:"section-15"},deploy:{title:Object(g.d)("Environments|Deployment"),spacing:"section-10"},build:{title:Object(g.d)("Environments|Job"),spacing:"section-15"},commit:{title:Object(g.d)("Environments|Commit"),spacing:"section-20"},date:{title:Object(g.d)("Environments|Updated"),spacing:"section-10"},autoStop:{title:Object(g.d)("Environments|Auto stop in"),spacing:"section-5"},actions:{spacing:"section-25"}}}},methods:{folderUrl:function(t){return"".concat(window.location.pathname,"/folders/").concat(t.folderName)},shouldRenderDeployBoard:function(t){return t.hasDeployBoard&&t.isDeployBoardVisible},shouldRenderFolderContent:function(t){return t.isFolder&&t.isOpen&&t.children&&t.children.length>0},shouldShowCanaryCallout:function(t){return t.showCanaryCallout&&this.showCanaryDeploymentCallout},sortEnvironments:function(t){return A()(E()((function(t){return t.isFolder?t.folderName:t.name})),P.a,E()((function(t){return t.last_deployment?t.last_deployment.created_at:"0000"})),P.a,E()((function(t){return t.isFolder?-1:1})))(t)}}},Ot=Object(G.a)(_t,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ci-table",attrs:{role:"grid"}},[n("div",{staticClass:"gl-responsive-table-row table-row-header",attrs:{role:"row"}},[n("div",{staticClass:"table-section",class:t.tableData.name.spacing,attrs:{role:"columnheader"}},[t._v("\n      "+t._s(t.tableData.name.title)+"\n    ")]),t._v(" "),n("div",{staticClass:"table-section",class:t.tableData.deploy.spacing,attrs:{role:"columnheader"}},[t._v("\n      "+t._s(t.tableData.deploy.title)+"\n    ")]),t._v(" "),n("div",{staticClass:"table-section",class:t.tableData.build.spacing,attrs:{role:"columnheader"}},[t._v("\n      "+t._s(t.tableData.build.title)+"\n    ")]),t._v(" "),n("div",{staticClass:"table-section",class:t.tableData.commit.spacing,attrs:{role:"columnheader"}},[t._v("\n      "+t._s(t.tableData.commit.title)+"\n    ")]),t._v(" "),n("div",{staticClass:"table-section",class:t.tableData.date.spacing,attrs:{role:"columnheader"}},[t._v("\n      "+t._s(t.tableData.date.title)+"\n    ")]),t._v(" "),n("div",{staticClass:"table-section",class:t.tableData.autoStop.spacing,attrs:{role:"columnheader"}},[t._v("\n      "+t._s(t.tableData.autoStop.title)+"\n    ")])]),t._v(" "),t._l(t.sortedEnvironments,(function(e,o){return[n("environment-item",{key:"environment-item-"+o,tag:"div",attrs:{model:e,"can-read-environment":t.canReadEnvironment,"table-data":t.tableData}}),t._v(" "),t.shouldRenderDeployBoard(e)?n("div",{key:"deploy-board-row-"+o,staticClass:"js-deploy-board-row"},[n("div",{staticClass:"deploy-board-container"},[n("deploy-board",{attrs:{"deploy-board-data":e.deployBoardData,"deploy-boards-help-path":t.deployBoardsHelpPath,"is-loading":e.isLoadingDeployBoard,"is-empty":e.isEmptyDeployBoard,"has-legacy-app-label":e.hasLegacyAppLabel,"logs-path":e.logs_path}})],1)]):t._e(),t._v(" "),t.shouldRenderFolderContent(e)?[e.isLoadingFolderContent?n("div",{key:"loading-item-"+o},[n("gl-loading-icon",{staticClass:"prepend-top-16",attrs:{size:"md"}})],1):[t._l(e.children,(function(e,a){return n("environment-item",{key:"env-item-"+o+"-"+a,tag:"div",attrs:{model:e,"can-read-environment":t.canReadEnvironment,"table-data":t.tableData}})})),t._v(" "),n("div",{key:"sub-div-"+o},[n("div",{staticClass:"text-center prepend-top-10"},[n("a",{staticClass:"btn btn-default",attrs:{href:t.folderUrl(e)}},[t._v("\n              "+t._s(t.s__("Environments|Show all"))+"\n            ")])])])]]:t._e(),t._v(" "),t.shouldShowCanaryCallout(e)?[n("canary-deployment-callout",{key:"canary-promo-"+o,attrs:{"canary-deployment-feature-id":t.canaryDeploymentFeatureId,"user-callouts-path":t.userCalloutsPath,"lock-promotion-svg-path":t.lockPromotionSvgPath,"help-canary-deployments-path":t.helpCanaryDeploymentsPath,"data-js-canary-promo-key":o}})]:t._e()]}))],2)}),[],!1,null,null,null).exports,Dt=n("ME8r"),Ct={components:{EnvironmentTable:Ot,TablePagination:w.a,GlLoadingIcon:q.a},props:{canaryDeploymentFeatureId:{type:String,required:!1,default:null},isLoading:{type:Boolean,required:!0},environments:{type:Array,required:!0},pagination:{type:Object,required:!0},canReadEnvironment:{type:Boolean,required:!0},deployBoardsHelpPath:{type:String,required:!1,default:""},helpCanaryDeploymentsPath:{type:String,required:!1,default:""},lockPromotionSvgPath:{type:String,required:!1,default:""},showCanaryDeploymentCallout:{type:Boolean,required:!1,default:!1},userCalloutsPath:{type:String,required:!1,default:""}},methods:{onChangePage:function(t){this.$emit("onChangePage",t)}}},jt=Object(G.a)(Ct,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"environments-container"},[t.isLoading?n("gl-loading-icon",{staticClass:"prepend-top-default",attrs:{size:"md",label:"Loading environments"}}):t._e(),t._v(" "),t._t("emptyState"),t._v(" "),!t.isLoading&&t.environments.length>0?n("div",{staticClass:"table-holder"},[n("environment-table",{attrs:{environments:t.environments,"can-read-environment":t.canReadEnvironment,"canary-deployment-feature-id":t.canaryDeploymentFeatureId,"show-canary-deployment-callout":t.showCanaryDeploymentCallout,"user-callouts-path":t.userCalloutsPath,"lock-promotion-svg-path":t.lockPromotionSvgPath,"help-canary-deployments-path":t.helpCanaryDeploymentsPath,"deploy-boards-help-path":t.deployBoardsHelpPath}}),t._v(" "),t.pagination&&t.pagination.totalPages>1?n("table-pagination",{attrs:{change:t.onChangePage,"page-info":t.pagination}}):t._e()],1):t._e()],2)}),[],!1,null,null,null).exports;e.a={components:{environmentTable:Ot,container:jt,tabs:Dt.a,tablePagination:w.a},data:function(){var t=new b,e=document.body.contains(document.getElementById("environments-detail-view"));return{store:t,state:t.state,isLoading:!1,isMakingRequest:!1,scope:Object(m.o)("scope")||"available",page:Object(m.o)("page")||"1",requestData:{},environmentInStopModal:{},environmentInDeleteModal:{},environmentInRollbackModal:{},isDetailView:e}},methods:{saveData:function(t){this.isLoading=!1;var e=this.filterNilValues(t.config.params),n=this.filterNilValues(this.requestData);s()(e,n)&&(this.store.storeAvailableCount(t.data.available_count),this.store.storeStoppedCount(t.data.stopped_count),this.store.storeEnvironments(t.data.environments),this.store.setReviewAppDetails(t.data.review_app),this.store.setPagination(t.headers))},filterNilValues:function(t){return a()(t,(function(t){return null==t}))},updateContent:function(t){var e=this;return this.updateInternalState(t),this.service.fetchEnvironments(this.requestData).then((function(t){e.successCallback(t),e.poll.enable({data:e.requestData,response:t})})).catch((function(){e.errorCallback(),e.poll.restart()}))},errorCallback:function(){this.isLoading=!1,Object(_.a)(Object(g.d)("Environments|An error occurred while fetching the environments."))},postAction:function(t){var e=this,n=t.endpoint,o=t.errorMessage,a=void 0===o?Object(g.d)("Environments|An error occurred while making the request."):o;this.isMakingRequest||(this.isLoading=!0,this.service.postAction(n).then((function(){return e.fetchEnvironments()})).catch((function(t){e.isLoading=!1,Object(_.a)(r()(a)?a(t.response.data):a)})))},fetchEnvironments:function(){return this.isLoading=!0,this.service.fetchEnvironments(this.requestData).then(this.successCallback).catch(this.errorCallback)},updateStopModal:function(t){this.environmentInStopModal=t},updateDeleteModal:function(t){this.environmentInDeleteModal=t},updateRollbackModal:function(t){this.environmentInRollbackModal=t},stopEnvironment:function(t){var e=t.stop_path,n=Object(g.d)("Environments|An error occurred while stopping the environment, please try again");this.postAction({endpoint:e,errorMessage:n})},deleteEnvironment:function(t){var e=t.delete_path,n=t.mounted_to_show,o=Object(g.d)("Environments|An error occurred while deleting the environment. Check if the environment stopped; if not, stop it and try again.");this.service.deleteAction(e).then((function(){if(n){var t=window.location.href.split("/");t.pop(),window.location.href=t.join("/")}else window.location.reload()})).catch((function(){Object(_.a)(o)}))},rollbackEnvironment:function(t){var e=t.retryUrl,n=t.isLastDeployment?Object(g.d)("Environments|An error occurred while re-deploying the environment, please try again"):Object(g.d)("Environments|An error occurred while rolling back the environment, please try again");this.postAction({endpoint:e,errorMessage:n})},cancelAutoStop:function(t){this.postAction({endpoint:t,errorMessage:function(t){return t.message||Object(g.d)("Environments|An error occurred while canceling the auto stop, please try again")}})}},computed:{tabs:function(){return[{name:Object(g.d)("Available"),scope:"available",count:this.state.availableCounter,isActive:"available"===this.scope},{name:Object(g.d)("Stopped"),scope:"stopped",count:this.state.stoppedCounter,isActive:"stopped"===this.scope}]}},created:function(){var t=this;this.service=new j(this.endpoint),this.requestData={page:this.page,scope:this.scope,nested:!0},this.isDetailView||(this.poll=new y.a({resource:this.service,method:"fetchEnvironments",data:this.requestData,successCallback:this.successCallback,errorCallback:this.errorCallback,notificationCallback:function(e){t.isMakingRequest=e}}),d.a.hidden()?this.fetchEnvironments():(this.isLoading=!0,this.poll.makeRequest()),d.a.change((function(){d.a.hidden()?t.poll.stop():t.poll.restart()}))),O.a.$on("postAction",this.postAction),O.a.$on("requestStopEnvironment",this.updateStopModal),O.a.$on("stopEnvironment",this.stopEnvironment),O.a.$on("requestDeleteEnvironment",this.updateDeleteModal),O.a.$on("deleteEnvironment",this.deleteEnvironment),O.a.$on("requestRollbackEnvironment",this.updateRollbackModal),O.a.$on("rollbackEnvironment",this.rollbackEnvironment),O.a.$on("cancelAutoStop",this.cancelAutoStop)},beforeDestroy:function(){O.a.$off("postAction",this.postAction),O.a.$off("requestStopEnvironment",this.updateStopModal),O.a.$off("stopEnvironment",this.stopEnvironment),O.a.$off("requestDeleteEnvironment",this.updateDeleteModal),O.a.$off("deleteEnvironment",this.deleteEnvironment),O.a.$off("requestRollbackEnvironment",this.updateRollbackModal),O.a.$off("rollbackEnvironment",this.rollbackEnvironment),O.a.$off("cancelAutoStop",this.cancelAutoStop)}}},gZIW:function(t,e,n){var o=n("k9pk")("reverse",n("VX9u"));o.placeholder=n("gkan"),t.exports=o},kJRM:function(t,e,n){"use strict";var o=n("7xOh");e.a=Object(o.a)()},py3j:function(t,e,n){"use strict";n("8Qi2");var o=n("LLbv"),a=n("Mifk").a,i=n("tBpV"),r=Object(i.a)(a,void 0,void 0,!1,null,null,null).exports,l=n("/lV4"),s=n("kJRM"),c={id:"delete-environment-modal",name:"DeleteEnvironmentModal",components:{GlModal:r},directives:{GlTooltip:o.a},props:{environment:{type:Object,required:!0}},computed:{confirmDeleteMessage:function(){return Object(l.e)(Object(l.d)("Environments|Deleting the '%{environmentName}' environment cannot be undone. Do you want to delete it anyway?"),{environmentName:this.environment.name},!1)}},methods:{onSubmit:function(){s.a.$emit("deleteEnvironment",this.environment)}}},d=Object(i.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("gl-modal",{attrs:{id:t.$options.id,"footer-primary-button-text":t.s__("Environments|Delete environment"),"footer-primary-button-variant":"danger"},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"header",fn:function(){return[n("h4",{staticClass:"modal-title d-flex mw-100"},[t._v("\n      "+t._s(t.__("Delete"))+"\n      "),n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"text-truncate mx-1 flex-fill",attrs:{title:t.environment.name}},[t._v("\n        "+t._s(t.environment.name)+"?\n      ")])])]},proxy:!0}])},[t._v(" "),n("p",[t._v(t._s(t.confirmDeleteMessage))])])}),[],!1,null,null,null);e.a=d.exports},uHqx:function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},vKZT:function(t,e,n){var o=n("k9pk")("flow",n("vxps"));o.placeholder=n("gkan"),t.exports=o},vxps:function(t,e,n){var o=n("Rk7e")();t.exports=o}}]);
//# sourceMappingURL=commons~pages.projects.environments.folder~pages.projects.environments.index~pages.projects.environments.show.dc3a6140.chunk.js.map