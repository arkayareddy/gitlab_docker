(this.webpackJsonp=this.webpackJsonp||[]).push([[244],{149:function(e,t,n){n("HVBj"),n("gjpc"),e.exports=n("jIAs")},"2yuJ":function(e,t,n){"use strict";n("+kFb"),n("Id6h");var o=n("jB52"),r=n("0KyK"),i=(n("+xU6"),n("2ibD")),a=n("XRO8"),s=n("3V9n"),l=n("/lV4"),c=n("3twG"),u=n("elH8"),d={components:{DeprecatedModal:s.a},props:{issueCount:{type:Number,required:!0},mergeRequestCount:{type:Number,required:!0},milestoneId:{type:Number,required:!0},milestoneTitle:{type:String,required:!0},milestoneUrl:{type:String,required:!0}},computed:{text:function(){var e=Object(l.e)("<strong>%{milestoneTitle}</strong>",{milestoneTitle:this.milestoneTitle});return 0===this.issueCount&&0===this.mergeRequestCount?Object(l.e)(Object(l.d)("Milestones|\nYou’re about to permanently delete the milestone %{milestoneTitle}.\nThis milestone is not currently used in any issues or merge requests."),{milestoneTitle:e},!1):Object(l.e)(Object(l.d)("Milestones|\nYou’re about to permanently delete the milestone %{milestoneTitle} and remove it from %{issuesWithCount} and %{mergeRequestsWithCount}.\nOnce deleted, it cannot be undone or recovered."),{milestoneTitle:e,issuesWithCount:Object(l.c)("%d issue","%d issues",this.issueCount),mergeRequestsWithCount:Object(l.c)("%d merge request","%d merge requests",this.mergeRequestCount)},!1)},title:function(){return Object(l.e)(Object(l.d)("Milestones|Delete milestone %{milestoneTitle}?"),{milestoneTitle:this.milestoneTitle})}},methods:{onSubmit:function(){var e=this;return u.a.$emit("deleteMilestoneModal.requestStarted",this.milestoneUrl),i.a.delete(this.milestoneUrl).then((function(t){u.a.$emit("deleteMilestoneModal.requestFinished",{milestoneUrl:e.milestoneUrl,successful:!0}),Object(c.q)(t.request.responseURL)})).catch((function(t){throw u.a.$emit("deleteMilestoneModal.requestFinished",{milestoneUrl:e.milestoneUrl,successful:!1}),t.response&&404===t.response.status?Object(a.a)(Object(l.e)(Object(l.d)("Milestones|Milestone %{milestoneTitle} was not found"),{milestoneTitle:e.milestoneTitle})):Object(a.a)(Object(l.e)(Object(l.d)("Milestones|Failed to delete milestone %{milestoneTitle}"),{milestoneTitle:e.milestoneTitle})),t}))}}},m=n("tBpV"),f=Object(m.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("deprecated-modal",{attrs:{id:"delete-milestone-modal",title:e.title,text:e.text,"primary-button-label":e.s__("Milestones|Delete milestone"),kind:"danger"},on:{submit:e.onSubmit},scopedSlots:e._u([{key:"body",fn:function(t){return[n("p",{domProps:{innerHTML:e._s(t.text)}})]}}])})}),[],!1,null,null,null).exports;t.a=function(){o.default.use(r.a);var e=function(e){var t=e.milestoneUrl,n=e.successful,o=document.querySelector('.js-delete-milestone-button[data-milestone-url="'.concat(t,'"]'));n||o.removeAttribute("disabled"),o.querySelector(".js-loading-icon").classList.add("hidden")},t=function(t){var n=document.querySelector('.js-delete-milestone-button[data-milestone-url="'.concat(t,'"]'));n.setAttribute("disabled",""),n.querySelector(".js-loading-icon").classList.remove("hidden"),u.a.$once("deleteMilestoneModal.requestFinished",e)},n=function(e){var n=e.currentTarget,o={milestoneId:parseInt(n.dataset.milestoneId,10),milestoneTitle:n.dataset.milestoneTitle,milestoneUrl:n.dataset.milestoneUrl,issueCount:parseInt(n.dataset.milestoneIssueCount,10),mergeRequestCount:parseInt(n.dataset.milestoneMergeRequestCount,10)};u.a.$once("deleteMilestoneModal.requestStarted",t),u.a.$emit("deleteMilestoneModal.props",o)},i=document.querySelectorAll(".js-delete-milestone-button");return i.forEach((function(e){e.addEventListener("click",n)})),u.a.$once("deleteMilestoneModal.mounted",(function(){i.forEach((function(e){e.removeAttribute("disabled")}))})),new o.default({el:"#delete-milestone-modal",components:{deleteMilestoneModal:f},data:function(){return{modalProps:{milestoneId:-1,milestoneTitle:"",milestoneUrl:"",issueCount:-1,mergeRequestCount:-1}}},mounted:function(){u.a.$on("deleteMilestoneModal.props",this.setModalProps),u.a.$emit("deleteMilestoneModal.mounted")},beforeDestroy:function(){u.a.$off("deleteMilestoneModal.props",this.setModalProps)},methods:{setModalProps:function(e){this.modalProps=e}},render:function(e){return e(f,{props:this.modalProps})}})}},"3V9n":function(e,t,n){"use strict";var o=n("/lV4");function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i={name:"DeprecatedModal",props:{id:{type:String,required:!1},title:{type:String,required:!1},text:{type:String,required:!1},hideFooter:{type:Boolean,required:!1,default:!1},kind:{type:String,required:!1,default:"primary"},modalDialogClass:{type:String,required:!1,default:""},closeKind:{type:String,required:!1,default:"default"},closeButtonLabel:{type:String,required:!1,default:Object(o.a)("Cancel")},primaryButtonLabel:{type:String,required:!1,default:""},secondaryButtonLabel:{type:String,required:!1,default:""},submitDisabled:{type:Boolean,required:!1,default:!1}},computed:{btnKindClass:function(){return r({},"btn-".concat(this.kind),!0)},btnCancelKindClass:function(){return r({},"btn-".concat(this.closeKind),!0)}},methods:{emitCancel:function(e){this.$emit("cancel",e)},emitSubmit:function(e){this.$emit("submit",e)}}},a=n("tBpV"),s=Object(a.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-open"},[n("div",{staticClass:"modal",class:e.id?"":"d-block",attrs:{id:e.id,role:"dialog",tabindex:"-1"}},[n("div",{staticClass:"modal-dialog",class:e.modalDialogClass,attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[e._t("header",[n("h4",{staticClass:"modal-title float-left"},[e._v(e._s(e.title))]),e._v(" "),n("button",{staticClass:"close float-right",attrs:{type:"button","data-dismiss":"modal","aria-label":e.__("Close")},on:{click:function(t){return e.emitCancel(t)}}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])],2),e._v(" "),n("div",{staticClass:"modal-body"},[e._t("body",[n("p",[e._v(e._s(e.text))])],{text:e.text})],2),e._v(" "),e.hideFooter?e._e():n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn",class:e.btnCancelKindClass,attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.emitCancel(t)}}},[e._v("\n            "+e._s(e.closeButtonLabel)+"\n          ")]),e._v(" "),e.secondaryButtonLabel?e._t("secondary-button",[e.secondaryButtonLabel?n("button",{staticClass:"btn",attrs:{type:"button","data-dismiss":"modal"}},[e._v("\n              "+e._s(e.secondaryButtonLabel)+"\n            ")]):e._e()]):e._e(),e._v(" "),e.primaryButtonLabel?n("button",{staticClass:"btn js-primary-button",class:e.btnKindClass,attrs:{disabled:e.submitDisabled,type:"button","data-dismiss":"modal","data-qa-selector":"save_changes_button"},on:{click:function(t){return e.emitSubmit(t)}}},[e._v("\n            "+e._s(e.primaryButtonLabel)+"\n          ")]):e._e()],2)])])]),e._v(" "),e.id?e._e():n("div",{staticClass:"modal-backdrop fade show"})])}),[],!1,null,null,null);t.a=s.exports},CX32:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n("va8A"),n("z4I3"),n("dj/k"),n("x/6R"),n("WQYg"),n("MRnW"),n("EfZm"),n("GzNv"),n("tbvx"),n("orcL");var o=n("t6Yz"),r=n.n(o),i=n("yQ8t");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=u(e);if(t){var r=u(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,e);var t=l(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),e=t.call(this),r.a.bind("g p",(function(){return Object(i.a)(".shortcuts-project")})),r.a.bind("g v",(function(){return Object(i.a)(".shortcuts-project-activity")})),r.a.bind("g r",(function(){return Object(i.a)(".shortcuts-project-releases")})),r.a.bind("g f",(function(){return Object(i.a)(".shortcuts-tree")})),r.a.bind("g c",(function(){return Object(i.a)(".shortcuts-commits")})),r.a.bind("g j",(function(){return Object(i.a)(".shortcuts-builds")})),r.a.bind("g n",(function(){return Object(i.a)(".shortcuts-network")})),r.a.bind("g d",(function(){return Object(i.a)(".shortcuts-repository-charts")})),r.a.bind("g i",(function(){return Object(i.a)(".shortcuts-issues")})),r.a.bind("g b",(function(){return Object(i.a)(".shortcuts-issue-boards")})),r.a.bind("g m",(function(){return Object(i.a)(".shortcuts-merge_requests")})),r.a.bind("g w",(function(){return Object(i.a)(".shortcuts-wiki")})),r.a.bind("g s",(function(){return Object(i.a)(".shortcuts-snippets")})),r.a.bind("g k",(function(){return Object(i.a)(".shortcuts-kubernetes")})),r.a.bind("g e",(function(){return Object(i.a)(".shortcuts-environments")})),r.a.bind("g l",(function(){return Object(i.a)(".shortcuts-metrics")})),r.a.bind("i",(function(){return Object(i.a)(".shortcuts-new-issue")})),e}return n}(n("v+Mp").a)},E21w:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("jB52"),r=n("tyhI"),i=n("NmEs");var a=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=document.getElementById("issuable-time-tracker");if(t){var n=t.dataset,a=n.timeEstimate,s=n.timeSpent,l=n.humanTimeEstimate,c=n.humanTimeSpent,u=n.limitToHours;new o.default({el:t,components:{timeTracker:r.a},render:function(e){return e("timeTracker",{props:{timeEstimate:parseInt(a,10),timeSpent:parseInt(s,10),humanTimeEstimate:l,humanTimeSpent:c,limitToHours:Object(i.H)(u)}})}})}}},KeM1:function(e,t,n){"use strict";n.r(t);var o=n("2yuJ"),r=(n("+kFb"),n("Id6h"),n("jB52")),i=n("0KyK"),a=n("2ibD"),s=n("XRO8"),l=n("Mifk"),c=n("/lV4"),u=n("3twG"),d=n("elH8"),m={components:{GlModal:l.a},props:{milestoneTitle:{type:String,required:!0},url:{type:String,required:!0},groupName:{type:String,required:!0}},computed:{title:function(){return Object(c.e)(Object(c.d)("Milestones|Promote %{milestoneTitle} to group milestone?"),{milestoneTitle:this.milestoneTitle})},text:function(){return Object(c.e)(Object(c.d)("Milestones|Promoting %{milestoneTitle} will make it available for all projects inside %{groupName}.\n        Existing project milestones with the same title will be merged."),{milestoneTitle:this.milestoneTitle,groupName:this.groupName})}},methods:{onSubmit:function(){var e=this;return d.a.$emit("promoteMilestoneModal.requestStarted",this.url),a.a.post(this.url,{params:{format:"json"}}).then((function(t){d.a.$emit("promoteMilestoneModal.requestFinished",{milestoneUrl:e.url,successful:!0}),Object(u.z)(t.data.url)})).catch((function(t){d.a.$emit("promoteMilestoneModal.requestFinished",{milestoneUrl:e.url,successful:!1}),Object(s.a)(t)}))}}},f=n("tBpV"),p=Object(f.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-modal",{attrs:{id:"promote-milestone-modal","footer-primary-button-text":e.s__("Milestones|Promote Milestone"),"footer-primary-button-variant":"warning"},on:{submit:e.onSubmit},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n    "+e._s(e.title)+"\n  ")]},proxy:!0}])},[e._v(" "),n("div",[n("p",[e._v(e._s(e.text))]),e._v(" "),n("p",[e._v(e._s(e.s__("Milestones|This action cannot be reversed.")))])])])}),[],!1,null,null,null).exports;r.default.use(i.a);t.default=function(){Object(o.a)(),function(){var e=function(e){var t=e.milestoneUrl,n=e.successful,o=document.querySelector('.js-promote-project-milestone-button[data-url="'.concat(t,'"]'));n||o.removeAttribute("disabled")},t=function(t){document.querySelector('.js-promote-project-milestone-button[data-url="'.concat(t,'"]')).setAttribute("disabled",""),d.a.$once("promoteMilestoneModal.requestFinished",e)},n=function(e){var n=e.currentTarget,o={milestoneTitle:n.dataset.milestoneTitle,url:n.dataset.url,groupName:n.dataset.groupName};d.a.$once("promoteMilestoneModal.requestStarted",t),d.a.$emit("promoteMilestoneModal.props",o)},o=document.querySelectorAll(".js-promote-project-milestone-button");o.forEach((function(e){e.addEventListener("click",n)})),d.a.$once("promoteMilestoneModal.mounted",(function(){o.forEach((function(e){e.removeAttribute("disabled")}))}));var i,a=document.getElementById("promote-milestone-modal");a&&(i=new r.default({el:a,components:{PromoteMilestoneModal:p},data:function(){return{modalProps:{milestoneTitle:"",groupName:"",url:""}}},mounted:function(){d.a.$on("promoteMilestoneModal.props",this.setModalProps),d.a.$emit("promoteMilestoneModal.mounted")},beforeDestroy:function(){d.a.$off("promoteMilestoneModal.props",this.setModalProps)},methods:{setModalProps:function(e){this.modalProps=e}},render:function(e){return e("promote-milestone-modal",{props:this.modalProps})}}))}()}},Mifk:function(e,t,n){"use strict";n("FMw2");var o=n("3a3M"),r=n.n(o),i=["danger","primary","success","warning"],a=["sm","md","lg","xl"],s={name:"DeprecatedModal2",props:{id:{type:String,required:!1,default:null},modalSize:{type:String,required:!1,default:"md",validator:function(e){return a.includes(e)}},headerTitleText:{type:String,required:!1,default:""},footerPrimaryButtonVariant:{type:String,required:!1,default:"primary",validator:function(e){return i.includes(e)}},footerPrimaryButtonText:{type:String,required:!1,default:""}},computed:{modalSizeClass:function(){return"md"===this.modalSize?"":"modal-".concat(this.modalSize)}},mounted:function(){r()(this.$el).on("shown.bs.modal",this.opened).on("hidden.bs.modal",this.closed)},beforeDestroy:function(){r()(this.$el).off("shown.bs.modal",this.opened).off("hidden.bs.modal",this.closed)},methods:{emitCancel:function(e){this.$emit("cancel",e)},emitSubmit:function(e){this.$emit("submit",e)},opened:function(){this.$emit("open")},closed:function(){this.$emit("closed")}}},l=n("tBpV"),c=Object(l.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal fade",attrs:{id:e.id,tabindex:"-1",role:"dialog"}},[n("div",{staticClass:"modal-dialog",class:e.modalSizeClass,attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[e._t("header",[n("h4",{staticClass:"modal-title"},[e._t("title",[e._v(" "+e._s(e.headerTitleText)+" ")])],2),e._v(" "),n("button",{staticClass:"close js-modal-close-action",attrs:{"aria-label":e.s__("Modal|Close"),type:"button","data-dismiss":"modal"},on:{click:function(t){return e.emitCancel(t)}}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])],2),e._v(" "),n("div",{staticClass:"modal-body"},[e._t("default")],2),e._v(" "),n("div",{staticClass:"modal-footer"},[e._t("footer",[n("button",{staticClass:"btn js-modal-cancel-action qa-modal-cancel-button",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.emitCancel(t)}}},[e._v("\n            "+e._s(e.s__("Modal|Cancel"))+"\n          ")]),e._v(" "),n("button",{staticClass:"btn js-modal-primary-action qa-modal-primary-button",class:"btn-"+e.footerPrimaryButtonVariant,attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.emitSubmit(t)}}},[e._v("\n            "+e._s(e.footerPrimaryButtonText)+"\n          ")])])],2)])])])}),[],!1,null,null,null);t.a=c.exports},ZeWX:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n("t3Gg"),n("+xeR");var o=n("3a3M"),r=n.n(o),i=n("06tH"),a=n.n(i),s=n("/lV4"),l=n("3twG");n("kO4A"),n("OZM5"),n("x/6R"),n("Z5ek"),n("yaFd"),n("8Qi2"),n("EWC9"),n("MRnW"),n("tbvx"),n("orcL");var c=function(e){return e.reduce((function(e,t){var n=t.name,o=t.value;return Object.assign(e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,o))}),{})},u=n("2ibD"),d=n("XRO8"),m=n("k/Fq");function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=r()("ul.clone-options-dropdown"),n=r()("#project_clone"),o=r()(".js-git-clone-holder .js-clone-dropdown-label"),i=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),s=o.text().trim();s.length>0&&r()("a:contains('".concat(s,"')"),t).addClass("is-active"),r()("a",t).on("click",(function(e){e.preventDefault();var o=r()(e.currentTarget),a=o.attr("href"),s=o.data("cloneType");r()(".is-active",t).removeClass("is-active"),r()('a[data-clone-type="'.concat(s,'"]')).each((function(){var e=r()(this),t=e.find(".dropdown-menu-inner-title").text(),n=e.closest(".project-clone-holder").find(".js-clone-dropdown-label");e.toggleClass("is-active"),n.text(t)})),i?i.dataset.clipboardText=a:n.val(a),r()(".js-git-empty .js-clone").text(a)})),e.initRefSwitcher(),r()(".project-refs-select").on("change",(function(){return r()(this).parents("form").submit()})),r()(".hide-no-ssh-message").on("click",(function(e){return a.a.set("hide_no_ssh_message","false"),r()(this).parents(".no-ssh-key-message").remove(),e.preventDefault()})),r()(".hide-no-password-message").on("click",(function(e){return a.a.set("hide_no_password_message","false"),r()(this).parents(".no-password-message").remove(),e.preventDefault()})),r()(".hide-auto-devops-implicitly-enabled-banner").on("click",(function(e){var t=r()(this).data("project-id"),n="hide_auto_devops_implicitly_enabled_banner_".concat(t);return a.a.set(n,"false"),r()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),e.preventDefault()})),e.projectSelectDropdown()}var t,n,o;return t=e,o=[{key:"projectSelectDropdown",value:function(){Object(m.a)(),r()(".project-item-select").on("click",(function(t){return e.changeProject(r()(t.currentTarget).val())}))}},{key:"changeProject",value:function(e){return window.location=e}},{key:"initRefSwitcher",value:function(){var e=document.createElement("li"),t=document.createElement("a");return t.href="#",r()(".js-project-refs-dropdown").each((function(){var n,o,i,a=r()(this),m=a.data("selected"),f=a.data("fieldName"),p=Boolean(a.data("visit")),b=a.closest("form"),h=b.attr("action"),v=Object(l.n)((n=b[0],o=new FormData(n),i=Array.from(o.keys()).map((function(e){var t=o.getAll(e);return{name:e,value:1===(t=t.filter((function(e){return e}))).length?t[0]:t}})),c(i)),h);return a.glDropdown({data:function(e,t){u.a.get(a.data("refsUrl"),{params:{ref:a.data("ref"),search:e}}).then((function(e){var n=e.data;return t(n)})).catch((function(){return Object(d.a)(Object(s.a)("An error occurred while getting projects"))}))},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:a.data("inputFieldName"),fieldName:f,renderRow:function(n){var o,r,i,a=e.cloneNode(!1),s=t.cloneNode(!1);return n===m&&(s.className="is-active"),s.textContent=n,s.dataset.ref=n,n.length>0&&p&&(s.href=Object(l.n)((i=n,(r=f)in(o={})?Object.defineProperty(o,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[r]=i,o),v)),a.appendChild(s),a},id:function(e,t){return t.attr("data-ref")},toggleLabel:function(e,t){return t.text().trim()},clicked:function(e){var t=e.e;p||t.preventDefault()}})}))}}],(n=null)&&f(t.prototype,n),o&&f(t,o),e}()},elH8:function(e,t,n){"use strict";var o=n("7xOh");t.a=Object(o.a)()},gjpc:function(e,t,n){"use strict";n.r(t);var o=n("ZeWX"),r=n("CX32");document.addEventListener("DOMContentLoaded",(function(){new o.a,new r.a}))},i6jo:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("3a3M"),r=n.n(o),i=n("2ibD"),a=n("XRO8"),s=n("qcwA"),l=n("/lV4");function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindTabsSwitching(),this.loadTab(r()(".js-milestone-tabs .active a")),this.loadInitialTab()}var t,n,o;return t=e,o=[{key:"initDeprecationMessage",value:function(){var e=document.querySelector(".js-milestone-deprecation-message");if(e){var t=e.querySelector(".js-milestone-deprecation-message-template").innerHTML,n=r()(".js-popover-link",e),o=s.c.bind(n,!1);n.popover({content:t,html:!0,placement:"bottom"}).on("mouseenter",s.b).on("mouseleave",Object(s.a)()).on("show.bs.popover",(function(){window.addEventListener("scroll",o,{once:!0})}))}}}],(n=[{key:"bindTabsSwitching",value:function(){var e=this;return r()('a[data-toggle="tab"]').on("show.bs.tab",(function(t){var n=r()(t.target);window.location.hash=n.attr("href"),e.loadTab(n)}))}},{key:"loadInitialTab",value:function(){var e=r()('.js-milestone-tabs a[href="'.concat(window.location.hash,'"]'));e.length&&e.tab("show")}},{key:"loadTab",value:function(e){var t=e.data("endpoint"),n=e.attr("href");t&&!e.hasClass("is-loaded")&&i.a.get(t).then((function(t){var o=t.data;r()(n).html(o.html),e.addClass("is-loaded")})).catch((function(){return Object(a.a)(Object(l.a)("Error loading milestone tab"))}))}}])&&c(t.prototype,n),o&&c(t,o),e}()},jIAs:function(e,t,n){"use strict";n.r(t);var o=n("qynk"),r=n("KeM1");document.addEventListener("DOMContentLoaded",(function(){Object(o.a)(),Object(r.default)()}))},"k/Fq":function(e,t,n){"use strict";n("9U97"),n("8Qi2"),n("MRnW"),n("jaBk");var o=n("3a3M"),r=n.n(o),i=n("qPgm"),a=(n("gyUR"),n("4ql4"),n("IdsT"),n("pBsb"),n("n7CP"));function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.projectSelectInput=r()(t),this.newItemBtn=r()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}var t,o,i;return t=e,(o=[{key:"bindEvents",value:function(){var e=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",(function(t){return e.openDropdown(t)})),this.newItemBtn.on("click",(function(t){e.getProjectFromLocalStorage()||(t.preventDefault(),e.openDropdown(t))})),this.projectSelectInput.on("change",(function(){return e.selectProject()}))}},{key:"initLocalStorage",value:function(){a.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}},{key:"openDropdown",value:function(e){n.e(311).then(n.t.bind(null,"p9g0",7)).then((function(){r()(e.currentTarget).siblings(".project-item-select").select2("open")})).catch((function(){}))}},{key:"selectProject",value:function(){var e=JSON.parse(this.projectSelectInput.val()),t={url:"".concat(e.url,"/").concat(this.projectSelectInput.data("relativePath")),name:e.name};this.setNewItemBtnAttributes(t),this.setProjectInLocalStorage(t)}},{key:"setBtnTextFromLocalStorage",value:function(){var e=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(e)}},{key:"setNewItemBtnAttributes",value:function(e){e?(this.newItemBtn.attr("href",e.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(e.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}},{key:"getProjectFromLocalStorage",value:function(){var e=localStorage.getItem(this.localStorageKey);return JSON.parse(e)}},{key:"setProjectInLocalStorage",value:function(e){var t=JSON.stringify(e);localStorage.setItem(this.localStorageKey,t)}},{key:"deriveTextVariants",value:function(){var e=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:e,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}])&&s(t.prototype,o),i&&s(t,i),e}(),c=n("/lV4"),u=function(){r()(".ajax-project-select").each((function(e,t){var n,o=this,a=r()(t).data("simpleFilter")||!1,s=r()(t).data("select2");return this.groupId=r()(t).data("groupId"),this.userId=r()(t).data("userId"),this.includeGroups=r()(t).data("includeGroups"),this.allProjects=r()(t).data("allProjects")||!1,this.orderBy=r()(t).data("orderBy")||"id",this.withIssuesEnabled=r()(t).data("withIssuesEnabled"),this.withMergeRequestsEnabled=r()(t).data("withMergeRequestsEnabled"),this.withShared=void 0===r()(t).data("withShared")||r()(t).data("withShared"),this.includeProjectsInSubgroups=r()(t).data("includeProjectsInSubgroups")||!1,this.allowClear=r()(t).data("allowClear")||!1,n=Object(c.d)("ProjectSelect|Search for project"),this.includeGroups&&(n+=Object(c.d)("ProjectSelect| or group")),r()(t).select2({placeholder:n,minimumInputLength:0,query:function(e){var t,n=function(t){var n={results:t};return e.callback(n)};return t=o.includeGroups?function(t){return i.a.groups(e.term,{},(function(e){var o=e.concat(t);return n(o)}))}:n,o.groupId?i.a.groupProjects(o.groupId,e.term,{search_namespaces:!0,with_issues_enabled:o.withIssuesEnabled,with_merge_requests_enabled:o.withMergeRequestsEnabled,with_shared:o.withShared,include_subgroups:o.includeProjectsInSubgroups},t):o.userId?i.a.userProjects(o.userId,e.term,{with_issues_enabled:o.withIssuesEnabled,with_merge_requests_enabled:o.withMergeRequestsEnabled,with_shared:o.withShared,include_subgroups:o.includeProjectsInSubgroups},t):i.a.projects(e.term,{order_by:o.orderBy,with_issues_enabled:o.withIssuesEnabled,with_merge_requests_enabled:o.withMergeRequestsEnabled,membership:!o.allProjects},t)},id:function(e){return a?e.id:JSON.stringify({name:e.name,url:e.web_url})},text:function(e){return e.name_with_namespace||e.name},initSelection:function(e,t){return i.a.project(e.val()).then((function(e){var n=e.data;return t(n)}))},allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),s||a?t:new l(t)}))};t.a=function(){return n.e(311).then(n.t.bind(null,"p9g0",7)).then(u).catch((function(){}))}},qynk:function(e,t,n){"use strict";var o=n("i6jo"),r=n("i3lA"),i=n("E21w");t.a=function(){new o.a,new r.a,new i.a}}},[[149,1,0,19]]]);
//# sourceMappingURL=pages.projects.milestones.show.68bb310e.chunk.js.map