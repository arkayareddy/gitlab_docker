(this.webpackJsonp=this.webpackJsonp||[]).push([[179],{84:function(n,t,e){e("HVBj"),e("GLwz"),n.exports=e("FzOv")},FzOv:function(n,t,e){"use strict";e.r(t);var i=e("eLfS"),o=e("zive");document.addEventListener("DOMContentLoaded",(function(){new i.a,Object(o.a)()}))},eLfS:function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));e("t3Gg");var i=e("3a3M"),o=e.n(i),a=e("/lV4"),s=e("2ibD"),c=e("XRO8");function r(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}var l=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.initEventListeners()}var t,e,i;return t=n,(e=[{key:"initEventListeners",value:function(){o()(document).on("change",".js-custom-notification-event",this.toggleCheckbox)}},{key:"toggleCheckbox",value:function(n){var t=o()(n.currentTarget),e=t.closest(".form-check");this.saveEvent(t,e)}},{key:"showCheckboxLoadingSpinner",value:function(n){n.addClass("is-loading").find(".custom-notification-event-loading").removeClass("fa-check").addClass("spinner align-middle").removeClass("is-done")}},{key:"saveEvent",value:function(n,t){var e=t.parents("form").first();this.showCheckboxLoadingSpinner(t),s.a[e.attr("method")](e.attr("action"),e.serialize()).then((function(e){var i=e.data;n.enable(),i.saved&&(t.find(".custom-notification-event-loading").toggleClass("spinner fa-check is-done align-middle"),setTimeout((function(){t.removeClass("is-loading").find(".custom-notification-event-loading").toggleClass("spinner fa-check is-done align-middle")}),2e3))})).catch((function(){return Object(c.a)(Object(a.a)("There was an error saving your notification settings."))}))}}])&&r(t.prototype,e),i&&r(t,i),n}()},zive:function(n,t,e){"use strict";e.d(t,"a",(function(){return c}));e("t3Gg");var i=e("3a3M"),o=e.n(i),a=e("XRO8"),s=e("/lV4");function c(){o()(document).on("click",".update-notification",(function(n){if(n.preventDefault(),!o()(this).is(".is-active")||"custom"!==o()(this).data("notificationLevel")){var t=o()(this).data("notificationLevel"),e=o()(this).parents(".notification-form").first();e.find(".js-notification-loading").toggleClass("spinner"),e.hasClass("no-label")&&(e.find(".js-notification-loading").toggleClass("hidden"),e.find(".js-notifications-icon").toggleClass("hidden")),e.find("#notification_setting_level").val(t),e.submit()}})),o()(document).on("ajax:success",".notification-form",(function(n,t){t.saved?o()(n.currentTarget).closest(".js-notification-dropdown").replaceWith(t.html):Object(a.a)(Object(s.a)("Failed to save new settings"),"alert")}))}}},[[84,1,0,21]]]);
//# sourceMappingURL=pages.profiles.notifications.show.5205f13b.chunk.js.map