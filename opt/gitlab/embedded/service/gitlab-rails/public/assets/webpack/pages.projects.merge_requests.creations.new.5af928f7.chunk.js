(this.webpackJsonp=this.webpackJsonp||[]).push([[237],{"0DPl":function(t,e,i){"use strict";var n=i("3a3M"),a=i.n(n),s=i("Zvrg");e.a=function(t){Object(s.b)(document.querySelector(".js-diff-files-changed"),t),a()(".js-diff-stats-dropdown").glDropdown({filterable:!0,remoteFilter:!1})}},142:function(t,e,i){i("HVBj"),i("gjpc"),i("OvOg"),t.exports=i("g2ce")},"1pLT":function(t,e,i){"use strict";i("t3Gg"),i("IdsT"),i("S26F"),i("+xeR");var n=i("3a3M"),a=i.n(n),s=i("/lV4"),o=i("XRO8"),r=i("QBXl"),c=(i("9U97"),i("+kFb"),i("TZoF"),i("Id6h"),i("eVUo")),l=i("06tH"),u=i.n(l),d=i("7xOh"),p=i("2ibD"),h=i("Tctl"),m=i("0DPl"),f=i("NmEs"),g=i("1OWu"),b=i("3twG"),v=i("DN5t"),y=i("bOix"),w=i("FYnm"),j=i("uqFy"),T=i("Zvrg");function k(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var C=window.location,q=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.action,n=e.setUrl,a=e.stubLocation;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mergeRequestTabs=document.querySelector(".merge-request-tabs-container"),this.mergeRequestTabsAll=this.mergeRequestTabs&&this.mergeRequestTabs.querySelectorAll?this.mergeRequestTabs.querySelectorAll(".merge-request-tabs li"):null,this.mergeRequestTabPanes=document.querySelector("#diff-notes-app"),this.mergeRequestTabPanesAll=this.mergeRequestTabPanes&&this.mergeRequestTabPanes.querySelectorAll?this.mergeRequestTabPanes.querySelectorAll(".tab-pane"):null;var s=document.querySelector(".navbar-gitlab"),o=document.getElementById("js-peek");this.commitsTab=document.querySelector(".tab-content .commits.tab-pane"),this.currentTab=null,this.diffsLoaded=!1,this.pipelinesLoaded=!1,this.commitsLoaded=!1,this.fixedLayoutPref=null,this.eventHub=Object(d.a)(),this.setUrl=void 0===n||n,this.setCurrentAction=this.setCurrentAction.bind(this),this.tabShown=this.tabShown.bind(this),this.clickTab=this.clickTab.bind(this),this.stickyTop=s?s.offsetHeight-16:0,o&&(this.stickyTop+=o.offsetHeight),this.mergeRequestTabs&&(this.stickyTop+=this.mergeRequestTabs.offsetHeight),a&&(C=a),this.bindEvents(),this.mergeRequestTabs&&this.mergeRequestTabs.querySelector("a[data-action='".concat(i,"']"))&&this.mergeRequestTabs.querySelector("a[data-action='".concat(i,"']")).click&&this.mergeRequestTabs.querySelector("a[data-action='".concat(i,"']")).click(),this.initAffix()}var e,i,n;return e=t,(i=[{key:"bindEvents",value:function(){var t=this;a()('.merge-request-tabs a[data-toggle="tabvue"]').on("click",this.clickTab),window.addEventListener("popstate",(function(e){e.state&&e.state.action&&(t.tabShown(e.state.action,e.target.location),t.currentAction=e.state.action,t.eventHub.$emit("MergeRequestTabChange",t.getCurrentAction()))}))}},{key:"unbindEvents",value:function(){a()('.merge-request-tabs a[data-toggle="tabvue"]').off("click",this.clickTab)}},{key:"destroyPipelinesView",value:function(){this.commitPipelinesTable&&(this.commitPipelinesTable.$destroy(),this.commitPipelinesTable=null,document.querySelector("#commit-pipeline-table-view").innerHTML="")}},{key:"clickTab",value:function(t){if(t.currentTarget){t.stopImmediatePropagation(),t.preventDefault();var e=(t.currentTarget.dataset||{}).action;if(Object(f.C)(t)){var i=t.currentTarget.getAttribute("href");window.open(i,"_blank")}else if(e){var n=t.currentTarget.getAttribute("href");this.tabShown(e,n),this.setUrl&&this.setCurrentAction(e),this.eventHub.$emit("MergeRequestTabChange",this.getCurrentAction())}}}},{key:"tabShown",value:function(t,e){if(t!==this.currentTab&&this.mergeRequestTabs){this.currentTab=t,this.mergeRequestTabPanesAll&&this.mergeRequestTabPanesAll.forEach((function(t){t.style.display="none"})),this.mergeRequestTabsAll&&this.mergeRequestTabsAll.forEach((function(t){t.classList.remove("active")}));var i=this.mergeRequestTabPanes.querySelector("#".concat(t));i&&(i.style.display="block");var n=this.mergeRequestTabs.querySelector(".".concat(t,"-tab"));n&&n.classList.add("active"),"commits"===t?(this.loadCommits(e),this.expandView(),this.resetViewContainer(),this.destroyPipelinesView()):"new"===t?(this.expandView(),this.resetViewContainer(),this.destroyPipelinesView()):this.isDiffAction(t)?(Object(g.d)()||this.loadDiff(e),"xl"!==c.b.getBreakpointSize()&&this.shrinkView(),this.expandViewContainer(),this.destroyPipelinesView(),this.commitsTab.classList.remove("active")):"pipelines"===t?(this.resetViewContainer(),this.mountPipelinesView()):(this.mergeRequestTabPanes.querySelector("#notes").style.display="block",this.mergeRequestTabs.querySelector(".notes-tab").classList.add("active"),"xs"!==c.b.getBreakpointSize()&&this.expandView(),this.resetViewContainer(),this.destroyPipelinesView())}else if(t===this.currentAction){var a=document.querySelector(".content-wrapper"),s=document.querySelector(".tab-content");if(a&&s){var o=a.getBoundingClientRect().top,r=s.getBoundingClientRect().top-o-51;"scrollBehavior"in document.documentElement.style?window.scrollTo({top:r,behavior:"smooth"}):window.scrollTo(0,r)}}}},{key:"scrollToElement",value:function(t){if(C.hash){var e=0-(a()(".navbar-gitlab").outerHeight()+a()(".js-tabs-affix").outerHeight()),i=a()("".concat(t," ").concat(C.hash,":not(.match)"));i.length&&a.a.scrollTo(i[0],{offset:e})}}},{key:"setCurrentAction",value:function(t){this.currentAction=t;var e=C.pathname.replace(/\/(commits|diffs|pipelines)(\.html)?\/?$/,"");return"show"!==this.currentAction&&"new"!==this.currentAction&&(e+="/".concat(this.currentAction)),e+=C.search+C.hash,window.history.state&&window.history.state.url&&window.location.pathname!==e?window.history.pushState({url:e,action:this.currentAction},document.title,e):window.history.replaceState({url:window.location.href,action:t},document.title,window.location.href),e}},{key:"getCurrentAction",value:function(){return this.currentAction}},{key:"loadCommits",value:function(t){var e=this;this.commitsLoaded||(this.toggleLoading(!0),p.a.get("".concat(t,".json")).then((function(t){var i=t.data;document.querySelector("div#commits").innerHTML=i.html,Object(y.m)(a()(".js-timeago","div#commits")),e.commitsLoaded=!0,e.scrollToElement("#commits"),e.toggleLoading(!1)})).catch((function(){e.toggleLoading(!1),Object(o.a)(Object(s.a)("An error occurred while fetching this tab."))})))}},{key:"mountPipelinesView",value:function(){var t=document.querySelector("#commit-pipeline-table-view"),e=gl,i=e.CommitPipelinesTable,n=e.mrWidgetData;this.commitPipelinesTable=new i({propsData:{endpoint:t.dataset.endpoint,helpPagePath:t.dataset.helpPagePath,emptyStateSvgPath:t.dataset.emptyStateSvgPath,errorStateSvgPath:t.dataset.errorStateSvgPath,autoDevopsHelpPath:t.dataset.helpAutoDevopsPath,canRunPipeline:!0,projectId:t.dataset.projectId,mergeRequestId:n?n.iid:null}}).$mount(),t.appendChild(this.commitPipelinesTable.$el)}},{key:"loadDiff",value:function(t){var e=this;if(this.diffsLoaded)document.dispatchEvent(new CustomEvent("scroll"));else{var i=Object(f.L)(t);this.toggleLoading(!0),p.a.get("".concat(i,".json").concat(C.search)).then((function(t){var i=t.data,n=a()("#diffs");n.html(i.html),Object(m.a)(e.stickyTop),void 0!==gl.diffNotesCompileComponents&&gl.diffNotesCompileComponents(),Object(y.m)(a()(".js-timeago","div#diffs")),Object(w.a)(a()("#diffs .js-syntax-highlight")),e.isDiffAction(e.currentAction)&&e.expandViewContainer(),e.diffsLoaded=!0,new v.a,e.scrollToElement("#diffs"),a()(".diff-file").each((function(t,e){new h.a({openButtons:a()(e).find(".js-edit-blob-link-fork-toggler"),forkButtons:a()(e).find(".js-fork-suggestion-button"),cancelButtons:a()(e).find(".js-cancel-fork-suggestion-button"),suggestionSections:a()(e).find(".js-file-fork-suggestion-section"),actionTextPieces:a()(e).find(".js-file-fork-suggestion-section-action")}).init()}));var s=Object(b.e)(),o=s&&n.find('.note[id="'.concat(s,'"]'));if(o&&o.length>0){var r=o.closest(".notes-content").hasClass("new")?"new":"old";j.a.instance.toggleDiffNote({target:o,lineType:r,forceShow:!0}),o[0].scrollIntoView(),Object(f.s)(),o.addClass("target")}e.toggleLoading(!1)})).catch((function(){e.toggleLoading(!1),Object(o.a)(Object(s.a)("An error occurred while fetching this tab."))}))}}},{key:"toggleLoading",value:function(t){a()(".mr-loading-status .loading").toggleClass("hide",!t)}},{key:"diffViewType",value:function(){return a()(".js-diff-view-buttons button.active").data("viewType")}},{key:"isDiffAction",value:function(t){return"diffs"===t||"new/diffs"===t}},{key:"expandViewContainer",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=a()(".content-wrapper .container-fluid").not(".breadcrumbs");null===this.fixedLayoutPref&&(this.fixedLayoutPref=e.hasClass("container-limited")),"parallel"===this.diffViewType()||t?e.removeClass("container-limited"):e.toggleClass("container-limited",this.fixedLayoutPref)}},{key:"resetViewContainer",value:function(){null!==this.fixedLayoutPref&&a()(".content-wrapper .container-fluid").toggleClass("container-limited",this.fixedLayoutPref)}},{key:"shrinkView",value:function(){var t=a()(".js-sidebar-toggle i:visible");setTimeout((function(){t.is(".fa-angle-double-right")&&t.closest("a").trigger("click",[!0])}),0)}},{key:"expandView",value:function(){if(!Object(f.H)(u.a.get("collapsed_gutter"))){var t=a()(".js-sidebar-toggle i:visible");setTimeout((function(){t.is(".fa-angle-double-left")&&t.closest("a").trigger("click",[!0])}),0)}}},{key:"initAffix",value:function(){var t=a()(".js-tabs-affix");"xs"!==c.b.getBreakpointSize()&&t.length&&"static"===t.css("position")&&Object(T.a)(t)}}])&&k(e.prototype,i),n&&k(e,n),t}(),S=i("FUW5"),P=i("0AwG");function x(t){var e=this;this.opts=null!=t?t:{},this.submitNoteForm=this.submitNoteForm.bind(this),this.$el=a()(".merge-request"),this.$(".show-all-commits").on("click",(function(){return e.showAllCommits()})),this.initTabs(),this.initMRBtnListeners(),this.initCommitMessageListeners(),this.closeReopenReportToggle=S.a.initCloseReopenReport(),a()(".description.js-task-list-container").length&&(this.taskList=new r.a({dataType:"merge_request",fieldName:"description",selector:".detail-page-description",lockVersion:this.$el.data("lockVersion"),onSuccess:function(t){document.querySelector("#task_status").innerText=t.task_status,document.querySelector("#task_status_short").innerText=t.task_status_short},onError:function(){Object(o.a)(Object(s.a)("Someone edited this merge request at the same time you did. Please refresh the page to see changes."))}}))}x.prototype.$=function(t){return this.$el.find(t)},x.prototype.initTabs=function(){window.mrTabs&&window.mrTabs.unbindEvents(),window.mrTabs=new q(this.opts)},x.prototype.showAllCommits=function(){return this.$(".first-commits").remove(),this.$(".all-commits").removeClass("hide")},x.prototype.initMRBtnListeners=function(){var t=this;return a()("a.btn-close, a.btn-reopen").on("click",(function(e){var i=a()(this),n=i.hasClass("btn-comment");n&&i.data("submitted")||(this.closeReopenReportToggle&&this.closeReopenReportToggle.setDisable(),n&&(i.hasClass("btn-comment-and-close")||i.hasClass("btn-comment-and-reopen"))&&(e.preventDefault(),e.stopImmediatePropagation(),t.submitNoteForm(i.closest("form"),i)))}))},x.prototype.submitNoteForm=function(t,e){if(t.find("textarea.js-note-text").val().trim().length>0)return t.submit(),e.data("submitted",!0),e.trigger("click")},x.prototype.initCommitMessageListeners=function(){a()(document).on("click","a.js-with-description-link",(function(t){var e=a()("textarea.js-commit-message");t.preventDefault(),e.val(e.data("messageWithDescription")),a()(".js-with-description-hint").hide(),a()(".js-without-description-hint").show()})),a()(document).on("click","a.js-without-description-link",(function(t){var e=a()("textarea.js-commit-message");t.preventDefault(),e.val(e.data("messageWithoutDescription")),a()(".js-with-description-hint").show(),a()(".js-without-description-hint").hide()}))},x.setStatusBoxToMerged=function(){a()(".detail-page-header .status-box").removeClass("status-box-open").addClass("status-box-mr-merged").find("span").text(Object(s.a)("Merged"))},x.decreaseCounter=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=a()(".js-merge-counter"),i=Math.max(parseInt(e.text().replace(/[^\d]/,""),10)-t,0);e.text(Object(P.a)(i))},x.hideCloseButton=function(){var t=document.querySelector(".merge-request .js-issuable-actions"),e=t.querySelector("li.close-item");e?(e.classList.add("hidden"),t.querySelector("li.report-item").click()):t.querySelector(".btn-close").classList.add("hidden"),t.querySelector("li.js-close-item").classList.add("hidden")};e.a=x},"2Swe":function(t,e,i){"use strict";var n=i("LLbv"),a={components:{CiIcon:i("8zNS").a},directives:{GlTooltip:n.a},props:{status:{type:Object,required:!0},showText:{type:Boolean,required:!1,default:!0}},computed:{cssClass:function(){var t=this.status.group;return t?"ci-status ci-".concat(t," qa-status-badge"):"ci-status qa-status-badge"}}},s=i("tBpV"),o=Object(s.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],class:t.cssClass,attrs:{href:t.status.details_path,title:t.showText?"":t.status.text}},[i("ci-icon",{attrs:{status:t.status}}),t._v(" "),t.showText?[t._v("\n    "+t._s(t.status.text)+"\n  ")]:t._e()],2)}),[],!1,null,null,null);e.a=o.exports},"Dfb/":function(t,e,i){"use strict";var n=i("3a3M"),a=i.n(n);i("yv3B");e.a={bind:function(t){var e=localStorage.getItem("gl-tooltip-delay"),i=e?JSON.parse(e):0;a()(t).tooltip({trigger:"hover",delay:i})},componentUpdated:function(t){a()(t).tooltip("_fixTitle");var e=a()(t).data("bs.tooltip"),i=e.getTipElement();e.setElementContent(a()(i.querySelectorAll(".tooltip-inner")),e.getTitle())},unbind:function(t){a()(t).tooltip("dispose")}}},HXu9:function(t,e,i){"use strict";var n=i("bOix");e.a={data:function(){return{remainingTime:Object(n.e)(0),remainingTimeIntervalId:null}},mounted:function(){this.startRemainingTimeInterval()},beforeDestroy:function(){this.remainingTimeIntervalId&&clearInterval(this.remainingTimeIntervalId)},computed:{isDelayedJob:function(){return this.job&&this.job.scheduled}},watch:{isDelayedJob:function(){this.startRemainingTimeInterval()}},methods:{startRemainingTimeInterval:function(){var t=this;this.remainingTimeIntervalId&&clearInterval(this.remainingTimeIntervalId),this.isDelayedJob&&(this.updateRemainingTime(),this.remainingTimeIntervalId=setInterval((function(){return t.updateRemainingTime()}),1e3))},updateRemainingTime:function(){var t=Object(n.b)(this.job.scheduled_at);this.remainingTime=Object(n.e)(t)}}}},KcQl:function(t,e,i){"use strict";var n=i("ZfjD"),a=i("PpKG"),s=i("O9kB"),o=i("QmHw"),r=i("OuD2"),c=i("eclS"),l=i("arHL"),u=i("fEQ0");n({target:"Promise",proto:!0,real:!0,forced:!!s&&o((function(){s.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,r("Promise")),i="function"==typeof t;return this.then(i?function(i){return l(e,t()).then((function(){return i}))}:t,i?function(i){return l(e,t()).then((function(){throw i}))}:t)}}),a||"function"!=typeof s||s.prototype.finally||u(s.prototype,"finally",r("Promise").prototype.finally)},PvM2:function(t,e,i){"use strict";i("gyUR"),i("8Qi2"),i("+xU6");var n=i("MV2A"),a=i("LLbv"),s=i("f3jp"),o={components:{ciIcon:i("8zNS").a},props:{name:{type:String,required:!0},status:{type:Object,required:!0}}},r=i("tBpV"),c=Object(r.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"ci-job-name-component mw-100"},[e("ci-icon",{attrs:{status:this.status}}),this._v(" "),e("span",{staticClass:"ci-status-text text-truncate mw-70p gl-pl-1-deprecated-no-really-do-not-use-me d-inline-block align-bottom"},[this._v("\n    "+this._s(this.name)+"\n  ")])],1)}),[],!1,null,null,null).exports,l=i("/lV4"),u=i("HXu9"),d={components:{ActionComponent:s.a,JobNameComponent:c,GlLink:n.a},directives:{GlTooltip:a.a},mixins:[u.a],props:{job:{type:Object,required:!0},cssClassJobName:{type:String,required:!1,default:""},dropdownLength:{type:Number,required:!1,default:1/0}},computed:{boundary:function(){return 1===this.dropdownLength?"viewport":"scrollParent"},status:function(){return this.job&&this.job.status?this.job.status:{}},tooltipText:function(){var t=[],e=this.job.name;e&&t.push(e);var i=this.status.tooltip;return e&&i&&t.push("-"),i&&(this.isDelayedJob?t.push(Object(l.e)(i,{remainingTime:this.remainingTime})):t.push(i)),t.join(" ")},hasAction:function(){return this.job.status&&this.job.status.action&&this.job.status.action.path}},methods:{pipelineActionRequestComplete:function(){this.$emit("pipelineActionRequestComplete")}}},p=Object(r.a)(d,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ci-job-component"},[t.status.has_details?i("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{boundary:t.boundary,placement:"bottom"},expression:"{ boundary, placement: 'bottom' }"}],staticClass:"js-pipeline-graph-job-link qa-job-link menu-item",class:t.cssClassJobName,attrs:{href:t.status.details_path,title:t.tooltipText}},[i("job-name-component",{attrs:{name:t.job.name,status:t.job.status}})],1):i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{boundary:t.boundary,placement:"bottom"},expression:"{ boundary, placement: 'bottom' }"}],staticClass:"js-job-component-tooltip non-details-job-component",class:t.cssClassJobName,attrs:{title:t.tooltipText}},[i("job-name-component",{attrs:{name:t.job.name,status:t.job.status}})],1),t._v(" "),t.hasAction?i("action-component",{attrs:{"tooltip-text":t.status.action.title,link:t.status.action.path,"action-icon":t.status.action.icon},on:{pipelineActionRequestComplete:t.pipelineActionRequestComplete}}):t._e()],1)}),[],!1,null,null,null);e.a=p.exports},Tctl:function(t,e,i){"use strict";i("va8A"),i("kO4A"),i("+kFb"),i("zCcL"),i("zpLX"),i("BD5p"),i("Id6h");var n=i("3a3M"),a=i.n(n);function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function c(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l={openButtons:[],forkButtons:[],cancelButtons:[],suggestionSections:[],actionTextPieces:[]},u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.elementMap=o(o({},l),e),this.onOpenButtonClick=this.onOpenButtonClick.bind(this),this.onCancelButtonClick=this.onCancelButtonClick.bind(this)}var e,i,n;return e=t,(i=[{key:"init",value:function(){return this.bindEvents(),this}},{key:"bindEvents",value:function(){a()(this.elementMap.openButtons).on("click",this.onOpenButtonClick),a()(this.elementMap.cancelButtons).on("click",this.onCancelButtonClick)}},{key:"showSuggestionSection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"edit";a()(this.elementMap.suggestionSections).removeClass("hidden"),a()(this.elementMap.forkButtons).attr("href",t),a()(this.elementMap.actionTextPieces).text(e)}},{key:"hideSuggestionSection",value:function(){a()(this.elementMap.suggestionSections).addClass("hidden")}},{key:"onOpenButtonClick",value:function(t){var e=a()(t.currentTarget).attr("data-fork-path"),i=a()(t.currentTarget).attr("data-action");this.showSuggestionSection(e,i)}},{key:"onCancelButtonClick",value:function(){this.hideSuggestionSection()}},{key:"destroy",value:function(){a()(this.elementMap.openButtons).off("click",this.onOpenButtonClick),a()(this.elementMap.cancelButtons).off("click",this.onCancelButtonClick)}}])&&c(e.prototype,i),n&&c(e,n),t}();e.a=u},UtYG:function(t,e,i){"use strict";var n=i("jB52"),a=(i("+xU6"),i("jslJ"),i("GTGS")),s=i("FkSe"),o=i("eVUo"),r=i("olcB"),c=i("69Ig"),l=i("goKL"),u=i("s5BM"),d=i("QSe5"),p=i("NmEs"),h=i("WYZc"),m={components:{TablePagination:d.a,GlDeprecatedButton:a.a,GlLoadingIcon:s.a},mixins:[l.a,h.a],props:{endpoint:{type:String,required:!0},helpPagePath:{type:String,required:!0},autoDevopsHelpPath:{type:String,required:!0},errorStateSvgPath:{type:String,required:!0},viewType:{type:String,required:!1,default:"child"},canRunPipeline:{type:Boolean,required:!1,default:!1},projectId:{type:String,required:!1,default:""},mergeRequestId:{type:Number,required:!1,default:0}},data:function(){var t=new c.a;return{store:t,state:t.state,page:Object(p.o)("page")||"1",requestData:{}}},computed:{shouldRenderTable:function(){return!this.isLoading&&this.state.pipelines.length>0&&!this.hasError},shouldRenderErrorState:function(){return this.hasError&&!this.isLoading},canRenderPipelineButton:function(){return this.canRunPipeline&&this.latestPipelineDetachedFlag},latestPipelineDetachedFlag:function(){var t=this.state.pipelines[0];return t&&t.flags&&(t.flags.detached_merge_request_pipeline||t.flags.merge_request_pipeline)},shouldAddNegativeMargin:function(){return this.canRenderPipelineButton&&o.b.isDesktop()}},created:function(){this.service=new r.a(this.endpoint),this.requestData={page:this.page}},methods:{successCallback:function(t){var e=t.data.pipelines||t.data;this.store.storePagination(t.headers),this.setCommonData(e);var i=new CustomEvent("update-pipelines-count",{detail:{pipelines:t.data}});this.$el.parentElement&&this.$el.parentElement.dispatchEvent(i)},onClickRunPipeline:function(){u.a.$emit("runMergeRequestPipeline",{projectId:this.projectId,mergeRequestId:this.mergeRequestId})}}},f=i("tBpV"),g=Object(f.a)(m,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content-list pipelines"},[t.isLoading?i("gl-loading-icon",{staticClass:"prepend-top-20",attrs:{label:t.s__("Pipelines|Loading Pipelines"),size:"lg"}}):t.shouldRenderErrorState?i("svg-blank-state",{attrs:{"svg-path":t.errorStateSvgPath,message:t.s__("Pipelines|There was an error fetching the pipelines.\n    Try again in a few moments or contact your support team.")}}):t.shouldRenderTable?i("div",{staticClass:"table-holder"},[t.canRenderPipelineButton?i("div",{staticClass:"nav justify-content-end"},[t.canRenderPipelineButton?i("gl-deprecated-button",{staticClass:"js-run-mr-pipeline prepend-top-10 btn-wide-on-xs",attrs:{variant:"success",disabled:t.state.isRunningMergeRequestPipeline},on:{click:t.onClickRunPipeline}},[t.state.isRunningMergeRequestPipeline?i("gl-loading-icon",{attrs:{inline:""}}):t._e(),t._v("\n        "+t._s(t.s__("Pipelines|Run Pipeline"))+"\n      ")],1):t._e()],1):t._e(),t._v(" "),i("pipelines-table-component",{class:{"negative-margin-top":t.shouldAddNegativeMargin},attrs:{pipelines:t.state.pipelines,"update-graph-dropdown":t.updateGraphDropdown,"auto-devops-help-path":t.autoDevopsHelpPath,"view-type":t.viewType}})],1):t._e(),t._v(" "),t.shouldRenderPagination?i("table-pagination",{attrs:{change:t.onChangePage,"page-info":t.state.pageInfo}}):t._e()],1)}),[],!1,null,null,null).exports,b=n.default.extend(g);window.gl=window.gl||{},window.gl.CommitPipelinesTable=b;e.a=function(){var t=document.querySelector("#commit-pipeline-table-view");if(t&&(t.addEventListener("update-pipelines-count",(function(t){t.detail.pipelines&&t.detail.pipelines.count&&t.detail.pipelines.count.all&&(document.querySelector(".js-pipelines-mr-count").textContent=t.detail.pipelines.count.all)})),void 0===t.dataset.disableInitialization)){var e=new b({propsData:{endpoint:t.dataset.endpoint,helpPagePath:t.dataset.helpPagePath,emptyStateSvgPath:t.dataset.emptyStateSvgPath,errorStateSvgPath:t.dataset.errorStateSvgPath,autoDevopsHelpPath:t.dataset.helpAutoDevopsPath}}).$mount();t.appendChild(e.$el)}}},f3jp:function(t,e,i){"use strict";i("9U97"),i("7Kf6");var n=i("GTGS"),a=i("FkSe"),s=i("LLbv"),o=i("2ibD"),r=i("0AwG"),c=i("/lV4"),l=i("XRO8"),u={components:{Icon:i("len0").a,GlDeprecatedButton:n.a,GlLoadingIcon:a.a},directives:{GlTooltip:s.a},props:{tooltipText:{type:String,required:!0},link:{type:String,required:!0},actionIcon:{type:String,required:!0}},data:function(){return{isDisabled:!1,isLoading:!1}},computed:{cssClass:function(){var t=Object(r.f)(this.actionIcon);return"".concat(t," js-icon-").concat(t)}},methods:{onClickAction:function(){var t=this;this.$root.$emit("bv::hide::tooltip","js-ci-action-".concat(this.link)),this.isDisabled=!0,this.isLoading=!0,o.a.post("".concat(this.link,".json")).then((function(){t.isDisabled=!1,t.isLoading=!1,t.$emit("pipelineActionRequestComplete")})).catch((function(){t.isDisabled=!1,t.isLoading=!1,Object(l.a)(Object(c.a)("An error occurred while making the request."))}))}}},d=i("tBpV"),p=Object(d.a)(u,(function(){var t=this.$createElement,e=this._self._c||t;return e("gl-deprecated-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{boundary:"viewport"},expression:"{ boundary: 'viewport' }"}],staticClass:"js-ci-action btn btn-blank btn-transparent ci-action-icon-container ci-action-icon-wrapper d-flex align-items-center justify-content-center",class:this.cssClass,attrs:{id:"js-ci-action-"+this.link,title:this.tooltipText,disabled:this.isDisabled},on:{click:this.onClickAction}},[this.isLoading?e("gl-loading-icon",{staticClass:"js-action-icon-loading"}):e("icon",{attrs:{name:this.actionIcon}})],1)}),[],!1,null,null,null);e.a=p.exports},g2ce:function(t,e,i){"use strict";i.r(e);var n=i("1pLT"),a=i("UtYG"),s=(i("t3Gg"),i("3a3M")),o=i.n(s),r=i("bOix"),c=i("2ibD"),l=i("lNAJ"),u=(i("+xeR"),function(t,e,i,n){return e.show(),i.empty(),c.a.get(t,{params:n}).then((function(t){var n=t.data;e.hide(),i.html(n),Object(r.m)(o()(".js-timeago",i))}))}),d=function(t){var e,i=t.dataset,n=i.sourceBranchUrl,a=i.targetBranchUrl;(e=o()(".js-target-project")).glDropdown({selectable:!0,fieldName:e.data("fieldName"),filterable:!0,id:function(t,e){return e.data("id")},toggleLabel:function(t,e){return e.text().trim()},clicked:function(t){var e=t.$el;o()(".mr_target_commit").empty();var i=o()(".js-target-branch");i.data("refsUrl",e.data("refsUrl")),i.data("glDropdown").clearMenu()}});var s=function(){return u(n,o()(t).find(".js-source-loading"),o()(t).find(".mr_source_commit"),{ref:o()(t).find("input[name='merge_request[source_branch]']").val()})},r=function(){return u(a,o()(t).find(".js-target-loading"),o()(t).find(".mr_target_commit"),{target_project_id:o()(t).find("input[name='merge_request[target_project_id]']").val(),ref:o()(t).find("input[name='merge_request[target_branch]']").val()})};Object(l.a)("branches",(function(t){t.is(".js-target-branch")?r():t.is(".js-source-branch")&&s()})),s(),r()};document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector(".js-merge-request-new-compare");if(t)d(t);else{var e=document.querySelector(".js-merge-request-new-submit");new n.a({action:e.dataset.mrSubmitAction}),Object(a.a)()}}))},lNAJ:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));i("t3Gg"),i("IdsT"),i("S26F"),i("+xeR");var n=i("3a3M"),a=i.n(n),s=i("/lV4"),o=i("2ibD"),r=i("XRO8"),c=i("0AwG");function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};a()(".js-compare-dropdown").each((function(){var i=a()(this),n=i.data("selected"),l=i.closest(".dropdown"),u=a()('input[name="'.concat(i.data("fieldName"),'"]'),l),d=a()('input[type="search"]',l);i.glDropdown({data:function(e,n){var a={ref:i.data("ref"),search:e};t&&(a.find=t),o.a.get(i.data("refsUrl"),{params:a}).then((function(e){var i=e.data;n(t?i[Object(c.b)(t)]||[]:i)})).catch((function(){return Object(r.a)(Object(s.a)("Error fetching refs"))}))},selectable:!0,filterable:!0,filterRemote:Boolean(i.data("refsUrl")),fieldName:i.data("fieldName"),filterInput:'input[type="search"]',renderRow:function(t){var e=a()("<a />").attr("href","#").addClass(t===n?"is-active":"").text(t).attr("data-ref",t);return null!=t.header?a()("<li />").addClass("dropdown-header").text(t.header):a()("<li />").append(e)},id:function(t,e){return e.attr("data-ref")},toggleLabel:function(t,e){return e.text().trim()},clicked:function(){return e(i)}}),d.on("keyup",(function(t){if(13===(t.keyCode||t.which)){var e=d.val();u.val(e),a()(".dropdown-toggle-text",i).text(e),l.removeClass("open")}})),l.on("click",".dropdown-content a",(function(t){i.prop("title",t.target.text.replace(/_+?/g,"-")),i.hasClass("has-tooltip")&&i.tooltip("_fixTitle")}))}))}},o4PY:function(t,e,i){var n=i("rhmX"),a=0;t.exports=function(t){var e=++a;return n(t)+e}},s5BM:function(t,e,i){"use strict";var n=i("jB52");e.a=new n.default}},[[142,1,0,2,5,6,7,8,9,11,15,23,31,35,52,56,74]]]);
//# sourceMappingURL=pages.projects.merge_requests.creations.new.5af928f7.chunk.js.map