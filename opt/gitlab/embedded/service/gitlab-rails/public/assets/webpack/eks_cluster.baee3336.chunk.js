(this.webpackJsonp=this.webpackJsonp||[]).push([[88],{202:function(e,t){},"3c3Z":function(e,t,r){"use strict";var n={components:{GlLoadingIcon:r("FkSe").a},props:{loading:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1},containerClass:{type:[String,Array,Object],required:!1,default:"btn btn-align-content"}},methods:{onClick:function(e){this.$emit("click",e)}}},o=r("tBpV"),s=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{class:e.containerClass,attrs:{disabled:e.loading||e.disabled,type:"button"},on:{click:e.onClick}},[r("transition",{attrs:{name:"fade-in"}},[e.loading?r("gl-loading-icon",{staticClass:"js-loading-button-icon",class:{"append-right-5":e.label},attrs:{inline:!0}}):e._e()],1),e._v(" "),r("transition",{attrs:{name:"fade-in"}},[e._t("default",[e.label?r("span",{staticClass:"js-loading-button-label"},[e._v(" "+e._s(e.label)+" ")]):e._e()])],2)],1)}),[],!1,null,null,null);t.a=s.exports},oVc2:function(e,t){},"rK/1":function(e,t,r){"use strict";var n=r("LLbv"),o=r("GTGS"),s=r("s1D3"),a={name:"ClipboardButton",directives:{GlTooltip:n.a},components:{GlDeprecatedButton:o.a,GlIcon:s.a},props:{text:{type:String,required:!0},gfm:{type:String,required:!1,default:null},title:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},tooltipContainer:{type:[String,Boolean],required:!1,default:!1},cssClass:{type:String,required:!1,default:"btn-default"}},computed:{clipboardText:function(){return null!==this.gfm?JSON.stringify({text:this.text,gfm:this.gfm}):this.text}}},i=r("tBpV"),l=Object(i.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("gl-deprecated-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{placement:this.tooltipPlacement,container:this.tooltipContainer},expression:"{ placement: tooltipPlacement, container: tooltipContainer }"},{name:"gl-tooltip",rawName:"v-gl-tooltip.hover.blur",modifiers:{hover:!0,blur:!0}}],class:this.cssClass,attrs:{title:this.title,"data-clipboard-text":this.clipboardText}},[t("gl-icon",{attrs:{name:"copy-to-clipboard"}})],1)}),[],!1,null,null,null);t.a=l.exports},"x/Qu":function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"setClusterName",(function(){return ke})),r.d(n,"setEnvironmentScope",(function(){return Oe})),r.d(n,"setKubernetesVersion",(function(){return xe})),r.d(n,"createRole",(function(){return Le})),r.d(n,"requestCreateRole",(function(){return Pe})),r.d(n,"createRoleSuccess",(function(){return Re})),r.d(n,"createRoleError",(function(){return Te})),r.d(n,"createCluster",(function(){return we})),r.d(n,"requestCreateCluster",(function(){return je})),r.d(n,"createClusterSuccess",(function(){return Ae})),r.d(n,"createClusterError",(function(){return De})),r.d(n,"setRegion",(function(){return Ve})),r.d(n,"setKeyPair",(function(){return Ne})),r.d(n,"setVpc",(function(){return Me})),r.d(n,"setSubnet",(function(){return Ge})),r.d(n,"setRole",(function(){return He})),r.d(n,"setSecurityGroup",(function(){return Ke})),r.d(n,"setGitlabManagedCluster",(function(){return qe})),r.d(n,"setInstanceType",(function(){return Be})),r.d(n,"setNodeCount",(function(){return Ue}));var o={};r.r(o),r.d(o,"subnetValid",(function(){return Fe}));var s=r("jB52"),a=r("yi8e"),i=r("NmEs"),l=(r("va8A"),r("kO4A"),r("+kFb"),r("zCcL"),r("zpLX"),r("BD5p"),r("Id6h"),r("G3fq")),c=r.n(l),u=r("PrLL"),d=r("/lV4"),p=r("rK/1"),f=r("3c3Z");function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h={components:{GlFormInput:u.a,LoadingButton:f.a,ClipboardButton:p.a},props:{accountAndExternalIdsHelpPath:{type:String,required:!0},createRoleArnHelpPath:{type:String,required:!0},externalLinkIcon:{type:String,required:!0}},data:function(){return{roleArn:this.$store.state.roleArn}},computed:m(m({},Object(a.e)(["accountId","externalId","isCreatingRole","createRoleError"])),{},{submitButtonDisabled:function(){return this.isCreatingRole||!this.roleArn},submitButtonLabel:function(){return this.isCreatingRole?Object(d.a)("Authenticating"):Object(d.d)("ClusterIntegration|Authenticate with AWS")},accountAndExternalIdsHelpText:function(){var e=c()(this.accountAndExternalIdsHelpPath);return Object(d.e)(Object(d.d)("ClusterIntegration|Create a provision role on %{startAwsLink}Amazon Web Services %{externalLinkIcon}%{endLink} using the account and external ID above. %{startMoreInfoLink}More information%{endLink}"),{startAwsLink:'<a href="https://console.aws.amazon.com/iam/home?#roles" target="_blank" rel="noopener noreferrer">',startMoreInfoLink:'<a href="'.concat(e,'" target="_blank" rel="noopener noreferrer">'),externalLinkIcon:this.externalLinkIcon,endLink:"</a>"},!1)},provisionRoleArnHelpText:function(){var e=c()(this.createRoleArnHelpPath);return Object(d.e)(Object(d.d)("ClusterIntegration|The Amazon Resource Name (ARN) associated with your role. If you do not have a provision role, first create one on  %{startAwsLink}Amazon Web Services %{externalLinkIcon}%{endLink} using the above account and external IDs. %{startMoreInfoLink}More information%{endLink}"),{startAwsLink:'<a href="https://console.aws.amazon.com/iam/home?#roles" target="_blank" rel="noopener noreferrer">',startMoreInfoLink:'<a href="'.concat(e,'" target="_blank" rel="noopener noreferrer">'),externalLinkIcon:this.externalLinkIcon,endLink:"</a>"},!1)}}),methods:m({},Object(a.c)(["createRole"]))},_=r("tBpV"),v=Object(_.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{attrs:{name:"service-credentials-form"}},[r("h4",[e._v(e._s(e.s__("ClusterIntegration|Authenticate with Amazon Web Services")))]),e._v(" "),r("p",[e._v("\n    "+e._s(e.s__("ClusterIntegration|You must grant access to your organizationâ€™s AWS resources in order to create a new EKS cluster. To grant access, create a provision role using the account and external ID below and provide us the ARN."))+"\n  ")]),e._v(" "),e.createRoleError?r("div",{staticClass:"js-invalid-credentials bs-callout bs-callout-danger"},[e._v("\n    "+e._s(e.createRoleError)+"\n  ")]):e._e(),e._v(" "),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"gitlab-account-id"}},[e._v(e._s(e.__("Account ID")))]),e._v(" "),r("div",{staticClass:"input-group"},[r("gl-form-input",{attrs:{id:"gitlab-account-id",type:"text",readonly:"",value:e.accountId}}),e._v(" "),r("div",{staticClass:"input-group-append"},[r("clipboard-button",{staticClass:"input-group-text js-copy-account-id-button",attrs:{text:e.accountId,title:e.__("Copy Account ID to clipboard")}})],1)],1)]),e._v(" "),r("div",{staticClass:"form-group col-md-6"},[r("label",{attrs:{for:"eks-external-id"}},[e._v(e._s(e.__("External ID")))]),e._v(" "),r("div",{staticClass:"input-group"},[r("gl-form-input",{attrs:{id:"eks-external-id",type:"text",readonly:"",value:e.externalId}}),e._v(" "),r("div",{staticClass:"input-group-append"},[r("clipboard-button",{staticClass:"input-group-text js-copy-external-id-button",attrs:{text:e.externalId,title:e.__("Copy External ID to clipboard")}})],1)],1)]),e._v(" "),r("div",{staticClass:"col-12 mb-3 mt-n3"},[r("p",{staticClass:"form-text text-muted",domProps:{innerHTML:e._s(e.accountAndExternalIdsHelpText)}})])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"eks-provision-role-arn"}},[e._v(e._s(e.s__("ClusterIntegration|Provision Role ARN")))]),e._v(" "),r("gl-form-input",{attrs:{id:"eks-provision-role-arn"},model:{value:e.roleArn,callback:function(t){e.roleArn=t},expression:"roleArn"}}),e._v(" "),r("p",{staticClass:"form-text text-muted",domProps:{innerHTML:e._s(e.provisionRoleArnHelpText)}})],1),e._v(" "),r("loading-button",{staticClass:"js-submit-service-credentials btn-success",attrs:{type:"submit",disabled:e.submitButtonDisabled,loading:e.isCreatingRole,label:e.submitButtonLabel},on:{click:function(t){return t.preventDefault(),e.createRole({roleArn:e.roleArn,externalId:e.externalId})}}})],1)}),[],!1,null,null,null).exports,y=r("SeSR"),C=(r("9U97"),r("FMw2"),r("S6uq"),r("gyUR"),r("Z5ek"),r("y6Fo"),r("jnfO"),r("QifN"),r("59DU")),I=r.n(C),S=r("3a3M"),E=r.n(S),k=r("s1D3"),O=r("99qW"),x=r("4giJ"),L=r("7hrM"),P=function(e){return I()(e)?[]:[].concat(e)},R=function(e,t){return e.map((function(e){return e[t]}))},T={components:{DropdownButton:L.a,DropdownSearchInput:O.a,DropdownHiddenInput:x.a,GlIcon:k.a},props:{fieldName:{type:String,required:!1,default:""},placeholder:{type:String,required:!1,default:""},defaultValue:{type:String,required:!1,default:""},value:{type:[Object,Array,String],required:!1,default:function(){return null}},labelProperty:{type:String,required:!1,default:"name"},valueProperty:{type:String,required:!1,default:"value"},items:{type:Array,required:!1,default:function(){return[]}},loading:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},loadingText:{type:String,required:!1,default:""},disabledText:{type:String,required:!1,default:""},hasErrors:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!1},errorMessage:{type:String,required:!1,default:""},searchFieldPlaceholder:{type:String,required:!1,default:""},emptyText:{type:String,required:!1,default:""},searchFn:{type:Function,required:!1,default:function(e,t){return function(r){return r[t].toLowerCase().indexOf(e)>-1}}}},data:function(){return{searchQuery:"",focusOnSearch:!1}},computed:{toggleText:function(){return this.loading&&this.loadingText?this.loadingText:this.disabled&&this.disabledText?this.disabledText:this.selectedItems.length?this.selectedItemsLabels:this.placeholder},results:function(){return this.getItemsOrEmptyList().filter(this.searchFn(this.searchQuery,this.labelProperty))},selectedItems:function(){var e=this.valueProperty,t=P(this.value);return this.getItemsOrEmptyList().filter((function(r){return t.some((function(t){return r[e]===t}))}))},selectedItemsLabels:function(){return R(this.selectedItems,this.labelProperty).join(", ")},selectedItemsValues:function(){return R(this.selectedItems,this.valueProperty).join(", ")}},mounted:function(){var e=this;E()(this.$refs.dropdown).on("shown.bs.dropdown",(function(){e.focusOnSearch=!0})).on("hidden.bs.dropdown",(function(){e.focusOnSearch=!1}))},beforeDestroy:function(){E()(this.$refs.dropdown).off()},methods:{getItemsOrEmptyList:function(){return this.items||[]},selectSingle:function(e){this.$emit("input",e[this.valueProperty])},selectMultiple:function(e){var t=P(this.value),r=e[this.valueProperty],n=t.indexOf(r);n>-1?t.splice(n,1):t.push(r),this.$emit("input",t)},isSelected:function(e){return this.selectedItems.includes(e)}}},w=Object(_.a)(T,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{ref:"dropdown",staticClass:"dropdown"},[r("dropdown-hidden-input",{attrs:{name:e.fieldName,value:e.selectedItemsValues}}),e._v(" "),r("dropdown-button",{class:{"border-danger":e.hasErrors},attrs:{"is-disabled":e.disabled,"is-loading":e.loading,"toggle-text":e.toggleText}}),e._v(" "),r("div",{staticClass:"dropdown-menu dropdown-select"},[r("dropdown-search-input",{attrs:{focused:e.focusOnSearch,"placeholder-text":e.searchFieldPlaceholder},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}}),e._v(" "),r("div",{staticClass:"dropdown-content"},[r("ul",[e.results.length?e._e():r("li",[r("span",{staticClass:"js-empty-text menu-item"},[e._v(e._s(e.emptyText))])]),e._v(" "),e._l(e.results,(function(t){return r("li",{key:t.id},[e.multiple?r("button",{staticClass:"js-dropdown-item d-flex align-items-center",attrs:{type:"button"},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),e.selectMultiple(t)}}},[r("gl-icon",{class:[{invisible:!e.isSelected(t)},"mr-1"],attrs:{name:"mobile-issue-close"}}),e._v(" "),e._t("item",[e._v(e._s(t.name))],{item:t})],2):r("button",{staticClass:"js-dropdown-item",attrs:{type:"button"},on:{click:function(r){return r.preventDefault(),e.selectSingle(t)}}},[e._t("item",[e._v(e._s(t.name))],{item:t})],2)])}))],2)])],1)],1),e._v(" "),e.hasErrors&&e.errorMessage?r("span",{class:["form-text js-eks-dropdown-error-message",{"text-danger":e.hasErrors,"text-muted":!e.hasErrors}]},[e._v(e._s(e.errorMessage))]):e._e()])}),[],!1,null,null,null).exports,j=[{name:"1.14",value:"1.14"}];function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var N=Object(a.a)("roles"),M=N.mapState,G=N.mapActions,H=Object(a.a)("regions"),K=H.mapState,q=H.mapActions,B=Object(a.a)("keyPairs"),U=B.mapState,F=B.mapActions,z=Object(a.a)("vpcs"),Q=z.mapState,W=z.mapActions,$=Object(a.a)("subnets"),Y=$.mapState,J=$.mapActions,Z=Object(a.a)("securityGroups"),X=Z.mapState,ee=Z.mapActions,te=Object(a.a)("instanceTypes").mapState,re={components:{ClusterFormDropdown:w,GlFormInput:u.a,GlFormCheckbox:y.a,LoadingButton:f.a},props:{gitlabManagedClusterHelpPath:{type:String,required:!0},kubernetesIntegrationHelpPath:{type:String,required:!0},externalLinkIcon:{type:String,required:!0}},computed:D(D(D(D(D(D(D(D(D(D({},Object(a.e)(["clusterName","environmentScope","kubernetesVersion","selectedRegion","selectedKeyPair","selectedVpc","selectedSubnet","selectedRole","selectedSecurityGroup","selectedInstanceType","nodeCount","gitlabManagedCluster","isCreatingCluster"])),Object(a.d)(["subnetValid"])),M({roles:"items",isLoadingRoles:"isLoadingItems",loadingRolesError:"loadingItemsError"})),K({regions:"items",isLoadingRegions:"isLoadingItems",loadingRegionsError:"loadingItemsError"})),U({keyPairs:"items",isLoadingKeyPairs:"isLoadingItems",loadingKeyPairsError:"loadingItemsError"})),Q({vpcs:"items",isLoadingVpcs:"isLoadingItems",loadingVpcsError:"loadingItemsError"})),Y({subnets:"items",isLoadingSubnets:"isLoadingItems",loadingSubnetsError:"loadingItemsError"})),X({securityGroups:"items",isLoadingSecurityGroups:"isLoadingItems",loadingSecurityGroupsError:"loadingItemsError"})),te({instanceTypes:"items",isLoadingInstanceTypes:"isLoadingItems",loadingInstanceTypesError:"loadingItemsError"})),{},{kubernetesVersions:function(){return j},vpcDropdownDisabled:function(){return!this.selectedRegion},keyPairDropdownDisabled:function(){return!this.selectedRegion},subnetDropdownDisabled:function(){return!this.selectedVpc},securityGroupDropdownDisabled:function(){return!this.selectedVpc},createClusterButtonDisabled:function(){return!this.clusterName||!this.environmentScope||!this.kubernetesVersion||!this.selectedRegion||!this.selectedKeyPair||!this.selectedVpc||!this.subnetValid||!this.selectedRole||!this.selectedSecurityGroup||!this.selectedInstanceType||!this.nodeCount||this.isCreatingCluster},displaySubnetError:function(){var e;return Boolean(this.loadingSubnetsError)||1===(null===(e=this.selectedSubnet)||void 0===e?void 0:e.length)},createClusterButtonLabel:function(){return this.isCreatingCluster?Object(d.d)("ClusterIntegration|Creating Kubernetes cluster"):Object(d.d)("ClusterIntegration|Create Kubernetes cluster")},kubernetesIntegrationHelpText:function(){var e=c()(this.kubernetesIntegrationHelpPath);return Object(d.e)(Object(d.d)("ClusterIntegration|Read our %{link_start}help page%{link_end} on Kubernetes cluster integration."),{link_start:'<a href="'.concat(e,'" target="_blank" rel="noopener noreferrer">'),link_end:"</a>"},!1)},roleDropdownHelpText:function(){return Object(d.e)(Object(d.d)("ClusterIntegration|Your service role is distinct from the provision role used when authenticating. It will allow Amazon EKS and the Kubernetes control plane to manage AWS resources on your behalf. To use a new role, first create one on %{startLink}Amazon Web Services %{externalLinkIcon} %{endLink}."),{startLink:'<a href="https://docs.aws.amazon.com/eks/latest/userguide/service_IAM_role.html#create-service-role" target="_blank" rel="noopener noreferrer">',externalLinkIcon:this.externalLinkIcon,endLink:"</a>"},!1)},regionsDropdownHelpText:function(){return Object(d.e)(Object(d.d)("ClusterIntegration|Learn more about %{startLink}Regions %{externalLinkIcon}%{endLink}."),{startLink:'<a href="https://aws.amazon.com/about-aws/global-infrastructure/regional-product-services/" target="_blank" rel="noopener noreferrer">',externalLinkIcon:this.externalLinkIcon,endLink:"</a>"},!1)},keyPairDropdownHelpText:function(){return Object(d.e)(Object(d.d)("ClusterIntegration|Select the key pair name that will be used to create EC2 nodes. To use a new key pair name, first create one on %{startLink}Amazon Web Services %{externalLinkIcon} %{endLink}."),{startLink:'<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html#having-ec2-create-your-key-pair" target="_blank" rel="noopener noreferrer">',externalLinkIcon:this.externalLinkIcon,endLink:"</a>"},!1)},vpcDropdownHelpText:function(){return Object(d.e)(Object(d.d)("ClusterIntegration|Select a VPC to use for your EKS Cluster resources. To use a new VPC, first create one on %{startLink}Amazon Web Services %{externalLinkIcon} %{endLink}."),{startLink:'<a href="https://docs.aws.amazon.com/eks/latest/userguide/getting-started-console.html#vpc-create" target="_blank" rel="noopener noreferrer">',externalLinkIcon:this.externalLinkIcon,endLink:"</a>"},!1)},subnetDropdownHelpText:function(){return Object(d.e)(Object(d.d)("ClusterIntegration|Choose the %{startLink}subnets %{externalLinkIcon} %{endLink} in your VPC where your worker nodes will run."),{startLink:'<a href="https://console.aws.amazon.com/vpc/home?#subnets" target="_blank" rel="noopener noreferrer">',externalLinkIcon:this.externalLinkIcon,endLink:"</a>"},!1)},subnetValidationErrorText:function(){return this.loadingSubnetsError?Object(d.d)("ClusterIntegration|Could not load subnets for the selected VPC"):Object(d.d)("ClusterIntegration|You should select at least two subnets")},securityGroupDropdownHelpText:function(){return Object(d.e)(Object(d.d)("ClusterIntegration|Choose the %{startLink}security group %{externalLinkIcon} %{endLink} to apply to the EKS-managed Elastic Network Interfaces that are created in your worker node subnets."),{startLink:'<a href="https://console.aws.amazon.com/vpc/home?#securityGroups" target="_blank" rel="noopener noreferrer">',externalLinkIcon:this.externalLinkIcon,endLink:"</a>"},!1)},instanceTypesDropdownHelpText:function(){return Object(d.e)(Object(d.d)("ClusterIntegration|Choose the worker node %{startLink}instance type %{externalLinkIcon} %{endLink}."),{startLink:'<a href="https://aws.amazon.com/ec2/instance-types" target="_blank" rel="noopener noreferrer">',externalLinkIcon:this.externalLinkIcon,endLink:"</a>"},!1)},gitlabManagedHelpText:function(){var e=c()(this.gitlabManagedClusterHelpPath);return Object(d.e)(Object(d.d)("ClusterIntegration|Allow GitLab to manage namespace and service accounts for this cluster. %{startLink}More information%{endLink}"),{startLink:'<a href="'.concat(e,'" target="_blank" rel="noopener noreferrer">'),endLink:"</a>"},!1)}}),mounted:function(){this.fetchRegions(),this.fetchRoles()},methods:D(D(D(D(D(D(D(D({},Object(a.c)(["createCluster","setClusterName","setEnvironmentScope","setKubernetesVersion","setRegion","setVpc","setSubnet","setRole","setKeyPair","setSecurityGroup","setInstanceType","setNodeCount","setGitlabManagedCluster"])),q({fetchRegions:"fetchItems"})),W({fetchVpcs:"fetchItems"})),J({fetchSubnets:"fetchItems"})),G({fetchRoles:"fetchItems"})),F({fetchKeyPairs:"fetchItems"})),ee({fetchSecurityGroups:"fetchItems"})),{},{setRegionAndFetchVpcsAndKeyPairs:function(e){this.setRegion({region:e}),this.setVpc({vpc:null}),this.setKeyPair({keyPair:null}),this.setSubnet({subnet:[]}),this.setSecurityGroup({securityGroup:null}),this.fetchVpcs({region:e}),this.fetchKeyPairs({region:e})},setVpcAndFetchSubnets:function(e){this.setVpc({vpc:e}),this.setSubnet({subnet:[]}),this.setSecurityGroup({securityGroup:null}),this.fetchSubnets({vpc:e,region:this.selectedRegion}),this.fetchSecurityGroups({vpc:e,region:this.selectedRegion})}})};function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var se={components:{ServiceCredentialsForm:v,EksClusterConfigurationForm:Object(_.a)(re,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{attrs:{name:"eks-cluster-configuration-form"}},[r("h4",[e._v("\n    "+e._s(e.s__("ClusterIntegration|Enter the details for your Amazon EKS Kubernetes cluster"))+"\n  ")]),e._v(" "),r("div",{staticClass:"mb-3",domProps:{innerHTML:e._s(e.kubernetesIntegrationHelpText)}}),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{staticClass:"label-bold",attrs:{for:"eks-cluster-name"}},[e._v(e._s(e.s__("ClusterIntegration|Kubernetes cluster name")))]),e._v(" "),r("gl-form-input",{attrs:{id:"eks-cluster-name",value:e.clusterName},on:{input:function(t){return e.setClusterName({clusterName:t})}}})],1),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{staticClass:"label-bold",attrs:{for:"eks-environment-scope"}},[e._v(e._s(e.s__("ClusterIntegration|Environment scope")))]),e._v(" "),r("gl-form-input",{attrs:{id:"eks-environment-scope",value:e.environmentScope},on:{input:function(t){return e.setEnvironmentScope({environmentScope:t})}}})],1),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{staticClass:"label-bold",attrs:{for:"eks-kubernetes-version"}},[e._v(e._s(e.s__("ClusterIntegration|Kubernetes version")))]),e._v(" "),r("cluster-form-dropdown",{attrs:{"field-id":"eks-kubernetes-version","field-name":"eks-kubernetes-version",value:e.kubernetesVersion,items:e.kubernetesVersions,"empty-text":e.s__("ClusterIntegration|Kubernetes version not found")},on:{input:function(t){return e.setKubernetesVersion({kubernetesVersion:t})}}})],1),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{staticClass:"label-bold",attrs:{for:"eks-role"}},[e._v(e._s(e.s__("ClusterIntegration|Service role")))]),e._v(" "),r("cluster-form-dropdown",{attrs:{"field-id":"eks-role","field-name":"eks-role",value:e.selectedRole,items:e.roles,loading:e.isLoadingRoles,"loading-text":e.s__("ClusterIntegration|Loading IAM Roles"),placeholder:e.s__("ClusterIntergation|Select service role"),"search-field-placeholder":e.s__("ClusterIntegration|Search IAM Roles"),"empty-text":e.s__("ClusterIntegration|No IAM Roles found"),"has-errors":Boolean(e.loadingRolesError),"error-message":e.s__("ClusterIntegration|Could not load IAM roles")},on:{input:function(t){return e.setRole({role:t})}}}),e._v(" "),r("p",{staticClass:"form-text text-muted",domProps:{innerHTML:e._s(e.roleDropdownHelpText)}})],1),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{staticClass:"label-bold",attrs:{for:"eks-role"}},[e._v(e._s(e.s__("ClusterIntegration|Region")))]),e._v(" "),r("cluster-form-dropdown",{attrs:{"field-id":"eks-region","field-name":"eks-region",value:e.selectedRegion,items:e.regions,loading:e.isLoadingRegions,"loading-text":e.s__("ClusterIntegration|Loading Regions"),placeholder:e.s__("ClusterIntergation|Select a region"),"search-field-placeholder":e.s__("ClusterIntegration|Search regions"),"empty-text":e.s__("ClusterIntegration|No region found"),"has-errors":Boolean(e.loadingRegionsError),"error-message":e.s__("ClusterIntegration|Could not load regions from your AWS account")},on:{input:function(t){return e.setRegionAndFetchVpcsAndKeyPairs(t)}}}),e._v(" "),r("p",{staticClass:"form-text text-muted",domProps:{innerHTML:e._s(e.regionsDropdownHelpText)}})],1),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{staticClass:"label-bold",attrs:{for:"eks-key-pair"}},[e._v(e._s(e.s__("ClusterIntegration|Key pair name")))]),e._v(" "),r("cluster-form-dropdown",{attrs:{"field-id":"eks-key-pair","field-name":"eks-key-pair",value:e.selectedKeyPair,items:e.keyPairs,disabled:e.keyPairDropdownDisabled,"disabled-text":e.s__("ClusterIntegration|Select a region to choose a Key Pair"),loading:e.isLoadingKeyPairs,"loading-text":e.s__("ClusterIntegration|Loading Key Pairs"),placeholder:e.s__("ClusterIntergation|Select key pair"),"search-field-placeholder":e.s__("ClusterIntegration|Search Key Pairs"),"empty-text":e.s__("ClusterIntegration|No Key Pairs found"),"has-errors":Boolean(e.loadingKeyPairsError),"error-message":e.s__("ClusterIntegration|Could not load Key Pairs")},on:{input:function(t){return e.setKeyPair({keyPair:t})}}}),e._v(" "),r("p",{staticClass:"form-text text-muted",domProps:{innerHTML:e._s(e.keyPairDropdownHelpText)}})],1),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{staticClass:"label-bold",attrs:{for:"eks-vpc"}},[e._v(e._s(e.s__("ClusterIntegration|VPC")))]),e._v(" "),r("cluster-form-dropdown",{attrs:{"field-id":"eks-vpc","field-name":"eks-vpc",value:e.selectedVpc,items:e.vpcs,loading:e.isLoadingVpcs,disabled:e.vpcDropdownDisabled,"disabled-text":e.s__("ClusterIntegration|Select a region to choose a VPC"),"loading-text":e.s__("ClusterIntegration|Loading VPCs"),placeholder:e.s__("ClusterIntergation|Select a VPC"),"search-field-placeholder":e.s__("ClusterIntegration|Search VPCs"),"empty-text":e.s__("ClusterIntegration|No VPCs found"),"has-errors":Boolean(e.loadingVpcsError),"error-message":e.s__("ClusterIntegration|Could not load VPCs for the selected region")},on:{input:function(t){return e.setVpcAndFetchSubnets(t)}}}),e._v(" "),r("p",{staticClass:"form-text text-muted",domProps:{innerHTML:e._s(e.vpcDropdownHelpText)}})],1),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{staticClass:"label-bold",attrs:{for:"eks-role"}},[e._v(e._s(e.s__("ClusterIntegration|Subnets")))]),e._v(" "),r("cluster-form-dropdown",{attrs:{"field-id":"eks-subnet","field-name":"eks-subnet",multiple:"",value:e.selectedSubnet,items:e.subnets,loading:e.isLoadingSubnets,disabled:e.subnetDropdownDisabled,"disabled-text":e.s__("ClusterIntegration|Select a VPC to choose a subnet"),"loading-text":e.s__("ClusterIntegration|Loading subnets"),placeholder:e.s__("ClusterIntergation|Select a subnet"),"search-field-placeholder":e.s__("ClusterIntegration|Search subnets"),"empty-text":e.s__("ClusterIntegration|No subnet found"),"has-errors":e.displaySubnetError,"error-message":e.subnetValidationErrorText},on:{input:function(t){return e.setSubnet({subnet:t})}}}),e._v(" "),r("p",{staticClass:"form-text text-muted",domProps:{innerHTML:e._s(e.subnetDropdownHelpText)}})],1),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{staticClass:"label-bold",attrs:{for:"eks-security-group"}},[e._v(e._s(e.s__("ClusterIntegration|Security group")))]),e._v(" "),r("cluster-form-dropdown",{attrs:{"field-id":"eks-security-group","field-name":"eks-security-group",value:e.selectedSecurityGroup,items:e.securityGroups,loading:e.isLoadingSecurityGroups,disabled:e.securityGroupDropdownDisabled,"disabled-text":e.s__("ClusterIntegration|Select a VPC to choose a security group"),"loading-text":e.s__("ClusterIntegration|Loading security groups"),placeholder:e.s__("ClusterIntergation|Select a security group"),"search-field-placeholder":e.s__("ClusterIntegration|Search security groups"),"empty-text":e.s__("ClusterIntegration|No security group found"),"has-errors":Boolean(e.loadingSecurityGroupsError),"error-message":e.s__("ClusterIntegration|Could not load security groups for the selected VPC")},on:{input:function(t){return e.setSecurityGroup({securityGroup:t})}}}),e._v(" "),r("p",{staticClass:"form-text text-muted",domProps:{innerHTML:e._s(e.securityGroupDropdownHelpText)}})],1),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{staticClass:"label-bold",attrs:{for:"eks-instance-type"}},[e._v(e._s(e.s__("ClusterIntegration|Instance type")))]),e._v(" "),r("cluster-form-dropdown",{attrs:{"field-id":"eks-instance-type","field-name":"eks-instance-type",value:e.selectedInstanceType,items:e.instanceTypes,loading:e.isLoadingInstanceTypes,"loading-text":e.s__("ClusterIntegration|Loading instance types"),placeholder:e.s__("ClusterIntergation|Select an instance type"),"search-field-placeholder":e.s__("ClusterIntegration|Search instance types"),"empty-text":e.s__("ClusterIntegration|No instance type found"),"has-errors":Boolean(e.loadingInstanceTypesError),"error-message":e.s__("ClusterIntegration|Could not load instance types")},on:{input:function(t){return e.setInstanceType({instanceType:t})}}}),e._v(" "),r("p",{staticClass:"form-text text-muted",domProps:{innerHTML:e._s(e.instanceTypesDropdownHelpText)}})],1),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{staticClass:"label-bold",attrs:{for:"eks-node-count"}},[e._v(e._s(e.s__("ClusterIntegration|Number of nodes")))]),e._v(" "),r("gl-form-input",{attrs:{id:"eks-node-count",type:"number",min:"1",step:"1",value:e.nodeCount},on:{input:function(t){return e.setNodeCount({nodeCount:t})}}})],1),e._v(" "),r("div",{staticClass:"form-group"},[r("gl-form-checkbox",{attrs:{checked:e.gitlabManagedCluster},on:{input:function(t){return e.setGitlabManagedCluster({gitlabManagedCluster:t})}}},[e._v(e._s(e.s__("ClusterIntegration|GitLab-managed cluster")))]),e._v(" "),r("p",{staticClass:"form-text text-muted",domProps:{innerHTML:e._s(e.gitlabManagedHelpText)}})],1),e._v(" "),r("div",{staticClass:"form-group"},[r("loading-button",{staticClass:"js-create-cluster btn-success",attrs:{disabled:e.createClusterButtonDisabled,loading:e.isCreatingCluster,label:e.createClusterButtonLabel},on:{click:function(t){return e.createCluster()}}})],1)])}),[],!1,null,null,null).exports},props:{gitlabManagedClusterHelpPath:{type:String,required:!0},kubernetesIntegrationHelpPath:{type:String,required:!0},accountAndExternalIdsHelpPath:{type:String,required:!0},createRoleArnHelpPath:{type:String,required:!0},externalLinkIcon:{type:String,required:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(a.e)(["hasCredentials"]))},ae=Object(_.a)(se,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"js-create-eks-cluster"},[this.hasCredentials?t("eks-cluster-configuration-form",{attrs:{"gitlab-managed-cluster-help-path":this.gitlabManagedClusterHelpPath,"kubernetes-integration-help-path":this.kubernetesIntegrationHelpPath,"external-link-icon":this.externalLinkIcon}}):t("service-credentials-form",{attrs:{"create-role-arn-help-path":this.createRoleArnHelpPath,"account-and-external-ids-help-path":this.accountAndExternalIdsHelpPath,"external-link-icon":this.externalLinkIcon}})],1)}),[],!1,null,null,null).exports,ie=(r("EWC9"),r("t3Gg"),r("3WzH")),le=r.n(ie),ce=r("dLdN"),ue=r.n(ce),de=r("E/96"),pe=r.n(de);function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var be,he=function(){return(new pe.a).listRoles().promise().then((function(e){return e.Roles.map((function(e){return{name:e.RoleName,value:e.Arn}}))}))},_e=function(){return(new ue.a).describeRegions().promise().then((function(e){return e.Regions.map((function(e){var t=e.RegionName;return{name:t,value:t}}))}))},ve=function(e){var t=e.region;return new ue.a({region:t}).describeKeyPairs().promise().then((function(e){return e.KeyPairs.map((function(e){var t=e.KeyName;return{name:t,value:t}}))}))},ye=function(e){var t=e.region;return new ue.a({region:t}).describeVpcs().promise().then((function(e){return e.Vpcs.map((function(e){return{value:e.VpcId,name:(t=e,r=t.Tags,n=t.VpcId,o=r.find((function(e){return"Name"===e.Key})),o?o.Value:n)};var t,r,n,o}))}))},Ce=function(e){var t=e.vpc,r=e.region;return new ue.a({region:r}).describeSubnets({Filters:[{Name:"vpc-id",Values:[t]}]}).promise().then((function(e){return e.Subnets.map((function(e){var t=e.SubnetId;return{value:t,name:t}}))}))},Ie=function(e){var t=e.region,r=e.vpc;return new ue.a({region:t}).describeSecurityGroups({Filters:[{Name:"vpc-id",Values:[r]}]}).promise().then((function(e){return e.SecurityGroups.map((function(e){return{name:e.GroupName,value:e.GroupId}}))}))},Se=r("2ibD"),Ee=r("XRO8"),ke=function(e,t){(0,e.commit)("SET_CLUSTER_NAME",t)},Oe=function(e,t){(0,e.commit)("SET_ENVIRONMENT_SCOPE",t)},xe=function(e,t){(0,e.commit)("SET_KUBERNETES_VERSION",t)},Le=function(e,t){var r=e.dispatch,n=e.state.createRolePath;return r("requestCreateRole"),Se.a.post(n,{role_arn:t.roleArn,role_external_id:t.externalId}).then((function(e){var t=e.data;return r("createRoleSuccess",Object(i.g)(t))})).catch((function(e){return r("createRoleError",{error:e})}))},Pe=function(e){(0,e.commit)("REQUEST_CREATE_ROLE")},Re=function(e,t){var r=e.commit;!function(e){var t=e.awsCredentials;le.a.config=ge(ge({},t),{},{region:"us-east-2"})}({awsCredentials:t}),r("CREATE_ROLE_SUCCESS")},Te=function(e,t){(0,e.commit)("CREATE_ROLE_ERROR",t)},we=function(e){var t=e.dispatch,r=e.state;return t("requestCreateCluster"),Se.a.post(r.createClusterPath,{name:r.clusterName,environment_scope:r.environmentScope,managed:r.gitlabManagedCluster,provider_aws_attributes:{region:r.selectedRegion,vpc_id:r.selectedVpc,subnet_ids:r.selectedSubnet,role_arn:r.selectedRole,key_name:r.selectedKeyPair,security_group_id:r.selectedSecurityGroup,instance_type:r.selectedInstanceType,num_nodes:r.nodeCount}}).then((function(e){var r=e.headers.location;return t("createClusterSuccess",r)})).catch((function(e){var r=e.response.data;t("createClusterError",r)}))},je=function(e){(0,e.commit)("REQUEST_CREATE_CLUSTER")},Ae=function(e,t){window.location.assign(t)},De=function(e,t){var r;(0,e.commit)("CREATE_CLUSTER_ERROR",t),Object(Ee.a)((r=t)[Object.keys(r)[0]][0])},Ve=function(e,t){(0,e.commit)("SET_REGION",t)},Ne=function(e,t){(0,e.commit)("SET_KEY_PAIR",t)},Me=function(e,t){(0,e.commit)("SET_VPC",t)},Ge=function(e,t){(0,e.commit)("SET_SUBNET",t)},He=function(e,t){(0,e.commit)("SET_ROLE",t)},Ke=function(e,t){(0,e.commit)("SET_SECURITY_GROUP",t)},qe=function(e,t){(0,e.commit)("SET_GITLAB_MANAGED_CLUSTER",t)},Be=function(e,t){(0,e.commit)("SET_INSTANCE_TYPE",t)},Ue=function(e,t){(0,e.commit)("SET_NODE_COUNT",t)},Fe=function(e){var t=e.selectedSubnet;return Array.isArray(t)&&t.length>=2};function ze(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qe=(ze(be={},"SET_CLUSTER_NAME",(function(e,t){var r=t.clusterName;e.clusterName=r})),ze(be,"SET_ENVIRONMENT_SCOPE",(function(e,t){var r=t.environmentScope;e.environmentScope=r})),ze(be,"SET_KUBERNETES_VERSION",(function(e,t){var r=t.kubernetesVersion;e.kubernetesVersion=r})),ze(be,"SET_REGION",(function(e,t){var r=t.region;e.selectedRegion=r})),ze(be,"SET_KEY_PAIR",(function(e,t){var r=t.keyPair;e.selectedKeyPair=r})),ze(be,"SET_VPC",(function(e,t){var r=t.vpc;e.selectedVpc=r})),ze(be,"SET_SUBNET",(function(e,t){var r=t.subnet;e.selectedSubnet=r})),ze(be,"SET_ROLE",(function(e,t){var r=t.role;e.selectedRole=r})),ze(be,"SET_SECURITY_GROUP",(function(e,t){var r=t.securityGroup;e.selectedSecurityGroup=r})),ze(be,"SET_INSTANCE_TYPE",(function(e,t){var r=t.instanceType;e.selectedInstanceType=r})),ze(be,"SET_NODE_COUNT",(function(e,t){var r=t.nodeCount;e.nodeCount=r})),ze(be,"SET_GITLAB_MANAGED_CLUSTER",(function(e,t){var r=t.gitlabManagedCluster;e.gitlabManagedCluster=r})),ze(be,"REQUEST_CREATE_ROLE",(function(e){e.isCreatingRole=!0,e.createRoleError=null,e.hasCredentials=!1})),ze(be,"CREATE_ROLE_SUCCESS",(function(e){e.isCreatingRole=!1,e.createRoleError=null,e.hasCredentials=!0})),ze(be,"CREATE_ROLE_ERROR",(function(e,t){var r=t.error;e.isCreatingRole=!1,e.createRoleError=r,e.hasCredentials=!1})),ze(be,"REQUEST_CREATE_CLUSTER",(function(e){e.isCreatingCluster=!0,e.createClusterError=null})),ze(be,"CREATE_CLUSTER_ERROR",(function(e,t){var r=t.error;e.isCreatingCluster=!1,e.createClusterError=r})),be);r("z4I3"),r("dj/k"),r("OZM5"),r("x/6R"),r("4ql4"),r("8Qi2"),r("MRnW"),r("GzNv"),r("tbvx"),r("orcL");function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $e,Ye,Je,Ze=(Ye=1,function(e){if(Array.isArray(e))return e}($e=j)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,s=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,s=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw s}}return r}}($e,Ye)||function(e,t){if(e){if("string"==typeof e)return We(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?We(e,t):void 0}}($e,Ye)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].value,Xe=r("oVc2");function et(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tt=(et(Je={},"REQUEST_ITEMS",(function(e){e.isLoadingItems=!0,e.loadingItemsError=null})),et(Je,"REQUEST_ITEMS_SUCCESS",(function(e,t){var r=t.items;e.isLoadingItems=!1,e.items=r})),et(Je,"RECEIVE_ITEMS_ERROR",(function(e,t){var r=t.error;e.isLoadingItems=!1,e.loadingItemsError=r})),Je),rt=function(e){var t,r=e.fetchFn,n=e.initialState;return{actions:(t=r,{requestItems:function(e){return(0,e.commit)("REQUEST_ITEMS")},receiveItemsSuccess:function(e,t){return(0,e.commit)("REQUEST_ITEMS_SUCCESS",t)},receiveItemsError:function(e,t){return(0,e.commit)("RECEIVE_ITEMS_ERROR",t)},fetchItems:function(e,r){var n=e.dispatch;return n("requestItems"),t(r).then((function(e){return n("receiveItemsSuccess",{items:e})})).catch((function(e){return n("receiveItemsError",{error:e})}))}}),getters:Xe,mutations:tt,state:Object.assign({isLoadingItems:!1,items:[],loadingItemsError:null},n||{})}};function nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(r),!0).forEach((function(t){st(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function st(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var at=function(e){var t=e.initialState;return new a.b.Store({actions:n,getters:o,mutations:Qe,state:Object.assign({createRolePath:null,isCreatingRole:!1,roleCreated:!1,createRoleError:!1,accountId:"",externalId:"",roleArn:"",clusterName:"",environmentScope:"*",kubernetesVersion:Ze,selectedRegion:"",selectedRole:"",selectedKeyPair:"",selectedVpc:"",selectedSubnet:[],selectedSecurityGroup:"",selectedInstanceType:"m5.large",nodeCount:"3",isCreatingCluster:!1,createClusterError:!1,gitlabManagedCluster:!0},t),modules:{roles:ot({namespaced:!0},rt({fetchFn:he})),regions:ot({namespaced:!0},rt({fetchFn:_e})),keyPairs:ot({namespaced:!0},rt({fetchFn:ve})),vpcs:ot({namespaced:!0},rt({fetchFn:ye})),subnets:ot({namespaced:!0},rt({fetchFn:Ce})),securityGroups:ot({namespaced:!0},rt({fetchFn:Ie})),instanceTypes:ot({namespaced:!0},rt({initialState:{items:t.instanceTypes}}))}})};s.default.use(a.b);t.default=function(e){var t=e.dataset,r=t.gitlabManagedClusterHelpPath,n=t.kubernetesIntegrationHelpPath,o=t.accountAndExternalIdsHelpPath,a=t.createRoleArnHelpPath,l=t.externalId,c=t.accountId,u=t.instanceTypes,d=t.hasCredentials,p=t.createRolePath,f=t.createClusterPath,g=t.externalLinkIcon,m=t.roleArn;return new s.default({el:e,store:at({initialState:{hasCredentials:Object(i.H)(d),externalId:l,accountId:c,instanceTypes:JSON.parse(u),createRolePath:p,createClusterPath:f,roleArn:m}}),components:{CreateEksCluster:ae},render:function(e){return e("create-eks-cluster",{props:{gitlabManagedClusterHelpPath:r,kubernetesIntegrationHelpPath:n,accountAndExternalIdsHelpPath:o,createRoleArnHelpPath:a,externalLinkIcon:g}})}})}}}]);
//# sourceMappingURL=eks_cluster.baee3336.chunk.js.map