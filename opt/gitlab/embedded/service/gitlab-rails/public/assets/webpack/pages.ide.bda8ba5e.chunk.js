(this.webpackJsonp=this.webpackJsonp||[]).push([[162,59],{"3c3Z":function(e,t,n){"use strict";var r={components:{GlLoadingIcon:n("FkSe").a},props:{loading:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1},containerClass:{type:[String,Array,Object],required:!1,default:"btn btn-align-content"}},methods:{onClick:function(e){this.$emit("click",e)}}},i=n("tBpV"),o=Object(i.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{class:e.containerClass,attrs:{disabled:e.loading||e.disabled,type:"button"},on:{click:e.onClick}},[n("transition",{attrs:{name:"fade-in"}},[e.loading?n("gl-loading-icon",{staticClass:"js-loading-button-icon",class:{"append-right-5":e.label},attrs:{inline:!0}}):e._e()],1),e._v(" "),n("transition",{attrs:{name:"fade-in"}},[e._t("default",[e.label?n("span",{staticClass:"js-loading-button-label"},[e._v(" "+e._s(e.label)+" ")]):e._e()])],2)],1)}),[],!1,null,null,null);t.a=o.exports},"4lAS":function(e,t,n){"use strict";var r=n("ofGl"),i=n("s1D3"),o=n("FkSe"),a=n("LCwo"),s=n("XBTk"),c=n("Pyw5"),l=n.n(c);const u={components:{BButton:r.a,GlIcon:i.a,GlLoadingIcon:o.a},mixins:[a.a],props:{category:{type:String,required:!1,default:s.u.tertiary,validator:function(e){return Object.keys(s.u).includes(e)}},variant:{type:String,required:!1,default:s.x.default,validator:function(e){return Object.keys(s.x).includes(e)}},size:{type:String,required:!1,default:s.v.medium,validator:function(e){return Object.keys(s.v).includes(e)}},selected:{type:Boolean,required:!1,default:!1},icon:{type:String,required:!1,default:""},label:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1}},computed:{hasIcon:function(){return""!==this.icon},hasIconOnly:function(){return 0===Object.keys(this.$slots).length&&this.hasIcon},isButtonDisabled:function(){return this.disabled||this.loading},buttonClasses:function(){return{"btn-icon":this.hasIconOnly,"button-ellipsis-horizontal":this.hasIconOnly&&"ellipsis_h"===this.icon,"btn-secondary":this.category===s.u.secondary,"gl-button":this.variant!==s.x.link,"btn-label":this.label,selected:this.selected}},buttonSize:function(){return s.w[this.size]}}};const d=l()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-button",e._g(e._b({class:e.buttonClasses,attrs:{rel:e.relType,target:e.target,variant:e.variant,size:e.buttonSize,disabled:e.isButtonDisabled}},"b-button",e.$attrs,!1),e.$listeners),[e.loading?n("gl-loading-icon",{staticClass:"gl-button-loading-indicator",attrs:{inline:""}}):e._e(),e._v(" "),e.hasIcon?n("gl-icon",{attrs:{name:e.icon}}):e._e(),e._v(" "),e._t("emoji"),e._v(" "),e.hasIconOnly?e._e():n("span",{staticClass:"gl-button-text"},[e._t("default")],2)],2)},staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=d},"53mm":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("3twG");function i(){var e=gon&&gon.relative_url_root||"",t=Object(r.m)(e,"/assets/webpack/");n.p=t,window.__webpack_public_path__=t}},"5ExZ":function(e,t,n){var r=n("ZfjD"),i=Math.ceil,o=Math.floor;r({target:"Math",stat:!0},{trunc:function(e){return(e>0?o:i)(e)}})},"5M4W":function(e,t,n){"use strict";var r=n("Tx+D"),i=n("KG2+"),o=n("FUyg"),a=function(e,t,n,s,c,l,u,d){for(var f,p=c,h=0,m=!!u&&o(u,d,3);h<s;){if(h in n){if(f=m?m(n[h],h,t):n[h],l>0&&r(f))p=a(e,t,f,i(f.length),p,l-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[p]=f}p++}h++}return p};e.exports=a},67:function(e,t,n){n("HVBj"),e.exports=n("xYPE")},"6hmS":function(e,t,n){var r=n("XpzN"),i=n("QA6A"),o="[object Boolean]";e.exports=function(e){return!0===e||!1===e||i(e)&&r(e)==o}},"7hrM":function(e,t,n){"use strict";var r=n("FkSe"),i=n("/lV4"),o={components:{GlLoadingIcon:r.a},props:{isDisabled:{type:Boolean,required:!1,default:!1},isLoading:{type:Boolean,required:!1,default:!1},toggleText:{type:String,required:!1,default:Object(i.a)("Select")}}},a=n("tBpV"),s=Object(a.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"dropdown-menu-toggle dropdown-menu-full-width",attrs:{disabled:e.isDisabled||e.isLoading,type:"button","data-toggle":"dropdown","aria-expanded":"false"}},[n("gl-loading-icon",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],attrs:{inline:!0}}),e._v(" "),[e.$slots.default?e._t("default"):n("span",{staticClass:"dropdown-toggle-text"},[e._v(" "+e._s(e.toggleText)+" ")])],e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],staticClass:"dropdown-toggle-icon"},[n("i",{staticClass:"fa fa-chevron-down",attrs:{"aria-hidden":"true","data-hidden":"true"}})])],2)}),[],!1,null,null,null);t.a=s.exports},"8EXu":function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n.file-finder-overlay[data-v-9bdd7a48] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 200;\n}\n.file-finder[data-v-9bdd7a48] {\n  top: 10px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n.diff-file-changes[data-v-9bdd7a48] {\n  top: 50px;\n  max-height: 327px;\n}\n",""])},"8SJv":function(e,t,n){"use strict";var r=n("jsqw");n.n(r).a},"8eeg":function(e,t,n){"use strict";var r=n("BAGK");t.a=function(e){return e.deleted?r.o.deleted:e.tempFile&&!e.prevPath?r.o.addition:r.o.modified}},"8pn6":function(e,t,n){"use strict";var r=n("ZfjD"),i=n("WG2a").findIndex,o=n("x5C5"),a=n("sRF7"),s=!0,c=a("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){s=!1})),r({target:"Array",proto:!0,forced:s||!c},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},"99pJ":function(e,t,n){e.exports=n("NFDe")},APvm:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return I}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var a=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},s=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c=function(){return 1e6*Math.random()+1e6*Math.random()+""},l=function(){function e(e,t,n){var r=this;this.type=e,this.handleMessage=t,this.target=n,this.outgoingMessages=new Set,this._messageListener=function(e){return a(r,void 0,void 0,(function(){var t,n,r;return s(this,(function(i){switch(i.label){case 0:return(t=e.data).$type!==this.getTypeId()?[2]:this.outgoingMessages.has(t.$id)?[2]:[4,this.handleMessage(t.$data)];case 1:return n=i.sent(),r={$originId:this.internalId,$type:this.getTypeId(),$data:n,$id:t.$id},e.source?e.source.postMessage(r,"*"):this._postMessage(r),[2]}}))}))},this.createConnection(),this.internalId=c()}return e.prototype.getTypeId=function(){return"p-"+this.type},e.prototype.createConnection=function(){self.addEventListener("message",this._messageListener)},e.prototype.dispose=function(){self.removeEventListener("message",this._messageListener)},e.prototype.sendMessage=function(e){var t=this;return new Promise((function(n){var r=c(),i={$originId:t.internalId,$type:t.getTypeId(),$data:e,$id:r};t.outgoingMessages.add(r);var o=function(e){var i=e.data;i.$type===t.getTypeId()&&i.$id===r&&i.$originId!==t.internalId&&(n(i.$data),self.removeEventListener("message",o))};self.addEventListener("message",o),t._postMessage(i)}))},e.prototype._postMessage=function(e){"Worker"===this.target.constructor.name||"undefined"!=typeof DedicatedWorkerGlobalScope&&target instanceof DedicatedWorkerGlobalScope?this.target.postMessage(e):this.target.postMessage(e,"*")},e}();Object.freeze({show:function(e,t,n){return void 0===t&&(t="notice"),void 0===n&&(n=2),{type:"action",action:"notification",title:e,notificationType:t,timeAlive:n}}});Object.freeze({openModule:function(e,t,n){return{type:"action",action:"editor.open-module",path:e,lineNumber:t,column:n}}});var u=Object.freeze({add:function(e){return{type:"action",action:"source.dependencies.add",dependency:e}}}),d=Object.freeze({rename:function(e,t){return{type:"action",action:"source.module.rename",path:e,title:t}}});Object.freeze({dependencies:u,modules:d});Object.freeze({show:function(e,t,n){var r=n.line,i=n.column,o=n.lineEnd,a=n.columnEnd;return{title:e,message:t,line:r,column:i,path:n.path,payload:n.payload,lineEnd:o,columnEnd:a,severity:"error",type:"action",action:"show-error",source:n.source||"browser"}},clear:function(e,t){return{type:"action",action:"clear-errors",path:e,source:t}}});Object.freeze({show:function(e,t){var n=void 0===t?{path:"",severity:"warning",source:""}:t,r=n.line,i=n.column,o=n.lineEnd,a=n.columnEnd,s=n.path,c=n.payload,l=n.severity,u=void 0===l?"warning":l,d=n.source;return{message:e,line:r,column:i,lineEnd:o,columnEnd:a,path:s,payload:c,severity:u,source:void 0===d?"":d,type:"action",action:"show-correction"}},clear:function(e,t){return{type:"action",action:"clear-corrections",path:e,source:t}}});Object.freeze({show:function(e){return{line:e.line,path:e.path,className:e.className,type:"action",action:"show-glyph"}}});var f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},p=new Map;var h="undefined"==typeof window||!!(window.location&&window.location.href.indexOf("?standalone")>-1)||!window.opener&&window.parent===window,m=null,g=function(e){"register-frame"===e.data.type&&(m=e.data.origin,self.removeEventListener("message",g))};function v(e){if(e){var t=f(f({},e),{codesandbox:!0});O(t),function(e){var t=JSON.parse(JSON.stringify(e));p.forEach((function(e,n){n&&n.postMessage&&n.postMessage(f(f({},t),{codesandbox:!0}),e)}))}(t),h||null===m&&"initialized"!==e.type||(window.opener?window.opener.postMessage(t,null===m?"*":m):window.parent.postMessage(t,null===m?"*":m))}}"undefined"!=typeof window&&self.addEventListener("message",g);var b={},y=0;function O(e,t){Object.keys(b).forEach((function(n){b[n]&&b[n](e,t)}))}"undefined"!=typeof window&&window.addEventListener("message",(function(e){var t=e.data;t&&t.codesandbox&&(null===m||e.origin===m)&&O(t,e.source)}));var w="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function _(e,t){return e(t={exports:{}},t.exports),t.exports}var j,E=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMainFile=function(e){return"vue-cli"===e?"src/main.js":"angular-cli"===e?"src/main.ts":"create-react-app-typescript"===e?"src/index.tsx":"parcel"===e?"index.html":"gatsby"===e?"src/pages/index.js":"nuxt"===e?"package.json":"next"===e?"package.json":"apollo"===e?"package.json":"reason"===e?"package.json":"sapper"===e?"package.json":"nest"===e?"src/main.ts":"static"===e?"index.html":"src/index.js"};var n="sandbox.config.json";t.getTemplate=function(e,t){var r=t[n]||t["/"+n];if(r)try{var i=JSON.parse(r.content);if(i.template)return i.template}catch(e){}var o=e.dependencies,a=void 0===o?{}:o,s=e.devDependencies,c=void 0===s?{}:s,l=Object.keys(a).concat(Object.keys(c)),u=["nuxt","nuxt-edge"];if(l.some((function(e){return u.indexOf(e)>-1})))return"nuxt";if(l.indexOf("next")>-1)return"next";var d=["apollo-server","apollo-server-express","apollo-server-hapi","apollo-server-koa","apollo-server-lambda","apollo-server-micro"];if(l.some((function(e){return d.indexOf(e)>-1})))return"apollo";if(l.indexOf("ember-cli")>-1)return"ember";if(l.indexOf("sapper")>-1)return"sapper";var f=Object.keys(t);if(f.some((function(e){return e.endsWith(".vue")})))return"vue-cli";if(f.some((function(e){return e.endsWith(".re")})))return"reason";if(l.indexOf("gatsby")>-1)return"gatsby";if(l.indexOf("parcel-bundler")>-1)return"parcel";if(l.indexOf("react-scripts")>-1)return"create-react-app";if(l.indexOf("react-scripts-ts")>-1)return"create-react-app-typescript";if(l.indexOf("@angular/core")>-1)return"angular-cli";if(l.indexOf("preact-cli")>-1)return"preact-cli";if(l.indexOf("svelte")>-1)return"svelte";if(l.indexOf("vue")>-1)return"vue-cli";var p=["@dojo/core","@dojo/framework"];return l.some((function(e){return p.indexOf(e)>-1}))?"@dojo/cli-create-app":l.indexOf("cx")>-1?"cxjs":l.indexOf("@nestjs/core")>-1||l.indexOf("@nestjs/common")>-1?"nest":void 0}}));(j=E)&&j.__esModule&&Object.prototype.hasOwnProperty.call(j,"default")&&j.default;E.getMainFile;var P=E.getTemplate,S=_((function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,s="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Function]",h="[object GeneratorFunction]",m="[object Map]",g="[object Number]",v="[object Null]",b="[object Object]",y="[object Proxy]",O="[object RegExp]",_="[object Set]",j="[object String]",E="[object Symbol]",P="[object Undefined]",S="[object ArrayBuffer]",C="[object DataView]",T=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,k={};k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k[s]=k[c]=k[S]=k[u]=k[C]=k[d]=k[f]=k[p]=k[m]=k[g]=k[b]=k[O]=k[_]=k[j]=k["[object WeakMap]"]=!1;var x="object"==typeof w&&w&&w.Object===Object&&w,R="object"==typeof self&&self&&self.Object===Object&&self,D=x||R||Function("return this")(),A=t&&!t.nodeType&&t,F=A&&e&&!e.nodeType&&e,L=F&&F.exports===A,M=L&&x.process,N=function(){try{return M&&M.binding&&M.binding("util")}catch(e){}}(),q=N&&N.isTypedArray;function B(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function $(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function V(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var U,z,G,H=Array.prototype,W=Function.prototype,J=Object.prototype,K=D["__core-js_shared__"],Q=W.toString,Y=J.hasOwnProperty,Z=(U=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+U:"",X=J.toString,ee=RegExp("^"+Q.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=L?D.Buffer:void 0,ne=D.Symbol,re=D.Uint8Array,ie=J.propertyIsEnumerable,oe=H.splice,ae=ne?ne.toStringTag:void 0,se=Object.getOwnPropertySymbols,ce=te?te.isBuffer:void 0,le=(z=Object.keys,G=Object,function(e){return z(G(e))}),ue=Ne(D,"DataView"),de=Ne(D,"Map"),fe=Ne(D,"Promise"),pe=Ne(D,"Set"),he=Ne(D,"WeakMap"),me=Ne(Object,"create"),ge=Ve(ue),ve=Ve(de),be=Ve(fe),ye=Ve(pe),Oe=Ve(he),we=ne?ne.prototype:void 0,_e=we?we.valueOf:void 0;function je(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Pe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Se(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Pe;++t<n;)this.add(e[t])}function Ce(e){var t=this.__data__=new Ee(e);this.size=t.size}function Te(e,t){var n=Ge(e),r=!n&&ze(e),i=!n&&!r&&He(e),o=!n&&!r&&!i&&Ye(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var l in e)!t&&!Y.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||$e(l,c))||s.push(l);return s}function Ie(e,t){for(var n=e.length;n--;)if(Ue(e[n][0],t))return n;return-1}function ke(e){return null==e?void 0===e?P:v:ae&&ae in Object(e)?function(e){var t=Y.call(e,ae),n=e[ae];try{e[ae]=void 0;var r=!0}catch(e){}var i=X.call(e);r&&(t?e[ae]=n:delete e[ae]);return i}(e):function(e){return X.call(e)}(e)}function xe(e){return Qe(e)&&ke(e)==s}function Re(e,t,n,r,a){return e===t||(null==e||null==t||!Qe(e)&&!Qe(t)?e!=e&&t!=t:function(e,t,n,r,a,l){var p=Ge(e),h=Ge(t),v=p?c:Be(e),y=h?c:Be(t),w=(v=v==s?b:v)==b,P=(y=y==s?b:y)==b,T=v==y;if(T&&He(e)){if(!He(t))return!1;p=!0,w=!1}if(T&&!w)return l||(l=new Ce),p||Ye(e)?Fe(e,t,n,r,a,l):function(e,t,n,r,a,s,c){switch(n){case C:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S:return!(e.byteLength!=t.byteLength||!s(new re(e),new re(t)));case u:case d:case g:return Ue(+e,+t);case f:return e.name==t.name&&e.message==t.message;case O:case j:return e==t+"";case m:var l=$;case _:var p=r&i;if(l||(l=V),e.size!=t.size&&!p)return!1;var h=c.get(e);if(h)return h==t;r|=o,c.set(e,t);var v=Fe(l(e),l(t),r,a,s,c);return c.delete(e),v;case E:if(_e)return _e.call(e)==_e.call(t)}return!1}(e,t,v,n,r,a,l);if(!(n&i)){var I=w&&Y.call(e,"__wrapped__"),k=P&&Y.call(t,"__wrapped__");if(I||k){var x=I?e.value():e,R=k?t.value():t;return l||(l=new Ce),a(x,R,n,r,l)}}if(!T)return!1;return l||(l=new Ce),function(e,t,n,r,o,a){var s=n&i,c=Le(e),l=c.length,u=Le(t).length;if(l!=u&&!s)return!1;var d=l;for(;d--;){var f=c[d];if(!(s?f in t:Y.call(t,f)))return!1}var p=a.get(e);if(p&&a.get(t))return p==t;var h=!0;a.set(e,t),a.set(t,e);var m=s;for(;++d<l;){f=c[d];var g=e[f],v=t[f];if(r)var b=s?r(v,g,f,t,e,a):r(g,v,f,e,t,a);if(!(void 0===b?g===v||o(g,v,n,r,a):b)){h=!1;break}m||(m="constructor"==f)}if(h&&!m){var y=e.constructor,O=t.constructor;y!=O&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof O&&O instanceof O)&&(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,r,a,l)}(e,t,n,r,Re,a))}function De(e){return!(!Ke(e)||function(e){return!!Z&&Z in e}(e))&&(We(e)?ee:T).test(Ve(e))}function Ae(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||J,t!==r)return le(e);var t,n,r,i=[];for(var o in Object(e))Y.call(e,o)&&"constructor"!=o&&i.push(o);return i}function Fe(e,t,n,r,a,s){var c=n&i,l=e.length,u=t.length;if(l!=u&&!(c&&u>l))return!1;var d=s.get(e);if(d&&s.get(t))return d==t;var f=-1,p=!0,h=n&o?new Se:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var m=e[f],g=t[f];if(r)var v=c?r(g,m,f,t,e,s):r(m,g,f,e,t,s);if(void 0!==v){if(v)continue;p=!1;break}if(h){if(!B(t,(function(e,t){if(i=t,!h.has(i)&&(m===e||a(m,e,n,r,s)))return h.push(t);var i}))){p=!1;break}}else if(m!==g&&!a(m,g,n,r,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function Le(e){return function(e,t,n){var r=t(e);return Ge(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Ze,qe)}function Me(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Ne(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return De(n)?n:void 0}je.prototype.clear=function(){this.__data__=me?me(null):{},this.size=0},je.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},je.prototype.get=function(e){var t=this.__data__;if(me){var n=t[e];return n===r?void 0:n}return Y.call(t,e)?t[e]:void 0},je.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:Y.call(t,e)},je.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=me&&void 0===t?r:t,this},Ee.prototype.clear=function(){this.__data__=[],this.size=0},Ee.prototype.delete=function(e){var t=this.__data__,n=Ie(t,e);return!(n<0)&&(n==t.length-1?t.pop():oe.call(t,n,1),--this.size,!0)},Ee.prototype.get=function(e){var t=this.__data__,n=Ie(t,e);return n<0?void 0:t[n][1]},Ee.prototype.has=function(e){return Ie(this.__data__,e)>-1},Ee.prototype.set=function(e,t){var n=this.__data__,r=Ie(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Pe.prototype.clear=function(){this.size=0,this.__data__={hash:new je,map:new(de||Ee),string:new je}},Pe.prototype.delete=function(e){var t=Me(this,e).delete(e);return this.size-=t?1:0,t},Pe.prototype.get=function(e){return Me(this,e).get(e)},Pe.prototype.has=function(e){return Me(this,e).has(e)},Pe.prototype.set=function(e,t){var n=Me(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Se.prototype.add=Se.prototype.push=function(e){return this.__data__.set(e,r),this},Se.prototype.has=function(e){return this.__data__.has(e)},Ce.prototype.clear=function(){this.__data__=new Ee,this.size=0},Ce.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ce.prototype.get=function(e){return this.__data__.get(e)},Ce.prototype.has=function(e){return this.__data__.has(e)},Ce.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ee){var i=r.__data__;if(!de||i.length<n-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new Pe(i)}return r.set(e,t),this.size=r.size,this};var qe=se?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}(se(e),(function(t){return ie.call(e,t)})))}:function(){return[]},Be=ke;function $e(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||I.test(e))&&e>-1&&e%1==0&&e<t}function Ve(e){if(null!=e){try{return Q.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ue(e,t){return e===t||e!=e&&t!=t}(ue&&Be(new ue(new ArrayBuffer(1)))!=C||de&&Be(new de)!=m||fe&&"[object Promise]"!=Be(fe.resolve())||pe&&Be(new pe)!=_||he&&"[object WeakMap]"!=Be(new he))&&(Be=function(e){var t=ke(e),n=t==b?e.constructor:void 0,r=n?Ve(n):"";if(r)switch(r){case ge:return C;case ve:return m;case be:return"[object Promise]";case ye:return _;case Oe:return"[object WeakMap]"}return t});var ze=xe(function(){return arguments}())?xe:function(e){return Qe(e)&&Y.call(e,"callee")&&!ie.call(e,"callee")},Ge=Array.isArray;var He=ce||function(){return!1};function We(e){if(!Ke(e))return!1;var t=ke(e);return t==p||t==h||t==l||t==y}function Je(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function Ke(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Qe(e){return null!=e&&"object"==typeof e}var Ye=q?function(e){return function(t){return e(t)}}(q):function(e){return Qe(e)&&Je(e.length)&&!!k[ke(e)]};function Ze(e){return null!=(t=e)&&Je(t.length)&&!We(t)?Te(e):Ae(e);var t}e.exports=function(e,t){return Re(e,t)}}));function C(e,t){return void 0===e&&(e={}),void 0===t&&(t="/index.js"),JSON.stringify({name:"sandpack-project",main:t,dependencies:e},null,2)}var T="development"===r.env.CODESANDBOX_ENV?"http://localhost:3002":"https://sandpack-"+"0.0.62".replace(/\./g,"-")+".codesandbox.io",I=function(){function e(e,t,n){var r,i,a=this;if(void 0===n&&(n={}),this.options=n,this.sandboxInfo=t,this.bundlerURL=n.bundlerURL||T,"string"==typeof e){this.selector=e;var s=document.querySelector(e);if(!s)throw new Error("No element found for selector '"+e+"'");this.element=s,this.iframe=document.createElement("iframe"),this.initializeElement()}else this.element=e,this.iframe=e;this.iframe.setAttribute("sandbox","allow-forms allow-scripts allow-same-origin allow-modals allow-popups allow-presentation"),this.iframe.src=this.bundlerURL,this.listener=(r=function(e){switch(e.type){case"initialized":a.iframe&&(a.iframe.contentWindow&&(t=a.iframe.contentWindow,n=a.bundlerURL,p.set(t,n),t.postMessage({type:"register-frame",origin:document.location.origin},n),a.options.fileResolver&&(a.fileResolverProtocol=new l("file-resolver",(function(e){return t=a,n=void 0,i=function(){return o(this,(function(t){return"isFile"===e.m?[2,this.options.fileResolver.isFile(e.p)]:[2,this.options.fileResolver.readFile(e.p)]}))},new((r=void 0)||(r=Promise))((function(e,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(t){t.done?e(t.value):new r((function(e){e(t.value)})).then(a,s)}c((i=i.apply(t,n||[])).next())}));var t,n,r,i}),a.iframe.contentWindow))),a.updatePreview())}var t,n},i=++y,b[i]=r,function(){delete b[i]})}return e.prototype.updateOptions=function(e){S(this.options,e)||(this.options=e,this.updatePreview())},e.prototype.updatePreview=function(e){void 0===e&&(e=this.sandboxInfo),this.sandboxInfo=e;var t=this.getFiles(),n=Object.keys(t).reduce((function(e,n){var r;return i(i({},e),((r={})[n]={code:t[n].code,path:n},r))}),{}),r=JSON.parse(C(this.sandboxInfo.dependencies,this.sandboxInfo.entry));try{r=JSON.parse(t["/package.json"].code)}catch(e){console.error("Could not parse package.json file: "+e.message)}var o=Object.keys(t).reduce((function(e,n){var r;return i(i({},e),((r={})[n]={content:t[n].code,path:n},r))}),{});v({type:"compile",codesandbox:!0,version:3,modules:n,externalResources:[],hasFileResolver:Boolean(this.options.fileResolver),disableDependencyPreprocessing:this.sandboxInfo.disableDependencyPreprocessing,template:this.sandboxInfo.template||P(r,o),showOpenInCodeSandbox:null==this.sandboxInfo.showOpenInCodeSandbox||this.sandboxInfo.showOpenInCodeSandbox,skipEval:this.options.skipEval||!1})},e.prototype.dispatch=function(e){v(e)},e.prototype.getCodeSandboxURL=function(){var e=this.getFiles(),t=Object.keys(e).reduce((function(t,n){var r;return i(i({},t),((r={})[n.replace("/","")]={content:e[n].code,isBinary:!1},r))}),{});return fetch("https://codesandbox.io/api/v1/sandboxes/define?json=1",{method:"POST",body:JSON.stringify({files:t}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return{sandboxId:e.sandbox_id,editorUrl:"https://codesandbox.io/s/"+e.sandbox_id,embedUrl:"https://codesandbox.io/embed/"+e.sandbox_id}}))},e.prototype.getFiles=function(){var e=this.sandboxInfo;return void 0===e.files["/package.json"]?function(e,t,n){var r=i({},e);if(!r["/package.json"]){if(!t)throw new Error("No dependencies specified, please specify either a package.json or dependencies.");if(!n)throw new Error("No entry specified, please specify either a package.json with 'main' field or dependencies.");r["/package.json"]={code:C(t,n)}}return r}(e.files,e.dependencies,e.entry):this.sandboxInfo.files},e.prototype.initializeElement=function(){if(this.iframe.style.border="0",this.iframe.style.width=this.options.width||"100%",this.iframe.style.height=this.options.height||"100%",this.iframe.style.overflow="hidden",!this.element.parentNode)throw new Error("Given element does not have a parent.");this.element.parentNode.replaceChild(this.iframe,this.element)},e}()}).call(this,n("uKge"),n("TzVV"))},"D/do":function(e,t,n){"use strict";var r={name:"PipelinesEmptyState",components:{GlDeprecatedButton:n("GTGS").a},props:{helpPagePath:{type:String,required:!0},emptyStateSvgPath:{type:String,required:!0},canSetCi:{type:Boolean,required:!0}}},i=n("tBpV"),o=Object(i.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row empty-state js-empty-state"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"svg-content svg-250"},[n("img",{attrs:{src:e.emptyStateSvgPath}})])]),e._v(" "),n("div",{staticClass:"col-12"},[n("div",{staticClass:"text-content"},[e.canSetCi?[n("h4",{staticClass:"text-center"},[e._v(e._s(e.s__("Pipelines|Build with confidence")))]),e._v(" "),n("p",[e._v("\n          "+e._s(e.s__("Pipelines|Continuous Integration can help\n              catch bugs by running your tests automatically,\n              while Continuous Deployment can help you deliver\n              code to your product environment."))+"\n        ")]),e._v(" "),n("div",{staticClass:"text-center"},[n("gl-deprecated-button",{staticClass:"js-get-started-pipelines",attrs:{href:e.helpPagePath,variant:"primary"}},[e._v("\n            "+e._s(e.s__("Pipelines|Get started with Pipelines"))+"\n          ")])],1)]:n("p",{staticClass:"text-center"},[e._v("\n        "+e._s(e.s__("Pipelines|This project is not currently set up to run pipelines."))+"\n      ")])],2)])])}),[],!1,null,null,null);t.a=o.exports},D3R9:function(e,t,n){var r=n("uYOL");e.exports=function(e){return"function"==typeof e?e:r}},"Dfb/":function(e,t,n){"use strict";var r=n("3a3M"),i=n.n(r);n("yv3B");t.a={bind:function(e){var t=localStorage.getItem("gl-tooltip-delay"),n=t?JSON.parse(t):0;i()(e).tooltip({trigger:"hover",delay:n})},componentUpdated:function(e){i()(e).tooltip("_fixTitle");var t=i()(e).data("bs.tooltip"),n=t.getTipElement();t.setElementContent(i()(n.querySelectorAll(".tooltip-inner")),t.getTitle())},unbind:function(e){i()(e).tooltip("dispose")}}},ExxS:function(e,t,n){var r=n("ZKOb"),i=n("Opi0")((function(e,t){return r(e,1,t)}));e.exports=i},FHWC:function(e,t,n){var r=n("qykh");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("qic4").default)("c4fbe54a",r,!0,{})},FxFN:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("IdsT"),n("S26F");var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return parseInt((e||"").replace(/gid:\/\/gitlab\/.*\//g,""),10)||null}},IfLy:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c}));var r=8,i=13,o=27,a=38,s=40,c=46},JVoq:function(e,t,n){"use strict";var r=n("eRq8");n.n(r).a},LlRA:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},LwwS:function(e,t,n){var r=n("ZfjD"),i=n("ynC3"),o=n("QmHw"),a=n("wZF9"),s=n("YO8x").onFreeze,c=Object.freeze;r({target:"Object",stat:!0,forced:o((function(){c(1)})),sham:!i},{freeze:function(e){return c&&a(e)?c(s(e)):e}})},MV2A:function(e,t,n){"use strict";var r=n("1m+M"),i=n("jB52"),o=function(e){try{var t=new URL(e,(n=window.location,r=n.protocol,i=n.host,"".concat(r,"//").concat(i)));return["http:","https:","mailto:","ftp:"].includes(t.protocol)}catch(e){return!1}var n,r,i},a=function(e){var t=e.href,n=e.target,r=e.rel,i=e.hostname;o(t)||(e.href="about:blank"),function(e,t){return"_blank"===e&&t!==window.location.hostname}(n,i)&&(e.rel=function(e){var t=e?e.trim().split(" "):[];return t.includes("noopener")||t.push("noopener"),t.includes("noreferrer")||t.push("noreferrer"),t.join(" ")}(r))},s={inserted:a,update:function(e){i.default.nextTick((function(){a(e)}))}},c=n("Pyw5"),l=n.n(c);const u={components:{BLink:r.a},directives:{SafeLink:s},props:{target:{type:String,required:!1,default:null}}};const d=l()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-link",this._g(this._b({directives:[{name:"safe-link",rawName:"v-safe-link"}],staticClass:"gl-link",attrs:{target:this.target}},"b-link",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=d},NFDe:function(e,t,n){!function(t){"use strict";var r=-1,i=function(e){return e.every=function(t,n,i){e._time(),i||(i=n,n=null);var o=r+=1;return e._timers[o]={visible:t,hidden:n,callback:i},e._run(o,!1),e.isSupported()&&e._listen(),o},e.stop=function(t){return!!e._timers[t]&&(e._stop(t),delete e._timers[t],!0)},e._timers={},e._time=function(){e._timed||(e._timed=!0,e._wasHidden=e.hidden(),e.change((function(){e._stopRun(),e._wasHidden=e.hidden()})))},e._run=function(n,r){var i,o=e._timers[n];if(e.hidden()){if(null===o.hidden)return;i=o.hidden}else i=o.visible;var a=function(){o.last=new Date,o.callback.call(t)};if(r){var s=new Date-o.last;i>s?o.delay=setTimeout((function(){o.id=setInterval(a,i),a()}),i-s):(o.id=setInterval(a,i),a())}else o.id=setInterval(a,i)},e._stop=function(t){var n=e._timers[t];clearInterval(n.id),clearTimeout(n.delay),delete n.id,delete n.delay},e._stopRun=function(t){var n=e.hidden(),r=e._wasHidden;if(n&&!r||!n&&r)for(var i in e._timers)e._stop(i),e._run(i,!n)},e};e.exports?e.exports=i(n("lNHW")):i(t.Visibility)}(window)},OIsX:function(e,t,n){"use strict";n("+xU6"),n("IdsT"),n("S26F");var r=n("0AwG"),i={props:{path:{type:String,required:!0}},computed:{truncatedPath:function(){return Object(r.q)(this.path,40)}}},o=n("tBpV"),a=Object(o.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"file-row-header bg-white sticky-top p-2 js-file-row-header",attrs:{title:this.path}},[t("span",{staticClass:"bold"},[this._v(this._s(this.truncatedPath))])])}),[],!1,null,null,null).exports,s=n("9dZE"),c=n("3twG"),l={name:"FileRow",components:{FileHeader:a,FileIcon:s.a},props:{file:{type:Object,required:!0},level:{type:Number,required:!0}},computed:{isTree:function(){return"tree"===this.file.type},isBlob:function(){return"blob"===this.file.type},levelIndentation:function(){return{marginLeft:this.level?"".concat(16*this.level,"px"):null}},fileClass:function(){return{"file-open":this.isBlob&&this.file.opened,"is-active":this.isBlob&&this.file.active,folder:this.isTree,"is-open":this.file.opened}},textForTitle:function(){var e,t;return!!(null===(e=this.file)||void 0===e?void 0:null===(t=e.tree)||void 0===t?void 0:t.length)&&this.file.tree[0].parentPath}},watch:{"file.active":function(e){"blob"===this.file.type&&e&&this.scrollIntoView()}},mounted:function(){this.hasPathAtCurrentRoute()&&this.scrollIntoView(!0)},methods:{toggleTreeOpen:function(e){this.$emit("toggleTreeOpen",e)},clickedFile:function(e){this.$emit("clickFile",e)},clickFile:function(){this.isTree&&this.hasUrlAtCurrentRoute()&&this.toggleTreeOpen(this.file.path),this.$router&&this.$router.push("/project".concat(this.file.url)),this.isBlob&&this.clickedFile(this.file.path)},scrollIntoView:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e&&this.isTree?"center":"nearest";this.$el.scrollIntoView({behavior:"smooth",block:t})},hasPathAtCurrentRoute:function(){if(!this.$router||!this.$router.currentRoute)return!1;var e=this.$router.currentRoute.path.replace(/^.*?[\/]-[\/]/g,"").replace(/[\/]$/g,"");return this.file.path.replace(/[\/]$/g,"")===e},hasUrlAtCurrentRoute:function(){return!this.$router||!this.$router.currentRoute||this.$router.currentRoute.path==="/project".concat(Object(c.b)(this.file.url))}}},u=(n("JVoq"),Object(o.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.file.isHeader?n("file-header",{attrs:{path:e.file.path}}):n("div",{staticClass:"file-row",class:e.fileClass,attrs:{title:e.textForTitle,"data-level":e.level,role:"button"},on:{click:e.clickFile,mouseleave:function(t){return e.$emit("mouseleave",t)}}},[n("div",{staticClass:"file-row-name-container"},[n("span",{ref:"textOutput",staticClass:"file-row-name str-truncated",style:e.levelIndentation},[n("file-icon",{staticClass:"file-row-icon",class:{"text-secondary":"tree"===e.file.type},attrs:{"file-name":e.file.name,loading:e.file.loading,folder:e.isTree,opened:e.file.opened,size:16}}),e._v("\n      "+e._s(e.file.name)+"\n    ")],1),e._v(" "),e._t("default")],2)])}),[],!1,null,null,null));t.a=u.exports},QrI9:function(e,t,n){e.exports=h,h.Minimatch=m;var r={sep:"/"};try{r=n("WItF")}catch(e){}var i=h.GLOBSTAR=m.GLOBSTAR={},o=n("dBaw"),a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},s="[^/]",c=s+"*?",l="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",u="(?:(?!(?:\\/|^)\\.).)*?",d="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{});var f=/\/+/;function p(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach((function(e){n[e]=t[e]})),Object.keys(e).forEach((function(t){n[t]=e[t]})),n}function h(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new m(t,n).match(e))}function m(e,t){if(!(this instanceof m))return new m(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==r.sep&&(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function g(e,t){if(t||(t=this instanceof m?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:o(e)}h.filter=function(e,t){return t=t||{},function(n,r,i){return h(n,e,t)}},h.defaults=function(e){if(!e||!Object.keys(e).length)return h;var t=h,n=function(n,r,i){return t.minimatch(n,r,p(e,i))};return n.Minimatch=function(n,r){return new t.Minimatch(n,p(e,r))},n},m.defaults=function(e){return e&&Object.keys(e).length?h.defaults(e).Minimatch:m},m.prototype.debug=function(){},m.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(f)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},m.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var i=0,o=e.length;i<o&&"!"===e.charAt(i);i++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},h.braceExpand=function(e,t){return g(e,t)},m.prototype.braceExpand=g,m.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return i;if(""===e)return"";var r,o="",l=!!n.nocase,u=!1,f=[],p=[],h=!1,m=-1,g=-1,b="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",y=this;function O(){if(r){switch(r){case"*":o+=c,l=!0;break;case"?":o+=s,l=!0;break;default:o+="\\"+r}y.debug("clearStateChar %j %j",r,o),r=!1}}for(var w,_=0,j=e.length;_<j&&(w=e.charAt(_));_++)if(this.debug("%s\t%s %s %j",e,_,o,w),u&&d[w])o+="\\"+w,u=!1;else switch(w){case"/":return!1;case"\\":O(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,_,o,w),h){this.debug("  in class"),"!"===w&&_===g+1&&(w="^"),o+=w;continue}y.debug("call clearStateChar %j",r),O(),r=w,n.noext&&O();continue;case"(":if(h){o+="(";continue}if(!r){o+="\\(";continue}f.push({type:r,start:_-1,reStart:o.length,open:a[r].open,close:a[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(h||!f.length){o+="\\)";continue}O(),l=!0;var E=f.pop();o+=E.close,"!"===E.type&&p.push(E),E.reEnd=o.length;continue;case"|":if(h||!f.length||u){o+="\\|",u=!1;continue}O(),o+="|";continue;case"[":if(O(),h){o+="\\"+w;continue}h=!0,g=_,m=o.length,o+=w;continue;case"]":if(_===g+1||!h){o+="\\"+w,u=!1;continue}if(h){var P=e.substring(g+1,_);try{RegExp("["+P+"]")}catch(e){var S=this.parse(P,v);o=o.substr(0,m)+"\\["+S[0]+"\\]",l=l||S[1],h=!1;continue}}l=!0,h=!1,o+=w;continue;default:O(),u?u=!1:!d[w]||"^"===w&&h||(o+="\\"),o+=w}h&&(P=e.substr(g+1),S=this.parse(P,v),o=o.substr(0,m)+"\\["+S[0],l=l||S[1]);for(E=f.pop();E;E=f.pop()){var C=o.slice(E.reStart+E.open.length);this.debug("setting tail",o,E),C=C.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",C,C,E,o);var T="*"===E.type?c:"?"===E.type?s:"\\"+E.type;l=!0,o=o.slice(0,E.reStart)+T+"\\("+C}O(),u&&(o+="\\\\");var I=!1;switch(o.charAt(0)){case".":case"[":case"(":I=!0}for(var k=p.length-1;k>-1;k--){var x=p[k],R=o.slice(0,x.reStart),D=o.slice(x.reStart,x.reEnd-8),A=o.slice(x.reEnd-8,x.reEnd),F=o.slice(x.reEnd);A+=F;var L=R.split("(").length-1,M=F;for(_=0;_<L;_++)M=M.replace(/\)[+*?]?/,"");var N="";""===(F=M)&&t!==v&&(N="$"),o=R+D+F+N+A}""!==o&&l&&(o="(?=.)"+o);I&&(o=b+o);if(t===v)return[o,l];if(!l)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var q=n.nocase?"i":"";try{var B=new RegExp("^"+o+"$",q)}catch(e){return new RegExp("$.")}return B._glob=e,B._src=o,B};var v={};h.makeRe=function(e,t){return new m(e,t||{}).makeRe()},m.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?l:u,r=t.nocase?"i":"",o=e.map((function(e){return e.map((function(e){return e===i?n:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},h.match=function(e,t,n){var r=new m(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},m.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/"));e=e.split(f),this.debug(this.pattern,"split",e);var i,o,a=this.set;for(this.debug(this.pattern,"set",a),o=e.length-1;o>=0&&!(i=e[o]);o--);for(o=0;o<a.length;o++){var s=a[o],c=e;if(n.matchBase&&1===s.length&&(c=[i]),this.matchOne(c,s,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},m.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,a=0,s=e.length,c=t.length;o<s&&a<c;o++,a++){this.debug("matchOne loop");var l,u=t[a],d=e[o];if(this.debug(t,u,d),!1===u)return!1;if(u===i){this.debug("GLOBSTAR",[t,u,d]);var f=o,p=a+1;if(p===c){for(this.debug("** at the end");o<s;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;f<s;){var h=e[f];if(this.debug("\nglobstar while",e,f,t,p,h),this.matchOne(e.slice(f),t.slice(p),n))return this.debug("globstar found match!",f,s,h),!0;if("."===h||".."===h||!r.dot&&"."===h.charAt(0)){this.debug("dot detected!",e,f,t,p);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!n||(this.debug("\n>>> no match, partial?",e,f,t,p),f!==s))}if("string"==typeof u?(l=r.nocase?d.toLowerCase()===u.toLowerCase():d===u,this.debug("string match",u,d,l)):(l=d.match(u),this.debug("pattern match",u,d,l)),!l)return!1}if(o===s&&a===c)return!0;if(o===s)return n;if(a===c)return o===s-1&&""===e[o];throw new Error("wtf?")}},QwBj:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r={ABORTED:0,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTI_STATUS:207,ALREADY_REPORTED:208,IM_USED:226,MULTIPLE_CHOICES:300,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,CONFLICT:409,GONE:410,UNPROCESSABLE_ENTITY:422,SERVICE_UNAVAILABLE:503},i=[r.OK,r.CREATED,r.ACCEPTED,r.NON_AUTHORITATIVE_INFORMATION,r.NO_CONTENT,r.RESET_CONTENT,r.PARTIAL_CONTENT,r.MULTI_STATUS,r.ALREADY_REPORTED,r.IM_USED];t.a=r},T9Fk:function(e,t,n){(function(e){var r,i,o,a,s;function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=this,s=function(e,t){"object"===c(t)&&"function"==typeof t.default&&(t=t.default);var n=function(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}};return t.component(e,{props:{size:{type:Number,required:!0},remain:{type:Number,required:!0},rtag:{type:String,default:"div"},wtag:{type:String,default:"div"},wclass:{type:String,default:""},wstyle:{type:Object,default:function(){return{}}},pagemode:{type:Boolean,default:!1},scrollelement:{type:"undefined"==typeof window?Object:HTMLElement,default:null},start:{type:Number,default:0},offset:{type:Number,default:0},variable:{type:[Function,Boolean],default:!1},bench:{type:Number,default:0},debounce:{type:Number,default:0},totop:{type:[Function,Boolean],default:!1},tobottom:{type:[Function,Boolean],default:!1},onscroll:{type:[Function,Boolean],default:!1},istable:{type:Boolean,default:!1},item:{type:[Function,Object],default:null},itemcount:{type:Number,default:0},itemprops:{type:Function,default:function(){}}},watch:{size:function(){this.changeProp="size"},remain:function(){this.changeProp="remain"},bench:function(){this.changeProp="bench",this.itemModeForceRender()},start:function(){this.changeProp="start",this.itemModeForceRender()},offset:function(){this.changeProp="offset",this.itemModeForceRender()},itemcount:function(){this.changeProp="itemcount",this.itemModeForceRender()},scrollelement:function(e,t){this.pagemode||(t&&this.removeScrollListener(t),e&&this.addScrollListener(e))}},created:function(){var e=this.start>=this.remain?this.start:0,t=this.remain+(this.bench||this.remain),n=Object.create(null);n.direction="",n.scrollTop=0,n.start=e,n.end=e+t-1,n.keeps=t,n.total=0,n.offsetAll=0,n.paddingTop=0,n.paddingBottom=0,n.varCache={},n.varAverSize=0,n.varLastCalcIndex=0,this.delta=n},mounted:function(){if(this.pagemode?this.addScrollListener(window):this.scrollelement&&this.addScrollListener(this.scrollelement),this.start){var e=this.getZone(this.start).start;this.setScrollTop(this.variable?this.getVarOffset(e):e*this.size)}else this.offset&&this.setScrollTop(this.offset)},beforeDestroy:function(){this.pagemode?this.removeScrollListener(window):this.scrollelement&&this.removeScrollListener(this.scrollelement)},beforeUpdate:function(){var e=this.delta;e.keeps=this.remain+(this.bench||this.remain);var t="start"===this.changeProp?this.start:e.start,n=this.getZone(t);if(this.changeProp&&["start","size","offset"].includes(this.changeProp)){var r="offset"===this.changeProp?this.offset:this.variable?this.getVarOffset(n.isLast?e.total:n.start):n.isLast&&e.total-t<=this.remain?e.total*this.size:t*this.size;this.$nextTick(this.setScrollTop.bind(this,r))}(this.changeProp||e.end!==n.end||t!==n.start)&&(this.changeProp="",e.end=n.end,e.start=n.start,this.forceRender())},methods:{addScrollListener:function(e){this.scrollHandler=this.debounce?n(this.onScroll.bind(this),this.debounce):this.onScroll,e.addEventListener("scroll",this.scrollHandler,!1)},removeScrollListener:function(e){e.removeEventListener("scroll",this.scrollHandler,!1)},onScroll:function(e){var t,n=this.delta,r=this.$refs.vsl;if(this.pagemode)t=-this.$el.getBoundingClientRect().top;else if(this.scrollelement){var i=this.scrollelement.getBoundingClientRect(),o=this.$el.getBoundingClientRect();t=i.top-o.top}else t=(r.$el||r).scrollTop||0;n.direction=t>n.scrollTop?"D":"U",n.scrollTop=t,n.total>n.keeps?this.updateZone(t):n.end=n.total-1;var a=n.offsetAll;if(this.onscroll){var s=Object.create(null);s.offset=t,s.offsetAll=a,s.start=n.start,s.end=n.end,this.onscroll(e,s)}!t&&n.total&&this.fireEvent("totop"),t>=a&&this.fireEvent("tobottom")},updateZone:function(e){var t=this.delta,n=this.variable?this.getVarOvers(e):Math.floor(e/this.size);"U"===t.direction&&(n=n-this.remain+1);var r=this.getZone(n),i=this.bench||this.remain,o=1===Math.abs(n-t.start-i);!o&&n-t.start<=i&&!r.isLast&&n>t.start||(o||r.start!==t.start||r.end!==t.end)&&(t.end=r.end,t.start=r.start,this.forceRender())},getZone:function(e){var t,n=this.delta;e=parseInt(e,10),e=Math.max(0,e);var r=n.total-n.keeps,i=e<=n.total&&e>=r||e>n.total;return{end:(t=i?Math.max(0,r):e)+n.keeps-1,start:t,isLast:i}},forceRender:function(){var e=this;window.requestAnimationFrame((function(){e.$forceUpdate()}))},itemModeForceRender:function(){this.item&&this.forceRender()},getVarOvers:function(e){for(var t=0,n=0,r=0,i=this.delta,o=i.total;t<=o;){if(n=t+Math.floor((o-t)/2),r=this.getVarOffset(n),i.varAverSize||(i.varAverSize=Math.floor(r/n)),r===e)return n;r<e?t=n+1:r>e&&(o=n-1)}return t>0?--t:0},getVarOffset:function(e,t){var n=this.delta,r=n.varCache[e];if(!t&&r)return r.offset;for(var i=0,o=0;o<e;o++){var a=this.getVarSize(o,t);n.varCache[o]={size:a,offset:i},i+=a}return n.varLastCalcIndex=Math.max(n.varLastCalcIndex,e-1),n.varLastCalcIndex=Math.min(n.varLastCalcIndex,n.total-1),i},getVarSize:function(e,t){var n=this.delta.varCache[e];if(!t&&n)return n.size;if("function"==typeof this.variable)return this.variable(e)||0;var r=this.item?this.$children[e]?this.$children[e].$vnode:null:this.$slots.default[e],i=r&&r.data&&r.data.style;if(i&&i.height){var o=i.height.match(/^(.*)px$/);return o&&+o[1]||0}return 0},getVarPaddingTop:function(){return this.getVarOffset(this.delta.start)},getVarPaddingBottom:function(){var e=this.delta,t=e.total-1;return e.total-e.end<=e.keeps||e.varLastCalcIndex===t?this.getVarOffset(t)-this.getVarOffset(e.end):(e.total-e.end)*(e.varAverSize||this.size)},getVarAllHeight:function(){var e=this.delta;return e.total-e.end<=e.keeps||e.varLastCalcIndex===e.total-1?this.getVarOffset(e.total):this.getVarOffset(e.start)+(e.total-e.end)*(e.varAverSize||this.size)},updateVariable:function(e){this.getVarOffset(e,!0)},fireEvent:function(e){this[e]&&this[e]()},setScrollTop:function(e){if(this.pagemode)window.scrollTo(0,e);else if(this.scrollelement)this.scrollelement.scrollTo(0,e);else{var t=this.$refs.vsl;t&&((t.$el||t).scrollTop=e)}},filter:function(e){var t,n,r,i=this.delta,o=this.$slots.default||[];this.item||this.$scopedSlots.item?(i.total=this.itemcount,i.keeps>i.total&&(i.end=i.total-1)):(o.length||(i.start=0),i.total=o.length);var a=i.total>i.keeps;this.variable?(r=this.getVarAllHeight(),t=a?this.getVarPaddingTop():0,n=a?this.getVarPaddingBottom():0):(r=this.size*i.total,t=this.size*(a?i.start:0),n=this.size*(a?i.total-i.keeps:0)-t),n<this.size&&(n=0),i.paddingTop=t,i.paddingBottom=n,i.offsetAll=r-this.size*this.remain;for(var s=[],c=i.start;c<i.total&&c<=Math.ceil(i.end);c++){var l=null;l=this.$scopedSlots.item?this.$scopedSlots.item(c):this.item?e(this.item,this.itemprops(c)):o[c],s.push(l)}return s}},render:function(e){var t=this.debounce,r=this.filter(e),i=this.delta,o=i.paddingTop,a=i.paddingBottom,s=this.istable,c=s?"div":this.wtag,l=s?"div":this.rtag;s&&(r=[e("table",[e("tbody",r)])]);var u=e(c,{style:Object.assign({display:"block","padding-top":o+"px","padding-bottom":a+"px"},this.wstyle),class:this.wclass,attrs:{role:"group"}},r);return this.pagemode||this.scrollelement?u:e(l,{ref:"vsl",style:{display:"block","overflow-y":this.size>=this.remain?"auto":"initial",height:this.size*this.remain+"px"},on:{"&scroll":t?n(this.onScroll.bind(this),t):this.onScroll}},[u])}})},"object"===c(t)&&"object"===c(e)?e.exports=s("VirtualList",n("jB52")):(i=[n("jB52")],r=s.bind(a,"VirtualList"),void 0===(o="function"==typeof r?r.apply(t,i):r)||(e.exports=o))}).call(this,n("Fs+f")(e))},Tb18:function(e,t,n){"use strict";var r=n("kEo8"),i=n("u67S"),o=n("KG2+"),a=n("QCBl"),s=n("sRF7"),c=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,d=a("lastIndexOf"),f=s("indexOf",{ACCESSORS:!0,1:0}),p=u||!d||!f;e.exports=p?function(e){if(u)return l.apply(this,arguments)||0;var t=r(this),n=o(t.length),a=n-1;for(arguments.length>1&&(a=c(a,i(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:l},TwKd:function(e,t,n){"use strict";n("kO4A"),n("4ql4"),n("+xeR");var r=n("PxiM"),i=n.n(r),o=n("t6Yz"),a=n.n(o),s=n("T9Fk"),c=n.n(s),l=(n("8Qi2"),n("+xU6"),n("IdsT"),n("l9AF"),n("len0")),u=n("9dZE"),d=n("rOrh"),f={components:{Icon:l.a,ChangedFileIcon:d.a,FileIcon:u.a},props:{file:{type:Object,required:!0},focused:{type:Boolean,required:!0},searchText:{type:String,required:!0},index:{type:Number,required:!0},showDiffStats:{type:Boolean,required:!1,default:!1}},computed:{pathWithEllipsis:function(){var e=this.file.path;return e.length<60?e:"...".concat(e.substr(e.length-60))},nameSearchTextOccurences:function(){return i.a.match(this.file.name,this.searchText)},pathSearchTextOccurences:function(){return i.a.match(this.pathWithEllipsis,this.searchText)}},methods:{clickRow:function(){this.$emit("click",this.file)},mouseOverRow:function(){this.$emit("mouseover",this.index)},mouseMove:function(){this.$emit("mousemove",this.index)}}},p=(n("8SJv"),n("tBpV")),h=Object(p.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"diff-changed-file",class:{"is-focused":e.focused},attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.clickRow(t)},mouseover:e.mouseOverRow,mousemove:e.mouseMove}},[n("file-icon",{attrs:{"file-name":e.file.name,size:16,"css-classes":"diff-file-changed-icon gl-mr-3"}}),e._v(" "),n("span",{staticClass:"diff-changed-file-content gl-mr-3"},[n("strong",{staticClass:"diff-changed-file-name"},e._l(e.file.name.split(""),(function(t,r){return n("span",{key:r+t,class:{highlighted:e.nameSearchTextOccurences.indexOf(r)>=0},domProps:{textContent:e._s(t)}})})),0),e._v(" "),n("span",{staticClass:"diff-changed-file-path prepend-top-5"},e._l(e.pathWithEllipsis.split(""),(function(t,r){return n("span",{key:r+t,class:{highlighted:e.pathSearchTextOccurences.indexOf(r)>=0},domProps:{textContent:e._s(t)}})})),0)]),e._v(" "),e.file.changed||e.file.tempFile?e._m(0):e._e()],1)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"diff-changed-stats"},[e.showDiffStats?n("span",[n("span",{staticClass:"cgreen bold"},[n("icon",{staticClass:"align-text-top",attrs:{name:"file-addition"}}),e._v(" "+e._s(e.file.addedLines)+"\n      ")],1),e._v(" "),n("span",{staticClass:"cred bold ml-1"},[n("icon",{staticClass:"align-text-top",attrs:{name:"file-deletion"}}),e._v(" "+e._s(e.file.removedLines)+"\n      ")],1)]):n("changed-file-icon",{attrs:{file:e.file}})],1)}],!1,null,"06747bc5",null).exports,m=n("IfLy"),g=a.a.stopCallback,v={components:{Item:h,VirtualList:c.a},props:{files:{type:Array,required:!0},visible:{type:Boolean,required:!0},loading:{type:Boolean,required:!0},showDiffStats:{type:Boolean,required:!1,default:!1},clearSearchOnClose:{type:Boolean,required:!1,default:!0}},data:function(){return{focusedIndex:-1,searchText:"",mouseOver:!1,cancelMouseOver:!1}},computed:{filteredBlobs:function(){var e=this.searchText.trim();return""===e?this.files.slice(0,40):i.a.filter(this.files,e,{key:"path",maxResults:40})},filteredBlobsLength:function(){return this.filteredBlobs.length},listShowCount:function(){return this.filteredBlobsLength?Math.min(this.filteredBlobsLength,5):1},listHeight:function(){return this.filteredBlobsLength?55:33},showClearInputButton:function(){return""!==this.searchText.trim()}},watch:{visible:function(){var e=this;this.$nextTick((function(){e.visible?(e.focusedIndex=0,e.$refs.searchInput&&e.$refs.searchInput.focus()):e.clearSearchOnClose&&(e.searchText="")}))},searchText:function(){var e=this;this.focusedIndex=-1,this.$nextTick((function(){e.focusedIndex=0}))},focusedIndex:function(){var e=this;this.mouseOver||this.$nextTick((function(){var t=e.$refs.virtualScrollList.$el,n=55*e.focusedIndex,r=55*e.listShowCount;0===e.focusedIndex?t.scrollTop=0:e.focusedIndex===e.filteredBlobsLength-1?t.scrollTop=55*e.filteredBlobsLength:n>=r+t.scrollTop?t.scrollTop=n-r+55:n<t.scrollTop&&(t.scrollTop=n)}))}},mounted:function(){var e=this;this.files.length&&(this.focusedIndex=0),a.a.bind(["t","command+p","ctrl+p"],(function(t){t.preventDefault&&t.preventDefault(),e.toggle(!e.visible)})),a.a.stopCallback=function(t,n,r){return e.mousetrapStopCallback(t,n,r)}},methods:{toggle:function(e){this.$emit("toggle",e)},clearSearchInput:function(){var e=this;this.searchText="",this.$nextTick((function(){e.$refs.searchInput.focus()}))},onKeydown:function(e){switch(e.keyCode){case m.f:e.preventDefault(),this.mouseOver=!1,this.cancelMouseOver=!0,this.focusedIndex>0?this.focusedIndex-=1:this.focusedIndex=this.filteredBlobsLength-1;break;case m.c:e.preventDefault(),this.mouseOver=!1,this.cancelMouseOver=!0,this.focusedIndex<this.filteredBlobsLength-1?this.focusedIndex+=1:this.focusedIndex=0}},onKeyup:function(e){switch(e.keyCode){case m.d:this.openFile(this.filteredBlobs[this.focusedIndex]);break;case m.e:this.toggle(!1)}},openFile:function(e){this.toggle(!1),this.$emit("click",e)},onMouseOver:function(e){this.cancelMouseOver||(this.mouseOver=!0,this.focusedIndex=e)},onMouseMove:function(e){this.cancelMouseOver=!1,this.onMouseOver(e)},mousetrapStopCallback:function(e,t,n){return!!("t"===n&&t.classList.contains("dropdown-input-field")||t.classList.contains("inputarea"))||"command+p"!==n&&"ctrl+p"!==n&&g(e,t,n)}}},b=(n("UKr7"),Object(p.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"file-finder-overlay",on:{mousedown:function(t){return t.target!==t.currentTarget?null:e.toggle(!1)}}},[n("div",{staticClass:"dropdown-menu diff-file-changes file-finder show"},[n("div",{staticClass:"dropdown-input",class:{"has-value":e.showClearInputButton}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],ref:"searchInput",staticClass:"dropdown-input-field",attrs:{placeholder:e.__("Search files"),type:"search",autocomplete:"off"},domProps:{value:e.searchText},on:{keydown:function(t){return e.onKeydown(t)},keyup:function(t){return e.onKeyup(t)},input:function(t){t.target.composing||(e.searchText=t.target.value)}}}),e._v(" "),n("i",{staticClass:"fa fa-search dropdown-input-search",class:{hidden:e.showClearInputButton},attrs:{"aria-hidden":"true"}}),e._v(" "),n("i",{staticClass:"fa fa-times dropdown-input-clear",attrs:{"aria-label":e.__("Clear search input"),role:"button"},on:{click:e.clearSearchInput}})]),e._v(" "),n("div",[n("virtual-list",{ref:"virtualScrollList",attrs:{size:e.listHeight,remain:e.listShowCount,wtag:"ul"}},[e.filteredBlobsLength?e._l(e.filteredBlobs,(function(t,r){return n("li",{key:t.key},[n("item",{staticClass:"disable-hover",attrs:{file:t,"search-text":e.searchText,focused:r===e.focusedIndex,index:r,"show-diff-stats":e.showDiffStats},on:{click:e.openFile,mouseover:e.onMouseOver,mousemove:e.onMouseMove}})],1)})):n("li",{staticClass:"dropdown-menu-empty-item"},[n("div",{staticClass:"append-right-default prepend-left-default gl-mt-3 gl-mb-3"},[e.loading?[e._v("\n              "+e._s(e.__("Loading..."))+"\n            ")]:[e._v("\n              "+e._s(e.__("No files found."))+"\n            ")]],2)])],2)],1)])])}),[],!1,null,"9bdd7a48",null));t.a=b.exports},UKr7:function(e,t,n){"use strict";var r=n("uJ4d");n.n(r).a},Ul1K:function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n.file-row {\n  display: flex;\n  align-items: center;\n  height: 32px;\n  padding: 4px 8px;\n  margin-left: -8px;\n  margin-right: -8px;\n  border-radius: 3px;\n  text-align: left;\n  cursor: pointer;\n}\n.file-row-name-container {\n  display: flex;\n  width: 100%;\n  align-items: center;\n  overflow: visible;\n}\n.file-row-name {\n  display: inline-block;\n  flex: 1;\n  max-width: inherit;\n  height: 19px;\n  line-height: 16px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.file-row-name .file-row-icon {\n  margin-right: 2px;\n  vertical-align: middle;\n}\n",""])},WItF:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,i="/"===a.charAt(0))}return(i?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),a="/"===i(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,c=0;c<a;c++)if(i[c]!==o[c]){s=c;break}var l=[];for(c=s;c<i.length;c++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=a+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("TzVV"))},Wh5f:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getUserPermissions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createMergeRequestIn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"readMergeRequest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pushCode"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:183}};n.loc.source={body:"query getUserPermissions($projectPath: ID!) {\n  project(fullPath: $projectPath) {\n    userPermissions {\n      createMergeRequestIn,\n      readMergeRequest,\n      pushCode\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.getUserPermissions=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=r[t]||new Set,a=new Set,s=new Set;for(o.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"getUserPermissions")},XzFo:function(e,t,n){e.exports=function(){return new Worker(n.p+"diff_worker.62d122c1.worker.js")}},"Z/0p":function(e,t,n){n("x5C5")("flat")},ZKOb:function(e,t){var n="Expected a function";e.exports=function(e,t,r){if("function"!=typeof e)throw new TypeError(n);return setTimeout((function(){e.apply(void 0,r)}),t)}},arjl:function(e,t,n){var r=n("ZfjD"),i=n("wZF9"),o=n("70tN"),a=n("YEnO"),s=n("MEJ2"),c=n("QDZz");r({target:"Reflect",stat:!0},{get:function e(t,n){var r,l,u=arguments.length<3?t:arguments[2];return o(t)===u?t[n]:(r=s.f(t,n))?a(r,"value")?r.value:void 0===r.get?void 0:r.get.call(u):i(l=c(t))?e(l,n,u):void 0}})},bOZG:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n("unS+")),s={section:/^\s*\[(([^#;]|\\#|\\;)+)\]\s*([#;].*)?$/,param:/^\s*([\w\.\-\_]+)\s*[=:]\s*(.*?)\s*([#;].*)?$/,comment:/^\s*[#;].*$/};function c(e){var t={},n=null,r=[[n,t]];return e.split(/\r\n|\r|\n/).forEach((function(e){var i;s.comment.test(e)||(s.param.test(e)?(i=e.match(s.param),t[i[1]]=i[2]):s.section.test(e)&&(i=e.match(s.section),n=i[1],t={},r.push([n,t])))})),r}t.parse=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,new Promise((function(t,n){a.readFile(e,"utf8",(function(e,r){e?n(e):t(c(r))}))}))]}))}))},t.parseSync=function(e){return c(a.readFileSync(e,"utf8"))},t.parseString=c},dBaw:function(e,t,n){var r=n("xRX4"),i=n("kSq0");e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function e(t,n){var o=[];var a=i("{","}",t);if(!a||/\$$/.test(a.pre))return[t];var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(a.body);var l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(a.body);var d=c||l;var g=a.body.indexOf(",")>=0;if(!d&&!g)return a.post.match(/,.*\}/)?(t=a.pre+"{"+a.body+s+a.post,e(t)):[t];var v;if(d)v=a.body.split(/\.\./);else{if(1===(v=function e(t){if(!t)return[""];var n=[];var r=i("{","}",t);if(!r)return t.split(",");var o=r.pre;var a=r.body;var s=r.post;var c=o.split(",");c[c.length-1]+="{"+a+"}";var l=e(s);s.length&&(c[c.length-1]+=l.shift(),c.push.apply(c,l));n.push.apply(n,c);return n}(a.body)).length)if(1===(v=e(v[0],!1).map(f)).length)return(y=a.post.length?e(a.post,!1):[""]).map((function(e){return a.pre+v[0]+e}))}var b=a.pre;var y=a.post.length?e(a.post,!1):[""];var O;if(d){var w=u(v[0]),_=u(v[1]),j=Math.max(v[0].length,v[1].length),E=3==v.length?Math.abs(u(v[2])):1,P=h;_<w&&(E*=-1,P=m);var S=v.some(p);O=[];for(var C=w;P(C,_);C+=E){var T;if(l)"\\"===(T=String.fromCharCode(C))&&(T="");else if(T=String(C),S){var I=j-T.length;if(I>0){var k=new Array(I+1).join("0");T=C<0?"-"+k+T.slice(1):k+T}}O.push(T)}}else O=r(v,(function(t){return e(t,!1)}));for(var x=0;x<O.length;x++)for(var R=0;R<y.length;R++){var D=b+O[x]+y[R];(!n||d||D)&&o.push(D)}return o}(function(e){return e.split("\\\\").join(o).split("\\{").join(a).split("\\}").join(s).split("\\,").join(c).split("\\.").join(l)}(e),!0).map(d)};var o="\0SLASH"+Math.random()+"\0",a="\0OPEN"+Math.random()+"\0",s="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function u(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function d(e){return e.split(o).join("\\").split(a).join("{").split(s).join("}").split(c).join(",").split(l).join(".")}function f(e){return"{"+e+"}"}function p(e){return/^-?0\d/.test(e)}function h(e,t){return e<=t}function m(e,t){return e>=t}},eRq8:function(e,t,n){var r=n("Ul1K");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("qic4").default)("cfbd2bda",r,!0,{})},eTVF:function(e,t,n){"use strict";var r=n("ZfjD"),i=n("5M4W"),o=n("/EoU"),a=n("KG2+"),s=n("u67S"),c=n("yqOl");r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),n=a(t.length),r=c(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:s(e)),r}})},f8Rl:function(e,t,n){"use strict";n("+xU6");var r={props:{startSize:{type:Number,required:!0},side:{type:String,required:!0},minSize:{type:Number,required:!1,default:0},maxSize:{type:Number,required:!1,default:Number.MAX_VALUE},enabled:{type:Boolean,required:!1,default:!0}},data:function(){return{size:this.startSize,isDragging:!1}},computed:{className:function(){return["position-".concat(this.side,"-0"),{"is-dragging":this.isDragging}]},cursorStyle:function(){return this.enabled?{cursor:"ew-resize"}:{}}},methods:{resetSize:function(e){var t=this;e.preventDefault(),this.$emit("resize-start",this.size),this.size=this.startSize,this.$emit("update:size",this.size),this.$nextTick((function(){t.$emit("resize-end",t.size)}))},startDrag:function(e){this.enabled&&(e.preventDefault(),this.isDragging=!0,this.startPos=e.clientX,this.currentStartSize=this.size,document.addEventListener("mousemove",this.drag),document.addEventListener("mouseup",this.endDrag,{once:!0}),this.$emit("resize-start",this.size))},drag:function(e){e.preventDefault();var t=e.clientX-this.startPos;"left"===this.side&&(t=-t);var n=this.currentStartSize+t;n<this.minSize?n=this.minSize:n>this.maxSize&&(n=this.maxSize),this.size=n,this.$emit("update:size",n)},endDrag:function(e){e.preventDefault(),this.isDragging=!1,document.removeEventListener("mousemove",this.drag),this.$emit("resize-end",this.size)}}},i=n("tBpV"),o=Object(i.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"position-absolute position-top-0 position-bottom-0 drag-handle",class:this.className,style:this.cursorStyle,on:{mousedown:this.startDrag,dblclick:this.resetSize}})}),[],!1,null,null,null);t.a=o.exports},fY2I:function(e,t,n){"use strict";var r=n("3a3M"),i=n.n(r);t.a={bind:function(e,t){i()(e).popover(t.value)},unbind:function(e){i()(e).popover("dispose")}}},geB2:function(e,t,n){"use strict";var r=n("FHWC");n.n(r).a},hqF9:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("S6uq");var r=n("QwBj"),i=n("NmEs");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.options.data=t.data||{},this.options.notificationCallback=t.notificationCallback||function(){},this.intervalHeader="POLL-INTERVAL",this.timeoutID=null,this.canPoll=!0}var t,n,a;return t=e,(n=[{key:"checkConditions",value:function(e){var t=this,n=Object(i.F)(e.headers),o=parseInt(n[this.intervalHeader],10);o>0&&-1!==r.b.indexOf(e.status)&&this.canPoll&&(this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout((function(){t.makeRequest()}),o)),this.options.successCallback(e)}},{key:"makeRequest",value:function(){var e=this,t=this.options,n=t.resource,i=t.method,o=t.data,a=t.errorCallback,s=t.notificationCallback;return s(!0),n[i](o).then((function(t){e.checkConditions(t),s(!1)})).catch((function(e){s(!1),e.status!==r.a.ABORTED&&a(e)}))}},{key:"stop",value:function(){this.canPoll=!1,clearTimeout(this.timeoutID)}},{key:"enable",value:function(e){e&&e.data&&(this.options.data=e.data),this.canPoll=!0,e&&e.response&&this.checkConditions(e.response)}},{key:"restart",value:function(e){this.enable(e),this.makeRequest()}}])&&o(t.prototype,n),a&&o(t,a),e}()},i1WY:function(e,t,n){var r=n("ZfjD"),i=n("Tb18");r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},jsqw:function(e,t,n){var r=n("z4D1");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("qic4").default)("2823db4d",r,!0,{})},kSq0:function(e,t,n){"use strict";function r(e,t,n){e instanceof RegExp&&(e=i(e,n)),t instanceof RegExp&&(t=i(t,n));var r=o(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function i(e,t){var n=t.match(e);return n?n[0]:null}function o(e,t,n){var r,i,o,a,s,c=n.indexOf(e),l=n.indexOf(t,c+1),u=c;if(c>=0&&l>0){for(r=[],o=n.length;u>=0&&!s;)u==c?(r.push(u),c=n.indexOf(e,u+1)):1==r.length?s=[r.pop(),l]:((i=r.pop())<o&&(o=i,a=l),l=n.indexOf(t,u+1)),u=c<l&&c>=0?c:l;r.length&&(s=[o,a])}return s}e.exports=r,r.range=o},lNHW:function(e,t,n){!function(t){"use strict";var n=-1,r={onVisible:function(e){var t=r.isSupported();if(!t||!r.hidden())return e(),t;var n=r.change((function(t,i){r.hidden()||(r.unbind(n),e())}));return n},change:function(e){if(!r.isSupported())return!1;var t=n+=1;return r._callbacks[t]=e,r._listen(),t},unbind:function(e){delete r._callbacks[e]},afterPrerendering:function(e){var t=r.isSupported();if(!t||"prerender"!=r.state())return e(),t;var n=r.change((function(t,i){"prerender"!=i&&(r.unbind(n),e())}));return n},hidden:function(){return!(!r._doc.hidden&&!r._doc.webkitHidden)},state:function(){return r._doc.visibilityState||r._doc.webkitVisibilityState||"visible"},isSupported:function(){return!(!r._doc.visibilityState&&!r._doc.webkitVisibilityState)},_doc:document||{},_callbacks:{},_change:function(e){var t=r.state();for(var n in r._callbacks)r._callbacks[n].call(r._doc,e,t)},_listen:function(){if(!r._init){var e="visibilitychange";r._doc.webkitVisibilityState&&(e="webkit"+e);var t=function(){r._change.apply(r,arguments)};r._doc.addEventListener?r._doc.addEventListener(e,t):r._doc.attachEvent(e,t),r._init=!0}}};e.exports?e.exports=r:t.Visibility=r}(this)},lRsd:function(e,t,n){"use strict";
/*!
  * vue-router v3.0.2
  * (c) 2018 Evan You
  * @license MIT
  */function r(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function i(e,t){for(var n in t)e[n]=t[n];return e}var o={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var n=t.props,r=t.children,o=t.parent,a=t.data;a.routerView=!0;for(var s=o.$createElement,c=n.name,l=o.$route,u=o._routerViewCache||(o._routerViewCache={}),d=0,f=!1;o&&o._routerRoot!==o;)o.$vnode&&o.$vnode.data.routerView&&d++,o._inactive&&(f=!0),o=o.$parent;if(a.routerViewDepth=d,f)return s(u[c],a,r);var p=l.matched[d];if(!p)return u[c]=null,s();var h=u[c]=p.components[c];a.registerRouteInstance=function(e,t){var n=p.instances[c];(t&&n!==e||!t&&n===e)&&(p.instances[c]=t)},(a.hook||(a.hook={})).prepatch=function(e,t){p.instances[c]=t.componentInstance};var m=a.props=function(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0;default:0}}(l,p.props&&p.props[c]);if(m){m=a.props=i({},m);var g=a.attrs=a.attrs||{};for(var v in m)h.props&&v in h.props||(g[v]=m[v],delete m[v])}return s(h,a,r)}};var a=/[!'()*]/g,s=function(e){return"%"+e.charCodeAt(0).toString(16)},c=/%2C/g,l=function(e){return encodeURIComponent(e).replace(a,s).replace(c,",")},u=decodeURIComponent;function d(e){var t={};return(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var n=e.replace(/\+/g," ").split("="),r=u(n.shift()),i=n.length>0?u(n.join("=")):null;void 0===t[r]?t[r]=i:Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]})),t):t}function f(e){var t=e?Object.keys(e).map((function(t){var n=e[t];if(void 0===n)return"";if(null===n)return l(t);if(Array.isArray(n)){var r=[];return n.forEach((function(e){void 0!==e&&(null===e?r.push(l(t)):r.push(l(t)+"="+l(e)))})),r.join("&")}return l(t)+"="+l(n)})).filter((function(e){return e.length>0})).join("&"):null;return t?"?"+t:""}var p=/\/?$/;function h(e,t,n,r){var i=r&&r.options.stringifyQuery,o=t.query||{};try{o=m(o)}catch(e){}var a={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:o,params:t.params||{},fullPath:b(t,i),matched:e?v(e):[]};return n&&(a.redirectedFrom=b(n,i)),Object.freeze(a)}function m(e){if(Array.isArray(e))return e.map(m);if(e&&"object"==typeof e){var t={};for(var n in e)t[n]=m(e[n]);return t}return e}var g=h(null,{path:"/"});function v(e){for(var t=[];e;)t.unshift(e),e=e.parent;return t}function b(e,t){var n=e.path,r=e.query;void 0===r&&(r={});var i=e.hash;return void 0===i&&(i=""),(n||"/")+(t||f)(r)+i}function y(e,t){return t===g?e===t:!!t&&(e.path&&t.path?e.path.replace(p,"")===t.path.replace(p,"")&&e.hash===t.hash&&O(e.query,t.query):!(!e.name||!t.name)&&(e.name===t.name&&e.hash===t.hash&&O(e.query,t.query)&&O(e.params,t.params)))}function O(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e||!t)return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){var r=e[n],i=t[n];return"object"==typeof r&&"object"==typeof i?O(r,i):String(r)===String(i)}))}var w,_=[String,Object],j=[String,Array],E={name:"RouterLink",props:{to:{type:_,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:j,default:"click"}},render:function(e){var t=this,n=this.$router,r=this.$route,o=n.resolve(this.to,r,this.append),a=o.location,s=o.route,c=o.href,l={},u=n.options.linkActiveClass,d=n.options.linkExactActiveClass,f=null==u?"router-link-active":u,m=null==d?"router-link-exact-active":d,g=null==this.activeClass?f:this.activeClass,v=null==this.exactActiveClass?m:this.exactActiveClass,b=a.path?h(null,a,null,n):s;l[v]=y(r,b),l[g]=this.exact?l[v]:function(e,t){return 0===e.path.replace(p,"/").indexOf(t.path.replace(p,"/"))&&(!t.hash||e.hash===t.hash)&&function(e,t){for(var n in t)if(!(n in e))return!1;return!0}(e.query,t.query)}(r,b);var O=function(e){P(e)&&(t.replace?n.replace(a):n.push(a))},w={click:P};Array.isArray(this.event)?this.event.forEach((function(e){w[e]=O})):w[this.event]=O;var _={class:l};if("a"===this.tag)_.on=w,_.attrs={href:c};else{var j=function e(t){if(t)for(var n,r=0;r<t.length;r++){if("a"===(n=t[r]).tag)return n;if(n.children&&(n=e(n.children)))return n}}(this.$slots.default);if(j)j.isStatic=!1,(j.data=i({},j.data)).on=w,(j.data.attrs=i({},j.data.attrs)).href=c;else _.on=w}return e(this.tag,_,this.$slots.default)}};function P(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}var S="undefined"!=typeof window;function C(e,t,n){var r=e.charAt(0);if("/"===r)return e;if("?"===r||"#"===r)return t+e;var i=t.split("/");n&&i[i.length-1]||i.pop();for(var o=e.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function T(e){return e.replace(/\/\//g,"/")}var I=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},k=z,x=L,R=function(e,t){return N(L(e,t))},D=N,A=U,F=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function L(e,t){for(var n,r=[],i=0,o=0,a="",s=t&&t.delimiter||"/";null!=(n=F.exec(e));){var c=n[0],l=n[1],u=n.index;if(a+=e.slice(o,u),o=u+c.length,l)a+=l[1];else{var d=e[o],f=n[2],p=n[3],h=n[4],m=n[5],g=n[6],v=n[7];a&&(r.push(a),a="");var b=null!=f&&null!=d&&d!==f,y="+"===g||"*"===g,O="?"===g||"*"===g,w=n[2]||s,_=h||m;r.push({name:p||i++,prefix:f||"",delimiter:w,optional:O,repeat:y,partial:b,asterisk:!!v,pattern:_?B(_):v?".*":"[^"+q(w)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&r.push(a),r}function M(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function N(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,r){for(var i="",o=n||{},a=(r||{}).pretty?M:encodeURIComponent,s=0;s<e.length;s++){var c=e[s];if("string"!=typeof c){var l,u=o[c.name];if(null==u){if(c.optional){c.partial&&(i+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(I(u)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<u.length;d++){if(l=a(u[d]),!t[s].test(l))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(l)+"`");i+=(0===d?c.prefix:c.delimiter)+l}}else{if(l=c.asterisk?encodeURI(u).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):a(u),!t[s].test(l))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+l+'"');i+=c.prefix+l}}else i+=c}return i}}function q(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function B(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function $(e,t){return e.keys=t,e}function V(e){return e.sensitive?"":"i"}function U(e,t,n){I(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,i=!1!==n.end,o="",a=0;a<e.length;a++){var s=e[a];if("string"==typeof s)o+=q(s);else{var c=q(s.prefix),l="(?:"+s.pattern+")";t.push(s),s.repeat&&(l+="(?:"+c+l+")*"),o+=l=s.optional?s.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")"}}var u=q(n.delimiter||"/"),d=o.slice(-u.length)===u;return r||(o=(d?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),o+=i?"$":r&&d?"":"(?="+u+"|$)",$(new RegExp("^"+o,V(n)),t)}function z(e,t,n){return I(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return $(e,t)}(e,t):I(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(z(e[i],t,n).source);return $(new RegExp("(?:"+r.join("|")+")",V(n)),t)}(e,t,n):function(e,t,n){return U(L(e,n),t,n)}(e,t,n)}k.parse=x,k.compile=R,k.tokensToFunction=D,k.tokensToRegExp=A;var G=Object.create(null);function H(e,t,n){try{return(G[e]||(G[e]=k.compile(e)))(t||{},{pretty:!0})}catch(e){return""}}function W(e,t,n,r){var i=t||[],o=n||Object.create(null),a=r||Object.create(null);e.forEach((function(e){!function e(t,n,r,i,o,a){var s=i.path;var c=i.name;0;var l=i.pathToRegexpOptions||{};var u=function(e,t,n){n||(e=e.replace(/\/$/,""));if("/"===e[0])return e;if(null==t)return e;return T(t.path+"/"+e)}(s,o,l.strict);"boolean"==typeof i.caseSensitive&&(l.sensitive=i.caseSensitive);var d={path:u,regex:J(u,l),components:i.components||{default:i.component},instances:{},name:c,parent:o,matchAs:a,redirect:i.redirect,beforeEnter:i.beforeEnter,meta:i.meta||{},props:null==i.props?{}:i.components?i.props:{default:i.props}};i.children&&i.children.forEach((function(i){var o=a?T(a+"/"+i.path):void 0;e(t,n,r,i,d,o)}));if(void 0!==i.alias){(Array.isArray(i.alias)?i.alias:[i.alias]).forEach((function(a){var s={path:a,children:i.children};e(t,n,r,s,o,d.path||"/")}))}n[d.path]||(t.push(d.path),n[d.path]=d);c&&(r[c]||(r[c]=d))}(i,o,a,e)}));for(var s=0,c=i.length;s<c;s++)"*"===i[s]&&(i.push(i.splice(s,1)[0]),c--,s--);return{pathList:i,pathMap:o,nameMap:a}}function J(e,t){return k(e,[],t)}function K(e,t,n,r){var o="string"==typeof e?{path:e}:e;if(o.name||o._normalized)return o;if(!o.path&&o.params&&t){(o=i({},o))._normalized=!0;var a=i(i({},t.params),o.params);if(t.name)o.name=t.name,o.params=a;else if(t.matched.length){var s=t.matched[t.matched.length-1].path;o.path=H(s,a,t.path)}else 0;return o}var c=function(e){var t="",n="",r=e.indexOf("#");r>=0&&(t=e.slice(r),e=e.slice(0,r));var i=e.indexOf("?");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{path:e,query:n,hash:t}}(o.path||""),l=t&&t.path||"/",u=c.path?C(c.path,l,n||o.append):l,f=function(e,t,n){void 0===t&&(t={});var r,i=n||d;try{r=i(e||"")}catch(e){r={}}for(var o in t)r[o]=t[o];return r}(c.query,o.query,r&&r.options.parseQuery),p=o.hash||c.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:u,query:f,hash:p}}function Q(e,t){var n=W(e),r=n.pathList,i=n.pathMap,o=n.nameMap;function a(e,n,a){var s=K(e,n,!1,t),l=s.name;if(l){var u=o[l];if(!u)return c(null,s);var d=u.regex.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}));if("object"!=typeof s.params&&(s.params={}),n&&"object"==typeof n.params)for(var f in n.params)!(f in s.params)&&d.indexOf(f)>-1&&(s.params[f]=n.params[f]);if(u)return s.path=H(u.path,s.params),c(u,s,a)}else if(s.path){s.params={};for(var p=0;p<r.length;p++){var h=r[p],m=i[h];if(Y(m.regex,s.path,s.params))return c(m,s,a)}}return c(null,s)}function s(e,n){var r=e.redirect,i="function"==typeof r?r(h(e,n,null,t)):r;if("string"==typeof i&&(i={path:i}),!i||"object"!=typeof i)return c(null,n);var s=i,l=s.name,u=s.path,d=n.query,f=n.hash,p=n.params;if(d=s.hasOwnProperty("query")?s.query:d,f=s.hasOwnProperty("hash")?s.hash:f,p=s.hasOwnProperty("params")?s.params:p,l){o[l];return a({_normalized:!0,name:l,query:d,hash:f,params:p},void 0,n)}if(u){var m=function(e,t){return C(e,t.parent?t.parent.path:"/",!0)}(u,e);return a({_normalized:!0,path:H(m,p),query:d,hash:f},void 0,n)}return c(null,n)}function c(e,n,r){return e&&e.redirect?s(e,r||n):e&&e.matchAs?function(e,t,n){var r=a({_normalized:!0,path:H(n,t.params)});if(r){var i=r.matched,o=i[i.length-1];return t.params=r.params,c(o,t)}return c(null,t)}(0,n,e.matchAs):h(e,n,r,t)}return{match:a,addRoutes:function(e){W(e,r,i,o)}}}function Y(e,t,n){var r=t.match(e);if(!r)return!1;if(!n)return!0;for(var i=1,o=r.length;i<o;++i){var a=e.keys[i-1],s="string"==typeof r[i]?decodeURIComponent(r[i]):r[i];a&&(n[a.name||"pathMatch"]=s)}return!0}var Z=Object.create(null);function X(){window.history.replaceState({key:de()},"",window.location.href.replace(window.location.origin,"")),window.addEventListener("popstate",(function(e){var t;te(),e.state&&e.state.key&&(t=e.state.key,le=t)}))}function ee(e,t,n,r){if(e.app){var i=e.options.scrollBehavior;i&&e.app.$nextTick((function(){var o=function(){var e=de();if(e)return Z[e]}(),a=i.call(e,t,n,r?o:null);a&&("function"==typeof a.then?a.then((function(e){oe(e,o)})).catch((function(e){0})):oe(a,o))}))}}function te(){var e=de();e&&(Z[e]={x:window.pageXOffset,y:window.pageYOffset})}function ne(e){return ie(e.x)||ie(e.y)}function re(e){return{x:ie(e.x)?e.x:window.pageXOffset,y:ie(e.y)?e.y:window.pageYOffset}}function ie(e){return"number"==typeof e}function oe(e,t){var n,r="object"==typeof e;if(r&&"string"==typeof e.selector){var i=document.querySelector(e.selector);if(i){var o=e.offset&&"object"==typeof e.offset?e.offset:{};t=function(e,t){var n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{x:r.left-n.left-t.x,y:r.top-n.top-t.y}}(i,o={x:ie((n=o).x)?n.x:0,y:ie(n.y)?n.y:0})}else ne(e)&&(t=re(e))}else r&&ne(e)&&(t=re(e));t&&window.scrollTo(t.x,t.y)}var ae,se=S&&((-1===(ae=window.navigator.userAgent).indexOf("Android 2.")&&-1===ae.indexOf("Android 4.0")||-1===ae.indexOf("Mobile Safari")||-1!==ae.indexOf("Chrome")||-1!==ae.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history),ce=S&&window.performance&&window.performance.now?window.performance:Date,le=ue();function ue(){return ce.now().toFixed(3)}function de(){return le}function fe(e,t){te();var n=window.history;try{t?n.replaceState({key:le},"",e):(le=ue(),n.pushState({key:le},"",e))}catch(n){window.location[t?"replace":"assign"](e)}}function pe(e){fe(e,!0)}function he(e,t,n){var r=function(i){i>=e.length?n():e[i]?t(e[i],(function(){r(i+1)})):r(i+1)};r(0)}function me(e){return function(t,n,i){var o=!1,a=0,s=null;ge(e,(function(e,t,n,c){if("function"==typeof e&&void 0===e.cid){o=!0,a++;var l,u=ye((function(t){var r;((r=t).__esModule||be&&"Module"===r[Symbol.toStringTag])&&(t=t.default),e.resolved="function"==typeof t?t:w.extend(t),n.components[c]=t,--a<=0&&i()})),d=ye((function(e){var t="Failed to resolve async component "+c+": "+e;s||(s=r(e)?e:new Error(t),i(s))}));try{l=e(u,d)}catch(e){d(e)}if(l)if("function"==typeof l.then)l.then(u,d);else{var f=l.component;f&&"function"==typeof f.then&&f.then(u,d)}}})),o||i()}}function ge(e,t){return ve(e.map((function(e){return Object.keys(e.components).map((function(n){return t(e.components[n],e.instances[n],e,n)}))})))}function ve(e){return Array.prototype.concat.apply([],e)}var be="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function ye(e){var t=!1;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];if(!t)return t=!0,e.apply(this,n)}}var Oe=function(e,t){this.router=e,this.base=function(e){if(!e)if(S){var t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else e="/";"/"!==e.charAt(0)&&(e="/"+e);return e.replace(/\/$/,"")}(t),this.current=g,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};function we(e,t,n,r){var i=ge(e,(function(e,r,i,o){var a=function(e,t){"function"!=typeof e&&(e=w.extend(e));return e.options[t]}(e,t);if(a)return Array.isArray(a)?a.map((function(e){return n(e,r,i,o)})):n(a,r,i,o)}));return ve(r?i.reverse():i)}function _e(e,t){if(t)return function(){return e.apply(t,arguments)}}Oe.prototype.listen=function(e){this.cb=e},Oe.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},Oe.prototype.onError=function(e){this.errorCbs.push(e)},Oe.prototype.transitionTo=function(e,t,n){var r=this,i=this.router.match(e,this.current);this.confirmTransition(i,(function(){r.updateRoute(i),t&&t(i),r.ensureURL(),r.ready||(r.ready=!0,r.readyCbs.forEach((function(e){e(i)})))}),(function(e){n&&n(e),e&&!r.ready&&(r.ready=!0,r.readyErrorCbs.forEach((function(t){t(e)})))}))},Oe.prototype.confirmTransition=function(e,t,n){var i=this,o=this.current,a=function(e){r(e)&&(i.errorCbs.length?i.errorCbs.forEach((function(t){t(e)})):console.error(e)),n&&n(e)};if(y(e,o)&&e.matched.length===o.matched.length)return this.ensureURL(),a();var s=function(e,t){var n,r=Math.max(e.length,t.length);for(n=0;n<r&&e[n]===t[n];n++);return{updated:t.slice(0,n),activated:t.slice(n),deactivated:e.slice(n)}}(this.current.matched,e.matched),c=s.updated,l=s.deactivated,u=s.activated,d=[].concat(function(e){return we(e,"beforeRouteLeave",_e,!0)}(l),this.router.beforeHooks,function(e){return we(e,"beforeRouteUpdate",_e)}(c),u.map((function(e){return e.beforeEnter})),me(u));this.pending=e;var f=function(t,n){if(i.pending!==e)return a();try{t(e,o,(function(e){!1===e||r(e)?(i.ensureURL(!0),a(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(a(),"object"==typeof e&&e.replace?i.replace(e):i.push(e)):n(e)}))}catch(e){a(e)}};he(d,f,(function(){var n=[];he(function(e,t,n){return we(e,"beforeRouteEnter",(function(e,r,i,o){return function(e,t,n,r,i){return function(o,a,s){return e(o,a,(function(e){s(e),"function"==typeof e&&r.push((function(){!function e(t,n,r,i){n[r]&&!n[r]._isBeingDestroyed?t(n[r]):i()&&setTimeout((function(){e(t,n,r,i)}),16)}(e,t.instances,n,i)}))}))}}(e,i,o,t,n)}))}(u,n,(function(){return i.current===e})).concat(i.router.resolveHooks),f,(function(){if(i.pending!==e)return a();i.pending=null,t(e),i.router.app&&i.router.app.$nextTick((function(){n.forEach((function(e){e()}))}))}))}))},Oe.prototype.updateRoute=function(e){var t=this.current;this.current=e,this.cb&&this.cb(e),this.router.afterHooks.forEach((function(n){n&&n(e,t)}))};var je=function(e){function t(t,n){var r=this;e.call(this,t,n);var i=t.options.scrollBehavior,o=se&&i;o&&X();var a=Ee(this.base);window.addEventListener("popstate",(function(e){var n=r.current,i=Ee(r.base);r.current===g&&i===a||r.transitionTo(i,(function(e){o&&ee(t,e,n,!0)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,n){var r=this,i=this.current;this.transitionTo(e,(function(e){fe(T(r.base+e.fullPath)),ee(r.router,e,i,!1),t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var r=this,i=this.current;this.transitionTo(e,(function(e){pe(T(r.base+e.fullPath)),ee(r.router,e,i,!1),t&&t(e)}),n)},t.prototype.ensureURL=function(e){if(Ee(this.base)!==this.current.fullPath){var t=T(this.base+this.current.fullPath);e?fe(t):pe(t)}},t.prototype.getCurrentLocation=function(){return Ee(this.base)},t}(Oe);function Ee(e){var t=decodeURI(window.location.pathname);return e&&0===t.indexOf(e)&&(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}var Pe=function(e){function t(t,n,r){e.call(this,t,n),r&&function(e){var t=Ee(e);if(!/^\/#/.test(t))return window.location.replace(T(e+"/#"+t)),!0}(this.base)||Se()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this,t=this.router.options.scrollBehavior,n=se&&t;n&&X(),window.addEventListener(se?"popstate":"hashchange",(function(){var t=e.current;Se()&&e.transitionTo(Ce(),(function(r){n&&ee(e.router,r,t,!0),se||ke(r.fullPath)}))}))},t.prototype.push=function(e,t,n){var r=this,i=this.current;this.transitionTo(e,(function(e){Ie(e.fullPath),ee(r.router,e,i,!1),t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var r=this,i=this.current;this.transitionTo(e,(function(e){ke(e.fullPath),ee(r.router,e,i,!1),t&&t(e)}),n)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;Ce()!==t&&(e?Ie(t):ke(t))},t.prototype.getCurrentLocation=function(){return Ce()},t}(Oe);function Se(){var e=Ce();return"/"===e.charAt(0)||(ke("/"+e),!1)}function Ce(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":decodeURI(e.slice(t+1))}function Te(e){var t=window.location.href,n=t.indexOf("#");return(n>=0?t.slice(0,n):t)+"#"+e}function Ie(e){se?fe(Te(e)):window.location.hash=e}function ke(e){se?pe(Te(e)):window.location.replace(Te(e))}var xe=function(e){function t(t,n){e.call(this,t,n),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,n){var r=this;this.transitionTo(e,(function(e){r.stack=r.stack.slice(0,r.index+1).concat(e),r.index++,t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var r=this;this.transitionTo(e,(function(e){r.stack=r.stack.slice(0,r.index).concat(e),t&&t(e)}),n)},t.prototype.go=function(e){var t=this,n=this.index+e;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,(function(){t.index=n,t.updateRoute(r)}))}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(Oe),Re=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Q(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!se&&!1!==e.fallback,this.fallback&&(t="hash"),S||(t="abstract"),this.mode=t,t){case"history":this.history=new je(this,e.base);break;case"hash":this.history=new Pe(this,e.base,this.fallback);break;case"abstract":this.history=new xe(this,e.base);break;default:0}},De={currentRoute:{configurable:!0}};function Ae(e,t){return e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}Re.prototype.match=function(e,t,n){return this.matcher.match(e,t,n)},De.currentRoute.get=function(){return this.history&&this.history.current},Re.prototype.init=function(e){var t=this;if(this.apps.push(e),!this.app){this.app=e;var n=this.history;if(n instanceof je)n.transitionTo(n.getCurrentLocation());else if(n instanceof Pe){var r=function(){n.setupListeners()};n.transitionTo(n.getCurrentLocation(),r,r)}n.listen((function(e){t.apps.forEach((function(t){t._route=e}))}))}},Re.prototype.beforeEach=function(e){return Ae(this.beforeHooks,e)},Re.prototype.beforeResolve=function(e){return Ae(this.resolveHooks,e)},Re.prototype.afterEach=function(e){return Ae(this.afterHooks,e)},Re.prototype.onReady=function(e,t){this.history.onReady(e,t)},Re.prototype.onError=function(e){this.history.onError(e)},Re.prototype.push=function(e,t,n){this.history.push(e,t,n)},Re.prototype.replace=function(e,t,n){this.history.replace(e,t,n)},Re.prototype.go=function(e){this.history.go(e)},Re.prototype.back=function(){this.go(-1)},Re.prototype.forward=function(){this.go(1)},Re.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map((function(e){return Object.keys(e.components).map((function(t){return e.components[t]}))}))):[]},Re.prototype.resolve=function(e,t,n){var r=K(e,t||this.history.current,n,this),i=this.match(r,t),o=i.redirectedFrom||i.fullPath;return{location:r,route:i,href:function(e,t,n){var r="hash"===n?"#"+t:t;return e?T(e+"/"+r):r}(this.history.base,o,this.mode),normalizedTo:r,resolved:i}},Re.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Re.prototype,De),Re.install=function e(t){if(!e.installed||w!==t){e.installed=!0,w=t;var n=function(e){return void 0!==e},r=function(e,t){var r=e.$options._parentVnode;n(r)&&n(r=r.data)&&n(r=r.registerRouteInstance)&&r(e,t)};t.mixin({beforeCreate:function(){n(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",o),t.component("RouterLink",E);var i=t.config.optionMergeStrategies;i.beforeRouteEnter=i.beforeRouteLeave=i.beforeRouteUpdate=i.created}},Re.version="3.0.2",S&&window.Vue&&window.Vue.use(Re),t.a=Re},muR1:function(e){e.exports=JSON.parse('[{"id":"file-finder","label":"File finder","bindings":["CtrlCmd+KEY_P"],"action":{"name":"toggleFileFinder","params":true}},{"id":"save-files","label":"Save files","bindings":["CtrlCmd+KEY_S"],"action":{"name":"triggerFilesChange"}}]')},nBaz:function(e,t,n){"use strict";n("+xU6"),n("9U97"),n("8Qi2"),n("G3fq");var r=n("0AwG"),i=n("FxFN"),o=7;function a(e){var t="string"==typeof e?Object(i.a)(e):e;return"bg".concat(t%o+1)}function s(e){return Object(r.g)(e)||" "}var c={props:{entityId:{type:[Number,String],required:!0},entityName:{type:String,required:!0},sizeClass:{type:String,required:!1,default:"s40"}},computed:{identiconBackgroundClass:function(){return a(this.entityId)},identiconTitle:function(){return s(this.entityName)}}},l=n("tBpV"),u=Object(l.a)(c,(function(){var e=this.$createElement;return(this._self._c||e)("div",{ref:"identicon",staticClass:"avatar identicon",class:[this.sizeClass,this.identiconBackgroundClass]},[this._v("\n  "+this._s(this.identiconTitle)+"\n")])}),[],!1,null,null,null);t.a=u.exports},pIt4:function(e,t,n){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"n",(function(){return o})),n.d(t,"L",(function(){return a})),n.d(t,"w",(function(){return s})),n.d(t,"J",(function(){return c})),n.d(t,"G",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"p",(function(){return p})),n.d(t,"F",(function(){return h})),n.d(t,"I",(function(){return m})),n.d(t,"R",(function(){return g})),n.d(t,"k",(function(){return v})),n.d(t,"t",(function(){return b})),n.d(t,"u",(function(){return y})),n.d(t,"i",(function(){return O})),n.d(t,"s",(function(){return w})),n.d(t,"v",(function(){return _})),n.d(t,"b",(function(){return j})),n.d(t,"bb",(function(){return E})),n.d(t,"d",(function(){return P})),n.d(t,"q",(function(){return S})),n.d(t,"r",(function(){return C})),n.d(t,"x",(function(){return T})),n.d(t,"D",(function(){return I})),n.d(t,"Z",(function(){return k})),n.d(t,"X",(function(){return x})),n.d(t,"cb",(function(){return R})),n.d(t,"Y",(function(){return D})),n.d(t,"l",(function(){return A})),n.d(t,"C",(function(){return F})),n.d(t,"A",(function(){return L})),n.d(t,"W",(function(){return M})),n.d(t,"H",(function(){return N})),n.d(t,"E",(function(){return q})),n.d(t,"ab",(function(){return B})),n.d(t,"o",(function(){return $})),n.d(t,"a",(function(){return V})),n.d(t,"z",(function(){return U})),n.d(t,"y",(function(){return z})),n.d(t,"B",(function(){return G})),n.d(t,"N",(function(){return H})),n.d(t,"m",(function(){return W})),n.d(t,"K",(function(){return J})),n.d(t,"e",(function(){return K})),n.d(t,"f",(function(){return Q})),n.d(t,"g",(function(){return Y})),n.d(t,"P",(function(){return Z})),n.d(t,"Q",(function(){return X})),n.d(t,"O",(function(){return ee})),n.d(t,"U",(function(){return te})),n.d(t,"T",(function(){return ne})),n.d(t,"V",(function(){return re})),n.d(t,"S",(function(){return ie})),n.d(t,"M",(function(){return oe}));var o="inline",a="parallel",s="match",c="old-nonewline",l="new-nonewline",u="context",d="empty-cell",f="DiffNote",p="LegacyDiffNote",h="new",m="old",g="text",v="image",b="left",y="right",O="diff_view",w="is-over",_="unfold js-unfold",j="diff-expanded",E=20,P=3,S=17,C=100,T=2e3,I="mr_tree_show",k="tree",x="mr_diff_tree_list",R="mr_show_whitespace",D="mr_tree_list_width",A=320,F=240,L=400,M=260,N="old_line",q="new_line",B="type",$="left",V="container-limited limit-container-width mx-lg-auto px-3",U=500,z=30,G=2,H=200,W="highlighted_diff_lines",J="parallel_diff_lines",K=20,Q=-1,Y=-2,Z="idle",X="loading",ee="errored",te="LOAD_START",ne="LOAD_ERROR",re="LOAD_SUCCEED",ie="ACKNOWLEDGE_ERROR",oe=(i(r={},"".concat(Z,":").concat(te),X),i(r,"".concat(X,":").concat(ne),ee),i(r,"".concat(X,":").concat(re),Z),i(r,"".concat(ee,":").concat(te),X),i(r,"".concat(ee,":").concat(ie),Z),r)},pJDX:function(e,t,n){var r=n("LlRA"),i=n("2v8U"),o=n("D3R9"),a=n("P/Kr");e.exports=function(e,t){return(a(e)?r:i)(e,o(t))}},qykh:function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n.file-addition,\n.file-addition-solid {\n  color: #1aaa55;\n}\n.file-modified,\n.file-modified-solid {\n  color: #fc9403;\n}\n.file-deletion,\n.file-deletion-solid {\n  color: #db3b21;\n}\n",""])},rOrh:function(e,t,n){"use strict";n("9U97"),n("+xU6");var r=n("LLbv"),i=n("len0"),o=n("8eeg"),a=n("/lV4"),s={components:{Icon:i.a},directives:{GlTooltip:r.a},props:{file:{type:Object,required:!0},showTooltip:{type:Boolean,required:!1,default:!1},showStagedIcon:{type:Boolean,required:!1,default:!0},size:{type:Number,required:!1,default:12},isCentered:{type:Boolean,required:!1,default:!0}},computed:{changedIcon:function(){var e=this.file.staged&&this.showStagedIcon?"-solid":"";return"".concat(Object(o.a)(this.file).icon).concat(e)},changedIconClass:function(){return"".concat(this.changedIcon," float-left d-block")},tooltipTitle:function(){if(this.showTooltip)return this.file.deleted?Object(a.a)("Deleted"):this.file.tempFile?Object(a.a)("Added"):this.file.changed?Object(a.a)("Modified"):void 0},showIcon:function(){return this.file.changed||this.file.tempFile||this.file.staged||this.file.deleted||this.file.prevPath}}},c=(n("geB2"),n("tBpV")),l=Object(c.a)(s,(function(){var e=this.$createElement,t=this._self._c||e;return t("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.right",modifiers:{right:!0}}],staticClass:"file-changed-icon d-inline-block",class:{"ml-auto":this.isCentered},attrs:{title:this.tooltipTitle}},[this.showIcon?t("icon",{class:this.changedIconClass,attrs:{name:this.changedIcon,size:this.size}}):this._e()],1)}),[],!1,null,null,null);t.a=l.exports},sHIo:function(e,t,n){"use strict";t.a=function(){return{inject:{glFeatures:{from:"glFeatures",default:function(){return{}}}}}}},uJ4d:function(e,t,n){var r=n("8EXu");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("qic4").default)("59004eb2",r,!0,{})},"unS+":function(e,t){},wryt:function(e,t,n){"use strict";n("+xU6");var r={name:"FileTree",props:{fileRowComponent:{type:Object,required:!0},level:{type:Number,required:!0},file:{type:Object,required:!0}},computed:{childFilesLevel:function(){return this.file.isHeader?0:this.level+1}}},i=n("tBpV"),o=Object(i.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n(e.fileRowComponent,e._g(e._b({tag:"component",attrs:{level:e.level,file:e.file}},"component",e.$attrs,!1),e.$listeners)),e._v(" "),e.file.opened||e.file.isHeader?e._l(e.file.tree,(function(t){return n("file-tree",e._g(e._b({key:t.key,attrs:{"file-row-component":e.fileRowComponent,level:e.childFilesLevel,file:t}},"file-tree",e.$attrs,!1),e.$listeners))})):e._e()],2)}),[],!1,null,null,null);t.a=o.exports},xRX4:function(e,t){e.exports=function(e,t){for(var r=[],i=0;i<e.length;i++){var o=t(e[i],i);n(o)?r.push.apply(r,o):r.push(o)}return r};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},xYPE:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"redirectToUrl",(function(){return eo})),n.d(r,"setInitialData",(function(){return to})),n.d(r,"discardAllChanges",(function(){return no})),n.d(r,"setResizingStatus",(function(){return ro})),n.d(r,"createTempEntry",(function(){return io})),n.d(r,"addTempImage",(function(){return oo})),n.d(r,"scrollToTab",(function(){return ao})),n.d(r,"stageAllChanges",(function(){return so})),n.d(r,"unstageAllChanges",(function(){return co})),n.d(r,"updateViewer",(function(){return lo})),n.d(r,"updateDelayViewerUpdated",(function(){return uo})),n.d(r,"updateActivityBarView",(function(){return fo})),n.d(r,"setEmptyStateSvgs",(function(){return po})),n.d(r,"setCurrentBranchId",(function(){return ho})),n.d(r,"updateTempFlagForEntry",(function(){return mo})),n.d(r,"toggleFileFinder",(function(){return go})),n.d(r,"setLinks",(function(){return vo})),n.d(r,"setErrorMessage",(function(){return bo})),n.d(r,"deleteEntry",(function(){return yo})),n.d(r,"resetOpenFiles",(function(){return Oo})),n.d(r,"renameEntry",(function(){return wo})),n.d(r,"getBranchData",(function(){return _o})),n.d(r,"toggleTreeOpen",(function(){return yi})),n.d(r,"showTreeEntry",(function(){return Oi})),n.d(r,"handleTreeEntryAction",(function(){return wi})),n.d(r,"setDirectoryData",(function(){return _i})),n.d(r,"getFiles",(function(){return ji})),n.d(r,"restoreTree",(function(){return Ei})),n.d(r,"closeFile",(function(){return Pi})),n.d(r,"setFileActive",(function(){return Si})),n.d(r,"getFileData",(function(){return Ci})),n.d(r,"setFileMrChange",(function(){return Ti})),n.d(r,"getRawFileData",(function(){return Ii})),n.d(r,"changeFileContent",(function(){return ki})),n.d(r,"setFileLanguage",(function(){return xi})),n.d(r,"setEditorPosition",(function(){return Ri})),n.d(r,"setFileViewMode",(function(){return Di})),n.d(r,"restoreOriginalFile",(function(){return Ai})),n.d(r,"discardFileChanges",(function(){return Fi})),n.d(r,"stageChange",(function(){return Li})),n.d(r,"unstageChange",(function(){return Mi})),n.d(r,"openPendingTab",(function(){return Ni})),n.d(r,"removePendingTab",(function(){return qi})),n.d(r,"triggerFilesChange",(function(){return Bi})),n.d(r,"getProjectData",(function(){return $i})),n.d(r,"refreshLastCommitData",(function(){return Vi})),n.d(r,"createNewBranchFromDefault",(function(){return Ui})),n.d(r,"showBranchNotFoundError",(function(){return zi})),n.d(r,"loadEmptyBranch",(function(){return Gi})),n.d(r,"loadFile",(function(){return Hi})),n.d(r,"loadBranch",(function(){return Wi})),n.d(r,"openBranch",(function(){return Ji})),n.d(r,"getMergeRequestsForBranch",(function(){return Ki})),n.d(r,"getMergeRequestData",(function(){return Qi})),n.d(r,"getMergeRequestChanges",(function(){return Yi})),n.d(r,"getMergeRequestVersions",(function(){return Zi})),n.d(r,"openMergeRequest",(function(){return Xi}));var i={};n.r(i),n.d(i,"activeFile",(function(){return Io})),n.d(i,"addedFiles",(function(){return ko})),n.d(i,"modifiedFiles",(function(){return xo})),n.d(i,"projectsWithTrees",(function(){return Ro})),n.d(i,"currentMergeRequest",(function(){return Do})),n.d(i,"findProject",(function(){return Ao})),n.d(i,"currentProject",(function(){return Fo})),n.d(i,"emptyRepo",(function(){return Lo})),n.d(i,"currentTree",(function(){return Mo})),n.d(i,"hasMergeRequest",(function(){return No})),n.d(i,"allBlobs",(function(){return qo})),n.d(i,"getChangedFile",(function(){return Bo})),n.d(i,"getStagedFile",(function(){return $o})),n.d(i,"getOpenFile",(function(){return Vo})),n.d(i,"lastOpenedFile",(function(){return Uo})),n.d(i,"isEditModeActive",(function(){return zo})),n.d(i,"isCommitModeActive",(function(){return Go})),n.d(i,"isReviewModeActive",(function(){return Ho})),n.d(i,"someUncommittedChanges",(function(){return Wo})),n.d(i,"getChangesInFolder",(function(){return Jo})),n.d(i,"getUnstagedFilesCountForPath",(function(){return Ko})),n.d(i,"getStagedFilesCountForPath",(function(){return Qo})),n.d(i,"lastCommit",(function(){return Yo})),n.d(i,"findBranch",(function(){return Zo})),n.d(i,"currentBranch",(function(){return Xo})),n.d(i,"branchName",(function(){return ea})),n.d(i,"packageJson",(function(){return ta})),n.d(i,"isOnDefaultBranch",(function(){return na})),n.d(i,"canPushToBranch",(function(){return ra})),n.d(i,"isFileDeletedAndReadded",(function(){return ia})),n.d(i,"getDiffInfo",(function(){return oa})),n.d(i,"findProjectPermissions",(function(){return aa})),n.d(i,"canReadMergeRequests",(function(){return sa})),n.d(i,"canCreateMergeRequests",(function(){return ca})),n.d(i,"canPushCode",(function(){return la})),n.d(i,"entryExists",(function(){return ua})),n.d(i,"getAvailableFileName",(function(){return da}));var o={};n.r(o),n.d(o,"updateCommitMessage",(function(){return Qa})),n.d(o,"discardDraft",(function(){return Ya})),n.d(o,"updateCommitAction",(function(){return Za})),n.d(o,"toggleShouldCreateMR",(function(){return Xa})),n.d(o,"updateBranchName",(function(){return es})),n.d(o,"setLastCommitMessage",(function(){return ts})),n.d(o,"updateFilesAfterCommit",(function(){return ns})),n.d(o,"commitChanges",(function(){return rs}));var a={};n.r(a),n.d(a,"discardDraftButtonDisabled",(function(){return os})),n.d(a,"placeholderBranchName",(function(){return as})),n.d(a,"branchName",(function(){return ss})),n.d(a,"preBuiltCommitMessage",(function(){return cs})),n.d(a,"isCreatingNewBranch",(function(){return ls})),n.d(a,"shouldHideNewMrOption",(function(){return us})),n.d(a,"shouldDisableNewMrOption",(function(){return ds})),n.d(a,"shouldCreateMR",(function(){return fs}));var s={};n.r(s),n.d(s,"clearEtagPoll",(function(){return ys})),n.d(s,"stopPipelinePolling",(function(){return Os})),n.d(s,"restartPipelinePolling",(function(){return ws})),n.d(s,"forcePipelineRequest",(function(){return _s})),n.d(s,"requestLatestPipeline",(function(){return js})),n.d(s,"receiveLatestPipelineError",(function(){return Es})),n.d(s,"receiveLatestPipelineSuccess",(function(){return Ps})),n.d(s,"fetchLatestPipeline",(function(){return Ss})),n.d(s,"requestJobs",(function(){return Cs})),n.d(s,"receiveJobsError",(function(){return Ts})),n.d(s,"receiveJobsSuccess",(function(){return Is})),n.d(s,"fetchJobs",(function(){return ks})),n.d(s,"toggleStageCollapsed",(function(){return xs})),n.d(s,"setDetailJob",(function(){return Rs})),n.d(s,"requestJobTrace",(function(){return Ds})),n.d(s,"receiveJobTraceError",(function(){return As})),n.d(s,"receiveJobTraceSuccess",(function(){return Fs})),n.d(s,"fetchJobTrace",(function(){return Ls})),n.d(s,"resetLatestPipeline",(function(){return Ms})),n.d(s,"default",(function(){return Ns}));var c={};n.r(c),n.d(c,"hasLatestPipeline",(function(){return Ks})),n.d(c,"pipelineFailed",(function(){return Qs})),n.d(c,"failedStages",(function(){return Ys})),n.d(c,"failedJobsCount",(function(){return Zs})),n.d(c,"jobsCount",(function(){return Xs})),n.d(c,"default",(function(){return ec}));var l={};n.r(l),n.d(l,"requestMergeRequests",(function(){return ic})),n.d(l,"receiveMergeRequestsError",(function(){return oc})),n.d(l,"receiveMergeRequestsSuccess",(function(){return ac})),n.d(l,"fetchMergeRequests",(function(){return sc})),n.d(l,"resetMergeRequests",(function(){return cc})),n.d(l,"default",(function(){return lc}));var u={};n.r(u),n.d(u,"requestBranches",(function(){return hc})),n.d(u,"receiveBranchesError",(function(){return mc})),n.d(u,"receiveBranchesSuccess",(function(){return gc})),n.d(u,"fetchBranches",(function(){return vc})),n.d(u,"resetBranches",(function(){return bc})),n.d(u,"default",(function(){return yc}));var d={};n.r(d),n.d(d,"requestTemplateTypes",(function(){return jc})),n.d(d,"receiveTemplateTypesError",(function(){return Ec})),n.d(d,"receiveTemplateTypesSuccess",(function(){return Pc})),n.d(d,"fetchTemplateTypes",(function(){return Sc})),n.d(d,"setSelectedTemplateType",(function(){return Cc})),n.d(d,"receiveTemplateError",(function(){return Tc})),n.d(d,"fetchTemplate",(function(){return Ic})),n.d(d,"setFileTemplate",(function(){return kc})),n.d(d,"undoFileTemplate",(function(){return xc}));var f={};n.r(f),n.d(f,"templateTypes",(function(){return Rc})),n.d(f,"showFileTemplatesBar",(function(){return Dc})),n.d(f,"default",(function(){return Ac}));var p={};n.r(p),n.d(p,"toggleOpen",(function(){return Nc})),n.d(p,"open",(function(){return qc})),n.d(p,"close",(function(){return Bc}));var h={};n.r(h),n.d(h,"isAliveView",(function(){return $c}));var m={};n.r(m),n.d(m,"pingUsage",(function(){return zc})),n.d(m,"default",(function(){return Gc}));var g={};n.r(g),n.d(g,"push",(function(){return Qc}));var v={};n.r(v),n.d(v,"init",(function(){return Of})),n.d(v,"hideSplash",(function(){return wf})),n.d(v,"setPaths",(function(){return _f})),n.d(v,"requestConfigCheck",(function(){return Rf})),n.d(v,"receiveConfigCheckSuccess",(function(){return Df})),n.d(v,"receiveConfigCheckError",(function(){return Af})),n.d(v,"fetchConfigCheck",(function(){return Ff})),n.d(v,"requestRunnersCheck",(function(){return Lf})),n.d(v,"receiveRunnersCheckSuccess",(function(){return Mf})),n.d(v,"receiveRunnersCheckError",(function(){return Nf})),n.d(v,"retryRunnersCheck",(function(){return qf})),n.d(v,"fetchRunnersCheck",(function(){return Bf})),n.d(v,"requestStartSession",(function(){return $f})),n.d(v,"receiveStartSessionSuccess",(function(){return Vf})),n.d(v,"receiveStartSessionError",(function(){return Uf})),n.d(v,"startSession",(function(){return zf})),n.d(v,"requestStopSession",(function(){return Gf})),n.d(v,"receiveStopSessionSuccess",(function(){return Hf})),n.d(v,"receiveStopSessionError",(function(){return Wf})),n.d(v,"stopSession",(function(){return Jf})),n.d(v,"killSession",(function(){return Kf})),n.d(v,"restartSession",(function(){return Qf})),n.d(v,"pollSessionStatus",(function(){return Yf})),n.d(v,"stopPollingSessionStatus",(function(){return Zf})),n.d(v,"receiveSessionStatusSuccess",(function(){return Xf})),n.d(v,"receiveSessionStatusError",(function(){return ep})),n.d(v,"fetchSessionStatus",(function(){return tp})),n.d(v,"default",(function(){return np}));var b={};n.r(b),n.d(b,"allCheck",(function(){return rp})),n.d(b,"default",(function(){return ip}));var y={};n.r(y),n.d(y,"upload",(function(){return Dp})),n.d(y,"stop",(function(){return Ap})),n.d(y,"start",(function(){return Fp}));n("va8A"),n("kO4A"),n("+kFb"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h");var O=n("uYOL"),w=n.n(O),_=n("jB52"),j=n("yi8e"),E=n("0KyK"),P=(n("EWC9"),n("GTGS")),S=n("FkSe"),C=n("/lV4"),T=n("BAGK"),I=n("TwKd"),k=(n("9U97"),n("S6uq"),n("x/6R"),n("gyUR"),n("8Qi2"),n("MRnW"),n("IdsT"),n("pBsb"),n("orcL"),n("XRO8")),x=n("1cpz"),R=n("WXKx");function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L={components:{GlModal:x.a},data:function(){return{entryName:"",modalType:T.t.blob,path:""}},computed:A(A(A({},Object(j.e)(["entries"])),Object(j.d)("fileTemplates",["templateTypes"])),{},{modalTitle:function(){var e=this.entries[this.path];return this.modalType===T.t.tree?Object(C.a)("Create new directory"):this.modalType===T.t.rename?e.type===T.t.tree?Object(C.a)("Rename folder"):Object(C.a)("Rename file"):Object(C.a)("Create new file")},buttonLabel:function(){var e=this.entries[this.path];return this.modalType===T.t.tree?Object(C.a)("Create directory"):this.modalType===T.t.rename?e.type===T.t.tree?Object(C.a)("Rename folder"):Object(C.a)("Rename file"):Object(C.a)("Create file")},isCreatingNewFile:function(){return this.modalType===T.t.blob},placeholder:function(){return this.isCreatingNewFile?"dir/file_name":"dir/"}}),methods:A(A({},Object(j.c)(["createTempEntry","renameEntry"])),{},{submitForm:function(){if(this.entryName=Object(R.j)(this.entryName),this.modalType===T.t.rename)if(this.entries[this.entryName]&&!this.entries[this.entryName].deleted)Object(k.a)(Object(C.e)(Object(C.d)('The name "%{name}" is already taken in this directory.'),{name:this.entryName}),"alert",document,null,!1,!0);else{var e=this.entryName.split("/"),t=e.pop();e=e.join("/"),this.renameEntry({path:this.path,name:t,parentPath:e})}else this.createTempEntry({name:this.entryName,type:this.modalType})},createFromTemplate:function(e){var t=Object(R.c)(this.entryName),n=t?"".concat(t,"/").concat(e.name):e.name;this.createTempEntry({name:n,type:this.modalType}),this.$refs.modal.toggle()},focusInput:function(){var e,t=null===(e=this.entries[this.entryName])||void 0===e?void 0:e.name,n=this.$refs.fieldName.value;this.$refs.fieldName.focus(),t&&this.$refs.fieldName.setSelectionRange(n.indexOf(t),n.length)},resetData:function(){this.entryName="",this.path="",this.modalType=T.t.blob},open:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.t.blob,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.modalType=t,this.path=n,this.modalType===T.t.rename?this.entryName=n:this.entryName=n?"".concat(n,"/"):"",this.$refs.modal.show(),this.$nextTick((function(){return e.focusInput()}))},close:function(){this.$refs.modal.hide()}})},M=n("tBpV"),N=Object(M.a)(L,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-modal",{ref:"modal",attrs:{"modal-id":"ide-new-entry","data-qa-selector":"new_file_modal",title:e.modalTitle,"ok-title":e.buttonLabel,"ok-variant":"success",size:"lg"},on:{ok:e.submitForm,hide:e.resetData}},[n("div",{staticClass:"form-group row"},[n("label",{staticClass:"label-bold col-form-label col-sm-2"},[e._v(" "+e._s(e.__("Name"))+" ")]),e._v(" "),n("div",{staticClass:"col-sm-10"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.entryName,expression:"entryName",modifiers:{trim:!0}}],ref:"fieldName",staticClass:"form-control",attrs:{type:"text","data-qa-selector":"file_name_field",placeholder:e.placeholder},domProps:{value:e.entryName},on:{input:function(t){t.target.composing||(e.entryName=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),e.isCreatingNewFile?n("ul",{staticClass:"file-templates prepend-top-default list-inline qa-template-list"},e._l(e.templateTypes,(function(t,r){return n("li",{key:r,staticClass:"list-inline-item"},[n("button",{staticClass:"btn btn-missing p-1 pr-2 pl-2",attrs:{type:"button"},on:{click:function(n){return e.createFromTemplate(t)}}},[e._v("\n            "+e._s(t.name)+"\n          ")])])})),0):e._e()])])])}),[],!1,null,null,null).exports,q=n("TBBL"),B=n("wryt"),$=n("OIsX"),V=n("Dfb/"),U=n("len0"),z=n("rOrh"),G=(n("OZM5"),n("tbvx"),{directives:{tooltip:V.a},components:{Icon:U.a},props:{label:{type:String,required:!1,default:null},icon:{type:String,required:!0},iconClasses:{type:String,required:!1,default:null},showLabel:{type:Boolean,required:!1,default:!0}},computed:{tooltipTitle:function(){return this.showLabel?"":this.label}},methods:{clicked:function(){this.$emit("click")}}}),H=Object(M.a)(G,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"btn-blank",attrs:{"aria-label":e.label,title:e.tooltipTitle,type:"button"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.clicked(t)}}},[n("icon",{class:e.iconClasses,attrs:{name:e.icon}}),e._v(" "),e.showLabel?[e._v("\n    "+e._s(e.label)+"\n  ")]:e._e()],2)}),[],!1,null,null,null).exports,W={components:{ItemButton:H},props:{path:{type:String,required:!1,default:""},showLabel:{type:Boolean,required:!1,default:!0},buttonCssClasses:{type:String,required:!1,default:null}},methods:{createFile:function(e,t){var n=this,r=t.name,i=e.result.split("base64,")[1],o=i?atob(i):"",a=Object(R.f)(o,t.type,r),s=function(t){return n.$emit("create",{name:"".concat(n.path?"".concat(n.path,"/"):"").concat(r),type:"blob",content:t,binary:!a,rawPath:a?"":e.result})};if(a){var c=new FileReader;c.addEventListener("load",(function(e){return s(e.target.result)}),{once:!0}),c.readAsText(t)}else s(i)},readFile:function(e){var t=this,n=new FileReader;n.addEventListener("load",(function(n){return t.createFile(n.target,e)}),{once:!0}),n.readAsDataURL(e)},openFile:function(){var e=this;Array.from(this.$refs.fileUpload.files).forEach((function(t){return e.readFile(t)}))},startFileUpload:function(){this.$refs.fileUpload.click()}}},J=Object(M.a)(W,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("item-button",{staticClass:"d-flex",class:this.buttonCssClasses,attrs:{"show-label":this.showLabel,"icon-classes":this.showLabel?"mr-2":"",label:this.__("Upload file"),icon:"upload"},on:{click:this.startFileUpload}}),this._v(" "),t("input",{ref:"fileUpload",staticClass:"hidden",attrs:{id:"file-upload",type:"file",multiple:""},on:{change:this.openFile}})],1)}),[],!1,null,null,null).exports;function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z={components:{icon:U.a,upload:J,ItemButton:H,NewModal:N},props:{type:{type:String,required:!0},path:{type:String,required:!1,default:""},isOpen:{type:Boolean,required:!1,default:!1}},watch:{isOpen:function(){var e=this;this.$nextTick((function(){e.$refs.dropdownMenu.scrollIntoView({block:"nearest"})}))}},methods:Q(Q({},Object(j.c)(["createTempEntry","deleteEntry"])),{},{createNewItem:function(e){this.$refs.newModal.open(e,this.path),this.$emit("toggle",!1)},openDropdown:function(){this.$emit("toggle",!this.isOpen)}}),modalTypes:T.t},X=Object(M.a)(Z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ide-new-btn"},[n("div",{staticClass:"dropdown d-flex",class:{show:e.isOpen}},[n("button",{staticClass:"rounded border-0 d-flex ide-entry-dropdown-toggle",attrs:{"aria-label":e.__("Create new file or directory"),type:"button"},on:{click:function(t){return t.stopPropagation(),e.openDropdown()}}},[n("icon",{attrs:{name:"ellipsis_v"}}),e._v(" "),n("icon",{attrs:{name:"chevron-down"}})],1),e._v(" "),n("ul",{ref:"dropdownMenu",staticClass:"dropdown-menu dropdown-menu-right"},["tree"===e.type?[n("li",[n("item-button",{staticClass:"d-flex",attrs:{label:e.__("New file"),icon:"doc-new","icon-classes":"mr-2"},on:{click:function(t){return e.createNewItem("blob")}}})],1),e._v(" "),n("li",[n("upload",{attrs:{path:e.path},on:{create:e.createTempEntry}})],1),e._v(" "),n("li",[n("item-button",{staticClass:"d-flex",attrs:{label:e.__("New directory"),icon:"folder-new","icon-classes":"mr-2"},on:{click:function(t){return e.createNewItem(e.$options.modalTypes.tree)}}})],1),e._v(" "),n("li",{staticClass:"divider"})]:e._e(),e._v(" "),n("li",[n("item-button",{staticClass:"d-flex",attrs:{label:e.__("Rename/Move"),icon:"pencil","icon-classes":"mr-2"},on:{click:function(t){return e.createNewItem(e.$options.modalTypes.rename)}}})],1),e._v(" "),n("li",[n("item-button",{staticClass:"d-flex",attrs:{label:e.__("Delete"),icon:"remove","icon-classes":"mr-2"},on:{click:function(t){return e.deleteEntry(e.path)}}})],1)],2)]),e._v(" "),n("new-modal",{ref:"newModal"})],1)}),[],!1,null,null,null).exports,ee={components:{icon:U.a},directives:{tooltip:V.a}},te=Object(M.a)(ee,(function(){var e=this.$createElement;return(this._self._c||e)("icon",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"gl-mr-3",attrs:{title:this.__("Part of merge request changes"),size:12,name:"git-merge"}})}),[],!1,null,null,null).exports;function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe={name:"FileRowExtra",directives:{tooltip:V.a},components:{Icon:U.a,NewDropdown:X,ChangedFileIcon:z.a,MrFileIcon:te},props:{file:{type:Object,required:!0},dropdownOpen:{type:Boolean,required:!0}},computed:re(re({},Object(j.d)(["getChangesInFolder","getUnstagedFilesCountForPath","getStagedFilesCountForPath"])),{},{isTree:function(){return"tree"===this.file.type},folderUnstagedCount:function(){return this.getUnstagedFilesCountForPath(this.file.path)},folderStagedCount:function(){return this.getStagedFilesCountForPath(this.file.path)},changesCount:function(){return this.getChangesInFolder(this.file.path)},folderChangesTooltip:function(){if(0!==this.changesCount)return Object(C.c)("%d changed file","%d changed files",this.changesCount)},showTreeChangesCount:function(){return this.isTree&&this.changesCount>0&&!this.file.opened},isModified:function(){return this.file.changed||this.file.tempFile||this.file.staged||this.file.prevPath},showChangedFileIcon:function(){return!this.isTree&&this.isModified}})},ae=Object(M.a)(oe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"float-right ide-file-icon-holder"},[e.file.mrChange?n("mr-file-icon"):e._e(),e._v(" "),e.showTreeChangesCount?n("span",{staticClass:"ide-tree-changes"},[e._v("\n    "+e._s(e.changesCount)+"\n    "),n("icon",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"prepend-left-5 ide-file-modified",attrs:{title:e.folderChangesTooltip,size:12,"data-container":"body","data-placement":"right",name:"file-modified"}})],1):e.showChangedFileIcon?n("changed-file-icon",{attrs:{file:e.file,"show-tooltip":!0,"show-staged-icon":!1}}):e._e(),e._v(" "),n("new-dropdown",e._g({staticClass:"gl-ml-3",attrs:{type:e.file.type,path:e.file.path,"is-open":e.dropdownOpen}},e.$listeners))],1)}),[],!1,null,null,null).exports,se={name:"IdeFileRow",components:{FileRow:$.a,FileRowExtra:ae},props:{file:{type:Object,required:!0}},data:function(){return{dropdownOpen:!1}},methods:{toggleDropdown:function(e){this.dropdownOpen=e}}},ce=Object(M.a)(se,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("file-row",e._g(e._b({attrs:{file:e.file},on:{mouseleave:function(t){return e.toggleDropdown(!1)}}},"file-row",e.$attrs,!1),e.$listeners),[n("file-row-extra",{attrs:{file:e.file,"dropdown-open":e.dropdownOpen},on:{toggle:function(t){return e.toggleDropdown(t)}}})],1)}),[],!1,null,null,null).exports,le=n("3a3M"),ue=n.n(le),de=(n("8pn6"),n("Z5ek"),{props:{stopPropagation:{type:Boolean,required:!1,default:!1}},data:function(){return{currentIndex:0,tabs:[]}},mounted:function(){this.updateTabs()},methods:{updateTabs:function(){this.tabs=this.$children.filter((function(e){return e.isTab})),this.currentIndex=this.tabs.findIndex((function(e){return e.localActive}))},setTab:function(e,t){this.stopPropagation&&(e.stopPropagation(),e.preventDefault()),this.tabs[this.currentIndex].localActive=!1,this.tabs[t].localActive=!0,this.currentIndex=t}},render:function(e){var t=this,n=this.tabs.map((function(n,r){return e("li",{key:r},[e("a",{class:n.localActive?"active":null,attrs:{href:"#"},on:{click:function(e){return t.setTab(e,r)}}},n.$slots.title||n.title)])})),r=e("ul",{class:"nav-links tab-links"},[n]),i=e("div",{class:["tab-content"]},[this.$slots.default]);return e("div",{},[[r],i])}}),fe={props:{title:{type:String,required:!1,default:""},active:{type:Boolean,required:!1,default:!1}},data:function(){return{localActive:this.active}},watch:{active:function(){this.localActive=this.active}},created:function(){this.isTab=!0},updated:function(){this.$parent&&this.$parent.$forceUpdate()}},pe=Object(M.a)(fe,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"tab-pane",class:{active:this.localActive},attrs:{role:"tabpanel"}},[this._t("default")],2)}),[],!1,null,null,null).exports,he=(n("TZoF"),n("Tmea")),me=n.n(he),ge=n("Fsq/"),ve={components:{Icon:U.a,Timeago:ge.a},props:{item:{type:Object,required:!0},projectId:{type:String,required:!0},isActive:{type:Boolean,required:!1,default:!1}},computed:{branchHref:function(){return this.$router.resolve("/project/".concat(this.projectId,"/edit/").concat(this.item.name)).href}}};function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var we={components:{Item:Object(M.a)(ve,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"btn-link d-flex align-items-center",attrs:{href:e.branchHref}},[n("span",{staticClass:"d-flex append-right-default ide-search-list-current-icon"},[e.isActive?n("icon",{attrs:{size:18,name:"mobile-issue-close"}}):e._e()],1),e._v(" "),n("span",[n("strong",[e._v(" "+e._s(e.item.name)+" ")]),e._v(" "),n("span",{staticClass:"ide-merge-request-project-path d-block mt-1"},[e._v("\n      Updated "),n("timeago",{attrs:{time:e.item.committedDate||""}})],1)])])}),[],!1,null,null,null).exports,Icon:U.a,GlLoadingIcon:S.a},data:function(){return{search:""}},computed:ye(ye(ye({},Object(j.e)("branches",["branches","isLoading"])),Object(j.e)(["currentBranchId","currentProjectId"])),{},{hasBranches:function(){return 0!==this.branches.length},hasNoSearchResults:function(){return""!==this.search&&!this.hasBranches}}),watch:{isLoading:{handler:"focusSearch"}},mounted:function(){this.loadBranches()},methods:ye(ye({},Object(j.c)("branches",["fetchBranches"])),{},{loadBranches:function(){this.fetchBranches({search:this.search})},searchBranches:me()((function(){this.loadBranches()}),250),focusSearch:function(){var e=this;this.isLoading||this.$nextTick((function(){e.$refs.searchInput.focus()}))},isActiveBranch:function(e){return e.name===this.currentBranchId}})},_e=Object(M.a)(we,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",{staticClass:"dropdown-input pt-3 pb-3 mb-0 border-bottom block position-relative",on:{click:function(e){e.stopPropagation()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],ref:"searchInput",staticClass:"form-control dropdown-input-field",attrs:{placeholder:e.__("Search branches"),type:"search"},domProps:{value:e.search},on:{input:[function(t){t.target.composing||(e.search=t.target.value)},e.searchBranches]}}),e._v(" "),n("icon",{staticClass:"ml-3 input-icon",attrs:{size:18,name:"search"}})],1),e._v(" "),n("div",{staticClass:"dropdown-content ide-merge-requests-dropdown-content d-flex"},[e.isLoading?n("gl-loading-icon",{staticClass:"mt-3 mb-3 align-self-center ml-auto mr-auto",attrs:{size:"lg"}}):n("ul",{staticClass:"mb-0 w-100"},[e.hasBranches?e._l(e.branches,(function(t){return n("li",{key:t.name},[n("item",{attrs:{item:t,"project-id":e.currentProjectId,"is-active":e.isActiveBranch(t)}})],1)})):n("li",{staticClass:"ide-search-list-empty d-flex align-items-center justify-content-center"},[e.hasNoSearchResults?[e._v("\n          "+e._s(e.__("No branches found"))+"\n        ")]:e._e()],2)],2)],1)])}),[],!1,null,null,null).exports,je={components:{Icon:U.a},props:{item:{type:Object,required:!0},currentId:{type:String,required:!0},currentProjectId:{type:String,required:!0}},computed:{isActive:function(){return this.item.iid===parseInt(this.currentId,10)&&this.currentProjectId===this.item.projectPathWithNamespace},pathWithID:function(){return"".concat(this.item.projectPathWithNamespace,"!").concat(this.item.iid)},mergeRequestHref:function(){var e="/project/".concat(this.item.projectPathWithNamespace,"/merge_requests/").concat(this.item.iid);return this.$router.resolve(e).href}}},Ee=Object(M.a)(je,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"btn-link d-flex align-items-center",attrs:{href:e.mergeRequestHref}},[n("span",{staticClass:"d-flex append-right-default ide-search-list-current-icon"},[e.isActive?n("icon",{attrs:{size:18,name:"mobile-issue-close"}}):e._e()],1),e._v(" "),n("span",[n("strong",[e._v(" "+e._s(e.item.title)+" ")]),e._v(" "),n("span",{staticClass:"ide-merge-request-project-path d-block mt-1"},[e._v(" "+e._s(e.pathWithID)+" ")])])])}),[],!1,null,null,null).exports,Pe={components:{Icon:U.a},props:{placeholder:{type:String,required:!1,default:Object(C.a)("Search")},tokens:{type:Array,required:!1,default:function(){return[]}},value:{type:String,required:!1,default:""}},data:function(){return{backspaceCount:0}},computed:{placeholderText:function(){return this.tokens.length?"":this.placeholder}},watch:{tokens:function(){this.$refs.input.focus()}},methods:{onFocus:function(){this.$emit("focus")},onBlur:function(){this.$emit("blur")},onInput:function(e){this.$emit("input",e.target.value)},onBackspace:function(){!this.value&&this.tokens.length?(this.backspaceCount+=1,this.backspaceCount>1&&(this.removeToken(this.tokens[this.tokens.length-1]),this.backspaceCount=0)):this.backspaceCount=0},removeToken:function(e){this.$emit("removeToken",e)}}},Se=Object(M.a)(Pe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"filtered-search-wrapper"},[n("div",{staticClass:"filtered-search-box"},[n("div",{staticClass:"tokens-container list-unstyled"},[e._l(e.tokens,(function(t){return n("div",{key:t.label,staticClass:"filtered-search-token"},[n("button",{staticClass:"selectable btn-blank",attrs:{type:"button"},on:{click:function(n){return n.stopPropagation(),e.removeToken(t)},keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"delete",[8,46],n.key,["Backspace","Delete","Del"])?null:e.removeToken(t)}}},[n("div",{staticClass:"value-container rounded"},[n("div",{staticClass:"value"},[e._v(e._s(t.label))]),e._v(" "),n("div",{staticClass:"remove-token inverted"},[n("icon",{attrs:{size:10,name:"close"}})],1)])])])})),e._v(" "),n("div",{staticClass:"input-token"},[n("input",{ref:"input",staticClass:"form-control filtered-search",attrs:{placeholder:e.placeholderText,type:"search"},domProps:{value:e.value},on:{input:e.onInput,focus:e.onFocus,blur:e.onBlur,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.onBackspace(t)}}})])],2)])])}),[],!1,null,null,null).exports;function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke=[{type:"created",label:Object(C.a)("Created by me")},{type:"assigned",label:Object(C.a)("Assigned to me")}],xe={components:{TokenedInput:Se,Item:Ee,Icon:U.a,GlLoadingIcon:S.a},data:function(){return{search:"",currentSearchType:null,hasSearchFocus:!1}},computed:Te(Te(Te({},Object(j.e)("mergeRequests",["mergeRequests","isLoading"])),Object(j.e)(["currentMergeRequestId","currentProjectId"])),{},{hasMergeRequests:function(){return 0!==this.mergeRequests.length},hasNoSearchResults:function(){return""!==this.search&&!this.hasMergeRequests},showSearchTypes:function(){return this.hasSearchFocus&&!this.search&&!this.currentSearchType},type:function(){return this.currentSearchType?this.currentSearchType.type:""},searchTokens:function(){return this.currentSearchType?[this.currentSearchType]:[]}}),watch:{search:function(){this.hasSearchFocus=!1}},mounted:function(){this.loadMergeRequests()},methods:Te(Te({},Object(j.c)("mergeRequests",["fetchMergeRequests"])),{},{loadMergeRequests:function(){this.fetchMergeRequests({type:this.type,search:this.search})},searchMergeRequests:me()((function(){this.loadMergeRequests()}),250),onSearchFocus:function(){this.hasSearchFocus=!0},setSearchType:function(e){this.currentSearchType=e,this.loadMergeRequests()}}),searchTypes:ke},Re={components:{Tabs:de,Tab:pe,BranchesSearchList:_e,MergeRequestSearchList:Object(M.a)(xe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",{staticClass:"dropdown-input pt-3 pb-3 mb-0 border-bottom block",on:{click:function(e){e.stopPropagation()}}},[n("tokened-input",{attrs:{tokens:e.searchTokens,placeholder:e.__("Search merge requests")},on:{focus:e.onSearchFocus,input:e.searchMergeRequests,removeToken:function(t){return e.setSearchType(null)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),n("icon",{staticClass:"ml-3 input-icon",attrs:{size:18,name:"search"}})],1),e._v(" "),n("div",{staticClass:"dropdown-content ide-merge-requests-dropdown-content d-flex"},[e.isLoading?n("gl-loading-icon",{staticClass:"mt-3 mb-3 align-self-center ml-auto mr-auto",attrs:{size:"lg"}}):[n("ul",{staticClass:"mb-0 w-100"},[e.showSearchTypes?e._l(e.$options.searchTypes,(function(t){return n("li",{key:t.type},[n("button",{staticClass:"btn-link d-flex align-items-center",attrs:{type:"button"},on:{click:function(n){return n.stopPropagation(),e.setSearchType(t)}}},[n("span",{staticClass:"d-flex append-right-default ide-search-list-current-icon"},[n("icon",{attrs:{size:18,name:"search"}})],1),e._v(" "),n("span",[e._v(e._s(t.label))])])])})):e.hasMergeRequests?e._l(e.mergeRequests,(function(t){return n("li",{key:t.id},[n("item",{attrs:{item:t,"current-id":e.currentMergeRequestId,"current-project-id":e.currentProjectId}})],1)})):n("li",{staticClass:"ide-search-list-empty d-flex align-items-center justify-content-center"},[e._v("\n          "+e._s(e.__("No merge requests found"))+"\n        ")])],2)]],2)])}),[],!1,null,null,null).exports},props:{showMergeRequests:{type:Boolean,required:!1,default:!0}}},De=Object(M.a)(Re,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ide-nav-form p-0"},[e.showMergeRequests?n("tabs",{attrs:{"stop-propagation":""}},[n("tab",{attrs:{active:""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n        "+e._s(e.__("Branches"))+"\n      ")]},proxy:!0}],null,!1,3667998067)},[e._v(" "),n("branches-search-list")],1),e._v(" "),n("tab",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n        "+e._s(e.__("Merge Requests"))+"\n      ")]},proxy:!0}],null,!1,567329259)},[e._v(" "),n("merge-request-search-list")],1)],1):n("branches-search-list")],1)}),[],!1,null,null,null).exports,Ae=n("7hrM");function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ne={components:{Icon:U.a,DropdownButton:Ae.a},props:{showMergeRequests:{type:Boolean,required:!1,default:!0}},computed:Le(Le({},Object(j.e)(["currentBranchId","currentMergeRequestId"])),{},{mergeRequestLabel:function(){return this.currentMergeRequestId?"!".concat(this.currentMergeRequestId):"-"},branchLabel:function(){return this.currentBranchId||"-"}})};function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $e={components:{NavDropdownButton:Object(M.a)(Ne,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("dropdown-button",[n("span",{staticClass:"row flex-nowrap"},[n("span",{staticClass:"col-auto flex-fill text-truncate"},[n("icon",{attrs:{size:16,"aria-label":e.__("Current Branch"),name:"branch"}}),e._v(" "+e._s(e.branchLabel)+"\n    ")],1),e._v(" "),e.showMergeRequests?n("span",{staticClass:"col-5 pl-0 text-truncate"},[n("icon",{attrs:{size:16,"aria-label":e.__("Merge Request"),name:"merge-request"}}),e._v("\n      "+e._s(e.mergeRequestLabel)+"\n    ")],1):e._e()])])}),[],!1,null,null,null).exports,NavForm:De},data:function(){return{isVisibleDropdown:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){Be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(j.d)(["canReadMergeRequests"])),mounted:function(){this.addDropdownListeners()},beforeDestroy:function(){this.removeDropdownListeners()},methods:{addDropdownListeners:function(){var e=this;ue()(this.$refs.dropdown).on("show.bs.dropdown",(function(){return e.showDropdown()})).on("hide.bs.dropdown",(function(){return e.hideDropdown()}))},removeDropdownListeners:function(){ue()(this.$refs.dropdown).off("show.bs.dropdown").off("hide.bs.dropdown")},showDropdown:function(){this.isVisibleDropdown=!0},hideDropdown:function(){this.isVisibleDropdown=!1}}},Ve=Object(M.a)($e,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"dropdown",staticClass:"btn-group ide-nav-dropdown dropdown"},[t("nav-dropdown-button",{attrs:{"show-merge-requests":this.canReadMergeRequests}}),this._v(" "),t("div",{staticClass:"dropdown-menu dropdown-menu-left p-0"},[this.isVisibleDropdown?t("nav-form",{attrs:{"show-merge-requests":this.canReadMergeRequests}}):this._e()],1)],1)}),[],!1,null,null,null).exports;function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var He={components:{GlSkeletonLoading:q.a,NavDropdown:Ve,FileTree:B.a},props:{viewerType:{type:String,required:!0},headerClass:{type:String,required:!1,default:null}},computed:ze(ze(ze({},Object(j.e)(["currentBranchId"])),Object(j.d)(["currentProject","currentTree"])),{},{showLoading:function(){return!this.currentTree||this.currentTree.loading}}),mounted:function(){this.updateViewer(this.viewerType)},methods:ze({},Object(j.c)(["updateViewer","toggleTreeOpen"])),IdeFileRow:ce},We=Object(M.a)(He,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ide-file-list qa-file-list"},[e.showLoading?e._l(3,(function(e){return n("div",{key:e,staticClass:"multi-file-loading-container"},[n("gl-skeleton-loading")],1)})):[n("header",{staticClass:"ide-tree-header",class:e.headerClass},[n("nav-dropdown"),e._v(" "),e._t("header")],2),e._v(" "),n("div",{staticClass:"ide-tree-body h-100"},[e.currentTree.tree.length?e._l(e.currentTree.tree,(function(t){return n("file-tree",{key:t.key,attrs:{file:t,level:0,"file-row-component":e.$options.IdeFileRow},on:{toggleTreeOpen:e.toggleTreeOpen}})})):n("div",{staticClass:"file-row"},[e._v(e._s(e.__("No files")))])],2)]],2)}),[],!1,null,null,null).exports;function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){Qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ye={components:{Upload:J,IdeTreeList:We,NewEntryButton:H,NewModal:N},computed:Ke(Ke({},Object(j.e)(["currentBranchId"])),Object(j.d)(["currentProject","currentTree","activeFile"])),mounted:function(){var e=this;this.activeFile&&(this.activeFile.pending&&!this.activeFile.deleted?this.$router.push("/project".concat(this.activeFile.url),(function(){e.updateViewer("editor")})):this.activeFile.deleted&&this.resetOpenFiles())},methods:Ke(Ke({},Object(j.c)(["updateViewer","createTempEntry","resetOpenFiles"])),{},{createNewFile:function(){this.$refs.newModal.open(T.t.blob)},createNewFolder:function(){this.$refs.newModal.open(T.t.tree)}})},Ze=Object(M.a)(Ye,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ide-tree-list",{attrs:{"viewer-type":"editor"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\n    "+e._s(e.__("Edit"))+"\n    "),n("div",{staticClass:"ide-tree-actions ml-auto d-flex"},[n("new-entry-button",{staticClass:"d-flex border-0 p-0 mr-3 qa-new-file",attrs:{label:e.__("New file"),"show-label":!1,icon:"doc-new"},on:{click:function(t){return e.createNewFile()}}}),e._v(" "),n("upload",{staticClass:"d-flex mr-3",attrs:{"show-label":!1,"button-css-classes":"border-0 p-0"},on:{create:e.createTempEntry}}),e._v(" "),n("new-entry-button",{staticClass:"d-flex border-0 p-0",attrs:{label:e.__("New directory"),"show-label":!1,icon:"folder-new"},on:{click:function(t){return e.createNewFolder()}}})],1),e._v(" "),n("new-modal",{ref:"newModal"})]},proxy:!0}])})}),[],!1,null,null,null).exports;n("+xU6");function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tt={components:{PanelResizer:n("f8Rl").a},props:{initialWidth:{type:Number,required:!0},minSize:{type:Number,required:!1,default:T.j},side:{type:String,required:!0},resizable:{type:Boolean,required:!1,default:!0}},data:function(){return{width:this.initialWidth}},computed:{panelStyle:function(){return this.resizable?{width:"".concat(this.width,"px")}:{}}},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(j.c)(["setResizingStatus"])),maxSize:window.innerWidth/2},nt=Object(M.a)(tt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-relative",style:e.panelStyle},[e._t("default"),e._v(" "),n("panel-resizer",{directives:[{name:"show",rawName:"v-show",value:e.resizable,expression:"resizable"}],attrs:{size:e.width,"start-size":e.initialWidth,"min-size":e.minSize,"max-size":e.$options.maxSize,side:"right"===e.side?"left":"right"},on:{"update:size":function(t){e.width=t},"resize-start":function(t){return e.setResizingStatus(!0)},"resize-end":function(t){return e.setResizingStatus(!1)}}})],2)}),[],!1,null,null,null).exports;function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var at={components:{Icon:U.a},directives:{tooltip:V.a},computed:it({},Object(j.e)(["currentActivityView"])),methods:it(it({},Object(j.c)(["updateActivityBarView"])),{},{changedActivityView:function(e,t){e.currentTarget.blur(),this.updateActivityBarView(t),ue()(e.currentTarget).tooltip("hide")}}),leftSidebarViews:T.s},st=Object(M.a)(at,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"ide-activity-bar"},[n("ul",{staticClass:"list-unstyled"},[n("li",[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"ide-sidebar-link js-ide-edit-mode",class:{active:e.currentActivityView===e.$options.leftSidebarViews.edit.name},attrs:{title:e.s__("IDE|Edit"),"aria-label":e.s__("IDE|Edit"),"data-container":"body","data-placement":"right",type:"button"},on:{click:function(t){return t.preventDefault(),e.changedActivityView(t,e.$options.leftSidebarViews.edit.name)}}},[n("icon",{attrs:{name:"code"}})],1)]),e._v(" "),n("li",[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"ide-sidebar-link js-ide-review-mode",class:{active:e.currentActivityView===e.$options.leftSidebarViews.review.name},attrs:{title:e.s__("IDE|Review"),"aria-label":e.s__("IDE|Review"),"data-container":"body","data-placement":"right",type:"button"},on:{click:function(t){return t.preventDefault(),e.changedActivityView(t,e.$options.leftSidebarViews.review.name)}}},[n("icon",{attrs:{name:"file-modified"}})],1)]),e._v(" "),n("li",[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"ide-sidebar-link js-ide-commit-mode qa-commit-mode-tab",class:{active:e.currentActivityView===e.$options.leftSidebarViews.commit.name},attrs:{title:e.s__("IDE|Commit"),"aria-label":e.s__("IDE|Commit"),"data-container":"body","data-placement":"right",type:"button"},on:{click:function(t){return t.preventDefault(),e.changedActivityView(t,e.$options.leftSidebarViews.commit.name)}}},[n("icon",{attrs:{name:"commit"}})],1)])])])}),[],!1,null,null,null).exports,ct=n("9dZE"),lt=n("8eeg");function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pt={components:{Icon:U.a,FileIcon:ct.a},directives:{tooltip:V.a},props:{file:{type:Object,required:!0},keyPrefix:{type:String,required:!1,default:""},stagedList:{type:Boolean,required:!1,default:!1},activeFileKey:{type:String,required:!1,default:null}},computed:{iconName:function(){var e=this.stagedList?"-solid":"";return"".concat(Object(lt.a)(this.file).icon).concat(e)},iconClass:function(){return"".concat(Object(lt.a)(this.file).class," ml-auto mr-auto")},fullKey:function(){return"".concat(this.keyPrefix,"-").concat(this.file.key)},isActive:function(){return this.activeFileKey===this.fullKey},tooltipTitle:function(){return this.file.path===this.file.name?"":this.file.path}},methods:dt(dt({},Object(j.c)(["discardFileChanges","updateViewer","openPendingTab"])),{},{openFileInEditor:function(){var e=this;return"tree"===this.file.type?null:this.openPendingTab({file:this.file,keyPrefix:this.keyPrefix}).then((function(t){t&&e.updateViewer(T.x.diff)}))}})},ht=Object(M.a)(pt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"multi-file-commit-list-item position-relative"},[n("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"multi-file-commit-list-path w-100 border-0 ml-0 mr-0",class:{"is-active":e.isActive},attrs:{title:e.tooltipTitle,role:"button"},on:{click:e.openFileInEditor}},[n("span",{staticClass:"multi-file-commit-list-file-path d-flex align-items-center"},[n("file-icon",{staticClass:"gl-mr-3",attrs:{"file-name":e.file.name}}),e._v(" "),e.file.prevName&&e.file.prevName!==e.file.name?[e._v("\n        "+e._s(e.file.prevName)+" →\n      ")]:e._e(),e._v("\n      "+e._s(e.file.name)+"\n    ")],2),e._v(" "),n("div",{staticClass:"ml-auto d-flex align-items-center"},[n("div",{staticClass:"d-flex align-items-center ide-commit-list-changed-icon"},[n("icon",{class:e.iconClass,attrs:{name:e.iconName,size:16}})],1)])])])}),[],!1,null,null,null).exports;function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bt={components:{Icon:U.a,ListItem:ht,GlModal:x.a},directives:{tooltip:V.a},props:{fileList:{type:Array,required:!0},iconName:{type:String,required:!0},stagedList:{type:Boolean,required:!1,default:!1},activeFileKey:{type:String,required:!1,default:null},keyPrefix:{type:String,required:!0},emptyStateText:{type:String,required:!1,default:Object(C.a)("No changes")}},computed:{titleText:function(){return this.title?Object(C.e)(Object(C.a)("%{title} changes"),{title:this.title}):Object(C.a)("Changes")},filesLength:function(){return this.fileList.length}},methods:gt(gt({},Object(j.c)(["unstageAllChanges","discardAllChanges"])),{},{openDiscardModal:function(){this.$refs.discardAllModal.show()},unstageAndDiscardAllChanges:function(){this.unstageAllChanges(),this.discardAllChanges()}}),discardModalText:Object(C.a)("You will lose all uncommitted changes you've made in this project. This action cannot be undone.")},yt=Object(M.a)(bt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ide-commit-list-container"},[n("header",{staticClass:"multi-file-commit-panel-header d-flex mb-0"},[n("div",{staticClass:"d-flex align-items-center flex-fill"},[e._m(0),e._v(" "),n("strong",[e._v(" "+e._s(e.titleText)+" ")]),e._v(" "),n("div",{staticClass:"d-flex ml-auto"},[e.stagedList?e._e():n("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"d-flex ide-staged-action-btn p-0 border-0 align-items-center",class:{"disabled-content":!e.filesLength},attrs:{title:e.__("Discard all changes"),"aria-label":e.__("Discard all changes"),disabled:!e.filesLength,type:"button","data-placement":"bottom","data-container":"body","data-boundary":"viewport"},on:{click:e.openDiscardModal}},[n("icon",{staticClass:"ml-auto mr-auto position-top-0",attrs:{size:16,name:"remove-all"}})],1)])],1)]),e._v(" "),e.filesLength?n("ul",{staticClass:"multi-file-commit-list list-unstyled gl-mb-0"},e._l(e.fileList,(function(t){return n("li",{key:t.key},[n("list-item",{attrs:{file:t,"key-prefix":e.keyPrefix,"staged-list":e.stagedList,"active-file-key":e.activeFileKey}})],1)})),0):n("p",{staticClass:"multi-file-commit-list form-text text-muted text-center"},[e._v("\n    "+e._s(e.emptyStateText)+"\n  ")]),e._v(" "),e.stagedList?e._e():n("gl-modal",{ref:"discardAllModal",attrs:{"ok-variant":"danger","modal-id":"discard-all-changes","ok-title":e.__("Discard all changes"),title:e.__("Discard all changes?")},on:{ok:e.unstageAndDiscardAllChanges}},[e._v("\n    "+e._s(e.$options.discardModalText)+"\n  ")])],1)}),[function(){var e=this.$createElement;return(this._self._c||e)("icon",{staticClass:"gl-mr-3",attrs:{name:this.iconName,size:18}})}],!1,null,null,null).exports;function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _t={computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(j.e)(["lastCommitMsg","noChangesStateSvgPath"]))};function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){Pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var St={components:{CommitFilesList:yt,EmptyState:Object(M.a)(_t,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.lastCommitMsg?e._e():n("div",{staticClass:"multi-file-commit-panel-section ide-commit-empty-state"},[n("div",{staticClass:"ide-commit-empty-state-container"},[n("div",{staticClass:"svg-content svg-80"},[n("img",{attrs:{src:e.noChangesStateSvgPath}})]),e._v(" "),n("div",{staticClass:"append-right-default prepend-left-default"},[n("div",{staticClass:"text-content text-center"},[n("h4",[e._v(e._s(e.__("No changes")))]),e._v(" "),n("p",[e._v(e._s(e.__("Edit files in the editor and commit changes here")))])])])])])}),[],!1,null,null,null).exports},directives:{tooltip:V.a},computed:Et(Et(Et(Et(Et({},Object(j.e)(["changedFiles","stagedFiles","lastCommitMsg"])),Object(j.e)("commit",["commitMessage","submitCommitLoading"])),Object(j.d)(["lastOpenedFile","someUncommittedChanges","activeFile"])),Object(j.d)("commit",["discardDraftButtonDisabled"])),{},{showStageUnstageArea:function(){return Boolean(this.someUncommittedChanges||this.lastCommitMsg)},activeFileKey:function(){return this.activeFile?this.activeFile.key:null}}),mounted:function(){var e=this,t=this.lastOpenedFile&&"tree"!==this.lastOpenedFile.type?this.lastOpenedFile:this.activeFile;t&&this.openPendingTab({file:t,keyPrefix:t.staged?T.w.staged:T.w.unstaged}).then((function(t){t&&e.updateViewer("diff")})).catch((function(e){throw e}))},methods:Et({},Object(j.c)(["openPendingTab","updateViewer","updateActivityBarView"])),stageKeys:T.w},Ct=Object(M.a)(St,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"multi-file-commit-panel-section"},[this.showStageUnstageArea?[t("commit-files-list",{staticClass:"is-first",attrs:{"key-prefix":this.$options.stageKeys.staged,"file-list":this.stagedFiles,"active-file-key":this.activeFileKey,"empty-state-text":this.__("There are no changes"),"icon-name":"unstaged"}})]:t("empty-state")],2)}),[],!1,null,null,null).exports,Tt=n("3c3Z"),It={directives:{popover:n("fY2I").a},components:{Icon:U.a},props:{text:{type:String,required:!0},placeholder:{type:String,required:!0}},data:function(){return{scrollTop:0,isFocused:!1}},computed:{allLines:function(){var e=this;return this.text.split("\n").map((function(t,n){return{text:t.substr(0,e.getLineLength(n))||" ",highlightedText:t.substr(e.getLineLength(n))}}))}},methods:{handleScroll:function(){var e=this;this.$refs.textarea&&this.$nextTick((function(){e.scrollTop=e.$refs.textarea.scrollTop}))},getLineLength:function(e){return 0===e?T.d:T.c},onInput:function(e){this.$emit("input",e.target.value)},onCtrlEnter:function(){this.isFocused&&this.$emit("submit")},updateIsFocused:function(e){this.isFocused=e}},popoverOptions:{trigger:"hover",placement:"top",content:Object(C.e)(Object(C.a)("\n        The character highlighter helps you keep the subject line to %{titleLength} characters\n        and wrap the body at %{bodyLength} so they are readable in git.\n      "),{titleLength:T.d,bodyLength:T.c})}},kt=Object(M.a)(It,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("fieldset",{staticClass:"common-note-form ide-commit-message-field"},[n("div",{staticClass:"md-area",class:{"is-focused":e.isFocused}},[e._m(0),e._v(" "),n("div",{staticClass:"ide-commit-message-textarea-container"},[n("div",{staticClass:"ide-commit-message-highlights-container"},[n("div",{staticClass:"note-textarea highlights monospace",style:{transform:"translate3d(0, "+-e.scrollTop+"px, 0)"}},e._l(e.allLines,(function(t,r){return n("div",{key:r},[n("span",{domProps:{textContent:e._s(t.text)}}),n("mark",{directives:[{name:"show",rawName:"v-show",value:t.highlightedText,expression:"line.highlightedText"}],domProps:{textContent:e._s(t.highlightedText)}})])})),0)]),e._v(" "),n("textarea",{ref:"textarea",staticClass:"note-textarea ide-commit-message-textarea",attrs:{placeholder:e.placeholder,dir:"auto",name:"commit-message"},domProps:{value:e.text},on:{scroll:e.handleScroll,input:e.onInput,focus:function(t){return e.updateIsFocused(!0)},blur:function(t){return e.updateIsFocused(!1)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.onCtrlEnter(t):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?e.onCtrlEnter(t):null}]}})])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"md-header"},[t("ul",{staticClass:"nav-links"},[t("li",[this._v("\n          "+this._s(this.__("Commit Message"))+"\n          "),t("span",{directives:[{name:"popover",rawName:"v-popover",value:this.$options.popoverOptions,expression:"$options.popoverOptions"}],staticClass:"form-text text-muted prepend-left-10"},[t("icon",{attrs:{name:"question"}})],1)])])])}],!1,null,null,null).exports,xt=n("G3fq"),Rt=n.n(xt),Dt="1",At="2",Ft=n("LLbv");function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){Nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qt={directives:{GlTooltip:Ft.a},props:{value:{type:String,required:!0},label:{type:String,required:!1,default:null},checked:{type:Boolean,required:!1,default:!1},showInput:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},title:{type:String,required:!1,default:""}},computed:Mt(Mt(Mt({},Object(j.e)("commit",["commitAction","newBranchName"])),Object(j.d)("commit",["placeholderBranchName"])),{},{tooltipTitle:function(){return this.disabled?this.title:""}}),methods:Mt({},Object(j.c)("commit",["updateCommitAction","updateBranchName"]))},Bt=Object(M.a)(qt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("fieldset",[n("label",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.tooltipTitle,expression:"tooltipTitle"}],class:{"is-disabled":e.disabled}},[n("input",{attrs:{disabled:e.disabled,type:"radio",name:"commit-action"},domProps:{value:e.value,checked:e.commitAction===e.value},on:{change:function(t){return e.updateCommitAction(t.target.value)}}}),e._v(" "),n("span",{staticClass:"prepend-left-10"},[e.label?n("span",{staticClass:"ide-option-label"},[e._v(" "+e._s(e.label)+" ")]):e._t("default")],2)]),e._v(" "),e.commitAction===e.value&&e.showInput?n("div",{staticClass:"ide-commit-new-branch"},[n("input",{staticClass:"form-control monospace",attrs:{placeholder:e.placeholderBranchName,type:"text"},domProps:{value:e.newBranchName},on:{input:function(t){return e.updateBranchName(t.target.value)}}})]):e._e()])}),[],!1,null,null,null).exports;function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){Ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zt=Object(j.a)("commit"),Gt=zt.mapActions,Ht=zt.mapGetters,Wt={directives:{GlTooltip:Ft.a},computed:Vt(Vt({},Ht(["shouldHideNewMrOption","shouldDisableNewMrOption","shouldCreateMR"])),{},{tooltipText:function(){return this.shouldDisableNewMrOption?Object(C.d)("IDE|This option is disabled because you are not allowed to create merge requests in this project."):""}}),methods:Vt({},Gt(["toggleShouldCreateMR"]))},Jt=Object(M.a)(Wt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldHideNewMrOption?e._e():n("fieldset",[n("hr",{staticClass:"my-2"}),e._v(" "),n("label",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.tooltipText,expression:"tooltipText"}],staticClass:"mb-0 js-ide-commit-new-mr",class:{"is-disabled":e.shouldDisableNewMrOption}},[n("input",{attrs:{disabled:e.shouldDisableNewMrOption,type:"checkbox","data-qa-selector":"start_new_mr_checkbox"},domProps:{checked:e.shouldCreateMR},on:{change:e.toggleShouldCreateMR}}),e._v(" "),n("span",{staticClass:"prepend-left-10 ide-option-label"},[e._v("\n      "+e._s(e.__("Start a new merge request"))+"\n    ")])])])}),[],!1,null,null,null).exports;function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){Yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zt=Object(j.a)("commit"),Xt=Zt.mapState,en=Zt.mapActions,tn={components:{RadioGroup:Bt,NewMergeRequestOption:Jt},computed:Qt(Qt(Qt(Qt({},Object(j.e)(["currentBranchId","changedFiles","stagedFiles"])),Xt(["commitAction"])),Object(j.d)(["currentBranch","emptyRepo","canPushToBranch"])),{},{commitToCurrentBranchText:function(){return Object(C.e)(Object(C.d)("IDE|Commit to %{branchName} branch"),{branchName:'<strong class="monospace">'.concat(Rt()(this.currentBranchId),"</strong>")},!1)},containsStagedChanges:function(){return this.changedFiles.length>0&&this.stagedFiles.length>0},shouldDefaultToCurrentBranch:function(){var e;return!!this.emptyRepo||this.canPushToBranch&&!(null===(e=this.currentBranch)||void 0===e?void 0:e.default)}}),watch:{containsStagedChanges:function(){this.updateSelectedCommitAction()}},mounted:function(){this.commitAction||this.updateSelectedCommitAction()},methods:Qt(Qt({},en(["updateCommitAction"])),{},{updateSelectedCommitAction:function(){(this.currentBranch||this.emptyRepo)&&(this.shouldDefaultToCurrentBranch?this.updateCommitAction(Dt):this.updateCommitAction(At))}}),commitToCurrentBranch:Dt,commitToNewBranch:At,currentBranchPermissionsTooltip:Object(C.d)("IDE|This option is disabled because you don't have write permissions for the current branch.")},nn=Object(M.a)(tn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"append-bottom-15 ide-commit-options"},[n("radio-group",{attrs:{value:e.$options.commitToCurrentBranch,disabled:!e.canPushToBranch,title:e.$options.currentBranchPermissionsTooltip}},[n("span",{staticClass:"ide-option-label",attrs:{"data-qa-selector":"commit_to_current_branch_radio"},domProps:{innerHTML:e._s(e.commitToCurrentBranchText)}})]),e._v(" "),e.emptyRepo?e._e():[n("radio-group",{attrs:{value:e.$options.commitToNewBranch,label:e.__("Create a new branch"),"show-input":!0}}),e._v(" "),n("new-merge-request-option")]],2)}),[],!1,null,null,null).exports;function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function on(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var an={computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach((function(t){on(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(j.e)(["lastCommitMsg","committedStateSvgPath"]))},sn=Object(M.a)(an,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"multi-file-commit-panel-success-message",attrs:{"aria-live":"assertive"}},[n("div",{staticClass:"svg-content svg-80"},[n("img",{attrs:{src:e.committedStateSvgPath,alt:e.s__("IDE|Successful commit")}})]),e._v(" "),n("div",{staticClass:"append-right-default prepend-left-default"},[n("div",{staticClass:"text-content text-center"},[n("h4",[e._v(e._s(e.__("All changes are committed")))]),e._v(" "),n("p",{domProps:{innerHTML:e._s(e.lastCommitMsg)}})])])])}),[],!1,null,null,null).exports;function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){un(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dn={components:{Actions:nn,LoadingButton:Tt.a,CommitMessageField:kt,SuccessMessage:sn,GlModal:x.a},data:function(){return{isCompact:!0,componentHeight:null}},computed:ln(ln(ln(ln(ln({},Object(j.e)(["changedFiles","stagedFiles","currentActivityView","lastCommitMsg"])),Object(j.e)("commit",["commitMessage","submitCommitLoading"])),Object(j.d)(["someUncommittedChanges"])),Object(j.d)("commit",["discardDraftButtonDisabled","preBuiltCommitMessage"])),{},{overviewText:function(){return Object(C.c)("%d changed file","%d changed files",this.stagedFiles.length)},commitButtonText:function(){return this.stagedFiles.length?Object(C.a)("Commit"):Object(C.a)("Stage & Commit")},currentViewIsCommitView:function(){return this.currentActivityView===T.s.commit.name}}),watch:{currentActivityView:"handleCompactState",someUncommittedChanges:"handleCompactState",lastCommitMsg:"handleCompactState"},methods:ln(ln(ln({},Object(j.c)(["updateActivityBarView"])),Object(j.c)("commit",["updateCommitMessage","discardDraft","commitChanges","updateCommitAction"])),{},{commit:function(){var e=this;return this.commitChanges().catch((function(){e.$refs.createBranchModal.show()}))},forceCreateNewBranch:function(){var e=this;return this.updateCommitAction(At).then((function(){return e.commit()}))},handleCompactState:function(){this.lastCommitMsg?this.isCompact=!1:this.isCompact=!this.someUncommittedChanges||!this.currentViewIsCommitView||window.innerHeight<T.e},toggleIsCompact:function(){this.isCompact=!this.isCompact},beginCommit:function(){var e=this;return this.updateActivityBarView(T.s.commit.name).then((function(){e.isCompact=!1}))},beforeEnterTransition:function(){var e=this.isCompact?this.$refs.formEl&&this.$refs.formEl.offsetHeight:this.$refs.compactEl&&this.$refs.compactEl.offsetHeight;this.componentHeight=e},enterTransition:function(){var e=this;this.$nextTick((function(){var t=e.isCompact?e.$refs.compactEl&&e.$refs.compactEl.offsetHeight:e.$refs.formEl&&e.$refs.formEl.offsetHeight;e.componentHeight=t}))},afterEndTransition:function(){this.componentHeight=null}})},fn=Object(M.a)(dn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"multi-file-commit-form",class:{"is-compact":e.isCompact,"is-full":!e.isCompact},style:{height:e.componentHeight?e.componentHeight+"px":null}},[n("transition",{attrs:{name:"commit-form-slide-up"},on:{"before-enter":e.beforeEnterTransition,enter:e.enterTransition,"after-enter":e.afterEndTransition}},[e.isCompact?n("div",{ref:"compactEl",staticClass:"commit-form-compact"},[n("button",{staticClass:"btn btn-primary btn-sm btn-block qa-begin-commit-button",attrs:{disabled:!e.someUncommittedChanges,type:"button","data-testid":"begin-commit-button"},on:{click:e.beginCommit}},[e._v("\n        "+e._s(e.__("Commit…"))+"\n      ")]),e._v(" "),n("p",{staticClass:"text-center bold"},[e._v(e._s(e.overviewText))])]):n("form",{ref:"formEl",on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.commit(t)}}},[n("transition",{attrs:{name:"fade"}},[n("success-message",{directives:[{name:"show",rawName:"v-show",value:e.lastCommitMsg,expression:"lastCommitMsg"}]})],1),e._v(" "),n("commit-message-field",{attrs:{text:e.commitMessage,placeholder:e.preBuiltCommitMessage},on:{input:e.updateCommitMessage,submit:e.commit}}),e._v(" "),n("div",{staticClass:"clearfix prepend-top-15"},[n("actions"),e._v(" "),n("loading-button",{attrs:{loading:e.submitCommitLoading,label:e.commitButtonText,"container-class":"btn btn-success btn-sm float-left qa-commit-button"},on:{click:e.commit}}),e._v(" "),e.discardDraftButtonDisabled?n("button",{staticClass:"btn btn-default btn-sm float-right",attrs:{type:"button"},on:{click:e.toggleIsCompact}},[e._v("\n          "+e._s(e.__("Collapse"))+"\n        ")]):n("button",{staticClass:"btn btn-default btn-sm float-right",attrs:{type:"button"},on:{click:e.discardDraft}},[e._v("\n          "+e._s(e.__("Discard draft"))+"\n        ")])],1),e._v(" "),n("gl-modal",{ref:"createBranchModal",attrs:{"modal-id":"ide-create-branch-modal","ok-title":e.__("Create new branch"),title:e.__("Branch has changed"),"ok-variant":"success"},on:{ok:e.forceCreateNewBranch}},[e._v("\n        "+e._s(e.__("This branch has changed since you started editing.\n              Would you like to create a new branch?"))+"\n      ")])],1)])],1)}),[],!1,null,null,null).exports,pn={props:{viewer:{type:String,required:!0},mergeRequestId:{type:Number,required:!0}},computed:{mergeReviewLine:function(){return Object(C.e)(Object(C.a)("Reviewing (merge request !%{mergeRequestId})"),{mergeRequestId:this.mergeRequestId})}},methods:{changeMode:function(e){this.$emit("click",e)}},viewerTypes:T.x};function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(n),!0).forEach((function(t){gn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vn={components:{IdeTreeList:We,EditorModeDropdown:Object(M.a)(pn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown"},[n("button",{staticClass:"btn btn-link",attrs:{type:"button","data-toggle":"dropdown"}},[e._v(e._s(e.__("Edit")))]),e._v(" "),n("div",{staticClass:"dropdown-menu dropdown-menu-selectable dropdown-open-left"},[n("ul",[n("li",[n("a",{class:{"is-active":e.viewer===e.$options.viewerTypes.mr},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.changeMode(e.$options.viewerTypes.mr)}}},[n("strong",{staticClass:"dropdown-menu-inner-title"},[e._v(" "+e._s(e.mergeReviewLine)+" ")]),e._v(" "),n("span",{staticClass:"dropdown-menu-inner-content"},[e._v("\n            "+e._s(e.__("Compare changes with the merge request target branch"))+"\n          ")])])]),e._v(" "),n("li",[n("a",{class:{"is-active":e.viewer===e.$options.viewerTypes.diff},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.changeMode(e.$options.viewerTypes.diff)}}},[n("strong",{staticClass:"dropdown-menu-inner-title"},[e._v(e._s(e.__("Reviewing")))]),e._v(" "),n("span",{staticClass:"dropdown-menu-inner-content"},[e._v("\n            "+e._s(e.__("Compare changes with the last commit"))+"\n          ")])])])])])])}),[],!1,null,null,null).exports},computed:mn(mn(mn({},Object(j.d)(["currentMergeRequest","activeFile"])),Object(j.e)(["viewer","currentMergeRequestId"])),{},{showLatestChangesText:function(){return!this.currentMergeRequestId||this.viewer===T.x.diff},showMergeRequestText:function(){return this.currentMergeRequestId&&this.viewer===T.x.mr},mergeRequestId:function(){return"!".concat(this.currentMergeRequest.iid)}}),mounted:function(){var e=this;this.activeFile&&this.activeFile.pending&&!this.activeFile.deleted?this.$router.push("/project".concat(this.activeFile.url),(function(){e.updateViewer("editor")})):this.activeFile&&this.activeFile.deleted&&this.resetOpenFiles(),this.$nextTick((function(){e.updateViewer(e.currentMergeRequestId?T.x.mr:T.x.diff)}))},methods:mn({},Object(j.c)(["updateViewer","resetOpenFiles"]))},bn=Object(M.a)(vn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ide-tree-list",{attrs:{"viewer-type":e.viewer,"header-class":"ide-review-header"},scopedSlots:e._u([{key:"header",fn:function(){return[n("div",{staticClass:"ide-review-button-holder"},[e._v("\n      "+e._s(e.__("Review"))+"\n      "),e.currentMergeRequest?n("editor-mode-dropdown",{attrs:{viewer:e.viewer,"merge-request-id":e.currentMergeRequest.iid},on:{click:e.updateViewer}}):e._e()],1),e._v(" "),n("div",{staticClass:"prepend-top-5 ide-review-sub-header"},[e.showLatestChangesText?[e._v("\n        "+e._s(e.__("Latest changes"))+"\n      ")]:e.showMergeRequestText?[e._v("\n        "+e._s(e.__("Merge request"))+" ("),e.currentMergeRequest?n("a",{attrs:{href:e.currentMergeRequest.web_url},domProps:{textContent:e._s(e.mergeRequestId)}}):e._e(),e._v(")\n      ")]:e._e()],2)]},proxy:!0}])})}),[],!1,null,null,null).exports,yn=n("nBaz"),On=n("IZAz"),wn=n("0DeP"),_n={name:"ProjectAvatarImage",props:{lazy:{type:Boolean,required:!1,default:!1},imgSrc:{type:String,required:!1,default:On.a},cssClasses:{type:String,required:!1,default:""},imgAlt:{type:String,required:!1,default:Object(C.a)("project avatar")},size:{type:Number,required:!1,default:20}},computed:{sanitizedSource:function(){return""===this.imgSrc||null===this.imgSrc?On.a:this.imgSrc},resultantSrcAttribute:function(){return this.lazy?wn.b:this.sanitizedSource},avatarSizeClass:function(){return"s".concat(this.size)}}},jn=Object(M.a)(_n,(function(){var e,t=this,n=t.$createElement;return(t._self._c||n)("img",{staticClass:"avatar",class:(e={lazy:t.lazy},e[t.avatarSizeClass]=!0,e[t.cssClasses]=!0,e),attrs:{src:t.resultantSrcAttribute,width:t.size,height:t.size,alt:t.imgAlt,"data-src":t.sanitizedSource}})}),[],!1,null,null,null).exports,En={components:{Identicon:yn.a,ProjectAvatarImage:jn},props:{project:{type:Object,required:!0},size:{type:Number,default:40,required:!1}},computed:{sizeClass:function(){return"s".concat(this.size)}}},Pn={components:{ProjectAvatarDefault:Object(M.a)(En,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"avatar-container rect-avatar project-avatar",class:e.sizeClass},[e.project.avatar_url?n("project-avatar-image",{attrs:{"link-href":e.project.path,"img-src":e.project.avatar_url,"img-alt":e.project.name,"img-size":e.size}}):n("identicon",{staticClass:"rect-avatar",attrs:{"entity-id":e.project.id,"entity-name":e.project.name,"size-class":e.sizeClass}})],1)}),[],!1,null,null,null).exports},props:{project:{type:Object,required:!0}}},Sn=Object(M.a)(Pn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"context-header ide-context-header"},[n("a",{attrs:{href:e.project.web_url,title:e.s__("IDE|Go to project")}},[n("project-avatar-default",{attrs:{project:e.project,size:48}}),e._v(" "),n("span",{staticClass:"ide-sidebar-project-title"},[n("span",{staticClass:"sidebar-context-title"},[e._v(" "+e._s(e.project.name)+" ")]),e._v(" "),n("span",{staticClass:"sidebar-context-title text-secondary"},[e._v("\n        "+e._s(e.project.path_with_namespace)+"\n      ")])])],1)])}),[],!1,null,null,null).exports;function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){In(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function In(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kn={components:{GlSkeletonLoading:q.a,ResizablePanel:nt,ActivityBar:st,RepoCommitSection:Ct,IdeTree:Ze,CommitForm:fn,IdeReview:bn,SuccessMessage:sn,IdeProjectHeader:Sn},computed:Tn(Tn(Tn({},Object(j.e)(["loading","currentActivityView","changedFiles","stagedFiles","lastCommitMsg"])),Object(j.d)(["currentProject","someUncommittedChanges"])),{},{showSuccessMessage:function(){return this.currentActivityView===T.s.edit.name&&this.lastCommitMsg&&!this.someUncommittedChanges}}),SIDEBAR_INIT_WIDTH:T.i},xn=Object(M.a)(kn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("resizable-panel",{staticClass:"multi-file-commit-panel flex-column",attrs:{"initial-width":e.$options.SIDEBAR_INIT_WIDTH,side:"left"}},[e.loading?[n("div",{staticClass:"multi-file-commit-panel-inner"},e._l(3,(function(e){return n("div",{key:e,staticClass:"multi-file-loading-container"},[n("gl-skeleton-loading")],1)})),0)]:[n("ide-project-header",{attrs:{project:e.currentProject}}),e._v(" "),n("div",{staticClass:"ide-context-body d-flex flex-fill"},[n("activity-bar"),e._v(" "),n("div",{staticClass:"multi-file-commit-panel-inner"},[n("div",{staticClass:"multi-file-commit-panel-inner-content"},[n(e.currentActivityView,{tag:"component"})],1),e._v(" "),n("commit-form")],1)],1)]],2)}),[],!1,null,null,null).exports,Rn=(n("bOix"),{components:{icon:U.a},directives:{tooltip:V.a},props:{file:{type:Object,required:!0}},computed:{lockTooltip:function(){return Object(C.e)(Object(C.a)("Locked by %{fileLockUserName}"),{fileLockUserName:this.file.file_lock.user.name})}}});function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){Fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ln={components:{FileStatusIcon:Object(M.a)(Rn,(function(){var e=this.$createElement,t=this._self._c||e;return this.file.file_lock?t("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:this.lockTooltip,"data-container":"body"}},[t("icon",{staticClass:"file-status-icon",attrs:{name:"lock"}})],1):this._e()}),[],!1,null,null,null).exports,FileIcon:ct.a,Icon:U.a,ChangedFileIcon:z.a},props:{tab:{type:Object,required:!0}},data:function(){return{tabMouseOver:!1}},computed:{closeLabel:function(){return this.fileHasChanged?Object(C.e)(Object(C.a)("%{tabname} changed"),{tabname:this.tab.name}):Object(C.e)(Object(C.a)("Close %{tabname}",{tabname:this.tab.name}))},showChangedIcon:function(){return!!this.tab.pending||!!this.fileHasChanged&&!this.tabMouseOver},fileHasChanged:function(){return this.tab.changed||this.tab.tempFile||this.tab.staged||this.tab.deleted}},methods:An(An({},Object(j.c)(["closeFile","updateDelayViewerUpdated","openPendingTab"])),{},{clickFile:function(e){e.active||(this.updateDelayViewerUpdated(!0),e.pending?this.openPendingTab({file:e,keyPrefix:e.staged?"staged":"unstaged"}):this.$router.push("/project".concat(e.url)))},mouseOverTab:function(){this.fileHasChanged&&(this.tabMouseOver=!0)},mouseOutTab:function(){this.fileHasChanged&&(this.tabMouseOver=!1)}})};function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bn={components:{RepoTab:Object(M.a)(Ln,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{class:{active:e.tab.active,disabled:e.tab.pending},on:{click:function(t){return e.clickFile(e.tab)},mouseover:e.mouseOverTab,mouseout:e.mouseOutTab}},[n("div",{staticClass:"multi-file-tab",attrs:{title:e.tab.url}},[n("file-icon",{attrs:{"file-name":e.tab.name,size:16}}),e._v("\n    "+e._s(e.tab.name)+"\n    "),n("file-status-icon",{attrs:{file:e.tab}})],1),e._v(" "),n("button",{staticClass:"multi-file-tab-close",attrs:{"aria-label":e.closeLabel,disabled:e.tab.pending,type:"button"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.closeFile(e.tab)}}},[e.showChangedIcon?n("changed-file-icon",{attrs:{file:e.tab}}):n("icon",{attrs:{size:12,name:"close"}})],1)])}),[],!1,null,null,null).exports},props:{activeFile:{type:Object,required:!0},files:{type:Array,required:!0},viewer:{type:String,required:!0}},methods:Nn(Nn({},Object(j.c)(["updateViewer","removePendingTab"])),{},{openFileViewer:function(e){var t=this;return this.updateViewer(e),this.activeFile.pending?this.removePendingTab(this.activeFile).then((function(){t.$router.push("/project".concat(t.activeFile.url))})):null}})},$n=Object(M.a)(Bn,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"multi-file-tabs"},[t("ul",{ref:"tabsScroller",staticClass:"list-unstyled gl-mb-0"},this._l(this.files,(function(e){return t("repo-tab",{key:e.key,attrs:{tab:e}})})),1)])}),[],!1,null,null,null).exports,Vn=n("h7kv"),Un=n.n(Vn),zn=Object(C.a)("Connecting to terminal sync service"),Gn=Object(C.a)("Uploading changes to terminal"),Hn=Object(C.a)("Terminal sync service is running");function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach((function(t){Kn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qn={components:{Icon:U.a,GlLoadingIcon:S.a},directives:{"gl-tooltip":Ft.a},data:function(){return{isLoading:!1}},computed:Jn(Jn(Jn({},Object(j.e)("terminalSync",["isError","isStarted","message"])),Object(j.e)("terminalSync",{isLoadingState:"isLoading"})),{},{status:function(){return this.isLoading?{icon:"",text:this.isStarted?Gn:zn}:this.isError?{icon:"warning",text:this.message}:this.isStarted?{icon:"mobile-issue-close",text:Hn}:null}}),watch:{isLoadingState:Un()((function(e){this.isLoading=e}),150)},created:function(){this.isLoading=this.isLoadingState}};function Yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xn={components:{TerminalSyncStatus:Object(M.a)(Qn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.status?n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"d-flex align-items-center",attrs:{title:e.status.text,role:"note"}},[n("span",[e._v(e._s(e.__("Terminal"))+":")]),e._v(" "),n("span",{staticClass:"square s16 d-flex-center ml-1",attrs:{"aria-label":e.status.text}},[e.isLoading?n("gl-loading-icon",{staticClass:"d-flex-center",attrs:{inline:"",size:"sm"}}):e.status.icon?n("icon",{attrs:{name:e.status.icon,size:16}}):e._e()],1)]):e._e()}),[],!1,null,null,null).exports},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(n),!0).forEach((function(t){Zn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(j.e)(["terminalSync"]))};function er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?er(Object(n),!0).forEach((function(t){nr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rr={components:{TerminalSyncStatusSafe:Object(M.a)(Xn,(function(){var e=this.$createElement,t=this._self._c||e;return this.terminalSync?t("terminal-sync-status"):this._e()}),[],!1,null,null,null).exports},computed:tr(tr({},Object(j.d)(["activeFile"])),{},{activeFileEOL:function(){return Object(R.b)(this.activeFile.content)}})},ir=Object(M.a)(rr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ide-status-list d-flex"},[e.activeFile?[n("div",{staticClass:"ide-status-file"},[e._v(e._s(e.activeFile.name))]),e._v(" "),n("div",{staticClass:"ide-status-file"},[e._v(e._s(e.activeFileEOL))]),e._v(" "),e.activeFile.binary?e._e():n("div",{staticClass:"ide-status-file"},[e._v("\n      "+e._s(e.activeFile.editorRow)+":"+e._s(e.activeFile.editorColumn)+"\n    ")]),e._v(" "),n("div",{staticClass:"ide-status-file"},[e._v(e._s(e.activeFile.fileLanguage))])]:e._e(),e._v(" "),n("terminal-sync-status-safe")],2)}),[],!1,null,null,null).exports,or=n("s1D3"),ar=n("MV2A"),sr={components:{GlIcon:or.a,GlLink:ar.a},props:{text:{type:String,required:!0},url:{type:String,required:!0}}},cr=Object(M.a)(sr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex-center flex-nowrap text-nowrap js-ide-status-mr"},[n("gl-icon",{attrs:{name:"merge-request"}}),e._v(" "),n("span",{staticClass:"ml-1 d-none d-sm-block"},[e._v(e._s(e.s__("WebIDE|Merge request")))]),e._v(" "),n("gl-link",{staticClass:"ml-1",attrs:{href:e.url}},[e._v(e._s(e.text))])],1)}),[],!1,null,null,null).exports,lr=n("5QKO"),ur=n("8zNS"),dr=n("+kWK");function fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(n),!0).forEach((function(t){hr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mr={components:{icon:U.a,userAvatarImage:dr.a,CiIcon:ur.a,IdeStatusList:ir,IdeStatusMr:cr},directives:{tooltip:V.a},mixins:[lr.a],data:function(){return{lastCommitFormattedAge:null}},computed:pr(pr(pr({},Object(j.e)(["currentBranchId","currentProjectId"])),Object(j.d)(["currentProject","lastCommit","currentMergeRequest"])),Object(j.e)("pipelines",["latestPipeline"])),watch:{lastCommit:function(){this.initPipelinePolling()}},mounted:function(){this.startTimer()},beforeDestroy:function(){this.intervalId&&clearInterval(this.intervalId),this.stopPipelinePolling()},methods:pr(pr(pr({},Object(j.c)("rightPane",{openRightPane:"open"})),Object(j.c)("pipelines",["fetchLatestPipeline","stopPipelinePolling"])),{},{startTimer:function(){var e=this;this.intervalId=setInterval((function(){e.commitAgeUpdate()}),1e3)},initPipelinePolling:function(){this.lastCommit&&this.fetchLatestPipeline()},commitAgeUpdate:function(){this.lastCommit&&(this.lastCommitFormattedAge=this.timeFormatted(this.lastCommit.committed_date))},getCommitPath:function(e){return"".concat(this.currentProject.web_url,"/commit/").concat(e)}}),rightSidebarViews:T.v},gr=Object(M.a)(mr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{staticClass:"ide-status-bar"},[e.lastCommit?n("div",{staticClass:"ide-status-branch"},[e.latestPipeline&&e.latestPipeline.details?n("span",{staticClass:"ide-status-pipeline"},[n("button",{staticClass:"p-0 border-0 bg-transparent",attrs:{type:"button"},on:{click:function(t){return e.openRightPane(e.$options.rightSidebarViews.pipelines)}}},[n("ci-icon",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{status:e.latestPipeline.details.status,title:e.latestPipeline.details.status.text}})],1),e._v("\n      Pipeline\n      "),n("a",{staticClass:"monospace",attrs:{href:e.latestPipeline.details.status.details_path}},[e._v("#"+e._s(e.latestPipeline.id))]),e._v("\n      "+e._s(e.latestPipeline.details.status.text)+" for\n    ")]):e._e(),e._v(" "),n("icon",{attrs:{name:"commit"}}),e._v(" "),n("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"commit-sha",attrs:{title:e.lastCommit.message,href:e.getCommitPath(e.lastCommit.short_id)}},[e._v(e._s(e.lastCommit.short_id))]),e._v("\n    by\n    "),n("user-avatar-image",{attrs:{"css-classes":"ide-status-avatar",size:18,"img-src":e.latestPipeline&&e.latestPipeline.commit.author_gravatar_url,"img-alt":e.lastCommit.author_name,"tooltip-text":e.lastCommit.author_name}}),e._v("\n    "+e._s(e.lastCommit.author_name)+"\n    "),n("time",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{datetime:e.lastCommit.committed_date,title:e.tooltipTitle(e.lastCommit.committed_date),"data-placement":"top","data-container":"body"}},[e._v(e._s(e.lastCommitFormattedAge))])],1):e._e(),e._v(" "),e.currentMergeRequest?n("ide-status-mr",{staticClass:"mx-3",attrs:{url:e.currentMergeRequest.web_url,text:e.currentMergeRequest.references.short}}):e._e(),e._v(" "),n("ide-status-list",{staticClass:"ml-auto"})],1)}),[],!1,null,null,null).exports,vr=(n("jaBk"),n("FMw2"),n("QifN"),{image:{id:"image",binary:!0},markdown:{id:"markdown",previewTitle:Object(C.a)("Preview Markdown")}}),br={},yr={jpg:"image",jpeg:"image",gif:"image",png:"image",bmp:"image",ico:"image",md:"markdown",markdown:"markdown"};function Or(e){if(!e)return null;var t=e.split("/").pop(),n=t.includes(".")&&t.split(".").pop(),r=br[t]||yr[n];return vr[r]}n("S26F");var wr,_r=n("pJDX"),jr=n.n(_r),Er=(n("EJYk"),n("2ibD")),Pr=Er.a.CancelToken,Sr={components:{GlSkeletonLoading:q.a},props:{content:{type:String,required:!0},commitSha:{type:String,required:!1,default:""},filePath:{type:String,required:!1,default:""},projectPath:{type:String,required:!0},images:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{previewContent:null,isLoading:!1}},watch:{content:function(){this.previewContent=null}},created:function(){wr=Pr.source(),this.fetchMarkdownPreview()},updated:function(){this.fetchMarkdownPreview()},destroyed:function(){this.isLoading&&wr.cancel(Object(C.a)("Cancelling Preview"))},methods:{fetchMarkdownPreview:function(){var e=this;if(this.content&&null===this.previewContent){this.isLoading=!0;var t={text:this.content,path:this.filePath};this.commitSha&&(t.ref=this.commitSha);var n={cancelToken:wr.token};Er.a.post("".concat(gon.relative_url_root,"/").concat(this.projectPath,"/preview_markdown"),t,n).then((function(t){var n=t.data.body;jr()(e.images,(function(e,t){var r=e.src,i=e.title,o=void 0===i?"":i,a=e.alt;n=n.replace(t,'<img src="'.concat(Rt()(r),'" title="').concat(Rt()(o),'" alt="').concat(Rt()(a),'">'))})),e.previewContent=n,e.isLoading=!1,e.$nextTick((function(){ue()(e.$refs.markdownPreview).renderGFM()}))})).catch((function(){e.previewContent=Object(C.a)("An error occurred while fetching markdown preview"),e.isLoading=!1}))}}}},Cr=Object(M.a)(Sr,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"markdownPreview",staticClass:"md-previewer"},[this.isLoading?t("gl-skeleton-loading"):t("div",{staticClass:"md",domProps:{innerHTML:this._s(this.previewContent)}})],1)}),[],!1,null,null,null).exports,Tr=n("JCWm"),Ir=n("CdyC"),kr={props:{content:{type:String,default:"",required:!1},path:{type:String,required:!0},fileSize:{type:Number,required:!1,default:0},filePath:{type:String,required:!1,default:""},commitSha:{type:String,required:!1,default:""},projectPath:{type:String,required:!1,default:""},type:{type:String,required:!1,default:""},images:{type:Object,required:!1,default:function(){return{}}}},computed:{viewer:function(){if(!this.path)return null;if(!this.type)return Ir.a;switch(this.type){case"markdown":return Cr;case"image":return Tr.a;default:return Ir.a}}}},xr=Object(M.a)(kr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"preview-container"},[n(e.viewer,{tag:"component",attrs:{path:e.path,"file-path":e.filePath,"file-size":e.fileSize,"project-path":e.projectPath,content:e.content,images:e.images,"commit-sha":e.commitSha}})],1)}),[],!1,null,null,null).exports,Rr=n("x/Tb"),Dr=(n("z4I3"),n("dj/k"),n("yaFd"),n("4ql4"),n("GzNv"),n("MCZX")),Ar=n("Nqrb"),Fr=(n("y6Fo"),n("3twG")),Lr="SET_BRANCH_WORKING_REFERENCE";n("i1WY"),n("t3Gg"),n("jnfO"),n("+xeR");function Mr(e){return function(e){if(Array.isArray(e))return Nr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $r=function(e){var t=e.id,n=e.projectId,r=e.branchId,i=e.type,o=e.url,a=e.name,s=e.path,c=e.content,l=void 0===c?"":c,u=e.tempFile,d=void 0!==u&&u,f=e.active,p=void 0!==f&&f,h=e.opened,m=void 0!==h&&h,g=e.changed,v=void 0!==g&&g,b=e.binary,y=void 0!==b&&b,O=e.rawPath,w=void 0===O?"":O,_=e.file_lock,j=e.parentPath,E=void 0===j?"":j;return Object.assign({id:"",key:"",type:"",projectId:"",branchId:"",name:"",url:"",path:"",tempFile:!1,tree:[],loading:!1,opened:!1,active:!1,changed:!1,staged:!1,lastCommitSha:"",lastCommit:{id:"",url:"",message:"",updatedAt:"",author:""},rawPath:"",binary:!1,raw:"",content:"",editorRow:1,editorColumn:1,fileLanguage:"",viewMode:T.a,size:0,parentPath:null,lastOpenedAt:0,mrChange:null,deleted:!1,prevPath:void 0},{id:t,projectId:n,branchId:r,key:"".concat(a,"-").concat(i,"-").concat(t),type:i,name:a,url:o,path:s,tempFile:d,opened:m,active:p,changed:v,content:l,binary:y,rawPath:w,file_lock:_,parentPath:E})},Vr=function(e,t){!function(e){document.title=e}([t.path,e.currentBranchId,e.currentProjectId,"GitLab"].join(" · "))},Ur=function(e){return e.prevPath?T.n.move:e.deleted?T.n.delete:e.tempFile?T.n.create:T.n.update},zr=function(e){return e.reduce((function(e,t){return"tree"===t.type?e:e.concat(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(n),!0).forEach((function(t){Br(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t))}),[])},Gr=function(e,t){return"tree"===e.type&&"blob"===t.type?-1:"blob"===e.type&&"tree"===t.type?1:e.name<t.name?-1:e.name>t.name?1:0},Hr=function e(t){return t.map((function(t){return Object.assign(t,{tree:t.tree.length?e(t.tree):[]})})).sort(Gr)},Wr=function(e,t){return 0===e.indexOf("".concat(t,"/"))},Jr=function(e,t){return e.filter((function(e){return Wr(e.path,t)})).length},Kr=function(e,t){return t?e.entries[t]:e.trees["".concat(e.currentProjectId,"/").concat(e.currentBranchId)]},Qr=function(e,t,n,r){if(n){var i=Kr(e,r);if(i){var o=i.tree.filter((function(e){var r=e.key,i=e.path;return r!==t&&i!==n})).concat(e.entries[n]);i.tree=Hr(o)}}},Yr=function(e,t,n){["openFiles","changedFiles","stagedFiles"].forEach((function(r){!function(e,t,n,r){Object.assign(e,Br({},t,e[t].map((function(t){return t.key===n?e.entries[r]:t}))))}(e,r,t,n)}))},Zr=function(e){return e.replace(/\/$/,"")};function Xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ei=function(e){var t=e.lastIndexOf("/");return{parent:t>=0?e.substring(0,t):null,name:t>=0?e.substring(t+1):e}},ti=function(e){var t,n,r=e.data,i=e.projectId,o=e.branchId,a=e.tempFile,s=void 0!==a&&a,c=e.content,l=void 0===c?"":c,u=e.binary,d=void 0!==u&&u,f=e.rawPath,p=void 0===f?"":f,h=[],m={};return r.forEach((function(e){var r=ei(e),a=r.parent,c=r.name,u=a&&function e(t){if(!t)return null;if(m[t])return m[t];var r=ei(t),a=r.parent,c=r.name,l=a&&e(a);n=l&&l.path;var u=$r({projectId:i,branchId:o,id:t,name:c,path:t,url:"/".concat(i,"/tree/").concat(o,"/-/").concat(t,"/"),type:"tree",tempFile:s,changed:s,opened:s,parentPath:n});return Object.assign(m,Xr({},t,u)),l?l.tree.push(u):h.push(u),u}(a);if(c){var f=Or(c);n=u&&u.path,t=$r({projectId:i,branchId:o,id:e,name:c,path:e,url:"/".concat(i,"/blob/").concat(o,"/-/").concat(e),type:"blob",tempFile:s,changed:s,content:l,binary:f&&f.binary||d,rawPath:p,parentPath:n}),Object.assign(m,Xr({},e,t)),u?u.tree.push(t):h.push(t)}})),{entries:m,treeList:Hr(h),file:t,parentPath:n}},ni=n("qPgm"),ri=n("Wh5f"),ii=n.n(ri),oi=n("5v28"),ai=Object(oi.a)({},{fetchPolicy:oi.b.NO_CACHE});function si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?si(Object(n),!0).forEach((function(t){li(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):si(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ui(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return di(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return di(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fi=function(e){return ni.a.project(e).then((function(e){return e.data}))},pi=function(e){return ai.query({query:ii.a,variables:{projectPath:e}}).then((function(e){return e.data.project}))},hi={getFileData:function(e){return Er.a.get(e,{params:{format:"json",viewer:"none"}})},getRawFileData:function(e){return e.tempFile&&!e.prevPath?Promise.resolve(e.content):e.raw||!e.rawPath?Promise.resolve(e.raw):Er.a.get(e.rawPath,{transformResponse:[function(e){return e}]}).then((function(e){return e.data}))},getBaseRawFileData:function(e,t){if(e.tempFile||e.baseRaw)return Promise.resolve(e.baseRaw);var n=e.mrChange&&e.mrChange.renamed_file?e.mrChange.old_path:e.path;return Er.a.get(Object(Fr.m)(gon.relative_url_root||"/",e.projectId,"-","raw",t,Object(Fr.b)(n)),{transformResponse:[function(e){return e}]}).then((function(e){return e.data}))},getProjectData:function(e,t){var n="".concat(e,"/").concat(t);return Promise.all([fi(n),pi(n)]).then((function(e){var t=ui(e,2),n=t[0],r=t[1];return{data:ci(ci({},n),r)}}))},getProjectMergeRequests:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ni.a.projectMergeRequests(e,t)},getProjectMergeRequestData:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ni.a.projectMergeRequest(e,t,n)},getProjectMergeRequestChanges:function(e,t){return ni.a.projectMergeRequestChanges(e,t)},getProjectMergeRequestVersions:function(e,t){return ni.a.projectMergeRequestVersions(e,t)},getBranchData:function(e,t){return ni.a.branchSingle(e,t)},commit:function(e,t){return ni.a.commitMultiple(e,t)},getFiles:function(e,t){var n="".concat(gon.relative_url_root,"/").concat(e,"/-/files/").concat(t);return Er.a.get(n,{params:{format:"json"}})},lastCommitPipelines:function(e){var t=e.getters,n=t.lastCommit.id;return ni.a.commitPipelines(t.currentProject.path_with_namespace,n)},pingUsage:function(e){var t="".concat(gon.relative_url_root,"/").concat(e,"/usage_ping/web_ide_pipelines_count");return Er.a.post(t)}},mi=n("7xOh"),gi=Object(mi.a)(),vi=n("ExxS"),bi=n.n(vi),yi=function(e,t){(0,e.commit)("TOGGLE_TREE_OPEN",t)},Oi=function(e,t){var n=e.commit,r=e.dispatch,i=e.state.entries[t],o=i?i.parentPath:"";o&&(n("SET_TREE_OPEN",o),r("showTreeEntry",o))},wi=function(e,t){var n=e.commit,r=e.dispatch;"tree"===t.type?r("toggleTreeOpen",t.path):"blob"===t.type&&(t.opened||n("TOGGLE_FILE_OPEN",t.path),r("setFileActive",t.path)),r("showTreeEntry",t.path)},_i=function(e,t){var n=e.state,r=e.commit,i=t.projectId,o=t.branchId,a=t.treeList,s=n.trees["".concat(i,"/").concat(o)];r("SET_DIRECTORY_DATA",{treePath:"".concat(i,"/").concat(o),data:a}),r("TOGGLE_LOADING",{entry:s,forceValue:!1})},ji=function(e){var t=e.state,n=e.commit,r=e.dispatch,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(e,o){var a=i.projectId,s=i.branchId,c=i.ref,l=void 0===c?s:c;if(!t.trees["".concat(a,"/").concat(s)]||t.trees["".concat(a,"/").concat(s)].tree&&0===t.trees["".concat(a,"/").concat(s)].tree.length){var u=t.projects[a];n("CREATE_TREE",{treePath:"".concat(a,"/").concat(s)}),hi.getFiles(u.path_with_namespace,l).then((function(t){var i=t.data,o=ti({data:i,projectId:a,branchId:s}),c=o.entries,l=o.treeList;n("SET_ENTRIES",c),bi()((function(){return r("setDirectoryData",{projectId:a,branchId:s,treeList:l})})),e()})).catch((function(e){r("setErrorMessage",{text:Object(C.a)("An error occurred while loading all the files."),action:function(e){return r("getFiles",e).then((function(){return r("setErrorMessage",null)}))},actionText:Object(C.a)("Please try again"),actionPayload:{projectId:a,branchId:s}}),o(e)}))}else e()}))},Ei=function(e,t){var n=e.dispatch,r=e.commit,i=e.state.entries[t];r("RESTORE_TREE",t),i.parentPath&&n("restoreTree",i.parentPath)},Pi=function(e,t){var n=e.commit,r=e.state,i=e.dispatch,o=t.path,a=r.openFiles.findIndex((function(e){return e.key===t.key})),s=t.active;if(t.pending?n("REMOVE_PENDING_TAB",t):(n("TOGGLE_FILE_OPEN",o),n("SET_FILE_ACTIVE",{path:o,active:!1})),r.openFiles.length>0&&s){var c=0===a?0:a-1,l=r.openFiles[c];l.pending?(i("updateViewer",T.x.diff),i("openPendingTab",{file:l,keyPrefix:l.staged?"staged":"unstaged"})):i("router/push","/project".concat(l.url),{root:!0})}else r.openFiles.length||i("router/push","/project/".concat(t.projectId,"/tree/").concat(t.branchId,"/"),{root:!0});gi.$emit("editor.update.model.dispose.".concat(t.key))},Si=function(e,t){var n=e.commit,r=e.state,i=e.getters,o=e.dispatch,a=r.entries[t],s=i.activeFile;a.active||(s&&n("SET_FILE_ACTIVE",{path:s.path,active:!1}),n("SET_FILE_ACTIVE",{path:t,active:!0}),o("scrollToTab"))},Ci=function(e,t){var n=e.state,r=e.commit,i=e.dispatch,o=e.getters,a=t.path,s=t.makeFileActive,c=void 0===s||s,l=t.openFile,u=void 0===l?c:l,d=n.entries[a],f=o.isFileDeletedAndReadded(a);if(d.raw||d.tempFile&&!d.prevPath&&!f)return Promise.resolve();r("TOGGLE_LOADING",{entry:d});var p=Object(Fr.m)(gon.relative_url_root||"/",n.currentProjectId,"-",d.type,o.lastCommit&&o.lastCommit.id,Object(Fr.b)(d.prevPath||d.path));return hi.getFileData(p).then((function(e){var t=e.data;Vr(n,d),t&&r("SET_FILE_DATA",{data:t,file:d}),u&&r("TOGGLE_FILE_OPEN",a),c&&i("setFileActive",a),r("TOGGLE_LOADING",{entry:d})})).catch((function(){r("TOGGLE_LOADING",{entry:d}),i("setErrorMessage",{text:Object(C.a)("An error occurred while loading the file."),action:function(e){return i("getFileData",e).then((function(){return i("setErrorMessage",null)}))},actionText:Object(C.a)("Please try again"),actionPayload:{path:a,makeFileActive:c}})}))},Ti=function(e,t){(0,e.commit)("SET_FILE_MERGE_REQUEST_CHANGE",{file:t.file,mrChange:t.mrChange})},Ii=function(e,t){var n=e.state,r=e.commit,i=e.dispatch,o=e.getters,a=t.path,s=n.entries[a],c=n.stagedFiles.find((function(e){return e.path===a}));return new Promise((function(e,t){var n=o.isFileDeletedAndReadded(a);hi.getRawFileData(n?c:s).then((function(i){if((!s.tempFile||s.prevPath||n)&&r("SET_FILE_RAW_DATA",{file:s,raw:i,fileDeletedAndReadded:n}),s.mrChange&&!1===s.mrChange.new_file){var a=o.currentMergeRequest&&o.currentMergeRequest.baseCommitSha||"";hi.getBaseRawFileData(s,a).then((function(t){r("SET_FILE_BASE_RAW_DATA",{file:s,baseRaw:t}),e(i)})).catch((function(e){t(e)}))}else e(i)})).catch((function(){i("setErrorMessage",{text:Object(C.a)("An error occurred while loading the file content."),action:function(e){return i("getRawFileData",e).then((function(){return i("setErrorMessage",null)}))},actionText:Object(C.a)("Please try again"),actionPayload:{path:a}}),t()}))}))},ki=function(e,t){var n=e.commit,r=e.state,i=e.getters,o=t.path,a=t.content,s=r.entries[o];n("UPDATE_FILE_CONTENT",{path:o,content:a});var c=r.changedFiles.findIndex((function(e){return e.path===o}));s.changed&&-1===c?n("STAGE_CHANGE",{path:o,diffInfo:i.getDiffInfo(o)}):s.changed||s.tempFile||-1===c||n("REMOVE_FILE_FROM_CHANGED",o)},xi=function(e,t){var n=e.getters,r=e.commit,i=t.fileLanguage;n.activeFile&&r("SET_FILE_LANGUAGE",{file:n.activeFile,fileLanguage:i})},Ri=function(e,t){var n=e.getters,r=e.commit,i=t.editorRow,o=t.editorColumn;n.activeFile&&r("SET_FILE_POSITION",{file:n.activeFile,editorRow:i,editorColumn:o})},Di=function(e,t){(0,e.commit)("SET_FILE_VIEWMODE",{file:t.file,viewMode:t.viewMode})},Ai=function(e,t){var n=e.dispatch,r=e.state,i=e.commit,o=r.entries[t],a=o.tempFile||o.prevPath;o.deleted&&o.parentPath&&n("restoreTree",o.parentPath),a&&n("closeFile",o),o.tempFile?n("deleteEntry",o.path):i("DISCARD_FILE_CHANGES",o.path),o.prevPath&&n("renameEntry",{path:o.path,name:o.prevName,parentPath:o.prevParentPath})},Fi=function(e,t){var n,r=e.dispatch,i=e.state,o=e.commit,a=e.getters,s=i.entries[t],c=s.tempFile||s.prevPath;r("restoreOriginalFile",t),c||s.path!==(null===(n=a.activeFile)||void 0===n?void 0:n.path)||r("updateDelayViewerUpdated",!0).then((function(){r("router/push","/project".concat(s.url),{root:!0})})).catch((function(e){throw e})),o("REMOVE_FILE_FROM_CHANGED",t),gi.$emit("editor.update.model.new.content.".concat(s.key),s.content),gi.$emit("editor.update.model.dispose.unstaged-".concat(s.key),s.content)},Li=function(e,t){var n=e.commit,r=e.dispatch,i=e.getters,o=i.getStagedFile(t),a=i.getOpenFile(t);n("STAGE_CHANGE",{path:t,diffInfo:i.getDiffInfo(t)}),n("SET_LAST_COMMIT_MSG",""),o&&gi.$emit("editor.update.model.new.content.staged-".concat(o.key),o.content);var s=i.getStagedFile(t);a&&a.active&&s&&r("openPendingTab",{file:s,keyPrefix:T.w.staged})},Mi=function(e,t){var n=e.commit,r=e.dispatch,i=e.getters,o=i.getOpenFile(t);n("UNSTAGE_CHANGE",{path:t,diffInfo:i.getDiffInfo(t)});var a=i.getChangedFile(t);o&&o.active&&a&&r("openPendingTab",{file:a,keyPrefix:T.w.unstaged})},Ni=function(e,t){var n=e.commit,r=e.dispatch,i=e.getters,o=e.state,a=t.file,s=t.keyPrefix;return(!i.activeFile||i.activeFile.key!=="".concat(s,"-").concat(a.key))&&(o.openFiles.forEach((function(e){return gi.$emit("editor.update.model.dispose.".concat(e.key))})),n("ADD_PENDING_TAB",{file:a,keyPrefix:s}),r("router/push","/project/".concat(a.projectId,"/tree/").concat(o.currentBranchId,"/"),{root:!0}),!0)},qi=function(e,t){(0,e.commit)("REMOVE_PENDING_TAB",t),gi.$emit("editor.update.model.dispose.".concat(t.key))},Bi=function(){gi.$emit("ide.files.change")},$i=function(e){var t=e.commit,n=e.state,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.namespace,o=r.projectId,a=r.force,s=void 0!==a&&a;return new Promise((function(e,r){!n.projects["".concat(i,"/").concat(o)]||s?(t("TOGGLE_LOADING",{entry:n}),hi.getProjectData(i,o).then((function(e){return e.data})).then((function(r){t("TOGGLE_LOADING",{entry:n}),t("SET_PROJECT",{projectPath:"".concat(i,"/").concat(o),project:r}),t("SET_CURRENT_PROJECT","".concat(i,"/").concat(o)),e(r)})).catch((function(){Object(k.a)(Object(C.a)("Error loading project data. Please try again."),"alert",document,null,!1,!0),r(new Error("Project not loaded ".concat(i,"/").concat(o)))}))):e(n.projects["".concat(i,"/").concat(o)])}))},Vi=function(e){var t=e.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.projectId,i=n.branchId;return hi.getBranchData(r,i).then((function(e){var n=e.data;t("SET_BRANCH_COMMIT",{projectId:r,branchId:i,commit:n.commit})})).catch((function(){Object(k.a)(Object(C.a)("Error loading last commit."),"alert",document,null,!1,!0)}))},Ui=function(e,t){var n=e.state,r=e.dispatch,i=e.getters;return ni.a.createBranch(n.currentProjectId,{ref:i.currentProject.default_branch,branch:t}).then((function(){r("setErrorMessage",null),window.location.reload()})).catch((function(){r("setErrorMessage",{text:Object(C.a)("An error occurred creating the new branch."),action:function(e){return r("createNewBranchFromDefault",e)},actionText:Object(C.a)("Please try again"),actionPayload:t})}))},zi=function(e,t){var n=e.dispatch;n("setErrorMessage",{text:Object(C.e)(Object(C.a)("Branch %{branchName} was not found in this project's repository."),{branchName:"<strong>".concat(Rt()(t),"</strong>")},!1),action:function(e){return n("createNewBranchFromDefault",e)},actionText:Object(C.a)("Create branch"),actionPayload:t})},Gi=function(e,t){var n=e.commit,r=e.state,i=t.projectId,o=t.branchId,a="".concat(i,"/").concat(o);r.trees["".concat(i,"/").concat(o)]||(n("CREATE_TREE",{treePath:a}),n("TOGGLE_LOADING",{entry:r.trees[a],forceValue:!1}))},Hi=function(e,t){var n=e.dispatch,r=e.state,i=t.basePath;if(i){var o="/"===i.slice(-1)?i.slice(0,-1):i,a=Object.keys(r.entries).find((function(e){return e===o&&!r.entries[e].pending})),s=r.entries[a];s?n("handleTreeEntryAction",s):n("createTempEntry",{name:o,type:"blob"})}},Wi=function(e,t){var n,r=e.dispatch,i=e.getters,o=e.state,a=t.projectId,s=t.branchId,c=o.projects[a];return(null==c?void 0:null===(n=c.branches)||void 0===n?void 0:n[s])?Promise.resolve():i.emptyRepo?r("loadEmptyBranch",{projectId:a,branchId:s}):r("getBranchData",{projectId:a,branchId:s}).then((function(){r("getMergeRequestsForBranch",{projectId:a,branchId:s});var e=i.findBranch(a,s);return r("getFiles",{projectId:a,branchId:s,ref:e.commit.id})})).catch((function(e){throw r("showBranchNotFoundError",s),e}))},Ji=function(e,t){var n=e.dispatch,r=t.projectId,i=t.branchId,o=t.basePath;return n("setCurrentBranchId",i),n("loadBranch",{projectId:r,branchId:i}).then((function(){return n("loadFile",{basePath:o})})).catch((function(){return new Error(Object(C.e)(Object(C.a)("An error occurred while getting files for - %{branchId}"),{branchId:"<strong>".concat(Rt()(r),"/").concat(Rt()(i),"</strong>")},!1))}))},Ki=function(e){var t=e.commit,n=e.state,r=e.getters,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.projectId,a=i.branchId;return r.findProjectPermissions(o)[T.h]?hi.getProjectMergeRequests("".concat(o),{source_branch:a,source_project_id:n.projects[o].id,order_by:"created_at",per_page:1}).then((function(e){var n=e.data;if(n.length>0){var r=n[0];t("SET_MERGE_REQUEST",{projectPath:o,mergeRequestId:r.iid,mergeRequest:r}),t("SET_CURRENT_MERGE_REQUEST","".concat(r.iid))}})).catch((function(e){throw Object(k.a)(Object(C.a)("Error fetching merge requests for ".concat(a)),"alert",document,null,!1,!0),e})):Promise.resolve()},Qi=function(e){var t=e.commit,n=e.dispatch,r=e.state,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.projectId,a=i.mergeRequestId,s=i.targetProjectId,c=void 0===s?null:s,l=i.force,u=void 0!==l&&l;return new Promise((function(e,i){!r.projects[o].mergeRequests[a]||u?hi.getProjectMergeRequestData(c||o,a).then((function(n){var r=n.data;t("SET_MERGE_REQUEST",{projectPath:o,mergeRequestId:a,mergeRequest:r}),t("SET_CURRENT_MERGE_REQUEST",a),e(r)})).catch((function(){n("setErrorMessage",{text:Object(C.a)("An error occurred while loading the merge request."),action:function(e){return n("getMergeRequestData",e).then((function(){return n("setErrorMessage",null)}))},actionText:Object(C.a)("Please try again"),actionPayload:{projectId:o,mergeRequestId:a,force:u}}),i(new Error("Merge Request not loaded ".concat(o)))})):e(r.projects[o].mergeRequests[a])}))},Yi=function(e){var t=e.commit,n=e.dispatch,r=e.state,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.projectId,a=i.mergeRequestId,s=i.targetProjectId,c=void 0===s?null:s,l=i.force,u=void 0!==l&&l;return new Promise((function(e,i){!r.projects[o].mergeRequests[a].changes.length||u?hi.getProjectMergeRequestChanges(c||o,a).then((function(n){var r=n.data;t("SET_MERGE_REQUEST_CHANGES",{projectPath:o,mergeRequestId:a,changes:r}),e(r)})).catch((function(){n("setErrorMessage",{text:Object(C.a)("An error occurred while loading the merge request changes."),action:function(e){return n("getMergeRequestChanges",e).then((function(){return n("setErrorMessage",null)}))},actionText:Object(C.a)("Please try again"),actionPayload:{projectId:o,mergeRequestId:a,force:u}}),i(new Error("Merge Request Changes not loaded ".concat(o)))})):e(r.projects[o].mergeRequests[a].changes)}))},Zi=function(e){var t=e.commit,n=e.dispatch,r=e.state,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.projectId,a=i.mergeRequestId,s=i.targetProjectId,c=void 0===s?null:s,l=i.force,u=void 0!==l&&l;return new Promise((function(e,i){!r.projects[o].mergeRequests[a].versions.length||u?hi.getProjectMergeRequestVersions(c||o,a).then((function(e){return e.data})).then((function(n){t("SET_MERGE_REQUEST_VERSIONS",{projectPath:o,mergeRequestId:a,versions:n}),e(n)})).catch((function(){n("setErrorMessage",{text:Object(C.a)("An error occurred while loading the merge request version data."),action:function(e){return n("getMergeRequestVersions",e).then((function(){return n("setErrorMessage",null)}))},actionText:Object(C.a)("Please try again"),actionPayload:{projectId:o,mergeRequestId:a,force:u}}),i(new Error("Merge Request Versions not loaded ".concat(o)))})):e(r.projects[o].mergeRequests[a].versions)}))},Xi=function(e){var t=e.dispatch,n=e.state,r=e.getters,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.projectId,a=i.targetProjectId,s=i.mergeRequestId;return t("getMergeRequestData",{projectId:o,targetProjectId:a,mergeRequestId:s}).then((function(e){return t("setCurrentBranchId",e.source_branch),t("getBranchData",{projectId:o,branchId:e.source_branch}).then((function(){var n=r.findBranch(o,e.source_branch);return t("getFiles",{projectId:o,branchId:e.source_branch,ref:n.commit.id})}))})).then((function(){return t("getMergeRequestVersions",{projectId:o,targetProjectId:a,mergeRequestId:s})})).then((function(){return t("getMergeRequestChanges",{projectId:o,targetProjectId:a,mergeRequestId:s})})).then((function(e){e.changes.length&&t("updateActivityBarView",T.s.review.name),e.changes.forEach((function(e,r){var i=n.entries[e.new_path];i&&(t("setFileMrChange",{file:i,mrChange:e}),r<10&&t("getFileData",{path:e.new_path,makeFileActive:0===r,openFile:!0}))}))})).catch((function(e){throw Object(k.a)(Object(C.a)("Error while loading the merge request. Please try again.")),e}))},eo=function(e,t){return Object(Fr.z)(t)},to=function(e,t){return(0,e.commit)("SET_INITIAL_DATA",t)},no=function(e){var t=e.state,n=e.commit,r=e.dispatch;t.changedFiles.forEach((function(e){return r("restoreOriginalFile",e.path)})),n("REMOVE_ALL_CHANGES_FILES")},ro=function(e,t){(0,e.commit)("SET_RESIZING_STATUS",t)},io=function(e,t){var n=e.state,r=e.commit,i=e.dispatch,o=e.getters,a=t.name,s=t.type,c=t.content,l=void 0===c?"":c,u=t.binary,d=void 0!==u&&u,f=t.rawPath,p=void 0===f?"":f,h=t.openFile,m=void 0===h||h,g=t.makeFileActive,v=void 0===g||g,b="/"!==a.slice(-1)&&"tree"===s?"".concat(a,"/"):a;if(!o.entryExists(a)){var y=ti({data:[b],projectId:n.currentProjectId,branchId:n.currentBranchId,type:s,tempFile:!0,content:l,binary:d,rawPath:p}),O=y.file,w=y.parentPath;return r("CREATE_TMP_ENTRY",{data:y,projectId:n.currentProjectId,branchId:n.currentBranchId}),"blob"===s&&(m&&r("TOGGLE_FILE_OPEN",O.path),r("STAGE_CHANGE",{path:O.path,diffInfo:o.getDiffInfo(O.path)}),m&&v&&i("setFileActive",O.path),i("triggerFilesChange")),w&&!n.entries[w].opened&&r("TOGGLE_TREE_OPEN",w),O}Object(k.a)(Object(C.e)(Object(C.a)('The name "%{name}" is already taken in this directory.'),{name:a.split("/").pop()}),"alert",document,null,!1,!0)},oo=function(e,t){var n=e.dispatch,r=e.getters,i=t.name,o=t.rawPath,a=void 0===o?"":o;return n("createTempEntry",{name:r.getAvailableFileName(i),type:"blob",content:a.split("base64,")[1],binary:!0,rawPath:a,openFile:!1,makeFileActive:!1})},ao=function(){_.default.nextTick((function(){var e=document.getElementById("tabs");e&&e.querySelector(".active .repo-tab").focus()}))},so=function(e){var t=e.state,n=e.commit,r=e.dispatch,i=e.getters,o=t.openFiles[0];n("SET_LAST_COMMIT_MSG",""),t.changedFiles.forEach((function(e){return n("STAGE_CHANGE",{path:e.path,diffInfo:i.getDiffInfo(e.path)})}));var a=i.getStagedFile(o.path);a&&r("openPendingTab",{file:a,keyPrefix:T.w.staged})},co=function(e){var t=e.state,n=e.commit,r=e.dispatch,i=e.getters,o=t.openFiles[0];t.stagedFiles.forEach((function(e){return n("UNSTAGE_CHANGE",{path:e.path,diffInfo:i.getDiffInfo(e.path)})}));var a=i.getChangedFile(o.path);a&&r("openPendingTab",{file:a,keyPrefix:T.w.unstaged})},lo=function(e,t){(0,e.commit)("UPDATE_VIEWER",t)},uo=function(e,t){(0,e.commit)("UPDATE_DELAY_VIEWER_CHANGE",t)},fo=function(e,t){(0,e.commit)("UPDATE_ACTIVITY_BAR_VIEW",t)},po=function(e,t){(0,e.commit)("SET_EMPTY_STATE_SVGS",t)},ho=function(e,t){(0,e.commit)("SET_CURRENT_BRANCH",t)},mo=function(e,t){var n=e.commit,r=e.dispatch,i=e.state,o=t.file,a=t.tempFile;n("UPDATE_TEMP_FLAG",{path:o.path,tempFile:a});var s=o.parentPath&&i.entries[o.parentPath];s&&r("updateTempFlagForEntry",{file:s,tempFile:a})},go=function(e,t){return(0,e.commit)("TOGGLE_FILE_FINDER",t)},vo=function(e,t){return(0,e.commit)("SET_LINKS",t)},bo=function(e,t){return(0,e.commit)("SET_ERROR_MESSAGE",t)},yo=function(e,t){var n=e.commit,r=e.dispatch,i=e.state,o=i.entries[t],a=o.prevPath,s=o.prevName,c=o.prevParentPath,l="tree"===o.type,u=a&&i.entries[a];if(a&&(!u||u.deleted))return r("renameEntry",{path:t,name:s,parentPath:c}),void r("deleteEntry",a);o.opened&&r("closeFile",o),l&&o.tree.forEach((function(e){return r("deleteEntry",e.path)})),n("DELETE_ENTRY",t),l||o.tempFile||r("stageChange",t),r("triggerFilesChange")},Oo=function(e){return(0,e.commit)("RESET_OPEN_FILES")},wo=function(e,t){var n=e.dispatch,r=e.commit,i=e.state,o=e.getters,a=t.path,s=t.name,c=t.parentPath,l=i.entries[a],u=c?"".concat(c,"/").concat(s):s,d=c&&i.entries[c];if(!c||d&&!d.deleted||n("createTempEntry",{name:c,type:"tree"}),r("RENAME_ENTRY",{path:a,name:s,parentPath:c}),"tree"===l.type)i.entries[u].tree.forEach((function(e){n("renameEntry",{path:e.path,name:e.name,parentPath:u})}));else{var f=i.entries[u],p=u===l.prevPath&&!f.changed&&!f.tempFile,h=i.changedFiles.concat(i.stagedFiles).some((function(e){return e.key===f.key}));p?r("REMOVE_FILE_FROM_STAGED_AND_CHANGED",f):h||r("STAGE_CHANGE",{path:u,diffInfo:o.getDiffInfo(u)}),f.tempFile||gi.$emit("editor.update.model.dispose.".concat(l.key)),f.opened&&n("router/push","/project".concat(f.url),{root:!0})}n("triggerFilesChange")},_o=function(e){var t=e.commit,n=e.state,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.projectId,o=r.branchId,a=r.force,s=void 0!==a&&a;return new Promise((function(e,r){var a=n.projects[i];a&&a.branches[o]&&!s?e(a.branches[o]):hi.getBranchData(i,o).then((function(n){var r=n.data,a=r.commit.id;t("SET_BRANCH",{projectPath:i,branchName:o,branch:r}),t(Lr,{projectId:i,branchId:o,reference:a}),e(r)})).catch((function(e){404===e.response.status?r(e):(Object(k.a)(Object(C.a)("Error loading branch data. Please try again."),"alert",document,null,!1,!0),r(new Error(Object(C.e)(Object(C.a)("Branch not loaded - %{branchId}"),{branchId:"<strong>".concat(Rt()(i),"/").concat(Rt()(o),"</strong>")},!1))))}))}))};function jo(e){return function(e){if(Array.isArray(e))return Eo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Eo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Eo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Po(Object(n),!0).forEach((function(t){Co(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var To,Io=function(e){return e.openFiles.find((function(e){return e.active}))||null},ko=function(e){return e.changedFiles.filter((function(e){return e.tempFile}))},xo=function(e){return e.changedFiles.filter((function(e){return!e.tempFile}))},Ro=function(e){return Object.keys(e.projects).map((function(t){var n=e.projects[t];return So(So({},n),{},{branches:Object.keys(n.branches).map((function(t){var r=n.branches[t];return So(So({},r),{},{tree:e.trees[r.treeId]})}))})}))},Do=function(e){return e.projects[e.currentProjectId]&&e.projects[e.currentProjectId].mergeRequests?e.projects[e.currentProjectId].mergeRequests[e.currentMergeRequestId]:null},Ao=function(e){return function(t){return e.projects[t]}},Fo=function(e,t){return t.findProject(e.currentProjectId)},Lo=function(e){return e.projects[e.currentProjectId]&&e.projects[e.currentProjectId].empty_repo},Mo=function(e){return e.trees["".concat(e.currentProjectId,"/").concat(e.currentBranchId)]},No=function(e){return Boolean(e.currentMergeRequestId)},qo=function(e){return Object.keys(e.entries).reduce((function(t,n){var r=e.entries[n];return"blob"===r.type&&t.push(r),t}),[]).sort((function(e,t){return t.lastOpenedAt-e.lastOpenedAt}))},Bo=function(e){return function(t){return e.changedFiles.find((function(e){return e.path===t}))}},$o=function(e){return function(t){return e.stagedFiles.find((function(e){return e.path===t}))}},Vo=function(e){return function(t){return e.openFiles.find((function(e){return e.path===t}))}},Uo=function(e){return[].concat(jo(e.changedFiles),jo(e.stagedFiles)).sort((function(e,t){return t.lastOpenedAt-e.lastOpenedAt}))[0]},zo=function(e){return e.currentActivityView===T.s.edit.name},Go=function(e){return e.currentActivityView===T.s.commit.name},Ho=function(e){return e.currentActivityView===T.s.review.name},Wo=function(e){return Boolean(e.changedFiles.length||e.stagedFiles.length)},Jo=function(e){return function(t){return e.changedFiles.filter((function(e){return Wr(e.path,t)})).length+e.stagedFiles.filter((function(n){return Wr(n.path,t)&&!Bo(e)(n.path)})).length}},Ko=function(e){return function(t){return Jr(e.changedFiles,t)}},Qo=function(e){return function(t){return Jr(e.stagedFiles,t)}},Yo=function(e,t){var n=t.currentProject&&t.currentBranch;return n?n.commit:null},Zo=function(e,t){return function(e,n){var r=t.findProject(e);return r&&r.branches[n]}},Xo=function(e,t){return t.findBranch(e.currentProjectId,e.currentBranchId)},ea=function(e,t){return t.currentBranch&&t.currentBranch.name},ta=function(e){return e.entries[T.u]},na=function(e,t){return t.currentProject&&t.currentProject.default_branch===t.branchName},ra=function(e,t){return Boolean(t.currentBranch?t.currentBranch.can_push:t.canPushCode)},ia=function(e,t){return function(n){var r=t.getStagedFile(n),i=e.entries[n];return Boolean(r&&r.deleted&&i.tempFile)}},oa=function(e,t){return function(n){var r=t.getStagedFile(n),i=e.entries[n],o=!!i.prevPath&&i.path!==i.prevPath,a=t.isFileDeletedAndReadded(n),s=!a&&i.deleted,c=!a&&i.tempFile,l=i.content!==(a?r.raw:i.raw);return{exists:l||o||s||c,changed:l,renamed:o,deleted:s,tempFile:c}}},aa=function(e,t){return function(e){var n;return(null===(n=t.findProject(e))||void 0===n?void 0:n.userPermissions)||{}}},sa=function(e,t){return Boolean(t.findProjectPermissions(e.currentProjectId)[T.h])},ca=function(e,t){return Boolean(t.findProjectPermissions(e.currentProjectId)[T.f])},la=function(e,t){return Boolean(t.findProjectPermissions(e.currentProjectId)[T.g])},ua=function(e){return function(t){return Boolean(e.entries[t]&&!e.entries[t].deleted)}},da=function(e,t){return function(e){for(var n=e;t.entryExists(n);)n=n.replace(/([ _-]?)(\d*)(\..+?$|$)/,(function(e,t,n,r){return"".concat(t||"_").concat(Number(n)+1).concat(r)}));return n}};n("Ag57");function fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fa(Object(n),!0).forEach((function(t){ha(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ha(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ma,ga=(ha(To={},"SET_CURRENT_PROJECT",(function(e,t){Object.assign(e,{currentProjectId:t})})),ha(To,"SET_PROJECT",(function(e,t){var n=t.projectPath,r=t.project;Object.assign(r,{tree:[],branches:{},mergeRequests:{},active:!0}),Object.assign(e,{projects:pa(pa({},e.projects),{},ha({},n,r))})})),ha(To,"TOGGLE_EMPTY_STATE",(function(e,t){var n=t.projectPath,r=t.value;Object.assign(e.projects[n],{empty_repo:r})})),To);function va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?va(Object(n),!0).forEach((function(t){ya(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):va(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ya(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oa,wa=(ya(ma={},"SET_CURRENT_MERGE_REQUEST",(function(e,t){Object.assign(e,{currentMergeRequestId:t})})),ya(ma,"SET_MERGE_REQUEST",(function(e,t){var n=t.projectPath,r=t.mergeRequestId,i=t.mergeRequest,o=e.projects[n].mergeRequests[r]||{};Object.assign(e.projects[n],{mergeRequests:ya({},r,ba(ba({},i),{},{active:!0,changes:[],versions:[],baseCommitSha:null},o))})})),ya(ma,"SET_MERGE_REQUEST_CHANGES",(function(e,t){var n=t.projectPath,r=t.mergeRequestId,i=t.changes;Object.assign(e.projects[n].mergeRequests[r],{changes:i})})),ya(ma,"SET_MERGE_REQUEST_VERSIONS",(function(e,t){var n=t.projectPath,r=t.mergeRequestId,i=t.versions;Object.assign(e.projects[n].mergeRequests[r],{versions:i,baseCommitSha:i.length?i[0].base_commit_sha:null})})),ma),_a=n("NmEs");function ja(e){return function(e){if(Array.isArray(e))return Ea(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ea(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pa(Object(n),!0).forEach((function(t){Ca(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ca(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ta,Ia=(Ca(Oa={},"SET_FILE_ACTIVE",(function(e,t){var n=t.path,r=t.active;Object.assign(e.entries[n],{active:r,lastOpenedAt:(new Date).getTime()}),r&&!e.entries[n].pending&&Object.assign(e,{openFiles:e.openFiles.map((function(e){return Object.assign(e,{active:!e.pending&&e.active})}))})})),Ca(Oa,"TOGGLE_FILE_OPEN",(function(e,t){if(Object.assign(e.entries[t],{opened:!e.entries[t].opened}),e.entries[t].opened)Object.assign(e,{openFiles:e.openFiles.filter((function(e){return e.path!==t})).concat(e.entries[t])});else{var n=e.entries[t];Object.assign(e,{openFiles:e.openFiles.filter((function(e){return e.key!==n.key}))})}})),Ca(Oa,"SET_FILE_DATA",(function(e,t){var n=t.data,r=t.file,i=e.entries[r.path],o=e.stagedFiles.find((function(e){return e.path===r.path})),a=e.openFiles.find((function(e){return e.path===r.path})),s=e.changedFiles.find((function(e){return e.path===r.path}));[i,o,a,s].forEach((function(e){e&&Object.assign(e,Object(_a.g)(n,{dropKeys:["path","name","raw","baseRaw"]}),{raw:i&&i.raw||null,baseRaw:null})}))})),Ca(Oa,"SET_FILE_RAW_DATA",(function(e,t){var n=t.file,r=t.raw,i=t.fileDeletedAndReadded,o=void 0!==i&&i,a=e.openFiles.find((function(e){return e.path===n.path&&e.pending&&!(e.tempFile&&!e.prevPath&&!o)})),s=e.stagedFiles.find((function(e){return e.path===n.path}));n.tempFile&&""===n.content&&!o?Object.assign(e.entries[n.path],{content:r}):o?Object.assign(s,{raw:r}):Object.assign(e.entries[n.path],{raw:r}),a&&(a.tempFile?a.tempFile&&!o?a.content=r:o&&Object.assign(s,{raw:r}):a.raw=r)})),Ca(Oa,"SET_FILE_BASE_RAW_DATA",(function(e,t){var n=t.file,r=t.baseRaw;Object.assign(e.entries[n.path],{baseRaw:r})})),Ca(Oa,"UPDATE_FILE_CONTENT",(function(e,t){var n=t.path,r=t.content,i=e.stagedFiles.find((function(e){return e.path===n})),o=r!==(i?i.content:e.entries[n].raw);Object.assign(e.entries[n],{content:r,changed:o})})),Ca(Oa,"SET_FILE_LANGUAGE",(function(e,t){var n=t.file,r=t.fileLanguage;Object.assign(e.entries[n.path],{fileLanguage:r})})),Ca(Oa,"SET_FILE_POSITION",(function(e,t){var n=t.file,r=t.editorRow,i=t.editorColumn;Object.assign(e.entries[n.path],{editorRow:r,editorColumn:i})})),Ca(Oa,"SET_FILE_MERGE_REQUEST_CHANGE",(function(e,t){var n=t.file,r=t.mrChange,i=T.p.replaced;r.new_file?i=T.p.new:r.deleted_file?i=T.p.deleted:r.renamed_file&&(i=T.p.renamed),Object.assign(e.entries[n.path],{mrChange:Sa(Sa({},r),{},{diffMode:i})})})),Ca(Oa,"SET_FILE_VIEWMODE",(function(e,t){var n=t.file,r=t.viewMode;Object.assign(e.entries[n.path],{viewMode:r})})),Ca(Oa,"DISCARD_FILE_CHANGES",(function(e,t){var n=e.stagedFiles.find((function(e){return e.path===t})),r=e.entries[t],i=r.deleted;if(Object.assign(e.entries[t],{content:n?n.content:e.entries[t].raw,changed:!1,deleted:!1}),i){var o=r.parentPath?e.entries[r.parentPath]:e.trees["".concat(e.currentProjectId,"/").concat(e.currentBranchId)];o.tree=Hr(o.tree.concat(r))}})),Ca(Oa,"ADD_FILE_TO_CHANGED",(function(e,t){Object.assign(e,{changedFiles:e.changedFiles.concat(e.entries[t])})})),Ca(Oa,"REMOVE_FILE_FROM_CHANGED",(function(e,t){Object.assign(e,{changedFiles:e.changedFiles.filter((function(e){return e.path!==t}))})})),Ca(Oa,"STAGE_CHANGE",(function(e,t){var n=t.path,r=t.diffInfo,i=e.stagedFiles.find((function(e){return e.path===n}));Object.assign(e,{changedFiles:e.changedFiles.filter((function(e){return e.path!==n})),entries:Object.assign(e.entries,Ca({},n,Object.assign(e.entries[n],{staged:r.exists,changed:r.changed,tempFile:r.tempFile,deleted:r.deleted})))}),i?Object.assign(i,Sa({},e.entries[n])):e.stagedFiles=[].concat(ja(e.stagedFiles),[Sa({},e.entries[n])]),r.exists||(e.stagedFiles=e.stagedFiles.filter((function(e){return e.path!==n})))})),Ca(Oa,"UNSTAGE_CHANGE",(function(e,t){var n=t.path,r=t.diffInfo,i=e.changedFiles.find((function(e){return e.path===n})),o=e.stagedFiles.find((function(e){return e.path===n}));!i&&o&&(Object.assign(e.entries[n],Sa(Sa({},o),{},{key:e.entries[n].key,active:e.entries[n].active,opened:e.entries[n].opened,changed:!0})),e.changedFiles=e.changedFiles.concat(e.entries[n])),r.exists||(e.changedFiles=e.changedFiles.filter((function(e){return e.path!==n}))),Object.assign(e,{stagedFiles:e.stagedFiles.filter((function(e){return e.path!==n})),entries:Object.assign(e.entries,Ca({},n,Object.assign(e.entries[n],{staged:!1,changed:r.changed,tempFile:r.tempFile,deleted:r.deleted})))})})),Ca(Oa,"TOGGLE_FILE_CHANGED",(function(e,t){var n=t.file,r=t.changed;Object.assign(e.entries[n.path],{changed:r})})),Ca(Oa,"ADD_PENDING_TAB",(function(e,t){var n=t.file,r=t.keyPrefix,i=void 0===r?"pending":r;e.entries[n.path].opened=!1,e.entries[n.path].active=!1,e.entries[n.path].lastOpenedAt=(new Date).getTime(),e.openFiles.forEach((function(e){return Object.assign(e,{opened:!1,active:!1})})),e.openFiles=[Sa(Sa({},n),{},{key:"".concat(i,"-").concat(n.key),pending:!0,opened:!0,active:!0})]})),Ca(Oa,"REMOVE_PENDING_TAB",(function(e,t){Object.assign(e,{openFiles:e.openFiles.filter((function(e){return e.key!==t.key}))})})),Ca(Oa,"REMOVE_FILE_FROM_STAGED_AND_CHANGED",(function(e,t){Object.assign(e,{changedFiles:e.changedFiles.filter((function(e){return e.key!==t.key})),stagedFiles:e.stagedFiles.filter((function(e){return e.key!==t.key}))}),Object.assign(e.entries[t.path],{changed:!1,staged:!1})})),Oa);function ka(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ka(Object(n),!0).forEach((function(t){Ra(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ka(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ra(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Da,Aa=(Ra(Ta={},"TOGGLE_TREE_OPEN",(function(e,t){Object.assign(e.entries[t],{opened:!e.entries[t].opened})})),Ra(Ta,"SET_TREE_OPEN",(function(e,t){Object.assign(e.entries[t],{opened:!0})})),Ra(Ta,"CREATE_TREE",(function(e,t){var n=t.treePath;Object.assign(e,{trees:xa(xa({},e.trees),{},Ra({},n,{tree:[],loading:!0}))})})),Ra(Ta,"SET_DIRECTORY_DATA",(function(e,t){var n=t.data,r=t.treePath,i=e.trees[r],o=i.tree.length?i.loading&&function(e,t){if(!e||!e.length)return t;for(var n=function e(t,n){if(!t)return n;var r=n.find((function(e){return e.path===t.path}));if(r&&t.tree.length>0)r.opened=!0,e(t.tree[0],r.tree);else if(!r){var i=Hr(n.concat(t));n.splice.apply(n,[0,n.length+1].concat(Mr(i)))}return n},r=0,i=e.length;r<i;r+=1)n(e[r],t);return t}(i.tree,n):n;Object.assign(i,{tree:o})})),Ra(Ta,"REMOVE_ALL_CHANGES_FILES",(function(e){Object.assign(e,{changedFiles:[]})})),Ra(Ta,"RESTORE_TREE",(function(e,t){var n=e.entries[t],r=n.parentPath?e.entries[n.parentPath]:e.trees["".concat(e.currentProjectId,"/").concat(e.currentBranchId)];r.tree.find((function(e){return e.path===t}))||(r.tree=Hr(r.tree.concat(n)))})),Ta);function Fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fa(Object(n),!0).forEach((function(t){Ma(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Na,qa=(Ma(Da={},"SET_CURRENT_BRANCH",(function(e,t){Object.assign(e,{currentBranchId:t})})),Ma(Da,"SET_BRANCH",(function(e,t){var n=t.projectPath,r=t.branchName,i=t.branch;Object.assign(e.projects[n],{branches:Ma({},r,La(La({},i),{},{treeId:"".concat(n,"/").concat(r),active:!0,workingReference:""}))})})),Ma(Da,Lr,(function(e,t){var n=t.projectId,r=t.branchId,i=t.reference;e.projects[n].branches[r]||Object.assign(e.projects[n].branches,Ma({},r,{})),Object.assign(e.projects[n].branches[r],{workingReference:i})})),Ma(Da,"SET_BRANCH_COMMIT",(function(e,t){var n=t.projectId,r=t.branchId,i=t.commit;Object.assign(e.projects[n].branches[r],{commit:i})})),Da);function Ba(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ba(Object(n),!0).forEach((function(t){Va(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ba(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Va(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ua,za=$a($a($a($a($a((Va(Na={},"SET_INITIAL_DATA",(function(e,t){Object.assign(e,t)})),Va(Na,"TOGGLE_LOADING",(function(e,t){var n=t.entry,r=t.forceValue,i=void 0===r?void 0:r;n.path?Object.assign(e.entries[n.path],{loading:void 0!==i?i:!e.entries[n.path].loading}):Object.assign(n,{loading:void 0!==i?i:!n.loading})})),Va(Na,"SET_RESIZING_STATUS",(function(e,t){Object.assign(e,{panelResizing:t})})),Va(Na,"SET_LAST_COMMIT_DATA",(function(e,t){var n=t.entry,r=t.lastCommit;Object.assign(n.lastCommit,{id:r.commit.id,url:r.commit_path,message:r.commit.message,author:r.commit.author_name,updatedAt:r.commit.authored_date})})),Va(Na,"SET_LAST_COMMIT_MSG",(function(e,t){Object.assign(e,{lastCommitMsg:t})})),Va(Na,"CLEAR_STAGED_CHANGES",(function(e){Object.assign(e,{stagedFiles:[]})})),Va(Na,"SET_ENTRIES",(function(e,t){Object.assign(e,{entries:t})})),Va(Na,"CREATE_TMP_ENTRY",(function(e,t){var n=t.data,r=t.projectId,i=t.branchId;Object.keys(n.entries).reduce((function(t,r){var i=n.entries[r],o=e.entries[r];if(!o||o.deleted)Object.assign(e.entries,Va({},r,i));else{var a=i.tree.filter((function(e){return void 0===o.tree.find((function(t){return t.path===e.path}))}));Object.assign(o,{tree:Hr(o.tree.concat(a))})}return t.concat(r)}),[]),e.trees["".concat(r,"/").concat(i)].tree.find((function(e){return e.path===n.treeList[0].path}))||Object.assign(e.trees["".concat(r,"/").concat(i)],{tree:Hr(e.trees["".concat(r,"/").concat(i)].tree.concat(n.treeList))})})),Va(Na,"UPDATE_TEMP_FLAG",(function(e,t){var n=t.path,r=t.tempFile;Object.assign(e.entries[n],{tempFile:r,changed:r})})),Va(Na,"UPDATE_VIEWER",(function(e,t){Object.assign(e,{viewer:t})})),Va(Na,"UPDATE_DELAY_VIEWER_CHANGE",(function(e,t){Object.assign(e,{delayViewerUpdated:t})})),Va(Na,"UPDATE_ACTIVITY_BAR_VIEW",(function(e,t){Object.assign(e,{currentActivityView:t})})),Va(Na,"SET_EMPTY_STATE_SVGS",(function(e,t){var n=t.emptyStateSvgPath,r=t.noChangesStateSvgPath,i=t.committedStateSvgPath,o=t.pipelinesEmptyStateSvgPath,a=t.promotionSvgPath;Object.assign(e,{emptyStateSvgPath:n,noChangesStateSvgPath:r,committedStateSvgPath:i,pipelinesEmptyStateSvgPath:o,promotionSvgPath:a})})),Va(Na,"TOGGLE_FILE_FINDER",(function(e,t){Object.assign(e,{fileFindVisible:t})})),Va(Na,"UPDATE_FILE_AFTER_COMMIT",(function(e,t){var n=t.file,r=t.lastCommit,i=e.changedFiles.find((function(e){return e.path===n.path})),o=n.prevPath;if(Object.assign(e.entries[n.path],{raw:n.content,changed:Boolean(i),staged:!1,lastCommitSha:r.commit.id,prevId:void 0,prevPath:void 0,prevName:void 0,prevUrl:void 0,prevKey:void 0,prevParentPath:void 0}),o){var a=new RegExp("".concat(o,"$"));Object.assign(e.entries[n.path],{rawPath:n.rawPath.replace(a,n.path)})}})),Va(Na,"SET_LINKS",(function(e,t){Object.assign(e,{links:t})})),Va(Na,"CLEAR_PROJECTS",(function(e){Object.assign(e,{projects:{},trees:{}})})),Va(Na,"RESET_OPEN_FILES",(function(e){Object.assign(e,{openFiles:[]})})),Va(Na,"SET_ERROR_MESSAGE",(function(e,t){Object.assign(e,{errorMessage:t})})),Va(Na,"DELETE_ENTRY",(function(e,t){var n=e.entries[t],r=n.tempFile,i=void 0!==r&&r,o=n.parentPath?e.entries[n.parentPath]:e.trees["".concat(e.currentProjectId,"/").concat(e.currentBranchId)];n.deleted=!0,o&&(o.tree=o.tree.filter((function(e){return e.path!==n.path}))),"blob"===n.type&&(i?(e.changedFiles=e.changedFiles.filter((function(e){return e.path!==t})),e.stagedFiles=e.stagedFiles.filter((function(e){return e.path!==t}))):e.changedFiles=e.changedFiles.concat(n))})),Va(Na,"RENAME_ENTRY",(function(e,t){var n,r,i=t.path,o=t.name,a=t.parentPath,s=e.entries[i],c=a?"".concat(a,"/").concat(o):o,l=c===s.prevPath,u=function(e,t,n){return e.replace("/-/".concat(t),"/-/".concat(n))}(s.url,s.path,c),d=s.key.replace(new RegExp(s.path,"g"),c),f=$a($a({},s),{},{name:o,id:c,path:c,url:u,key:d,parentPath:a||""}),p=s.tempFile||l?{prevId:void 0,prevPath:void 0,prevName:void 0,prevUrl:void 0,prevKey:void 0,prevParentPath:void 0}:{prevId:s.prevId||s.id,prevPath:s.prevPath||s.path,prevName:s.prevName||s.name,prevUrl:s.prevUrl||s.url,prevKey:s.prevKey||s.key,prevParentPath:s.prevParentPath||s.parentPath};_.default.set(e.entries,c,$a($a({},f),p)),n=s.parentPath,r=a,(n?Zr(n):"")===(r?Zr(r):"")?Qr(e,s.key,c,a):(!function(e,t,n){var r=Kr(e,n);r&&(r.tree=Hr(r.tree.filter((function(e){return e.key!==t}))))}(e,s.key,s.parentPath),Qr(e,s.key,c,a)),"blob"===s.type&&Yr(e,s.key,c),_.default.delete(e.entries,s.path)})),Na),ga),wa),Ia),Aa),qa);function Ga(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ha,Wa,Ja=(Ga(Ua={},"UPDATE_COMMIT_MESSAGE",(function(e,t){Object.assign(e,{commitMessage:t})})),Ga(Ua,"UPDATE_COMMIT_ACTION",(function(e,t){var n=t.commitAction;Object.assign(e,{commitAction:n})})),Ga(Ua,"UPDATE_NEW_BRANCH_NAME",(function(e,t){Object.assign(e,{newBranchName:t})})),Ga(Ua,"UPDATE_LOADING",(function(e,t){Object.assign(e,{submitCommitLoading:t})})),Ga(Ua,"TOGGLE_SHOULD_CREATE_MR",(function(e,t){Object.assign(e,{shouldCreateMR:void 0===t?!e.shouldCreateMR:t})})),Ua),Ka=n("QwBj"),Qa=function(e,t){(0,e.commit)("UPDATE_COMMIT_MESSAGE",t)},Ya=function(e){(0,e.commit)("UPDATE_COMMIT_MESSAGE","")},Za=function(e,t){var n=e.commit,r=e.getters;n("UPDATE_COMMIT_ACTION",{commitAction:t}),n("TOGGLE_SHOULD_CREATE_MR",!r.shouldHideNewMrOption)},Xa=function(e){(0,e.commit)("TOGGLE_SHOULD_CREATE_MR")},es=function(e,t){(0,e.commit)("UPDATE_NEW_BRANCH_NAME",t)},ts=function(e,t){var n=e.commit,r=e.rootGetters.currentProject,i=t.stats?Object(C.e)(Object(C.a)("with %{additions} additions, %{deletions} deletions."),{additions:t.stats.additions,deletions:t.stats.deletions}):"";n("SET_LAST_COMMIT_MSG",Object(C.e)(Object(C.a)("Your changes have been committed. Commit %{commitId} %{commitStats}"),{commitId:'<a href="'.concat(r.web_url,"/-/commit/").concat(t.short_id,'" class="commit-sha">').concat(t.short_id,"</a>"),commitStats:i},!1),{root:!0})},ns=function(e,t){var n=e.commit,r=e.dispatch,i=e.rootState,o=e.rootGetters,a=t.data,s=o.currentProject,c={commit_path:"".concat(s.web_url,"/-/commit/").concat(a.id),commit:{id:a.id,message:a.message,authored_date:a.committed_date,author_name:a.committer_name}};n(Lr,{projectId:i.currentProjectId,branchId:i.currentBranchId,reference:a.id},{root:!0}),i.stagedFiles.forEach((function(e){var t=i.changedFiles.find((function(t){return t.path===e.path}));n("UPDATE_FILE_AFTER_COMMIT",{file:e,lastCommit:c},{root:!0}),n("TOGGLE_FILE_CHANGED",{file:e,changed:!1},{root:!0}),r("updateTempFlagForEntry",{file:e,tempFile:!1},{root:!0}),gi.$emit("editor.update.model.content.".concat(e.key),{content:e.content,changed:Boolean(t)})}))},rs=function(e){var t=e.commit,n=e.state,r=e.getters,i=e.dispatch,o=e.rootState,a=e.rootGetters,s=r.shouldCreateMR,c=r.isCreatingNewBranch,l=r.branchName,u=n.commitAction!==Dt,d=o.stagedFiles.length?Promise.resolve():i("stageAllChanges",null,{root:!0});return t("UPDATE_LOADING",!0),d.then((function(){var e=function(e){var t=e.branch,n=e.getters,r=e.newBranch,i=e.state,o=e.rootState,a=e.rootGetters;return{branch:t,commit_message:i.commitMessage||n.preBuiltCommitMessage,actions:zr(o.stagedFiles).map((function(e){return{action:Ur(e),file_path:e.path,previous_path:e.prevPath||void 0,content:e.prevPath&&!e.changed?null:e.content||void 0,encoding:Object(Fr.j)(e.rawPath)?"base64":"text",last_commit_id:r||e.deleted||e.prevPath?void 0:e.lastCommitSha}})),start_sha:r?a.lastCommit.id:void 0}}({branch:l,newBranch:u,getters:r,state:n,rootState:o,rootGetters:a});return hi.commit(o.currentProjectId,e)})).then((function(e){var n=e.data;return t("UPDATE_LOADING",!1),n.short_id?(n.parent_ids.length||t("TOGGLE_EMPTY_STATE",{projectPath:o.currentProjectId,value:!1},{root:!0}),i("setLastCommitMessage",n),i("updateCommitMessage",""),i("updateFilesAfterCommit",{data:n,branch:l}).then((function(){if(t("CLEAR_STAGED_CHANGES",null,{root:!0}),setTimeout((function(){t("SET_LAST_COMMIT_MSG","",{root:!0})}),5e3),s){var e=a.currentProject,n=c?o.currentBranchId:e.default_branch;i("redirectToUrl",function(e,t,n){return"".concat(e,"/-/merge_requests/new?merge_request[source_branch]=").concat(t,"&merge_request[target_branch]=").concat(n,"&nav_source=webide")}(e.web_url,l,n),{root:!0})}})).then((function(){a.lastOpenedFile?i("openPendingTab",{file:a.lastOpenedFile},{root:!0}).then((function(e){e&&i("updateViewer","diff",{root:!0})})).catch((function(e){throw e})):(i("updateActivityBarView",T.s.edit.name,{root:!0}),i("updateViewer","editor",{root:!0}),a.activeFile&&i("router/push","/project/".concat(o.currentProjectId,"/blob/").concat(l,"/-/").concat(a.activeFile.path),{root:!0}))})).then((function(){return i("updateCommitAction",Dt)})).then((function(){return i("refreshLastCommitData",{projectId:o.currentProjectId,branchId:o.currentBranchId},{root:!0})}))):(Object(k.a)(n.message,"alert",document,null,!1,!0),null)})).catch((function(e){if(t("UPDATE_LOADING",!1),e.response.status===Ka.a.BAD_REQUEST)throw e;i("setErrorMessage",{text:Object(C.a)("An error occurred while committing your changes."),action:function(){return i("commitChanges").then((function(){return i("setErrorMessage",null,{root:!0})}))},actionText:Object(C.a)("Please try again")},{root:!0}),window.dispatchEvent(new Event("resize"))}))},is=function(e,t){return e.length?Object(C.e)(Object(C.c)("%{text} %{files}","%{text} %{files} files",e.length),{files:e.reduce((function(e,t){return e.concat(t.path)}),[]).join(", "),text:t}):null},os=function(e){return""===e.commitMessage||e.submitCommitLoading},as=function(e,t,n){return"".concat(gon.current_username,"-").concat(n.currentBranchId,"-patch-").concat("".concat((new Date).getTime()).substr(-5))},ss=function(e,t,n){return t.isCreatingNewBranch?""===e.newBranchName?t.placeholderBranchName:e.newBranchName:n.currentBranchId},cs=function(e,t,n){if(e.commitMessage)return e.commitMessage;var r=n.stagedFiles.length?n.stagedFiles:n.changedFiles,i=r.filter((function(e){return!e.deleted})),o=r.filter((function(e){return e.deleted}));return[is(i,Object(C.a)("Update")),is(o,Object(C.a)("Deleted"))].filter((function(e){return e})).join("\n")},ls=function(e){return e.commitAction===At},us=function(e,t,n,r){return!t.isCreatingNewBranch&&(r.hasMergeRequest||!r.hasMergeRequest&&r.isOnDefaultBranch)&&r.canPushToBranch},ds=function(e,t,n,r){return!r.canCreateMergeRequests||r.emptyRepo},fs=function(e,t){return e.shouldCreateMR&&!t.shouldDisableNewMrOption},ps={namespaced:!0,state:function(){return{commitMessage:"",commitAction:null,newBranchName:"",submitCommitLoading:!1,shouldCreateMR:!0}},mutations:Ja,actions:o,getters:a},hs=n("99pJ"),ms=n.n(hs),gs=n("YsOi"),vs=n.n(gs),bs=n("hqF9"),ys=function(){Ha=null},Os=function(){Ha&&Ha.stop()},ws=function(){Ha&&Ha.restart()},_s=function(){Ha&&Ha.makeRequest()},js=function(e){return(0,e.commit)("REQUEST_LATEST_PIPELINE")},Es=function(e,t){var n=e.commit,r=e.dispatch;t.status!==Ka.a.NOT_FOUND&&r("setErrorMessage",{text:Object(C.a)("An error occurred while fetching the latest pipeline."),action:function(){return r("forcePipelineRequest").then((function(){return r("setErrorMessage",null,{root:!0})}))},actionText:Object(C.a)("Please try again"),actionPayload:null},{root:!0}),n("RECEIVE_LASTEST_PIPELINE_ERROR"),r("stopPipelinePolling")},Ps=function(e,t){var n=e.rootGetters,r=e.commit,i=t.pipelines,o=!1;if(i&&i.length){var a=n.lastCommit&&n.lastCommit.id;o=i.find((function(e){return e.commit.id===a}))}r("RECEIVE_LASTEST_PIPELINE_SUCCESS",o)},Ss=function(e){var t=e.dispatch,n=e.rootGetters;Ha||(t("requestLatestPipeline"),Ha=new bs.a({resource:hi,method:"lastCommitPipelines",data:{getters:n},successCallback:function(e){var n=e.data;return t("receiveLatestPipelineSuccess",n)},errorCallback:function(e){return t("receiveLatestPipelineError",e)}}),ms.a.hidden()||Ha.makeRequest(),ms.a.change((function(){ms.a.hidden()?t("stopPipelinePolling"):t("restartPipelinePolling")})))},Cs=function(e,t){return(0,e.commit)("REQUEST_JOBS",t)},Ts=function(e,t){var n=e.commit,r=e.dispatch;r("setErrorMessage",{text:Object(C.a)("An error occurred while loading the pipelines jobs."),action:function(e){return r("fetchJobs",e).then((function(){return r("setErrorMessage",null,{root:!0})}))},actionText:Object(C.a)("Please try again"),actionPayload:t},{root:!0}),n("RECEIVE_JOBS_ERROR",t.id)},Is=function(e,t){return(0,e.commit)("RECEIVE_JOBS_SUCCESS",{id:t.id,data:t.data})},ks=function(e,t){var n=e.dispatch;return n("requestJobs",t.id),vs.a.get(t.dropdownPath).then((function(e){var r=e.data;return n("receiveJobsSuccess",{id:t.id,data:r})})).catch((function(){return n("receiveJobsError",t)}))},xs=function(e,t){return(0,e.commit)("TOGGLE_STAGE_COLLAPSE",t)},Rs=function(e,t){var n=e.commit,r=e.dispatch;n("SET_DETAIL_JOB",t),r("rightPane/open",t?T.v.jobsDetail:T.v.pipelines,{root:!0})},Ds=function(e){return(0,e.commit)("REQUEST_JOB_TRACE")},As=function(e){var t=e.commit,n=e.dispatch;n("setErrorMessage",{text:Object(C.a)("An error occurred while fetching the job trace."),action:function(){return n("fetchJobTrace").then((function(){return n("setErrorMessage",null,{root:!0})}))},actionText:Object(C.a)("Please try again"),actionPayload:null},{root:!0}),t("RECEIVE_JOB_TRACE_ERROR")},Fs=function(e,t){return(0,e.commit)("RECEIVE_JOB_TRACE_SUCCESS",t)},Ls=function(e){var t=e.dispatch,n=e.state;return t("requestJobTrace"),vs.a.get("".concat(n.detailJob.path,"/trace"),{params:{format:"json"}}).then((function(e){var n=e.data;return t("receiveJobTraceSuccess",n)})).catch((function(){return t("receiveJobTraceError")}))},Ms=function(e){var t=e.commit;t("RECEIVE_LASTEST_PIPELINE_SUCCESS",null),t("SET_DETAIL_JOB",null)},Ns=function(){},qs=function(e){return{id:e.id,name:e.name,status:e.status,path:e.build_path,rawPath:"".concat(e.build_path,"/raw"),started:e.started,output:"",isLoading:!1}};function Bs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bs(Object(n),!0).forEach((function(t){Vs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Us=(Vs(Wa={},"REQUEST_LATEST_PIPELINE",(function(e){e.isLoadingPipeline=!0})),Vs(Wa,"RECEIVE_LASTEST_PIPELINE_ERROR",(function(e){e.isLoadingPipeline=!1})),Vs(Wa,"RECEIVE_LASTEST_PIPELINE_SUCCESS",(function(e,t){e.isLoadingPipeline=!1,e.hasLoadedPipeline=!0,t?(e.latestPipeline={id:t.id,path:t.path,commit:t.commit,details:{status:t.details.status},yamlError:t.yaml_errors},e.stages=t.details.stages.map((function(t,n){var r=e.stages.find((function(e){return e.id===n}));return{id:n,dropdownPath:t.dropdown_path,name:t.name,status:t.status,isCollapsed:!!r&&r.isCollapsed,isLoading:!!r&&r.isLoading,jobs:r?r.jobs:[]}}))):e.latestPipeline=null})),Vs(Wa,"REQUEST_JOBS",(function(e,t){e.stages=e.stages.map((function(e){return $s($s({},e),{},{isLoading:e.id===t||e.isLoading})}))})),Vs(Wa,"RECEIVE_JOBS_ERROR",(function(e,t){e.stages=e.stages.map((function(e){return $s($s({},e),{},{isLoading:e.id!==t&&e.isLoading})}))})),Vs(Wa,"RECEIVE_JOBS_SUCCESS",(function(e,t){var n=t.id,r=t.data;e.stages=e.stages.map((function(e){return $s($s({},e),{},{isLoading:e.id!==n&&e.isLoading,jobs:e.id===n?r.latest_statuses.map(qs):e.jobs})}))})),Vs(Wa,"TOGGLE_STAGE_COLLAPSE",(function(e,t){e.stages=e.stages.map((function(e){return $s($s({},e),{},{isCollapsed:e.id===t?!e.isCollapsed:e.isCollapsed})}))})),Vs(Wa,"SET_DETAIL_JOB",(function(e,t){e.detailJob=$s({},t)})),Vs(Wa,"REQUEST_JOB_TRACE",(function(e){e.detailJob.isLoading=!0})),Vs(Wa,"RECEIVE_JOB_TRACE_ERROR",(function(e){e.detailJob.isLoading=!1})),Vs(Wa,"RECEIVE_JOB_TRACE_SUCCESS",(function(e,t){e.detailJob.isLoading=!1,e.detailJob.output=t.html})),Wa),zs="failed";function Gs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gs(Object(n),!0).forEach((function(t){Ws(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Js,Ks=function(e){return!e.isLoadingPipeline&&Boolean(e.latestPipeline)},Qs=function(e){return e.latestPipeline&&e.latestPipeline.details.status.text===zs},Ys=function(e){return e.stages.filter((function(e){return e.status.text.toLowerCase()===zs})).map((function(e){return Hs(Hs({},e),{},{jobs:e.jobs.filter((function(e){return e.status.text.toLowerCase()===zs}))})}))},Zs=function(e){return e.stages.reduce((function(e,t){return e+t.jobs.filter((function(e){return e.status.text===zs})).length}),0)},Xs=function(e){return e.stages.reduce((function(e,t){return e+t.jobs.length}),0)},ec=function(){},tc={namespaced:!0,state:{isLoadingPipeline:!0,hasLoadedPipeline:!1,isLoadingJobs:!1,latestPipeline:null,stages:[],detailJob:null},actions:s,mutations:Us,getters:c},nc={assigned:"assigned-to-me",created:"created-by-me"},rc="opened",ic=function(e){return(0,e.commit)("REQUEST_MERGE_REQUESTS")},oc=function(e,t){var n=e.commit,r=e.dispatch,i=t.type,o=t.search;r("setErrorMessage",{text:Object(C.a)("Error loading merge requests."),action:function(e){return r("fetchMergeRequests",e).then((function(){return r("setErrorMessage",null,{root:!0})}))},actionText:Object(C.a)("Please try again"),actionPayload:{type:i,search:o}},{root:!0}),n("RECEIVE_MERGE_REQUESTS_ERROR")},ac=function(e,t){return(0,e.commit)("RECEIVE_MERGE_REQUESTS_SUCCESS",t)},sc=function(e,t){var n=e.dispatch,r=e.state.state,i=e.rootState.currentProjectId,o=t.type,a=t.search,s=void 0===a?"":a;n("requestMergeRequests"),n("resetMergeRequests");var c=o&&nc[o];return(c?ni.a.mergeRequests({scope:c,state:r,search:s}):ni.a.projectMergeRequest(i,"",{state:r,search:s})).then((function(e){var t=e.data;return n("receiveMergeRequestsSuccess",t)})).catch((function(){return n("receiveMergeRequestsError",{type:o,search:s})}))},cc=function(e){return(0,e.commit)("RESET_MERGE_REQUESTS")},lc=function(){};function uc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dc,fc=(uc(Js={},"REQUEST_MERGE_REQUESTS",(function(e){e.isLoading=!0})),uc(Js,"RECEIVE_MERGE_REQUESTS_ERROR",(function(e){e.isLoading=!1})),uc(Js,"RECEIVE_MERGE_REQUESTS_SUCCESS",(function(e,t){e.isLoading=!1,e.mergeRequests=t.map((function(e){return{id:e.id,iid:e.iid,title:e.title,projectId:e.project_id,projectPathWithNamespace:e.references.full.replace(e.references.short,"")}}))})),uc(Js,"RESET_MERGE_REQUESTS",(function(e){e.mergeRequests=[]})),Js),pc={namespaced:!0,state:{isLoading:!1,mergeRequests:[],state:rc},actions:l,mutations:fc},hc=function(e){return(0,e.commit)("REQUEST_BRANCHES")},mc=function(e,t){var n=e.commit,r=e.dispatch,i=t.search;r("setErrorMessage",{text:Object(C.a)("Error loading branches."),action:function(e){return r("fetchBranches",e).then((function(){return r("setErrorMessage",null,{root:!0})}))},actionText:Object(C.a)("Please try again"),actionPayload:{search:i}},{root:!0}),n("RECEIVE_BRANCHES_ERROR")},gc=function(e,t){return(0,e.commit)("RECEIVE_BRANCHES_SUCCESS",t)},vc=function(e,t){var n=e.dispatch,r=e.rootGetters,i=t.search,o=void 0===i?"":i;return n("requestBranches"),n("resetBranches"),ni.a.branches(r.currentProject.id,o,{sort:"updated_desc"}).then((function(e){var t=e.data;return n("receiveBranchesSuccess",t)})).catch((function(){return n("receiveBranchesError",{search:o})}))},bc=function(e){return(0,e.commit)("RESET_BRANCHES")},yc=function(){};function Oc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wc,_c={namespaced:!0,state:function(){return{isLoading:!1,branches:[]}},actions:u,mutations:(Oc(dc={},"REQUEST_BRANCHES",(function(e){e.isLoading=!0})),Oc(dc,"RECEIVE_BRANCHES_ERROR",(function(e){e.isLoading=!1})),Oc(dc,"RECEIVE_BRANCHES_SUCCESS",(function(e,t){e.isLoading=!1,e.branches=t.map((function(e){return{name:e.name,committedDate:e.commit.committed_date}}))})),Oc(dc,"RESET_BRANCHES",(function(e){e.branches=[]})),dc)},jc=function(e){return(0,e.commit)("REQUEST_TEMPLATE_TYPES")},Ec=function(e){var t=e.commit,n=e.dispatch;t("RECEIVE_TEMPLATE_TYPES_ERROR"),n("setErrorMessage",{text:Object(C.a)("Error loading template types."),action:function(){return n("fetchTemplateTypes").then((function(){return n("setErrorMessage",null,{root:!0})}))},actionText:Object(C.a)("Please try again")},{root:!0})},Pc=function(e,t){return(0,e.commit)("RECEIVE_TEMPLATE_TYPES_SUCCESS",t)},Sc=function(e){var t=e.dispatch,n=e.state,r=e.rootState;if(!Object.keys(n.selectedTemplateType).length)return Promise.reject();t("requestTemplateTypes");return function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return ni.a.projectTemplates(r.currentProjectId,n.selectedTemplateType.key,{page:i,per_page:100}).then((function(n){var r=n.data,i=n.headers,a=parseInt(Object(_a.F)(i)["X-NEXT-PAGE"],10),s=o.concat(r);return t("receiveTemplateTypesSuccess",s),a?e(a,s):s})).catch((function(){return t("receiveTemplateTypesError")}))}()},Cc=function(e,t){var n=e.commit,r=e.dispatch,i=e.rootGetters;n("SET_SELECTED_TEMPLATE_TYPE",t),i.activeFile.prevPath===t.name?r("discardFileChanges",i.activeFile.path,{root:!0}):i.activeFile.name!==t.name&&r("renameEntry",{path:i.activeFile.path,name:t.name},{root:!0})},Tc=function(e,t){var n=e.dispatch;n("setErrorMessage",{text:Object(C.a)("Error loading template."),action:function(e){return n("fetchTemplateTypes",e).then((function(){return n("setErrorMessage",null,{root:!0})}))},actionText:Object(C.a)("Please try again"),actionPayload:t},{root:!0})},Ic=function(e,t){var n=e.dispatch,r=e.state,i=e.rootState;return t.content?n("setFileTemplate",t):ni.a.projectTemplate(i.currentProjectId,r.selectedTemplateType.key,t.key||t.name).then((function(e){var t=e.data;n("setFileTemplate",t)})).catch((function(){return n("receiveTemplateError",t)}))},kc=function(e,t){var n=e.dispatch,r=e.commit,i=e.rootGetters;n("changeFileContent",{path:i.activeFile.path,content:t.content},{root:!0}),r("SET_UPDATE_SUCCESS",!0),gi.$emit("editor.update.model.new.content.".concat(i.activeFile.key),t.content)},xc=function(e){var t=e.dispatch,n=e.commit,r=e.rootGetters.activeFile;t("changeFileContent",{path:r.path,content:r.raw},{root:!0}),n("SET_UPDATE_SUCCESS",!1),gi.$emit("editor.update.model.new.content.".concat(r.key),r.raw),r.prevPath&&t("discardFileChanges",r.path,{root:!0})},Rc=function(){return[{name:".gitlab-ci.yml",key:"gitlab_ci_ymls"},{name:".gitignore",key:"gitignores"},{name:Object(C.a)("LICENSE"),key:"licenses"},{name:Object(C.a)("Dockerfile"),key:"dockerfiles"}]},Dc=function(e,t,n){return function(e){return t.templateTypes.find((function(t){return t.name===e}))&&n.currentActivityView===T.s.edit.name}},Ac=function(){};function Fc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lc,Mc=(Fc(wc={},"REQUEST_TEMPLATE_TYPES",(function(e){e.isLoading=!0,e.templates=[]})),Fc(wc,"RECEIVE_TEMPLATE_TYPES_ERROR",(function(e){e.isLoading=!1})),Fc(wc,"RECEIVE_TEMPLATE_TYPES_SUCCESS",(function(e,t){e.isLoading=!1,e.templates=t})),Fc(wc,"SET_SELECTED_TEMPLATE_TYPE",(function(e,t){e.selectedTemplateType=t,e.templates=[]})),Fc(wc,"SET_UPDATE_SUCCESS",(function(e,t){e.updateSuccess=t})),wc),Nc=function(e){var t=e.dispatch;e.state.isOpen?t("close"):t("open")},qc=function(e,t){var n=e.state,r=e.commit;if(r("SET_OPEN",!0),t&&t.name!==n.currentView){var i=t.name,o=t.keepAlive;r("SET_CURRENT_VIEW",i),o&&r("KEEP_ALIVE_VIEW",i)}},Bc=function(e){(0,e.commit)("SET_OPEN",!1)},$c=function(e){return function(t){return e.keepAliveViews[t]||e.isOpen&&e.currentView===t}};function Vc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uc=(Vc(Lc={},"SET_OPEN",(function(e,t){Object.assign(e,{isOpen:t})})),Vc(Lc,"SET_CURRENT_VIEW",(function(e,t){Object.assign(e,{currentView:t})})),Vc(Lc,"KEEP_ALIVE_VIEW",(function(e,t){Object.assign(e.keepAliveViews,Vc({},t,!0))})),Lc),zc=function(e){var t=e.rootGetters.currentProject.web_url,n="".concat(t,"/usage_ping/web_ide_clientside_preview");return Er.a.post(n)},Gc=zc;var Hc,Wc,Jc,Kc=(Jc=function(e,t){e.fullPath=t},(Wc="PUSH")in(Hc={})?Object.defineProperty(Hc,Wc,{value:Jc,enumerable:!0,configurable:!0,writable:!0}):Hc[Wc]=Jc,Hc),Qc=function(e,t){(0,e.commit)("PUSH",t)},Yc={namespaced:!0,state:function(){return{fullPath:""}},mutations:Kc,actions:g};_.default.use(j.b);var Zc=new j.b.Store({state:{currentProjectId:"",currentBranchId:"",currentMergeRequestId:"",changedFiles:[],stagedFiles:[],endpoints:{},lastCommitMsg:"",loading:!1,openFiles:[],trees:{},projects:{},panelResizing:!1,entries:{},viewer:T.x.edit,delayViewerUpdated:!1,currentActivityView:T.s.edit.name,fileFindVisible:!1,links:{},errorMessage:null,entryModal:{type:"",path:"",entry:{}},clientsidePreviewEnabled:!1,renderWhitespaceInCode:!1,editorTheme:Ar.a,codesandboxBundlerUrl:null},actions:r,mutations:za,getters:i,modules:{commit:ps,pipelines:tc,mergeRequests:pc,branches:_c,fileTemplates:{namespaced:!0,actions:d,state:{isLoading:!1,templates:[],selectedTemplateType:{},updateSuccess:!1},getters:f,mutations:Mc},rightPane:{namespaced:!0,state:{isOpen:!1,currentView:null,keepAliveViews:{}},actions:p,getters:h,mutations:Uc},clientside:{namespaced:!0,actions:m},router:Yc}});n("SG5y"),n("Tznw"),n("6yen"),n("OeRx"),n("l/dT"),n("RqS2"),n("Zy7a"),n("cjZU"),n("OAhk"),n("X42P"),n("mHhP"),n("fn0I"),n("UB/6"),n("imhG");function Xc(e){return function(e){if(Array.isArray(e))return el(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return el(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return el(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function el(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var nl=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.decorations=new Map,this.editorDecorations=new Map}var t,n,r;return t=e,(n=[{key:"getAllDecorationsForModel",value:function(e){if(!this.decorations.has(e.url))return[];var t=this.decorations.get(e.url),n=[];return t.forEach((function(e){return n.push.apply(n,Xc(e))})),n}},{key:"addDecorations",value:function(e,t,n){var r=this.decorations.get(e.url)||new Map;r.set(t,n),this.decorations.set(e.url,r),this.decorate(e)}},{key:"decorate",value:function(e){if(this.editor.instance){var t=this.getAllDecorationsForModel(e),n=this.editorDecorations.get(e.url)||[];this.editorDecorations.set(e.url,this.editor.instance.deltaDecorations(n,t))}}},{key:"hasDecorations",value:function(e){return this.decorations.has(e.url)}},{key:"removeDecorations",value:function(e){this.decorations.delete(e.url),this.editorDecorations.delete(e.url)}},{key:"dispose",value:function(){this.decorations.clear(),this.editorDecorations.clear()}}])&&tl(t.prototype,n),r&&tl(t,r),e}(),rl=n("XzFo"),il=n.n(rl);n("2A3y"),n("dHQd"),n("yoDG"),n("tWNI"),n("8d6S"),n("VwWG"),n("IYHS"),n("MViX"),n("GDOA"),n("a0mT"),n("ta8/"),n("IKCR"),n("nmTw"),n("W2kU"),n("58fc"),n("Rhav"),n("eppl");function ol(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var al=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.disposers=new Set}var t,n,r;return t=e,(n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){return e.disposers.add(t)}))}},{key:"dispose",value:function(){this.disposers.forEach((function(e){return e.dispose()})),this.disposers.clear()}}])&&ol(t.prototype,n),r&&ol(t,r),e}();function sl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var cl=function(e){return e.modified?"modified":e.added?"added":e.removed?"removed":""},ll=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.disposable=new al,this.models=new Map,this.editorSimpleWorker=null,this.modelManager=t,this.decorationsController=n,this.dirtyDiffWorker=new il.a,this.throttledComputeDiff=Un()(this.computeDiff,250),this.decorate=this.decorate.bind(this),this.dirtyDiffWorker.addEventListener("message",this.decorate)}var t,n,r;return t=e,(n=[{key:"attachModel",value:function(e){var t=this;this.models.has(e.url)||(e.onChange((function(){return t.throttledComputeDiff(e)})),e.onDispose((function(){t.decorationsController.removeDecorations(e),t.models.delete(e.url)})),this.models.set(e.url,e))}},{key:"computeDiff",value:function(e){var t=e.getOriginalModel(),n=e.getModel();t.isDisposed()||n.isDisposed()||this.dirtyDiffWorker.postMessage({path:e.path,originalContent:t.getValue(),newContent:n.getValue()})}},{key:"reDecorate",value:function(e){this.decorationsController.hasDecorations(e)?this.decorationsController.decorate(e):this.computeDiff(e)}},{key:"decorate",value:function(e){var t=e.data,n=t.changes.map((function(e){return function(e){return{range:new Dr.Range(e.lineNumber,1,e.endLineNumber,1),options:{isWholeLine:!0,linesDecorationsClassName:"dirty-diff dirty-diff-".concat(cl(e))}}}(e)})),r=this.modelManager.getModel(t.path);this.decorationsController.addDecorations(r,"dirtyDiff",n)}},{key:"dispose",value:function(){this.disposable.dispose(),this.models.clear(),this.dirtyDiffWorker.removeEventListener("message",this.decorate),this.dirtyDiffWorker.terminate()}}])&&sl(t.prototype,n),r&&sl(t,r),e}(),ul=(n("5j0x"),n("FLj1"));function dl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ml(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var gl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.disposable=new al,this.file=t,this.head=n,this.content=""!==t.content||t.deleted?t.content:t.raw,this.options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pl(Object(n),!0).forEach((function(t){hl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ul.c),this.disposable.add(this.originalModel=Dr.editor.createModel(n?n.content:this.file.raw,void 0,new Dr.Uri("gitlab",!1,"original/".concat(this.path))),this.model=Dr.editor.createModel(this.content,void 0,new Dr.Uri("gitlab",!1,this.path))),this.file.mrChange&&this.disposable.add(this.baseModel=Dr.editor.createModel(this.file.baseRaw,void 0,new Dr.Uri("gitlab",!1,"target/".concat(this.path)))),this.events=new Set,this.updateContent=this.updateContent.bind(this),this.updateNewContent=this.updateNewContent.bind(this),this.dispose=this.dispose.bind(this),gi.$on("editor.update.model.dispose.".concat(this.file.key),this.dispose),gi.$on("editor.update.model.content.".concat(this.file.key),this.updateContent),gi.$on("editor.update.model.new.content.".concat(this.file.key),this.updateNewContent)}var t,n,r;return t=e,(n=[{key:"getModel",value:function(){return this.model}},{key:"getOriginalModel",value:function(){return this.originalModel}},{key:"getBaseModel",value:function(){return this.baseModel}},{key:"setValue",value:function(e){this.getModel().setValue(e)}},{key:"onChange",value:function(e){var t=this;this.events.add(this.disposable.add(this.model.onDidChangeContent((function(n){return e(t,n)}))))}},{key:"onDispose",value:function(e){this.events.add(e)}},{key:"updateContent",value:function(e){var t=e.content,n=e.changed;this.getOriginalModel().setValue(t),n||this.getModel().setValue(t)}},{key:"updateNewContent",value:function(e){this.getModel().setValue(e)}},{key:"updateOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this.options,e),this.model.updateOptions(e),this.applyCustomOptions()}},{key:"applyCustomOptions",value:function(){var e=this;this.updateNewContent(Object.entries(this.options).reduce((function(t,n){var r=dl(n,2),i=r[0],o=r[1];switch(i){case"endOfLine":return e.model.pushEOL(o),e.model.getValue();case"insertFinalNewline":return o?Object(R.e)(t):t;case"trimTrailingWhitespace":return o?Object(R.k)(t):t;default:return t}}),this.model.getValue()))}},{key:"dispose",value:function(){this.model.isDisposed()||this.applyCustomOptions(),this.events.forEach((function(e){"function"==typeof e&&e()})),this.events.clear(),gi.$off("editor.update.model.dispose.".concat(this.file.key),this.dispose),gi.$off("editor.update.model.content.".concat(this.file.key),this.updateContent),gi.$off("editor.update.model.new.content.".concat(this.file.key),this.updateNewContent),this.disposable.dispose()}},{key:"url",get:function(){return this.model.uri.toString()}},{key:"language",get:function(){return this.model.getModeId()}},{key:"path",get:function(){return this.file.key}}])&&ml(t.prototype,n),r&&ml(t,r),e}();function vl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var bl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.disposable=new al,this.models=new Map}var t,n,r;return t=e,(n=[{key:"hasCachedModel",value:function(e){return this.models.has(e)}},{key:"getModel",value:function(e){return this.models.get(e)}},{key:"addModel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.hasCachedModel(e.key))return this.getModel(e.key);var n=new gl(e,t);return this.models.set(n.path,n),this.disposable.add(n),gi.$on("editor.update.model.dispose.".concat(e.key),this.removeCachedModel.bind(this,e)),n}},{key:"removeCachedModel",value:function(e){this.models.delete(e.key),gi.$off("editor.update.model.dispose.".concat(e.key),this.removeCachedModel)}},{key:"dispose",value:function(){this.disposable.dispose(),this.models.clear()}}])&&vl(t.prototype,n),r&&vl(t,r),e}(),yl=n("sWgE"),Ol=n("muR1"),wl=n("rsHh");function _l(e){return function(e){if(Array.isArray(e))return jl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return jl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function El(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?El(Object(n),!0).forEach((function(t){Sl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):El(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tl(e,t,n){return t&&Cl(e.prototype,t),n&&Cl(e,n),e}var Il=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentModel=null,this.instance=null,this.dirtyDiffController=null,this.disposable=new al,this.modelManager=new bl,this.decorationsController=new nl(this),this.options=Pl(Pl({},ul.b),n),this.diffOptions=Pl(Pl({},ul.a),n),Ar.b.forEach((function(e){Dr.editor.defineTheme(e.name,e.data)})),R.i.apply(void 0,_l(yl.a)),this.debouncedUpdate=me()((function(){t.updateDimensions()}),200)}return Tl(e,null,[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.editorInstance||(this.editorInstance=new e(t)),this.editorInstance}}]),Tl(e,[{key:"createInstance",value:function(e){this.instance||(Object(wl.a)(e),this.disposable.add(this.instance=Dr.editor.create(e,Pl({},this.options)),this.dirtyDiffController=new ll(this.modelManager,this.decorationsController)),this.addCommands(),window.addEventListener("resize",this.debouncedUpdate,!1))}},{key:"createDiffInstance",value:function(t){this.instance||(Object(wl.a)(t),this.disposable.add(this.instance=Dr.editor.createDiffEditor(t,Pl(Pl({},this.diffOptions),{},{renderSideBySide:e.renderSideBySide(t)}))),this.addCommands(),window.addEventListener("resize",this.debouncedUpdate,!1))}},{key:"createModel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.modelManager.addModel(e,t)}},{key:"attachModel",value:function(e){this.isDiffEditorType?this.instance.setModel({original:e.getOriginalModel(),modified:e.getModel()}):(this.instance.setModel(e.getModel()),this.dirtyDiffController&&this.dirtyDiffController.attachModel(e),this.currentModel=e,this.instance.updateOptions(ul.d.reduce((function(t,n){return Object.keys(n).forEach((function(r){Object.assign(t,Sl({},r,n[r](e)))})),t}),{})),this.dirtyDiffController&&this.dirtyDiffController.reDecorate(e))}},{key:"attachMergeRequestModel",value:function(e){this.instance.setModel({original:e.getBaseModel(),modified:e.getModel()}),Dr.editor.createDiffNavigator(this.instance,{alwaysRevealFirst:!0})}},{key:"clearEditor",value:function(){this.instance&&this.instance.setModel(null)}},{key:"dispose",value:function(){window.removeEventListener("resize",this.debouncedUpdate);try{this.disposable.dispose(),this.instance=null}catch(e){this.instance=null,console.error(e)}}},{key:"updateDimensions",value:function(){this.instance.layout(),this.updateDiffView()}},{key:"setPosition",value:function(e){var t=e.lineNumber,n=e.column;this.instance.revealPositionInCenter({lineNumber:t,column:n}),this.instance.setPosition({lineNumber:t,column:n})}},{key:"onPositionChange",value:function(e){var t=this;this.instance.onDidChangeCursorPosition&&this.disposable.add(this.instance.onDidChangeCursorPosition((function(n){return e(t.instance,n)})))}},{key:"updateDiffView",value:function(){this.isDiffEditorType&&this.instance.updateOptions({renderSideBySide:e.renderSideBySide(this.instance.getDomNode())})}},{key:"replaceSelectedText",value:function(e){var t=this.instance.getSelection(),n=new Dr.Range(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn);this.instance.executeEdits("",[{range:n,text:e}]),t=this.instance.getSelection(),this.instance.setPosition({lineNumber:t.endLineNumber,column:t.endColumn})}},{key:"addCommands",value:function(){var e=this,t=function(e){return 0===e.indexOf("KEY_")?Dr.KeyCode[e]:Dr.KeyMod[e]};Ol.forEach((function(n){var r=n.bindings.map((function(e){var n=e.split("+");return n.length>1?t(n[0])|t(n[1]):t(n[0])}));e.instance.addAction({id:n.id,label:n.label,keybindings:r,run:function(){return Zc.dispatch(n.action.name,n.action.params),null}})}))}},{key:"isDiffEditorType",get:function(){return"vs.editor.IDiffEditor"===this.instance.getEditorType()}}],[{key:"renderSideBySide",value:function(e){return e.offsetWidth>=700}}]),e}();function kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kl(Object(n),!0).forEach((function(t){Rl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dl={components:{DropdownButton:Ae.a,GlLoadingIcon:S.a},props:{data:{type:Array,required:!1,default:function(){return[]}},label:{type:String,required:!0},title:{type:String,required:!1,default:null},isAsyncData:{type:Boolean,required:!1,default:!1},searchable:{type:Boolean,required:!1,default:!1}},data:function(){return{search:""}},computed:xl(xl({},Object(j.e)("fileTemplates",["templates","isLoading"])),{},{outputData:function(){var e=this;return(this.isAsyncData?this.templates:this.data).filter((function(t){return!e.searchable||t.name.toLowerCase().indexOf(e.search.toLowerCase())>=0}))},showLoading:function(){return!!this.isAsyncData&&this.isLoading}}),mounted:function(){ue()(this.$el).on("show.bs.dropdown",this.fetchTemplatesIfAsync)},beforeDestroy:function(){ue()(this.$el).off("show.bs.dropdown",this.fetchTemplatesIfAsync)},methods:xl(xl({},Object(j.c)("fileTemplates",["fetchTemplateTypes"])),{},{fetchTemplatesIfAsync:function(){this.isAsyncData&&this.fetchTemplateTypes()},clickItem:function(e){this.$emit("click",e)}})};function Al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Al(Object(n),!0).forEach((function(t){Ll(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ll(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ml={components:{Dropdown:Object(M.a)(Dl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown"},[n("dropdown-button",{attrs:{"toggle-text":e.label,"data-display":"static"}}),e._v(" "),n("div",{staticClass:"dropdown-menu pb-0"},[e.title?n("div",{staticClass:"dropdown-title ml-0 mr-0"},[e._v(e._s(e.title))]):e._e(),e._v(" "),!e.showLoading&&e.searchable?n("div",{staticClass:"dropdown-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"dropdown-input-field qa-dropdown-filter-input",attrs:{placeholder:e.__("Filter..."),type:"search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),n("i",{staticClass:"fa fa-search dropdown-input-search",attrs:{"aria-hidden":"true"}})]):e._e(),e._v(" "),n("div",{staticClass:"dropdown-content"},[e.showLoading?n("gl-loading-icon",{attrs:{size:"lg"}}):n("ul",e._l(e.outputData,(function(t,r){return n("li",{key:r},[n("button",{attrs:{type:"button"},on:{click:function(n){return e.clickItem(t)}}},[e._v(e._s(t.name))])])})),0)],1)])],1)}),[],!1,null,null,null).exports},computed:Fl(Fl(Fl(Fl({},Object(j.d)(["activeFile"])),Object(j.d)("fileTemplates",["templateTypes"])),Object(j.e)("fileTemplates",["selectedTemplateType","updateSuccess"])),{},{showTemplatesDropdown:function(){return Object.keys(this.selectedTemplateType).length>0}}),watch:{activeFile:"setInitialType"},mounted:function(){this.setInitialType()},methods:Fl(Fl({},Object(j.c)("fileTemplates",["setSelectedTemplateType","fetchTemplate","undoFileTemplate"])),{},{setInitialType:function(){var e=this,t=this.templateTypes.find((function(t){return t.name===e.activeFile.name}));t&&this.setSelectedTemplateType(t)},selectTemplateType:function(e){this.setSelectedTemplateType(e)},selectTemplate:function(e){this.fetchTemplate(e)},undo:function(){this.undoFileTemplate()}})},Nl=Object(M.a)(Ml,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex align-items-center ide-file-templates qa-file-templates-bar"},[n("strong",{staticClass:"append-right-default"},[e._v(" "+e._s(e.__("File templates"))+" ")]),e._v(" "),n("dropdown",{staticClass:"mr-2",attrs:{data:e.templateTypes,label:e.selectedTemplateType.name||e.__("Choose a type...")},on:{click:e.selectTemplateType}}),e._v(" "),e.showTemplatesDropdown?n("dropdown",{staticClass:"mr-2 qa-file-template-dropdown",attrs:{label:e.__("Choose a template..."),"is-async-data":!0,searchable:!0,title:e.__("File templates")},on:{click:e.selectTemplate}}):e._e(),e._v(" "),n("transition",{attrs:{name:"fade"}},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.updateSuccess,expression:"updateSuccess"}],staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.undo}},[e._v("\n      "+e._s(e.__("Undo"))+"\n    ")])])],1)}),[],!1,null,null,null).exports,ql=(n("Ch9p"),n("bOZG")),Bl=n("QrI9"),$l=n.n(Bl);function Vl(e){return function(e){if(Array.isArray(e))return Wl(e)}(e)||Ul(e)||Hl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ul(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function zl(e,t){return Jl(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||Hl(e,t)||Gl()}function Gl(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Hl(e,t){if(e){if("string"==typeof e)return Wl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wl(e,t):void 0}}function Wl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jl(e){if(Array.isArray(e))return e}var Kl=function(e){return e.replace(/\.editorconfig$/,"")};function Ql(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.length)return n;var r,i=Jl(r=t)||Ul(r)||Hl(r)||Gl(),o=i[0],a=o.content,s=o.path,c=i.slice(1),l=Kl(s);if(!e.startsWith(l))return n;var u=Object(ql.parseString)(a),d=u.some((function(e){var t=zl(e,2),n=t[0],r=t[1];return!n&&"true"===(null==r?void 0:r.root)})),f=e.slice(l.length),p=u.reduce((function(e,t){return Object.assign(e,function(e,t){var n=zl(t,2),r=n[0],i=n[1];return r&&$l()(e,r,{matchBase:!0})?i:{}}(f,t))}),{}),h=Object.assign(p,n);return d?h:Ql(e,c,h)}n("5ExZ");var Yl=n("6npM"),Zl=n.n(Yl),Xl=n("6hmS"),eu=n.n(Xl);function tu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ru(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iu=function(e,t){return function(n){return n in t?ru({},e,t[n]):{}}},ou=function(e){return function(t){return eu()(t)?ru({},e,t):{}}},au=function(e,t){return function(n){return Zl()(n)&&t(n)?ru({},e,Math.trunc(n)):{}}},su={indent_style:iu("insertSpaces",{tab:!1,space:!0}),indent_size:au("tabSize",(function(e){return e>0})),tab_width:au("tabSize",(function(e){return e>0})),trim_trailing_whitespace:ou("trimTrailingWhitespace"),end_of_line:iu("endOfLine",{crlf:1,lf:0}),insert_final_newline:ou("insertFinalNewline")},cu=function(e){var t="string"==typeof e?e.toLowerCase():e;return/^[0-9.-]+$/.test(t)&&(t=Number(t)),"true"===t&&(t=!0),"false"===t&&(t=!1),t};function lu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lu(Object(n),!0).forEach((function(t){du(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function du(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fu={components:{ContentViewer:xr,DiffViewer:Rr.a,FileTemplatesBar:Nl},props:{file:{type:Object,required:!0}},data:function(){return{content:"",images:{},rules:{}}},computed:uu(uu(uu(uu(uu({},Object(j.e)("rightPane",{rightPaneIsOpen:"isOpen"})),Object(j.e)(["viewer","panelResizing","currentActivityView","renderWhitespaceInCode","editorTheme","entries"])),Object(j.d)(["currentMergeRequest","getStagedFile","isEditModeActive","isCommitModeActive","currentBranch"])),Object(j.d)("fileTemplates",["showFileTemplatesBar"])),{},{shouldHideEditor:function(){return this.file&&this.file.binary},showContentViewer:function(){return(this.shouldHideEditor||this.isPreviewViewMode)&&(this.viewer!==T.x.mr||!this.file.mrChange)},showDiffViewer:function(){return this.shouldHideEditor&&this.file.mrChange&&this.viewer===T.x.mr},isEditorViewMode:function(){return this.file.viewMode===T.a},isPreviewViewMode:function(){return this.file.viewMode===T.b},editTabCSS:function(){return{active:this.isEditorViewMode}},previewTabCSS:function(){return{active:this.isPreviewViewMode}},showEditor:function(){return!this.shouldHideEditor&&this.isEditorViewMode},editorOptions:function(){return{renderWhitespace:this.renderWhitespaceInCode?"all":"none",theme:this.editorTheme}},currentBranchCommit:function(){var e;return null===(e=this.currentBranch)||void 0===e?void 0:e.commit.id},previewMode:function(){return Or(this.file.path)},fileType:function(){var e;return(null===(e=this.previewMode)||void 0===e?void 0:e.id)||""}}),watch:{file:function(e,t){t.pending&&this.removePendingTab(t),t.key!==this.file.key&&(this.initEditor(),this.currentActivityView!==T.s.edit.name&&this.setFileViewMode({file:this.file,viewMode:T.a}))},currentActivityView:function(){this.currentActivityView!==T.s.edit.name&&this.setFileViewMode({file:this.file,viewMode:T.a})},viewer:function(){this.file.pending||this.createEditorInstance()},panelResizing:function(){this.panelResizing||this.refreshEditorDimensions()},rightPaneIsOpen:function(){this.refreshEditorDimensions()},showEditor:function(e){var t=this;e&&this.$nextTick((function(){return t.refreshEditorDimensions()}))},showContentViewer:function(e){if(e)if("markdown"===this.fileType){var t=function(e,t){var n={},r=e.content||e.raw,i=0;return{content:r=r.replace(/!\[([^\]]*)\]\((.*?)(?:(?="|\))"([^"]*)")?\)/gi,(function(r,o,a,s){var c,l,u=(Object(Fr.k)(a)?a:Object(Fr.s)(a,e.path)).substr(1).trim(),d=(null===(c=t[u])||void 0===c?void 0:c.content)||(null===(l=t[u])||void 0===l?void 0:l.raw);if(!Object(Fr.i)(a)&&d){var f=a.includes(".")?a.split(".").pop().trim():"jpeg",p="data:image/".concat(f,";base64,").concat(d);i+=1;var h="{{".concat("gl_md_img_").concat(i,"}}");return n[h]={alt:o,src:p,title:s},h}return s?"![".concat(o,"](").concat(a,'"').concat(s,'")'):"![".concat(o,"](").concat(a,")")})),images:n}}(this.file,this.entries),n=t.content,r=t.images;this.content=n,this.images=r}else this.content=this.file.content||this.file.raw,this.images={}}},beforeDestroy:function(){this.editor.dispose()},mounted:function(){this.editor||(this.editor=Il.create(this.editorOptions)),this.initEditor(),window.addEventListener("paste",this.onPaste,!0)},destroyed:function(){window.removeEventListener("paste",this.onPaste,!0)},methods:uu(uu({},Object(j.c)(["getFileData","getRawFileData","changeFileContent","setFileLanguage","setEditorPosition","setFileViewMode","updateViewer","removePendingTab","triggerFilesChange","addTempImage"])),{},{initEditor:function(){var e=this;this.shouldHideEditor&&(this.file.content||this.file.raw)||(this.editor.clearEditor(),Promise.all([this.fetchFileData(),this.fetchEditorconfigRules()]).then((function(){e.createEditorInstance()})).catch((function(e){throw Object(k.a)(Object(C.a)("Error setting up editor. Please try again."),"alert",document,null,!1,!0),e})))},fetchFileData:function(){var e=this;return this.file.tempFile?Promise.resolve():this.getFileData({path:this.file.path,makeFileActive:!1}).then((function(){return e.getRawFileData({path:e.file.path})}))},createEditorInstance:function(){var e=this;this.editor.dispose(),this.$nextTick((function(){e.viewer===T.x.edit?e.editor.createInstance(e.$refs.editor):e.editor.createDiffInstance(e.$refs.editor),e.setupEditor()}))},setupEditor:function(){var e=this;if(this.file&&this.editor.instance){var t=this.getStagedFile(this.file.path);this.model=this.editor.createModel(this.file,this.file.staged&&0===this.file.key.indexOf("unstaged-")?t:null),this.viewer===T.x.mr&&this.file.mrChange?this.editor.attachMergeRequestModel(this.model):this.editor.attachModel(this.model),this.model.updateOptions(this.rules),this.model.onChange((function(t){var n=t.file;if(n.active){var r=t.getModel().getValue();e.changeFileContent({path:n.path,content:r})}})),this.editor.onPositionChange((function(t,n){e.setEditorPosition({editorRow:n.position.lineNumber,editorColumn:n.position.column})})),this.editor.setPosition({lineNumber:this.file.editorRow,column:this.file.editorColumn}),this.setFileLanguage({fileLanguage:this.model.language}),this.$emit("editorSetup")}},refreshEditorDimensions:function(){this.showEditor&&this.editor.updateDimensions()},fetchEditorconfigRules:function(){var e,t,n,r=this;return(e=this.file.path,t=function(e){var t=r.entries[e];if(!t)return Promise.resolve(null);var n=t.content||t.raw;return n?Promise.resolve(n):r.getFileData({path:t.path,makeFileActive:!1}).then((function(){return r.getRawFileData({path:t.path})}))},n=[].concat(Vl(Object(R.d)(e).map((function(e){return"".concat(e,"/.editorconfig")}))),[".editorconfig"]),Promise.all(n.map((function(e){return t(e).then((function(t){return{path:e,content:t}}))}))).then((function(t){return Ql(e,t.filter((function(e){return e.content})))}))).then((function(e){r.rules=function(e){return Object.entries(e).reduce((function(e,t){var n,r=tu(t,2),i=r[0],o=r[1];return Object.assign(e,(null===(n=su[i])||void 0===n?void 0:n.call(su,cu(o)))||{})}),{})}(e)}))},onPaste:function(e){var t=this,n=this.editor.instance,r=e.clipboardData.files[0];return n.hasTextFocus()&&"markdown"===this.fileType&&/^image\/(png|jpg|jpeg|gif)$/.test(null==r?void 0:r.type)?(e.preventDefault(),e.stopImmediatePropagation(),Object(R.h)(r).then((function(e){var n=Object(R.c)(t.file.path),i="".concat(n?"".concat(n,"/"):"").concat(r.name);return t.addTempImage({name:i,rawPath:e}).then((function(e){var n=e.name;t.editor.replaceSelectedText("![".concat(n,"](./").concat(n,")"))}))}))):Promise.resolve()}}),viewerTypes:T.x,FILE_VIEW_MODE_EDITOR:T.a,FILE_VIEW_MODE_PREVIEW:T.b},pu=Object(M.a)(fu,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"blob-viewer-container blob-editor-container",attrs:{id:"ide"}},[!e.shouldHideEditor&&e.isEditModeActive?n("div",{staticClass:"ide-mode-tabs clearfix"},[n("ul",{staticClass:"nav-links float-left border-bottom-0"},[n("li",{class:e.editTabCSS},[n("a",{attrs:{href:"javascript:void(0);",role:"button"},on:{click:function(t){return t.preventDefault(),e.setFileViewMode({file:e.file,viewMode:e.$options.FILE_VIEW_MODE_EDITOR})}}},[e._v("\n          "+e._s(e.__("Edit"))+"\n        ")])]),e._v(" "),e.previewMode?n("li",{class:e.previewTabCSS},[n("a",{attrs:{href:"javascript:void(0);",role:"button"},on:{click:function(t){return t.preventDefault(),e.setFileViewMode({file:e.file,viewMode:e.$options.FILE_VIEW_MODE_PREVIEW})}}},[e._v(e._s(e.previewMode.previewTitle))])]):e._e()])]):e._e(),e._v(" "),e.showFileTemplatesBar(e.file.name)?n("file-templates-bar"):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showEditor,expression:"showEditor"}],ref:"editor",staticClass:"multi-file-editor-holder",class:{"is-readonly":e.isCommitModeActive,"is-deleted":e.file.deleted,"is-added":e.file.tempFile},attrs:{"data-qa-selector":"editor_container"},on:{focusout:e.triggerFilesChange}}),e._v(" "),e.showContentViewer?n("content-viewer",{attrs:{content:e.content,images:e.images,path:e.file.rawPath||e.file.path,"file-path":e.file.path,"file-size":e.file.size,"project-path":e.file.projectId,"commit-sha":e.currentBranchCommit,type:e.fileType}}):e._e(),e._v(" "),e.showDiffViewer?n("diff-viewer",{attrs:{"diff-mode":e.file.mrChange.diffMode,"new-path":e.file.mrChange.new_path,"new-sha":e.currentMergeRequest.sha,"old-path":e.file.mrChange.old_path,"old-sha":e.currentMergeRequest.baseCommitSha,"project-path":e.file.projectId}}):e._e()],1)}),[],!1,null,null,null).exports;n("eTVF"),n("Z/0p");function hu(e){return function(e){if(Array.isArray(e))return mu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return mu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gu={directives:{tooltip:Ft.a},components:{GlIcon:or.a},props:{tabs:{type:Array,required:!0},side:{type:String,required:!0},currentView:{type:String,required:!1,default:""},isOpen:{type:Boolean,required:!1,default:!1}},computed:{otherSide:function(){return Object(R.g)(this.side)}},methods:{isActiveTab:function(e){var t=this;return this.isOpen&&e.views.some((function(e){return e.name===t.currentView}))},buttonClasses:function(e){return[{"is-right":this.side===T.m,active:this.isActiveTab(e)}].concat(hu(e.buttonClasses||[]))},clickTab:function(e,t){e.currentTarget.blur(),this.$root.$emit("bv::hide::tooltip"),this.isActiveTab(t)?this.$emit("close"):this.$emit("open",t.views[0])}}},vu=Object(M.a)(gu,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"ide-activity-bar"},[n("ul",{staticClass:"list-unstyled"},e._l(e.tabs,(function(t){return n("li",{key:t.title},[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{container:"body",placement:e.otherSide},expression:"{ container: 'body', placement: otherSide }"}],staticClass:"ide-sidebar-link",class:e.buttonClasses(t),attrs:{title:t.title,"aria-label":t.title,"data-qa-selector":t.title.toLowerCase()+"_tab_button",type:"button"},on:{click:function(n){return e.clickTab(n,t)}}},[n("gl-icon",{attrs:{size:16,name:t.icon}})],1)])})),0)])}),[],!1,null,null,null).exports;function bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bu(Object(n),!0).forEach((function(t){Ou(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ou(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wu={name:"CollapsibleSidebar",directives:{tooltip:V.a},components:{Icon:U.a,IdeSidebarNav:vu},props:{extensionTabs:{type:Array,required:!1,default:function(){return[]}},side:{type:String,required:!0}},computed:yu(yu({},Object(j.e)({isOpen:function(e){return e[this.namespace].isOpen},currentView:function(e){return e[this.namespace].currentView},isAliveView:function(e,t){return t["".concat(this.namespace,"/isAliveView")]}})),{},{namespace:function(){return"".concat(this.side,"Pane")},tabs:function(){return this.extensionTabs.filter((function(e){return e.show}))},tabViews:function(){return this.tabs.map((function(e){return e.views})).flat()},aliveTabViews:function(){var e=this;return this.tabViews.filter((function(t){return e.isAliveView(t.name)}))}}),methods:yu({},Object(j.c)({toggleOpen:function(e){return e("".concat(this.namespace,"/toggleOpen"))},open:function(e,t){return e("".concat(this.namespace,"/open"),t)}}))},_u=Object(M.a)(wu,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"multi-file-commit-panel ide-sidebar",class:"ide-"+e.side+"-sidebar",attrs:{"data-qa-selector":"ide_"+e.side+"_sidebar"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"multi-file-commit-panel-inner",class:"ide-"+e.side+"-sidebar-"+e.currentView},e._l(e.aliveTabViews,(function(t){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.name===e.currentView,expression:"tabView.name === currentView"}],key:t.name,staticClass:"flex-fill gl-overflow-hidden js-tab-view gl-h-full"},[n(t.component,{tag:"component"})],1)})),0),e._v(" "),n("ide-sidebar-nav",{attrs:{tabs:e.tabs,side:e.side,"current-view":e.currentView,"is-open":e.isOpen},on:{open:e.open,close:e.toggleOpen}})],1)}),[],!1,null,null,null).exports,ju=n("D/do"),Eu={components:{Icon:U.a,CiIcon:ur.a},props:{job:{type:Object,required:!0}},computed:{jobId:function(){return"#".concat(this.job.id)}}},Pu=Object(M.a)(Eu,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex align-items-center"},[n("ci-icon",{staticClass:"d-flex",attrs:{status:e.job.status,borderless:!0,size:24}}),e._v(" "),n("span",{staticClass:"gl-ml-3"},[e._v("\n    "+e._s(e.job.name)+"\n    "),n("a",{staticClass:"ide-external-link position-relative",attrs:{href:e.job.path,target:"_blank"}},[e._v("\n      "+e._s(e.jobId)+" "),n("icon",{attrs:{size:12,name:"external-link"}})],1)])],1)}),[],!1,null,null,null).exports,Su={components:{JobDescription:Pu},props:{job:{type:Object,required:!0}},computed:{jobId:function(){return"#".concat(this.job.id)}},methods:{clickViewLog:function(){this.$emit("clickViewLog",this.job)}}},Cu=Object(M.a)(Su,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ide-job-item"},[n("job-description",{staticClass:"append-right-default",attrs:{job:e.job}}),e._v(" "),n("div",{staticClass:"ml-auto align-self-center"},[e.job.started?n("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button"},on:{click:e.clickViewLog}},[e._v("\n      "+e._s(e.__("View log"))+"\n    ")]):e._e()])],1)}),[],!1,null,null,null).exports,Tu={directives:{tooltip:V.a},components:{Icon:U.a,CiIcon:ur.a,Item:Cu,GlLoadingIcon:S.a},props:{stage:{type:Object,required:!0}},data:function(){return{showTooltip:!1}},computed:{collapseIcon:function(){return this.stage.isCollapsed?"angle-left":"angle-down"},showLoadingIcon:function(){return this.stage.isLoading&&!this.stage.jobs.length},jobsCount:function(){return this.stage.jobs.length}},mounted:function(){var e=this.$refs.stageTitle;this.showTooltip=e.scrollWidth>e.offsetWidth,this.$emit("fetch",this.stage)},methods:{toggleCollapsed:function(){this.$emit("toggleCollapsed",this.stage.id)},clickViewLog:function(e){this.$emit("clickViewLog",e)}}};function Iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ku(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xu={components:{Stage:Object(M.a)(Tu,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ide-stage card prepend-top-default"},[n("div",{ref:"cardHeader",staticClass:"card-header",class:{"border-bottom-0":e.stage.isCollapsed},on:{click:e.toggleCollapsed}},[n("ci-icon",{attrs:{status:e.stage.status,size:24}}),e._v(" "),n("strong",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.showTooltip,expression:"showTooltip"}],ref:"stageTitle",staticClass:"gl-ml-3 text-truncate",attrs:{title:e.showTooltip?e.stage.name:null,"data-container":"body"}},[e._v("\n      "+e._s(e.stage.name)+"\n    ")]),e._v(" "),!e.stage.isLoading||e.stage.jobs.length?n("div",{staticClass:"gl-mr-3 gl-ml-2"},[n("span",{staticClass:"badge badge-pill"},[e._v(" "+e._s(e.jobsCount)+" ")])]):e._e(),e._v(" "),n("icon",{staticClass:"ide-stage-collapse-icon",attrs:{name:e.collapseIcon}})],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.stage.isCollapsed,expression:"!stage.isCollapsed"}],ref:"jobList",staticClass:"card-body p-0"},[e.showLoadingIcon?n("gl-loading-icon"):e._l(e.stage.jobs,(function(t){return n("item",{key:t.id,attrs:{job:t},on:{clickViewLog:e.clickViewLog}})}))],2)])}),[],!1,null,null,null).exports,GlLoadingIcon:S.a},props:{stages:{type:Array,required:!0},loading:{type:Boolean,required:!0}},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iu(Object(n),!0).forEach((function(t){ku(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(j.c)("pipelines",["fetchJobs","toggleStageCollapsed","setDetailJob"]))},Ru=Object(M.a)(xu,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loading&&!e.stages.length?n("gl-loading-icon",{staticClass:"prepend-top-default",attrs:{size:"lg"}}):e._l(e.stages,(function(t){return n("stage",{key:t.id,attrs:{stage:t},on:{fetch:e.fetchJobs,toggleCollapsed:e.toggleStageCollapsed,clickViewLog:e.setDetailJob}})}))],2)}),[],!1,null,null,null).exports;function Du(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Du(Object(n),!0).forEach((function(t){Fu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Du(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lu={components:{Icon:U.a,CiIcon:ur.a,Tabs:de,Tab:pe,JobsList:Ru,EmptyState:ju.a,GlLoadingIcon:S.a},computed:Au(Au(Au(Au(Au({},Object(j.e)(["pipelinesEmptyStateSvgPath","links"])),Object(j.d)(["currentProject"])),Object(j.d)("pipelines",["jobsCount","failedJobsCount","failedStages","pipelineFailed"])),Object(j.e)("pipelines",["isLoadingPipeline","hasLoadedPipeline","latestPipeline","stages","isLoadingJobs"])),{},{ciLintText:function(){return Object(C.e)(Object(C.a)("You can test your .gitlab-ci.yml in %{linkStart}CI Lint%{linkEnd}."),{linkStart:'<a href="'.concat(Rt()(this.currentProject.web_url),'/-/ci/lint">'),linkEnd:"</a>"},!1)},showLoadingIcon:function(){return this.isLoadingPipeline&&!this.hasLoadedPipeline}}),created:function(){this.fetchLatestPipeline(),hi.pingUsage(this.currentProject.path_with_namespace)},methods:Au({},Object(j.c)("pipelines",["fetchLatestPipeline"]))},Mu=Object(M.a)(Lu,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ide-pipeline"},[e.showLoadingIcon?n("gl-loading-icon",{staticClass:"prepend-top-default",attrs:{size:"lg"}}):e.hasLoadedPipeline?[e.latestPipeline?n("header",{staticClass:"ide-tree-header ide-pipeline-header"},[n("ci-icon",{staticClass:"d-flex",attrs:{status:e.latestPipeline.details.status,size:24}}),e._v(" "),n("span",{staticClass:"gl-ml-3"},[n("strong",[e._v(" "+e._s(e.__("Pipeline"))+" ")]),e._v(" "),n("a",{staticClass:"ide-external-link position-relative",attrs:{href:e.latestPipeline.path,target:"_blank"}},[e._v("\n          #"+e._s(e.latestPipeline.id)+" "),n("icon",{attrs:{size:12,name:"external-link"}})],1)])],1):e._e(),e._v(" "),e.latestPipeline?e.latestPipeline.yamlError?n("div",{staticClass:"bs-callout bs-callout-danger"},[n("p",{staticClass:"gl-mb-0"},[e._v(e._s(e.__("Found errors in your .gitlab-ci.yml:")))]),e._v(" "),n("p",{staticClass:"gl-mb-0 break-word"},[e._v(e._s(e.latestPipeline.yamlError))]),e._v(" "),n("p",{staticClass:"gl-mb-0",domProps:{innerHTML:e._s(e.ciLintText)}})]):n("tabs",{staticClass:"ide-pipeline-list"},[n("tab",{attrs:{active:!e.pipelineFailed},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n          "+e._s(e.__("Jobs"))+"\n          "),e.jobsCount?n("span",{staticClass:"badge badge-pill"},[e._v(" "+e._s(e.jobsCount)+" ")]):e._e()]},proxy:!0}])},[e._v(" "),n("jobs-list",{attrs:{loading:e.isLoadingJobs,stages:e.stages}})],1),e._v(" "),n("tab",{attrs:{active:e.pipelineFailed},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n          "+e._s(e.__("Failed Jobs"))+"\n          "),e.failedJobsCount?n("span",{staticClass:"badge badge-pill"},[e._v(" "+e._s(e.failedJobsCount)+" ")]):e._e()]},proxy:!0}])},[e._v(" "),n("jobs-list",{attrs:{loading:e.isLoadingJobs,stages:e.failedStages}})],1)],1):n("empty-state",{staticClass:"mb-auto mt-auto",attrs:{"help-page-path":e.links.ciHelpPagePath,"empty-state-svg-path":e.pipelinesEmptyStateSvgPath,"can-set-ci":!0}})]:e._e()],2)}),[],!1,null,null,null).exports,Nu={up:"up",down:"down"},qu={directives:{tooltip:V.a},components:{Icon:U.a},props:{direction:{type:String,required:!0,validator:function(e){return Object.keys(Nu).includes(e)}},disabled:{type:Boolean,required:!0}},computed:{tooltipTitle:function(){return this.direction===Nu.up?Object(C.a)("Scroll to top"):Object(C.a)("Scroll to bottom")},iconName:function(){return"scroll_".concat(this.direction)}},methods:{clickedScroll:function(){this.$emit("click")}}},Bu=Object(M.a)(qu,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"controllers-buttons",attrs:{title:this.tooltipTitle,"data-container":"body","data-placement":"top"}},[t("button",{staticClass:"btn-scroll btn-transparent btn-blank",attrs:{disabled:this.disabled,type:"button"},on:{click:this.clickedScroll}},[t("icon",{attrs:{name:this.iconName}})],1)])}),[],!1,null,null,null).exports;function $u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$u(Object(n),!0).forEach((function(t){Uu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zu=0,Gu=1,Hu={directives:{tooltip:V.a},components:{Icon:U.a,ScrollButton:Bu,JobDescription:Pu},data:function(){return{scrollPos:zu}},computed:Vu(Vu({},Object(j.e)("pipelines",["detailJob"])),{},{isScrolledToBottom:function(){return this.scrollPos===Gu},isScrolledToTop:function(){return this.scrollPos===zu},jobOutput:function(){return this.detailJob.output||Object(C.a)("No messages were logged")}}),mounted:function(){this.getTrace()},methods:Vu(Vu({},Object(j.c)("pipelines",["fetchJobTrace","setDetailJob"])),{},{scrollDown:function(){this.$refs.buildTrace&&this.$refs.buildTrace.scrollTo(0,this.$refs.buildTrace.scrollHeight)},scrollUp:function(){this.$refs.buildTrace&&this.$refs.buildTrace.scrollTo(0,0)},scrollBuildLog:Un()((function(){var e=this.$refs.buildTrace.scrollTop,t=this.$refs.buildTrace,n=t.offsetHeight,r=t.scrollHeight;this.scrollPos=e+n===r?Gu:0===e?zu:""})),getTrace:function(){var e=this;return this.fetchJobTrace().then((function(){return e.scrollDown()}))}})},Wu=Object(M.a)(Hu,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ide-pipeline build-page d-flex flex-column flex-fill"},[n("header",{staticClass:"ide-job-header d-flex align-items-center"},[n("button",{staticClass:"btn btn-default btn-sm d-flex",on:{click:function(t){return e.setDetailJob(null)}}},[n("icon",{attrs:{name:"chevron-left"}}),e._v(" "+e._s(e.__("View jobs"))+"\n    ")],1)]),e._v(" "),n("div",{staticClass:"top-bar d-flex border-left-0 mr-3"},[n("job-description",{attrs:{job:e.detailJob}}),e._v(" "),n("div",{staticClass:"controllers ml-auto"},[n("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"controllers-buttons",attrs:{title:e.__("Show complete raw log"),href:e.detailJob.rawPath,"data-placement":"top","data-container":"body",target:"_blank"}},[n("i",{staticClass:"fa fa-file-text-o",attrs:{"aria-hidden":"true"}})]),e._v(" "),n("scroll-button",{attrs:{disabled:e.isScrolledToTop,direction:"up"},on:{click:e.scrollUp}}),e._v(" "),n("scroll-button",{attrs:{disabled:e.isScrolledToBottom,direction:"down"},on:{click:e.scrollDown}})],1)],1),e._v(" "),n("pre",{ref:"buildTrace",staticClass:"build-trace mb-0 h-100 mr-3",on:{scroll:e.scrollBuildLog}},[e._v("    "),n("code",{directives:[{name:"show",rawName:"v-show",value:!e.detailJob.isLoading,expression:"!detailJob.isLoading"}],staticClass:"bash",domProps:{innerHTML:e._s(e.jobOutput)}},[e._v("\n    ")]),e._v("\n    "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.detailJob.isLoading,expression:"detailJob.isLoading"}],staticClass:"build-loader-animation"},[e._v("\n      "),n("div",{staticClass:"dot"}),e._v("\n      "),n("div",{staticClass:"dot"}),e._v("\n      "),n("div",{staticClass:"dot"}),e._v("\n    ")]),e._v("\n  ")])])}),[],!1,null,null,null).exports,Ju=n("Q33P"),Ku=n.n(Ju),Qu=n("APvm");var Yu=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Zu=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Xu=function(){return 1e6*Math.random()+1e6*Math.random()+""};!function(){function e(e,t,n){var r=this;this.type=e,this.handleMessage=t,this.target=n,this.outgoingMessages=new Set,this._messageListener=function(e){return Yu(r,void 0,void 0,(function(){var t,n,r;return Zu(this,(function(i){switch(i.label){case 0:return(t=e.data).$type!==this.getTypeId()?[2]:this.outgoingMessages.has(t.$id)?[2]:[4,this.handleMessage(t.$data)];case 1:return n=i.sent(),r={$originId:this.internalId,$type:this.getTypeId(),$data:n,$id:t.$id},e.source?e.source.postMessage(r,"*"):this._postMessage(r),[2]}}))}))},this.createConnection(),this.internalId=Xu()}e.prototype.getTypeId=function(){return"p-"+this.type},e.prototype.createConnection=function(){self.addEventListener("message",this._messageListener)},e.prototype.dispose=function(){self.removeEventListener("message",this._messageListener)},e.prototype.sendMessage=function(e){var t=this;return new Promise((function(n){var r=Xu(),i={$originId:t.internalId,$type:t.getTypeId(),$data:e,$id:r};t.outgoingMessages.add(r);var o=function(e){var i=e.data;i.$type===t.getTypeId()&&i.$id===r&&i.$originId!==t.internalId&&(n(i.$data),self.removeEventListener("message",o))};self.addEventListener("message",o),t._postMessage(i)}))},e.prototype._postMessage=function(e){"Worker"===this.target.constructor.name||"undefined"!=typeof DedicatedWorkerGlobalScope&&target instanceof DedicatedWorkerGlobalScope?this.target.postMessage(e):this.target.postMessage(e,"*")}}();Object.freeze({show:function(e,t,n){return void 0===t&&(t="notice"),void 0===n&&(n=2),{type:"action",action:"notification",title:e,notificationType:t,timeAlive:n}}});Object.freeze({openModule:function(e,t,n){return{type:"action",action:"editor.open-module",path:e,lineNumber:t,column:n}}});var ed=Object.freeze({add:function(e){return{type:"action",action:"source.dependencies.add",dependency:e}}}),td=Object.freeze({rename:function(e,t){return{type:"action",action:"source.module.rename",path:e,title:t}}});Object.freeze({dependencies:ed,modules:td}),Object.freeze({show:function(e,t,n){var r=n.line,i=n.column,o=n.lineEnd,a=n.columnEnd;return{title:e,message:t,line:r,column:i,path:n.path,payload:n.payload,lineEnd:o,columnEnd:a,severity:"error",type:"action",action:"show-error",source:n.source||"browser"}},clear:function(e,t){return{type:"action",action:"clear-errors",path:e,source:t}}}),Object.freeze({show:function(e,t){var n=void 0===t?{path:"",severity:"warning",source:""}:t,r=n.line,i=n.column,o=n.lineEnd,a=n.columnEnd,s=n.path,c=n.payload,l=n.severity,u=void 0===l?"warning":l,d=n.source;return{message:e,line:r,column:i,lineEnd:o,columnEnd:a,path:s,payload:c,severity:u,source:void 0===d?"":d,type:"action",action:"show-correction"}},clear:function(e,t){return{type:"action",action:"clear-corrections",path:e,source:t}}}),Object.freeze({show:function(e){return{line:e.line,path:e.path,className:e.className,type:"action",action:"show-glyph"}}}),new Map;"undefined"==typeof window||!!(window.location&&window.location.href.indexOf("?standalone")>-1)||!window.opener&&(window.parent,window);var nd=null,rd=function(e){"register-frame"===e.data.type&&(nd=e.data.origin,self.removeEventListener("message",rd))};"undefined"!=typeof window&&self.addEventListener("message",rd);var id={},od=0;function ad(e){var t=++od;return id[t]=e,function(){delete id[t]}}function sd(e,t){Object.keys(id).forEach((function(n){id[n]&&id[n](e,t)}))}function cd(e){var t=e.data;t&&t.codesandbox&&(null===nd||e.origin===nd)&&sd(t,e.source)}"undefined"!=typeof window&&window.addEventListener("message",cd);var ld={components:{Icon:U.a,GlLoadingIcon:S.a},props:{manager:{type:Object,required:!0}},data:function(){return{currentBrowsingIndex:null,navigationStack:[],forwardNavigationStack:[],path:"",loading:!0}},computed:{backButtonDisabled:function(){return this.navigationStack.length<=1},forwardButtonDisabled:function(){return!this.forwardNavigationStack.length}},mounted:function(){var e=this;this.listener=ad((function(t){switch(t.type){case"urlchange":e.onUrlChange(t);break;case"done":e.loading=!1}}))},beforeDestroy:function(){this.listener()},methods:{onUrlChange:function(e){var t=this.path;this.path=e.url.replace(this.manager.bundlerURL,"")||"/",t!==this.path&&(this.currentBrowsingIndex=null===this.currentBrowsingIndex?0:this.currentBrowsingIndex+1,this.navigationStack.push(this.path))},back:function(){var e=this.path;this.visitPath(this.navigationStack[this.currentBrowsingIndex-1]),this.forwardNavigationStack.push(e),1===this.currentBrowsingIndex&&(this.currentBrowsingIndex=null,this.navigationStack=[])},forward:function(){this.visitPath(this.forwardNavigationStack.splice(0,1)[0])},refresh:function(){this.visitPath(this.path)},visitPath:function(e){this.manager.iframe.src="".concat(this.manager.bundlerURL).concat(e)}}};function ud(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ud(Object(n),!0).forEach((function(t){fd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ud(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pd={components:{Navigator:Object(M.a)(ld,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"ide-preview-header d-flex align-items-center"},[n("button",{staticClass:"ide-navigator-btn d-flex align-items-center d-transparent border-0 bg-transparent",class:{"disabled-content":e.backButtonDisabled},attrs:{"aria-label":e.s__("IDE|Back"),disabled:e.backButtonDisabled,type:"button"},on:{click:e.back}},[n("icon",{staticClass:"m-auto",attrs:{size:24,name:"chevron-left"}})],1),e._v(" "),n("button",{staticClass:"ide-navigator-btn d-flex align-items-center d-transparent border-0 bg-transparent",class:{"disabled-content":e.forwardButtonDisabled},attrs:{"aria-label":e.s__("IDE|Back"),disabled:e.forwardButtonDisabled,type:"button"},on:{click:e.forward}},[n("icon",{staticClass:"m-auto",attrs:{size:24,name:"chevron-right"}})],1),e._v(" "),n("button",{staticClass:"ide-navigator-btn d-flex align-items-center d-transparent border-0 bg-transparent",attrs:{"aria-label":e.s__("IDE|Refresh preview"),type:"button"},on:{click:e.refresh}},[n("icon",{staticClass:"m-auto",attrs:{size:18,name:"retry"}})],1),e._v(" "),n("div",{staticClass:"position-relative w-100 gl-ml-2"},[n("input",{staticClass:"ide-navigator-location form-control bg-white",attrs:{type:"text",readonly:""},domProps:{value:e.path||"/"}}),e._v(" "),e.loading?n("gl-loading-icon",{staticClass:"position-absolute ide-preview-loading-icon"}):e._e()],1)])}),[],!1,null,null,null).exports,GlLoadingIcon:S.a},data:function(){return{manager:{},loading:!1,sandpackReady:!1}},computed:dd(dd(dd({},Object(j.e)(["entries","promotionSvgPath","links","codesandboxBundlerUrl"])),Object(j.d)(["packageJson","currentProject"])),{},{normalizedEntries:function(){var e=this;return Object.keys(this.entries).reduce((function(t,n){var r=e.entries[n];return"tree"===r.type||!r.raw&&!r.content?t:dd(dd({},t),{},fd({},"/".concat(n),{code:r.content||r.raw}))}),{})},mainEntry:function(){return!!this.packageJson.raw&&JSON.parse(this.packageJson.raw).main},showPreview:function(){return this.mainEntry&&!this.loading},showEmptyState:function(){return!this.mainEntry&&!this.loading},showOpenInCodeSandbox:function(){return this.currentProject&&"public"===this.currentProject.visibility},sandboxOpts:function(){return{files:dd({},this.normalizedEntries),entry:"/".concat(this.mainEntry),showOpenInCodeSandbox:this.showOpenInCodeSandbox}}}),watch:{entries:{deep:!0,handler:"update"}},mounted:function(){var e=this;return this.loading=!0,this.loadFileContent(T.u).then((function(){e.loading=!1})).then((function(){return e.$nextTick()})).then((function(){return e.initPreview()}))},beforeDestroy:function(){Ku()(this.manager)||this.manager.listener(),this.manager={},this.listener&&this.listener(),clearTimeout(this.timeout),this.timeout=null},methods:dd(dd(dd({},Object(j.c)(["getFileData","getRawFileData"])),Object(j.c)("clientside",["pingUsage"])),{},{loadFileContent:function(e){var t=this;return this.getFileData({path:e,makeFileActive:!1}).then((function(){return t.getRawFileData({path:e})}))},initPreview:function(){var e=this;return this.mainEntry?(this.pingUsage(),this.loadFileContent(this.mainEntry).then((function(){return e.$nextTick()})).then((function(){e.initManager(),e.listener=ad((function(t){switch(t.type){case"done":e.sandpackReady=!0}}))}))):null},update:function(){var e=this;this.sandpackReady&&(clearTimeout(this.timeout),this.timeout=setTimeout((function(){Ku()(e.manager)?e.initPreview():e.manager.updatePreview(e.sandboxOpts)}),250))},initManager:function(){var e=this,t=this.codesandboxBundlerUrl,n=dd({fileResolver:{isFile:function(t){return Promise.resolve(Boolean(e.entries[Object(R.a)(t)]))},readFile:function(t){return e.loadFileContent(Object(R.a)(t)).then((function(e){return e}))}}},t?{bundlerURL:t}:{});this.manager=new Qu.a("#ide-preview",this.sandboxOpts,n)}})},hd=Object(M.a)(pd,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"preview h-100 w-100 d-flex flex-column"},[this.showPreview?[t("navigator",{attrs:{manager:this.manager}}),this._v(" "),t("div",{attrs:{id:"ide-preview"}})]:this.showEmptyState?this._m(0):t("gl-loading-icon",{staticClass:"align-self-center mt-auto mb-auto",attrs:{size:"lg"}})],2)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex h-100 flex-column align-items-center justify-content-center svg-content"},[n("img",{attrs:{src:e.promotionSvgPath,alt:e.s__("IDE|Live Preview"),width:"130",height:"100"}}),e._v(" "),n("h3",[e._v(e._s(e.s__("IDE|Live Preview")))]),e._v(" "),n("p",{staticClass:"text-center"},[e._v("\n      "+e._s(e.s__("IDE|Preview your web application using Web IDE client-side evaluation."))+"\n    ")]),e._v(" "),n("a",{staticClass:"btn btn-primary",attrs:{href:e.links.webIDEHelpPagePath,target:"_blank",rel:"noopener noreferrer"}},[e._v("\n      "+e._s(e.s__("IDE|Get started with Live Preview"))+"\n    ")])])}],!1,null,null,null).exports,md={components:{GlLoadingIcon:S.a},props:{isLoading:{type:Boolean,required:!1,default:!0},isValid:{type:Boolean,required:!1,default:!1},message:{type:String,required:!1,default:""},helpPath:{type:String,required:!1,default:""},illustrationPath:{type:String,required:!1,default:""}},methods:{onStart:function(){this.$emit("start")}}},gd=Object(M.a)(md,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center p-3"},[e.illustrationPath?n("div",{staticClass:"svg-content svg-130"},[n("img",{attrs:{src:e.illustrationPath}})]):e._e(),e._v(" "),n("h4",[e._v(e._s(e.__("Web Terminal")))]),e._v(" "),e.isLoading?n("gl-loading-icon",{staticClass:"prepend-top-default",attrs:{size:"lg"}}):[n("p",[e._v(e._s(e.__("Run tests against your code live using the Web Terminal")))]),e._v(" "),n("p",[n("button",{staticClass:"btn btn-info",attrs:{disabled:!e.isValid,type:"button","data-qa-selector":"start_web_terminal_button"},on:{click:e.onStart}},[e._v("\n        "+e._s(e.__("Start Web Terminal"))+"\n      ")])]),e._v(" "),!e.isValid&&e.message?n("div",{staticClass:"bs-callout text-left",domProps:{innerHTML:e._s(e.message)}}):n("p",[e.helpPath?n("a",{attrs:{href:e.helpPath,target:"_blank"},domProps:{textContent:e._s(e.__("Learn more about Web Terminal"))}}):e._e()])]],2)}),[],!1,null,null,null).exports,vd=n("U0k0"),bd={components:{ScrollButton:Bu},props:{canScrollUp:{type:Boolean,required:!1,default:!1},canScrollDown:{type:Boolean,required:!1,default:!1}}},yd=Object(M.a)(bd,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"controllers"},[n("scroll-button",{attrs:{disabled:!e.canScrollUp,direction:"up"},on:{click:function(t){return e.$emit("scroll-up")}}}),e._v(" "),n("scroll-button",{attrs:{disabled:!e.canScrollDown,direction:"down"},on:{click:function(t){return e.$emit("scroll-down")}}})],1)}),[],!1,null,null,null).exports,Od=function(e){return"starting"===e||"pending"===e},wd=function(e){return"running"===e},_d=function(e){return!Od(e)&&!wd(e)};function jd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ed(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jd(Object(n),!0).forEach((function(t){Pd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sd={components:{GlLoadingIcon:S.a,TerminalControls:yd},props:{terminalPath:{type:String,required:!1,default:""},status:{type:String,required:!0}},data:function(){return{glterminal:null,canScrollUp:!1,canScrollDown:!1}},computed:Ed(Ed({},Object(j.e)(["panelResizing"])),{},{loadingText:function(){return Od(this.status)?Object(C.a)("Starting..."):"stopping"===this.status?Object(C.a)("Stopping..."):""}}),watch:{panelResizing:function(){!this.panelResizing&&this.glterminal&&this.glterminal.fit()},status:function(){this.refresh()},terminalPath:function(){this.refresh()}},beforeDestroy:function(){this.destroyTerminal()},methods:{refresh:function(){"running"===this.status&&this.terminalPath?this.createTerminal():"stopping"===this.status&&this.stopTerminal()},createTerminal:function(){var e=this;this.destroyTerminal(),this.glterminal=new vd.a(this.$refs.terminal),this.glterminal.addScrollListener((function(t){var n=t.canScrollUp,r=t.canScrollDown;e.canScrollUp=n,e.canScrollDown=r}))},destroyTerminal:function(){this.glterminal&&(this.glterminal.dispose(),this.glterminal=null)},stopTerminal:function(){this.glterminal&&this.glterminal.disable()}}};function Cd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Td(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cd(Object(n),!0).forEach((function(t){Id(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Id(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kd={components:{Terminal:Object(M.a)(Sd,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex flex-column flex-fill min-height-0 pr-3"},[n("div",{staticClass:"top-bar d-flex border-left-0 align-items-center"},[e.loadingText?n("div",{attrs:{"data-qa-selector":"loading_container"}},[n("gl-loading-icon",{attrs:{inline:!0}}),e._v(" "),n("span",[e._v(e._s(e.loadingText))])],1):e._e(),e._v(" "),e.glterminal?n("terminal-controls",{staticClass:"ml-auto",attrs:{"can-scroll-up":e.canScrollUp,"can-scroll-down":e.canScrollDown},on:{"scroll-up":function(t){return e.glterminal.scrollToTop()},"scroll-down":function(t){return e.glterminal.scrollToBottom()}}}):e._e()],1),e._v(" "),n("div",{staticClass:"terminal-wrapper d-flex flex-fill min-height-0"},[n("div",{ref:"terminal",staticClass:"ide-terminal-trace flex-fill min-height-0 w-100",attrs:{"data-project-path":e.terminalPath,"data-qa-selector":"terminal_screen"}})])])}),[],!1,null,null,null).exports},computed:Td(Td({},Object(j.e)("terminal",["session"])),{},{actionButton:function(){var e=this;return _d(this.session.status)?{action:function(){return e.restartSession()},text:Object(C.a)("Restart Terminal"),class:"btn-primary"}:{action:function(){return e.stopSession()},text:Object(C.a)("Stop Terminal"),class:"btn-inverted btn-remove"}}}),methods:Td({},Object(j.c)("terminal",["restartSession","stopSession"]))};function xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xd(Object(n),!0).forEach((function(t){Dd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ad={components:{EmptyState:gd,TerminalSession:Object(M.a)(kd,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.session?n("div",{staticClass:"ide-terminal d-flex flex-column"},[n("header",{staticClass:"ide-job-header d-flex align-items-center"},[n("h5",[e._v(e._s(e.__("Web Terminal")))]),e._v(" "),n("div",{staticClass:"ml-auto align-self-center"},[e.actionButton?n("button",{staticClass:"btn btn-sm",class:e.actionButton.class,attrs:{type:"button"},on:{click:e.actionButton.action}},[e._v("\n        "+e._s(e.actionButton.text)+"\n      ")]):e._e()])]),e._v(" "),n("terminal",{attrs:{"terminal-path":e.session.terminalPath,status:e.session.status}})],1):e._e()}),[],!1,null,null,null).exports},computed:Rd(Rd({},Object(j.e)("terminal",["isShowSplash","paths"])),Object(j.d)("terminal",["allCheck"])),methods:Rd(Rd({},Object(j.c)("terminal",["startSession","hideSplash"])),{},{start:function(){this.startSession(),this.hideSplash()}})},Fd=Object(M.a)(Ad,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"h-100"},[e.isShowSplash?n("div",{staticClass:"h-100 d-flex flex-column justify-content-center"},[n("empty-state",{attrs:{"is-loading":e.allCheck.isLoading,"is-valid":e.allCheck.isValid,message:e.allCheck.message,"help-path":e.paths.webTerminalHelpPath,"illustration-path":e.paths.webTerminalSvgPath},on:{start:function(t){return e.start()}}})],1):[n("terminal-session")]],2)}),[],!1,null,null,null).exports;function Ld(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ld(Object(n),!0).forEach((function(t){Nd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ld(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qd=T.i+T.k,Bd={name:"RightPane",components:{CollapsibleSidebar:_u,ResizablePanel:nt},computed:Md(Md(Md(Md(Md({},Object(j.e)("terminal",{isTerminalVisible:"isVisible"})),Object(j.e)(["currentMergeRequestId","clientsidePreviewEnabled"])),Object(j.d)(["packageJson"])),Object(j.e)("rightPane",["isOpen"])),{},{showLivePreview:function(){return this.packageJson&&this.clientsidePreviewEnabled},rightExtensionTabs:function(){return[{show:!0,title:Object(C.a)("Pipelines"),views:[Md({component:Mu},T.v.pipelines),Md({component:Wu},T.v.jobsDetail)],icon:"rocket"},{show:this.showLivePreview,title:Object(C.a)("Live preview"),views:[Md({component:hd},T.v.clientSidePreview)],icon:"live-preview"},{show:this.isTerminalVisible,title:Object(C.a)("Terminal"),views:[Md({component:Fd},T.v.terminal)],icon:"terminal"}]}}),WIDTH:qd},$d=Object(M.a)(Bd,(function(){var e=this.$createElement,t=this._self._c||e;return t("resizable-panel",{staticClass:"gl-display-flex gl-overflow-hidden",attrs:{side:"right","initial-width":this.$options.WIDTH,"min-size":this.$options.WIDTH,resizable:this.isOpen}},[t("collapsible-sidebar",{staticClass:"gl-w-full",attrs:{"extension-tabs":this.rightExtensionTabs,side:"right"}})],1)}),[],!1,null,null,null).exports;function Vd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ud(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vd(Object(n),!0).forEach((function(t){zd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gd={components:{GlAlert:n("dsWN").a,GlLoadingIcon:S.a},props:{message:{type:Object,required:!0}},data:function(){return{isLoading:!1}},computed:{canDismiss:function(){return!this.message.action}},methods:Ud(Ud({},Object(j.c)(["setErrorMessage"])),{},{doAction:function(){var e=this;this.isLoading||(this.isLoading=!0,this.message.action(this.message.actionPayload).then((function(){e.isLoading=!1})).catch((function(){e.isLoading=!1})))},dismiss:function(){this.setErrorMessage(null)}})},Hd=Object(M.a)(Gd,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-alert",{attrs:{"data-qa-selector":"flash_alert",variant:"danger",dismissible:e.canDismiss,"primary-button-text":e.message.actionText},on:{dismiss:e.dismiss,primaryAction:e.doAction}},[n("span",{domProps:{innerHTML:e._s(e.message.text)}}),e._v(" "),n("gl-loading-icon",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"vertical-align-middle ml-1",attrs:{inline:""}})],1)}),[],!1,null,null,null).exports;function Wd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wd(Object(n),!0).forEach((function(t){Kd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qd={components:{GlModal:x.a,FileIcon:ct.a,ChangedFileIcon:z.a},props:{activeFile:{type:Object,required:!0}},computed:{discardModalId:function(){return"discard-file-".concat(this.activeFile.path)},discardModalTitle:function(){return Object(C.e)(Object(C.a)("Discard changes to %{path}?"),{path:this.activeFile.path})},canDiscard:function(){return this.activeFile.changed||this.activeFile.staged}},methods:Jd(Jd({},Object(j.c)(["unstageChange","discardFileChanges"])),{},{showDiscardModal:function(){this.$refs.discardModal.show()},discardChanges:function(e){this.unstageChange(e),this.discardFileChanges(e)}})},Yd=Object(M.a)(Qd,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex ide-commit-editor-header align-items-center"},[n("file-icon",{staticClass:"mr-2",attrs:{"file-name":e.activeFile.name,size:16}}),e._v(" "),n("strong",{staticClass:"mr-2"},[e.activeFile.prevPath&&e.activeFile.prevPath!==e.activeFile.path?[e._v("\n      "+e._s(e.activeFile.prevPath)+" →\n    ")]:e._e(),e._v("\n    "+e._s(e.activeFile.path)+"\n  ")],2),e._v(" "),n("changed-file-icon",{attrs:{file:e.activeFile,"is-centered":!1}}),e._v(" "),n("div",{staticClass:"ml-auto"},[e.canDiscard?n("button",{ref:"discardButton",staticClass:"btn btn-remove btn-inverted gl-mr-3",attrs:{type:"button"},on:{click:e.showDiscardModal}},[e._v("\n      "+e._s(e.__("Discard changes"))+"\n    ")]):e._e()]),e._v(" "),n("gl-modal",{ref:"discardModal",attrs:{"ok-variant":"danger","cancel-variant":"light","ok-title":e.__("Discard changes"),"modal-id":e.discardModalId,title:e.discardModalTitle},on:{ok:function(t){return e.discardChanges(e.activeFile.path)}}},[e._v("\n    "+e._s(e.__("You will lose all changes you've made to this file. This action cannot be undone."))+"\n  ")])],1)}),[],!1,null,null,null).exports,Zd=n("sHIo");function Xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xd(Object(n),!0).forEach((function(t){tf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nf={components:{NewModal:N,IdeSidebar:xn,RepoTabs:$n,IdeStatusBar:gr,RepoEditor:pu,FindFile:I.a,ErrorMessage:Hd,CommitEditorHeader:Yd,GlDeprecatedButton:P.a,GlLoadingIcon:S.a,RightPane:$d},mixins:[Object(Zd.a)()],computed:ef(ef(ef({},Object(j.e)(["openFiles","viewer","fileFindVisible","emptyStateSvgPath","currentProjectId","errorMessage","loading"])),Object(j.d)(["activeFile","someUncommittedChanges","isCommitModeActive","allBlobs","emptyRepo","currentTree","editorTheme"])),{},{themeName:function(){var e;return null===(e=window.gon)||void 0===e?void 0:e.user_color_scheme}}),mounted:function(){var e=this;window.onbeforeunload=function(t){return e.onBeforeUnload(t)},this.themeName&&document.querySelector(".navbar-gitlab").classList.add("theme-".concat(this.themeName))},methods:ef(ef({},Object(j.c)(["toggleFileFinder"])),{},{onBeforeUnload:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(C.a)("Are you sure you want to lose unsaved changes?");if(this.someUncommittedChanges)return Object.assign(e,{returnValue:t}),t},openFile:function(e){this.$router.push("/project".concat(e.url))},createNewFile:function(){this.$refs.newModal.open(T.t.blob)}})},rf=Object(M.a)(nf,(function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("article",{staticClass:"ide position-relative d-flex flex-column align-items-stretch",class:(e={},e["theme-"+t.themeName]=t.themeName,e)},[t.errorMessage?r("error-message",{attrs:{message:t.errorMessage}}):t._e(),t._v(" "),r("div",{staticClass:"ide-view flex-grow d-flex"},[r("find-file",{directives:[{name:"show",rawName:"v-show",value:t.fileFindVisible,expression:"fileFindVisible"}],attrs:{files:t.allBlobs,visible:t.fileFindVisible,loading:t.loading},on:{toggle:t.toggleFileFinder,click:t.openFile}}),t._v(" "),r("ide-sidebar"),t._v(" "),r("div",{staticClass:"multi-file-edit-pane"},[t.activeFile?[t.isCommitModeActive?r("commit-editor-header",{attrs:{"active-file":t.activeFile}}):r("repo-tabs",{attrs:{"active-file":t.activeFile,files:t.openFiles,viewer:t.viewer}}),t._v(" "),r("repo-editor",{staticClass:"multi-file-edit-pane-content",attrs:{file:t.activeFile}})]:[r("div",{staticClass:"ide-empty-state"},[r("div",{staticClass:"row js-empty-state"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"svg-content svg-250"},[r("img",{attrs:{src:t.emptyStateSvgPath}})])]),t._v(" "),r("div",{staticClass:"col-12"},[r("div",{staticClass:"text-content text-center"},[r("h4",[t._v("\n                  "+t._s(t.__("Make and review changes in the browser with the Web IDE"))+"\n                ")]),t._v(" "),t.emptyRepo?[r("p",[t._v("\n                    "+t._s(t.__("Create a new file as there are no files yet. Afterwards, you'll be able to commit your changes."))+"\n                  ")]),t._v(" "),r("gl-deprecated-button",{attrs:{variant:"success",title:t.__("New file"),"aria-label":t.__("New file"),"data-qa-selector":"first_file_button"},on:{click:function(e){return t.createNewFile()}}},[t._v("\n                    "+t._s(t.__("New file"))+"\n                  ")])]:!t.currentTree||t.currentTree.loading?r("gl-loading-icon",{attrs:{size:"md"}}):r("p",[t._v("\n                  "+t._s(t.__("Select a file from the left sidebar to begin editing. Afterwards, you'll be able to commit your changes."))+"\n                ")])],2)])])])]],2),t._v(" "),t.currentProjectId?r("right-pane"):t._e()],1),t._v(" "),r("ide-status-bar"),t._v(" "),r("new-modal",{ref:"newModal"})],1)}),[],!1,null,null,null).exports;n("WQYg"),n("EfZm"),n("arjl");function of(e){return(of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function af(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sf(e,t,n){return(sf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=df(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function cf(e,t){return(cf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=df(e);if(t){var i=df(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return uf(this,n)}}function uf(e,t){return!t||"object"!==of(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function df(e){return(df=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ff=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cf(e,t)}(o,e);var t,n,r,i=lf(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"push",value:function(e,t,n){sf(df(o.prototype),"push",this).call(this,Object(Fr.b)(e),t,n)}},{key:"resolve",value:function(e,t,n){return sf(df(o.prototype),"resolve",this).call(this,Object(Fr.b)(e),t,n)}}])&&af(t.prototype,n),r&&af(t,r),o}(n("lRsd").a);_.default.use(ff);var pf={render:function(e){return e("div")}},hf=function(e){var t=new ff({mode:"history",base:Object(Fr.m)(gon.relative_url_root||"","/-/ide/"),routes:[{path:"/project/:namespace+/:project",component:pf,children:[{path:":targetmode(edit|tree|blob)/:branchid+/-/*",component:pf},{path:":targetmode(edit|tree|blob)/:branchid+/",redirect:function(e){return Object(Fr.m)(e.path,"/-/")}},{path:":targetmode(edit|tree|blob)",redirect:function(e){return Object(Fr.m)(e.path,"/master/-/")}},{path:"merge_requests/:mrid",component:pf},{path:"",redirect:function(e){return Object(Fr.m)(e.path,"/edit/master/-/")}}]}]});return t.beforeEach((function(t,n,r){t.params.namespace&&t.params.project&&e.dispatch("getProjectData",{namespace:t.params.namespace,projectId:t.params.project}).then((function(){var n=t.params.pathMatch||"",r="".concat(t.params.namespace,"/").concat(t.params.project),i=t.params.branchid,o=t.params.mrid;i?e.dispatch("openBranch",{projectId:r,branchId:i,basePath:n}):o&&e.dispatch("openMergeRequest",{projectId:r,mergeRequestId:o,targetProjectId:t.query.target_project})})).catch((function(e){throw Object(k.a)(Object(C.a)("Error while loading the project data. Please try again."),"alert",document,null,!1,!0),e})),r()})),function(e,t){var n=[],r="";n.push(t.watch((function(e){return e.router.fullPath}),(function(t){r!==t&&(r=t,e.push(t))}))),n.push(e.afterEach((function(e){r!==e.fullPath&&(r=e.fullPath,t.dispatch("router/push",r,{root:!0}))})))}(t,e),t},mf=n("53mm");function gf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gf(Object(n),!0).forEach((function(t){bf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_.default.use(E.a);var yf,Of=function(e){var t=e.dispatch;t("fetchConfigCheck"),t("fetchRunnersCheck")},wf=function(e){(0,e.commit)("HIDE_SPLASH")},_f=function(e,t){(0,e.commit)("SET_PATHS",t)},jf=Object(C.a)("An unexpected error occurred while checking the project environment."),Ef=Object(C.a)("An unexpected error occurred while checking the project runners."),Pf=Object(C.a)("An unexpected error occurred while communicating with the Web Terminal."),Sf=Object(C.a)("An unexpected error occurred while starting the Web Terminal."),Cf=Object(C.a)("An unexpected error occurred while stopping the Web Terminal."),Tf=Object(C.a)("Configure GitLab runners to start using the Web Terminal. %{helpStart}Learn more.%{helpEnd}"),If=Object(C.a)("Configure a <code>.gitlab-webide.yml</code> file in the <code>.gitlab</code> directory to start using the Web Terminal. %{helpStart}Learn more.%{helpEnd}"),kf=Object(C.a)("You do not have permission to run the Web Terminal. Please contact a project administrator."),xf=function(e){return"/".concat(e,"/ide_terminals")},Rf=function(e){(0,e.commit)("REQUEST_CHECK","config")},Df=function(e){var t=e.commit;t("SET_VISIBLE",!0),t("RECEIVE_CHECK_SUCCESS","config")},Af=function(e,t){var n=e.commit,r=e.state,i=t.response.status,o=r.paths;n("SET_VISIBLE",i!==Ka.a.FORBIDDEN&&i!==Ka.a.NOT_FOUND),n("RECEIVE_CHECK_ERROR",{type:"config",message:function(e,t){return e===Ka.a.UNPROCESSABLE_ENTITY?Object(C.e)(If,{helpStart:'<a href="'.concat(Rt()(t),'" target="_blank">'),helpEnd:"</a>"},!1):e===Ka.a.FORBIDDEN?kf:jf}(i,o.webTerminalConfigHelpPath)})},Ff=function(e){var t=e.dispatch,n=e.rootState,r=e.rootGetters;t("requestConfigCheck");var i,o,a=n.currentBranchId,s=r.currentProject;(i=s.path_with_namespace,o=a,Er.a.post("".concat(xf(i),"/check_config"),{branch:o,format:"json"})).then((function(){t("receiveConfigCheckSuccess")})).catch((function(e){t("receiveConfigCheckError",e)}))},Lf=function(e){(0,e.commit)("REQUEST_CHECK","runners")},Mf=function(e,t){var n,r=e.commit,i=e.dispatch,o=e.state;if(t.length)r("RECEIVE_CHECK_SUCCESS","runners");else{var a=o.paths;r("RECEIVE_CHECK_ERROR",{type:"runners",message:(n=a.webTerminalRunnersHelpPath,Object(C.e)(Tf,{helpStart:'<a href="'.concat(Rt()(n),'" target="_blank">'),helpEnd:"</a>"},!1))}),i("retryRunnersCheck")}},Nf=function(e){(0,e.commit)("RECEIVE_CHECK_ERROR",{type:"runners",message:Ef})},qf=function(e){var t=e.dispatch,n=e.state.checks.config;(n.isLoading||n.isValid)&&setTimeout((function(){t("fetchRunnersCheck",{background:!0})}),1e4)},Bf=function(e){var t=e.dispatch,n=e.rootGetters,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.background,o=void 0!==i&&i;o||t("requestRunnersCheck");var a=n.currentProject;ni.a.projectRunners(a.id,{params:{scope:"active"}}).then((function(e){var n=e.data;t("receiveRunnersCheckSuccess",n)})).catch((function(e){t("receiveRunnersCheckError",e)}))},$f=function(e){(0,e.commit)("SET_SESSION_STATUS","starting")},Vf=function(e,t){var n=e.commit,r=e.dispatch;n("SET_SESSION",{id:t.id,status:t.status,showPath:t.show_path,cancelPath:t.cancel_path,retryPath:t.retry_path,terminalPath:t.terminal_path,proxyWebsocketPath:t.proxy_websocket_path,services:t.services}),r("pollSessionStatus")},Uf=function(e){var t=e.dispatch;Object(k.a)(Sf),t("killSession")},zf=function(e){var t=e.state,n=e.dispatch,r=e.rootGetters,i=e.rootState;if(!t.session||"starting"!==t.session.status){var o,a,s=r.currentProject,c=i.currentBranchId;n("requestStartSession"),(o=s.path_with_namespace,a=c,Er.a.post(xf(o),{branch:a,format:"json"})).then((function(e){var t=e.data;n("receiveStartSessionSuccess",t)})).catch((function(e){n("receiveStartSessionError",e)}))}},Gf=function(e){(0,e.commit)("SET_SESSION_STATUS","stopping")},Hf=function(e){(0,e.dispatch)("killSession")},Wf=function(e){var t=e.dispatch;Object(k.a)(Cf),t("killSession")},Jf=function(e){var t=e.state,n=e.dispatch,r=t.session.cancelPath;n("requestStopSession"),Er.a.post(r).then((function(){n("receiveStopSessionSuccess")})).catch((function(e){n("receiveStopSessionError",e)}))},Kf=function(e){var t=e.commit;(0,e.dispatch)("stopPollingSessionStatus"),t("SET_SESSION_STATUS","stopped")},Qf=function(e){var t=e.state,n=e.dispatch,r=e.rootState,i=t.session,o=i.status,a=i.retryPath,s=r.currentBranchId;"stopped"===o&&(a?(n("requestStartSession"),Er.a.post(a,{branch:s,format:"json"}).then((function(e){var t=e.data;n("receiveStartSessionSuccess",t)})).catch((function(e){var t=e.response&&e.response.status;t===Ka.a.NOT_FOUND||t===Ka.a.UNPROCESSABLE_ENTITY?n("startSession"):n("receiveStartSessionError",e)}))):n("startSession"))},Yf=function(e){var t=e.state,n=e.dispatch,r=e.commit;n("stopPollingSessionStatus"),n("fetchSessionStatus"),r("SET_SESSION_STATUS_INTERVAL",setInterval((function(){t.session?n("fetchSessionStatus"):n("stopPollingSessionStatus")}),5e3))},Zf=function(e){var t=e.state,n=e.commit,r=t.sessionStatusInterval;r&&(clearInterval(r),n("SET_SESSION_STATUS_INTERVAL",0))},Xf=function(e,t){var n=e.commit,r=e.dispatch,i=t&&t.status;n("SET_SESSION_STATUS",i),_d(i)&&r("killSession")},ep=function(e){var t=e.dispatch;Object(k.a)(Pf),t("killSession")},tp=function(e){var t=e.dispatch,n=e.state;if(n.session){var r=n.session.showPath;Er.a.get(r).then((function(e){var n=e.data;t("receiveSessionStatusSuccess",n)})).catch((function(e){t("receiveSessionStatusError",e)}))}},np=function(){},rp=(n("N0ZT"),function(e){var t=Object.values(e.checks);if(t.some((function(e){return e.isLoading})))return{isLoading:!0};var n=t.find((function(e){return!e.isValid}));return{isLoading:!1,isValid:!n,message:n?n.message:""}}),ip=function(){};function op(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ap(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?op(Object(n),!0).forEach((function(t){sp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):op(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cp=(sp(yf={},"SET_VISIBLE",(function(e,t){Object.assign(e,{isVisible:t})})),sp(yf,"HIDE_SPLASH",(function(e){Object.assign(e,{isShowSplash:!1})})),sp(yf,"SET_PATHS",(function(e,t){Object.assign(e,{paths:t})})),sp(yf,"REQUEST_CHECK",(function(e,t){Object.assign(e.checks,sp({},t,{isLoading:!0}))})),sp(yf,"RECEIVE_CHECK_ERROR",(function(e,t){var n=t.type,r=t.message;Object.assign(e.checks,sp({},n,{isLoading:!1,isValid:!1,message:r}))})),sp(yf,"RECEIVE_CHECK_SUCCESS",(function(e,t){Object.assign(e.checks,sp({},t,{isLoading:!1,isValid:!0,message:null}))})),sp(yf,"SET_SESSION",(function(e,t){Object.assign(e,{session:t})})),sp(yf,"SET_SESSION_STATUS",(function(e,t){var n=ap(ap({},e.session||{}),{},{status:t});Object.assign(e,{session:n})})),sp(yf,"SET_SESSION_STATUS_INTERVAL",(function(e,t){Object.assign(e,{sessionStatusInterval:t})})),yf);function lp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var up=function(){return{namespaced:!0,actions:v,getters:b,mutations:cp,state:{checks:(e={},lp(e,"config",{isLoading:!0}),lp(e,"runners",{isLoading:!0}),e),isVisible:!1,isShowSplash:!0,paths:{},session:null,sessionStatusInterval:0}};var e};function dp(e){return function(t){t.registerModule("terminal",up()),t.dispatch("terminal/setPaths",function(e){return{webTerminalSvgPath:e.dataset.eeWebTerminalSvgPath,webTerminalHelpPath:e.dataset.eeWebTerminalHelpPath,webTerminalConfigHelpPath:e.dataset.eeWebTerminalConfigHelpPath,webTerminalRunnersHelpPath:e.dataset.eeWebTerminalRunnersHelpPath}}(e)),t.subscribe((function(e){e.type===Lr&&t.dispatch("terminal/init")}))}}var fp=n("xzXO"),pp=function(e){return!e||"\n"===e[e.length-1]},hp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return'diff --git "a/'.concat(e,'" "b/').concat(t||e,'"')},mp=function(e,t,n){if(!t)return"";var r,i=n?"+":"-",o=n?"/dev/null":"a/".concat(e),a=n?"b/".concat(e):"/dev/null",s=pp(t),c=(r=t,pp(r)?r.substr(0,r.length-1):r).split("\n"),l=n?"@@ -0,0 +1,".concat(c.length," @@"):"@@ -1,".concat(c.length," +0,0 @@"),u=c.map((function(e){return"".concat(i).concat(e)})).concat(s?[]:["\\ No newline at end of file"]).join("\n");return"--- ".concat(o,"\n+++ ").concat(a,"\n").concat(l,"\n").concat(u)},gp=function(e,t){switch(t){case T.n.move:return a=e.prevPath,s=e.path,"".concat(hp(a,s),"\nrename from ").concat(a,"\nrename to ").concat(s);case T.n.create:return function(e,t){var n=mp(e,t,!0);return"".concat(hp(e),"\nnew file mode ").concat("100644","\n").concat(n)}(e.path,e.content);case T.n.delete:return function(e,t){var n=mp(e,t,!1);return"".concat(hp(e),"\ndeleted file mode ").concat("100644","\n").concat(n)}(e.path,e.content);case T.n.update:return n=e.path,r=e.raw||"",i=e.content,o=Object(fp.createTwoFilesPatch)("a/".concat(n),"b/".concat(n),r,i),"".concat(hp(n),"\n").concat(o.replace(/^(=+\s*)/,""));default:return""}var n,r,i,o,a,s},vp=function(e,t){return n=gp(e,t),pp(n)?n:n+"\n";var n};function bp(e){return function(e){if(Array.isArray(e))return yp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return yp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Op=function(e){var t=e.stagedFiles,n=void 0===t?[]:t,r=e.changedFiles,i=void 0===r?[]:r,o=e.entries,a=void 0===o?{}:o,s=n.concat(i).reduce((function(e,t){var n=t.path,r=Ur(t),i=e[n];return r===T.n.delete&&i&&i.action===T.n.create?delete e[n]:e[n]={action:r,file:t},e}),{});return Object.values(s).filter((function(e){return e.action===T.n.move})).forEach((function(e){var t=s[e.file.prevPath];t&&(e.file.content===t.file.content?delete s[e.file.prevPath]:Object.assign(e,{action:T.n.create}))})),Object.values(s).filter((function(e){return e.action===T.n.delete&&e.file.parentPath})).forEach((function(e){var t=e.file;s[t.parentPath]||function e(t,n){var r=n.parentPath&&t[n.parentPath];return r&&r.deleted?[r].concat(bp(e(t,r))):[]}(a,t).forEach((function(e){s[e.path]={action:T.n.delete,file:e}}))})),Object.values(s)},wp=function(e){var t=Op(e),n=t.filter((function(e){return e.action===T.n.delete})).map((function(e){return e.file.path}));return{patch:t.filter((function(e){return e.action!==T.n.delete})).map((function(e){var t=e.file,n=e.action;return vp(t,n)})).join(""),toDelete:n}};function _p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ep,Pp,Sp,Cp,Tp,Ip,kp=Object(C.a)("Could not connect to Web IDE file mirror service."),xp=function(){},Rp=(Ep=null,Pp=xp,Sp=xp,Cp=function(e){var t=Sp;Sp=xp,t(JSON.parse(e.data))},Tp=function(){return new Promise((function(e,t){Sp=function(n){var r=function(e){return(n=e.error)&&0!==n.code?{message:e.error.Message}:(t=e.payload)&&200!==t.status_code?{message:e.payload.error_message}:null;var t,n}(n);r?t(r):e()}}))},{upload:function(e){return function(e){var t=e.toDelete,n=e.patch;if(!Ep)return Promise.resolve();var r=Tp(),i={code:"EVENT",namespace:"/files",event:"PATCH",payload:{diff:n,delete_files:t}};return Ep.send(JSON.stringify(i)),r}(wp(e))},connect:function(e){Ep&&this.disconnect();var t,n,r=function(e){return Object(Fr.n)({service:"webide-file-sync"},Object(Fr.h)(e))}(e),i=_p((t=8e3,n=0,[new Promise((function(e){n=setTimeout(e,t)})),function(){return clearTimeout(n)}]),2),o=i[0],a=i[1];return Pp=a,o.then((function(){return function(e){return new Promise((function(t,n){var r=new WebSocket(e,["webfilesync.gitlab.com"]),i=function(){r.onopen=null,r.onerror=null};r.onopen=function(){i(),t(r)},r.onerror=function(){i(),n(new Error(kp))}}))}(r)})).then((function(e){(Ep=e).onmessage=Cp}))},disconnect:function(){Pp(),Pp=xp,Ep&&(Ep.close(),Ep=null)}}),Dp=function(e){var t=e.rootState,n=e.commit;return n("START_LOADING"),Rp.upload(t).then((function(){n("SET_SUCCESS")})).catch((function(e){n("SET_ERROR",e)}))},Ap=function(e){var t=e.commit;Rp.disconnect(),t("STOP")},Fp=function(e){var t,n=e.rootState,r=e.commit,i=n.terminal.session,o=i&&i.proxyWebsocketPath;return o&&(void 0===(t=i.services)?[]:t).some((function(e){return"webide-file-sync"===e}))?(r("START_LOADING"),Rp.connect(o).then((function(){r("SET_SUCCESS")})).catch((function(e){throw r("SET_ERROR",e),e}))):Promise.reject()};function Lp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mp=(Lp(Ip={},"START_LOADING",(function(e){e.isLoading=!0,e.isError=!1})),Lp(Ip,"SET_ERROR",(function(e,t){var n=t.message;e.isLoading=!1,e.isError=!0,e.message=n})),Lp(Ip,"SET_SUCCESS",(function(e){e.isLoading=!1,e.isError=!1,e.isStarted=!0})),Lp(Ip,"STOP",(function(e){e.isLoading=!1,e.isStarted=!1})),Ip),Np=function(){return{namespaced:!0,actions:y,mutations:Mp,state:{isLoading:!1,isStarted:!1,isError:!1,message:""}}},qp=200;function Bp(){return function(e){e.registerModule("terminalSync",Np());var t=me()((function(){e.dispatch("terminalSync/upload")}),qp);e.watch((function(e){return e.terminal&&e.terminal.session&&e.terminal.session.status}),(function(n){wd(n)?e.dispatch("terminalSync/start").then((function(){gi.$on("ide.files.change",t)})).catch((function(){})):_d(n)&&(e.dispatch("terminalSync/stop"),gi.$off("ide.files.change",t))}))}}function $p(e){return function(e){if(Array.isArray(e))return Vp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Vp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Up;Up={extendStore:function(e,t){return[dp].concat($p(gon.features&&gon.features.buildServiceProxy?[Bp]:[])).forEach((function(n){return n(t)(e)})),e}},document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("ide");e&&(Object(mf.a)(),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;var n=t.rootComponent,r=void 0===n?rf:n,i=t.extendStore,o=void 0===i?w.a:i,a=hf(Zc);new _.default({el:e,store:o(Zc,e),router:a,created:function(){var t;this.setEmptyStateSvgs({emptyStateSvgPath:e.dataset.emptyStateSvgPath,noChangesStateSvgPath:e.dataset.noChangesStateSvgPath,committedStateSvgPath:e.dataset.committedStateSvgPath,pipelinesEmptyStateSvgPath:e.dataset.pipelinesEmptyStateSvgPath,promotionSvgPath:e.dataset.promotionSvgPath}),this.setLinks({ciHelpPagePath:e.dataset.ciHelpPagePath,webIDEHelpPagePath:e.dataset.webIdeHelpPagePath}),this.setInitialData({clientsidePreviewEnabled:Object(_a.H)(e.dataset.clientsidePreviewEnabled),renderWhitespaceInCode:Object(_a.H)(e.dataset.renderWhitespaceInCode),editorTheme:(null===(t=window.gon)||void 0===t?void 0:t.user_color_scheme)||Ar.a,codesandboxBundlerUrl:e.dataset.codesandboxBundlerUrl})},methods:vf({},Object(j.c)(["setEmptyStateSvgs","setLinks","setInitialData"])),render:function(e){return e(r)}})}(e,Up))}))},xzXO:function(e,t,n){
/*!

 diff v3.5.0

Software License Agreement (BSD License)

Copyright (c) 2009-2015, Kevin Decker <kpdecker@gmail.com>

All rights reserved.

Redistribution and use of this software in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above
  copyright notice, this list of conditions and the
  following disclaimer.

* Redistributions in binary form must reproduce the above
  copyright notice, this list of conditions and the
  following disclaimer in the documentation and/or other
  materials provided with the distribution.

* Neither the name of Kevin Decker nor the names of its
  contributors may be used to endorse or promote products
  derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER
IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
@license
*/
var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";t.__esModule=!0,t.canonicalize=t.convertChangesToXML=t.convertChangesToDMP=t.merge=t.parsePatch=t.applyPatches=t.applyPatch=t.createPatch=t.createTwoFilesPatch=t.structuredPatch=t.diffArrays=t.diffJson=t.diffCss=t.diffSentences=t.diffTrimmedLines=t.diffLines=t.diffWordsWithSpace=t.diffWords=t.diffChars=t.Diff=void 0;var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r},a=n(2),s=n(3),c=n(5),l=n(6),u=n(7),d=n(8),f=n(9),p=n(10),h=n(11),m=n(13),g=n(14),v=n(16),b=n(17);t.Diff=o.default,t.diffChars=a.diffChars,t.diffWords=s.diffWords,t.diffWordsWithSpace=s.diffWordsWithSpace,t.diffLines=c.diffLines,t.diffTrimmedLines=c.diffTrimmedLines,t.diffSentences=l.diffSentences,t.diffCss=u.diffCss,t.diffJson=d.diffJson,t.diffArrays=f.diffArrays,t.structuredPatch=g.structuredPatch,t.createTwoFilesPatch=g.createTwoFilesPatch,t.createPatch=g.createPatch,t.applyPatch=p.applyPatch,t.applyPatches=p.applyPatches,t.parsePatch=h.parsePatch,t.merge=m.merge,t.convertChangesToDMP=v.convertChangesToDMP,t.convertChangesToXML=b.convertChangesToXML,t.canonicalize=d.canonicalize},function(e,t){"use strict";function n(){}function r(e,t,n,r,i){for(var o=0,a=t.length,s=0,c=0;o<a;o++){var l=t[o];if(l.removed){if(l.value=e.join(r.slice(c,c+l.count)),c+=l.count,o&&t[o-1].added){var u=t[o-1];t[o-1]=t[o],t[o]=u}}else{if(!l.added&&i){var d=n.slice(s,s+l.count);d=d.map((function(e,t){var n=r[c+t];return n.length>e.length?n:e})),l.value=e.join(d)}else l.value=e.join(n.slice(s,s+l.count));s+=l.count,l.added||(c+=l.count)}}var f=t[a-1];return a>1&&"string"==typeof f.value&&(f.added||f.removed)&&e.equals("",f.value)&&(t[a-2].value+=f.value,t.pop()),t}function i(e){return{newPos:e.newPos,components:e.components.slice(0)}}t.__esModule=!0,t.default=n,n.prototype={diff:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.callback;"function"==typeof n&&(o=n,n={}),this.options=n;var a=this;function s(e){return o?(setTimeout((function(){o(void 0,e)}),0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var c=(t=this.removeEmpty(this.tokenize(t))).length,l=e.length,u=1,d=c+l,f=[{newPos:-1,components:[]}],p=this.extractCommon(f[0],t,e,0);if(f[0].newPos+1>=c&&p+1>=l)return s([{value:this.join(t),count:t.length}]);function h(){for(var n=-1*u;n<=u;n+=2){var o=void 0,d=f[n-1],p=f[n+1],h=(p?p.newPos:0)-n;d&&(f[n-1]=void 0);var m=d&&d.newPos+1<c,g=p&&0<=h&&h<l;if(m||g){if(!m||g&&d.newPos<p.newPos?(o=i(p),a.pushComponent(o.components,void 0,!0)):((o=d).newPos++,a.pushComponent(o.components,!0,void 0)),h=a.extractCommon(o,t,e,n),o.newPos+1>=c&&h+1>=l)return s(r(a,o.components,t,e,a.useLongestToken));f[n]=o}else f[n]=void 0}u++}if(o)!function e(){setTimeout((function(){if(u>d)return o();h()||e()}),0)}();else for(;u<=d;){var m=h();if(m)return m}},pushComponent:function(e,t,n){var r=e[e.length-1];r&&r.added===t&&r.removed===n?e[e.length-1]={count:r.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,r){for(var i=t.length,o=n.length,a=e.newPos,s=a-r,c=0;a+1<i&&s+1<o&&this.equals(t[a+1],n[s+1]);)a++,s++,c++;return c&&e.components.push({count:c}),e.newPos=a,s},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}}},function(e,t,n){"use strict";t.__esModule=!0,t.characterDiff=void 0,t.diffChars=function(e,t,n){return a.diff(e,t,n)};var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r},a=t.characterDiff=new o.default},function(e,t,n){"use strict";t.__esModule=!0,t.wordDiff=void 0,t.diffWords=function(e,t,n){return n=(0,a.generateOptions)(n,{ignoreWhitespace:!0}),l.diff(e,t,n)},t.diffWordsWithSpace=function(e,t,n){return l.diff(e,t,n)};var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r},a=n(4),s=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,c=/\S/,l=t.wordDiff=new o.default;l.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!c.test(e)&&!c.test(t)},l.tokenize=function(e){for(var t=e.split(/(\s+|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&s.test(t[n])&&s.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t}},function(e,t){"use strict";t.__esModule=!0,t.generateOptions=function(e,t){if("function"==typeof e)t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}},function(e,t,n){"use strict";t.__esModule=!0,t.lineDiff=void 0,t.diffLines=function(e,t,n){return s.diff(e,t,n)},t.diffTrimmedLines=function(e,t,n){var r=(0,a.generateOptions)(n,{ignoreWhitespace:!0});return s.diff(e,t,r)};var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r},a=n(4),s=t.lineDiff=new o.default;s.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var i=n[r];r%2&&!this.options.newlineIsToken?t[t.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),t.push(i))}return t}},function(e,t,n){"use strict";t.__esModule=!0,t.sentenceDiff=void 0,t.diffSentences=function(e,t,n){return a.diff(e,t,n)};var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r},a=t.sentenceDiff=new o.default;a.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)}},function(e,t,n){"use strict";t.__esModule=!0,t.cssDiff=void 0,t.diffCss=function(e,t,n){return a.diff(e,t,n)};var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r},a=t.cssDiff=new o.default;a.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)}},function(e,t,n){"use strict";t.__esModule=!0,t.jsonDiff=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.diffJson=function(e,t,n){return l.diff(e,t,n)},t.canonicalize=u;var i,o=n(1),a=(i=o)&&i.__esModule?i:{default:i},s=n(5),c=Object.prototype.toString,l=t.jsonDiff=new a.default;function u(e,t,n,i,o){t=t||[],n=n||[],i&&(e=i(o,e));var a=void 0;for(a=0;a<t.length;a+=1)if(t[a]===e)return n[a];var s=void 0;if("[object Array]"===c.call(e)){for(t.push(e),s=new Array(e.length),n.push(s),a=0;a<e.length;a+=1)s[a]=u(e[a],t,n,i,o);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),"object"===(void 0===e?"undefined":r(e))&&null!==e){t.push(e),s={},n.push(s);var l=[],d=void 0;for(d in e)e.hasOwnProperty(d)&&l.push(d);for(l.sort(),a=0;a<l.length;a+=1)s[d=l[a]]=u(e[d],t,n,i,d);t.pop(),n.pop()}else s=e;return s}l.useLongestToken=!0,l.tokenize=s.lineDiff.tokenize,l.castInput=function(e){var t=this.options,n=t.undefinedReplacement,r=t.stringifyReplacer,i=void 0===r?function(e,t){return void 0===t?n:t}:r;return"string"==typeof e?e:JSON.stringify(u(e,null,null,i),i,"  ")},l.equals=function(e,t){return a.default.prototype.equals.call(l,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))}},function(e,t,n){"use strict";t.__esModule=!0,t.arrayDiff=void 0,t.diffArrays=function(e,t,n){return a.diff(e,t,n)};var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r},a=t.arrayDiff=new o.default;a.tokenize=function(e){return e.slice()},a.join=a.removeEmpty=function(e){return e}},function(e,t,n){"use strict";t.__esModule=!0,t.applyPatch=s,t.applyPatches=function(e,t){"string"==typeof e&&(e=(0,i.parsePatch)(e));var n=0;!function r(){var i=e[n++];if(!i)return t.complete();t.loadFile(i,(function(e,n){if(e)return t.complete(e);var o=s(n,i,t);t.patched(i,o,(function(e){if(e)return t.complete(e);r()}))}))}()};var r,i=n(11),o=n(12),a=(r=o)&&r.__esModule?r:{default:r};function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t&&(t=(0,i.parsePatch)(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}var r=e.split(/\r\n|[\n\v\f\r\x85]/),o=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],s=t.hunks,c=n.compareLine||function(e,t,n,r){return t===r},l=0,u=n.fuzzFactor||0,d=0,f=0,p=void 0,h=void 0;function m(e,t){for(var n=0;n<e.lines.length;n++){var i=e.lines[n],o=i.length>0?i[0]:" ",a=i.length>0?i.substr(1):i;if(" "===o||"-"===o){if(!c(t+1,r[t],o,a)&&++l>u)return!1;t++}}return!0}for(var g=0;g<s.length;g++){for(var v=s[g],b=r.length-v.oldLines,y=0,O=f+v.oldStart-1,w=(0,a.default)(O,d,b);void 0!==y;y=w())if(m(v,O+y)){v.offset=f+=y;break}if(void 0===y)return!1;d=v.offset+v.oldStart+v.oldLines}for(var _=0,j=0;j<s.length;j++){var E=s[j],P=E.oldStart+E.offset+_-1;_+=E.newLines-E.oldLines,P<0&&(P=0);for(var S=0;S<E.lines.length;S++){var C=E.lines[S],T=C.length>0?C[0]:" ",I=C.length>0?C.substr(1):C,k=E.linedelimiters[S];if(" "===T)P++;else if("-"===T)r.splice(P,1),o.splice(P,1);else if("+"===T)r.splice(P,0,I),o.splice(P,0,k),P++;else if("\\"===T){var x=E.lines[S-1]?E.lines[S-1][0]:null;"+"===x?p=!0:"-"===x&&(h=!0)}}}if(p)for(;!r[r.length-1];)r.pop(),o.pop();else h&&(r.push(""),o.push("\n"));for(var R=0;R<r.length-1;R++)r[R]=r[R]+o[R];return r.join("")}},function(e,t){"use strict";t.__esModule=!0,t.parsePatch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.split(/\r\n|[\n\v\f\r\x85]/),r=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=[],o=0;function a(){var e={};for(i.push(e);o<n.length;){var r=n[o];if(/^(\-\-\-|\+\+\+|@@)\s/.test(r))break;var a=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(r);a&&(e.index=a[1]),o++}for(s(e),s(e),e.hunks=[];o<n.length;){var l=n[o];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(l))break;if(/^@@/.test(l))e.hunks.push(c());else{if(l&&t.strict)throw new Error("Unknown line "+(o+1)+" "+JSON.stringify(l));o++}}}function s(e){var t=/^(---|\+\+\+)\s+(.*)$/.exec(n[o]);if(t){var r="---"===t[1]?"old":"new",i=t[2].split("\t",2),a=i[0].replace(/\\\\/g,"\\");/^".*"$/.test(a)&&(a=a.substr(1,a.length-2)),e[r+"FileName"]=a,e[r+"Header"]=(i[1]||"").trim(),o++}}function c(){for(var e=o,i=n[o++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),a={oldStart:+i[1],oldLines:+i[2]||1,newStart:+i[3],newLines:+i[4]||1,lines:[],linedelimiters:[]},s=0,c=0;o<n.length&&!(0===n[o].indexOf("--- ")&&o+2<n.length&&0===n[o+1].indexOf("+++ ")&&0===n[o+2].indexOf("@@"));o++){var l=0==n[o].length&&o!=n.length-1?" ":n[o][0];if("+"!==l&&"-"!==l&&" "!==l&&"\\"!==l)break;a.lines.push(n[o]),a.linedelimiters.push(r[o]||"\n"),"+"===l?s++:"-"===l?c++:" "===l&&(s++,c++)}if(s||1!==a.newLines||(a.newLines=0),c||1!==a.oldLines||(a.oldLines=0),t.strict){if(s!==a.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(c!==a.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1))}return a}for(;o<n.length;)a();return i}},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,n){var r=!0,i=!1,o=!1,a=1;return function s(){if(r&&!o){if(i?a++:r=!1,e+a<=n)return a;o=!0}if(!i)return o||(r=!0),t<=e-a?-a++:(i=!0,s())}}},function(e,t,n){"use strict";t.__esModule=!0,t.calcLineCount=s,t.merge=function(e,t,n){e=c(e,n),t=c(t,n);var r={};(e.index||t.index)&&(r.index=e.index||t.index),(e.newFileName||t.newFileName)&&(l(e)?l(t)?(r.oldFileName=u(r,e.oldFileName,t.oldFileName),r.newFileName=u(r,e.newFileName,t.newFileName),r.oldHeader=u(r,e.oldHeader,t.oldHeader),r.newHeader=u(r,e.newHeader,t.newHeader)):(r.oldFileName=e.oldFileName,r.newFileName=e.newFileName,r.oldHeader=e.oldHeader,r.newHeader=e.newHeader):(r.oldFileName=t.oldFileName||e.oldFileName,r.newFileName=t.newFileName||e.newFileName,r.oldHeader=t.oldHeader||e.oldHeader,r.newHeader=t.newHeader||e.newHeader)),r.hunks=[];for(var i=0,o=0,a=0,s=0;i<e.hunks.length||o<t.hunks.length;){var h=e.hunks[i]||{oldStart:1/0},m=t.hunks[o]||{oldStart:1/0};if(d(h,m))r.hunks.push(f(h,a)),i++,s+=h.newLines-h.oldLines;else if(d(m,h))r.hunks.push(f(m,s)),o++,a+=m.newLines-m.oldLines;else{var g={oldStart:Math.min(h.oldStart,m.oldStart),oldLines:0,newStart:Math.min(h.newStart+a,m.oldStart+s),newLines:0,lines:[]};p(g,h.oldStart,h.lines,m.oldStart,m.lines),o++,i++,r.hunks.push(g)}}return r};var r=n(14),i=n(11),o=n(15);function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e){var t=function e(t){var n=0,r=0;return t.forEach((function(t){if("string"!=typeof t){var i=e(t.mine),o=e(t.theirs);void 0!==n&&(i.oldLines===o.oldLines?n+=i.oldLines:n=void 0),void 0!==r&&(i.newLines===o.newLines?r+=i.newLines:r=void 0)}else void 0===r||"+"!==t[0]&&" "!==t[0]||r++,void 0===n||"-"!==t[0]&&" "!==t[0]||n++})),{oldLines:n,newLines:r}}(e.lines),n=t.oldLines,r=t.newLines;void 0!==n?e.oldLines=n:delete e.oldLines,void 0!==r?e.newLines=r:delete e.newLines}function c(e,t){if("string"==typeof e){if(/^@@/m.test(e)||/^Index:/m.test(e))return(0,i.parsePatch)(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return(0,r.structuredPatch)(void 0,void 0,t,e)}return e}function l(e){return e.newFileName&&e.newFileName!==e.oldFileName}function u(e,t,n){return t===n?t:(e.conflict=!0,{mine:t,theirs:n})}function d(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function f(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function p(e,t,n,r,i){var o={offset:t,lines:n,index:0},c={offset:r,lines:i,index:0};for(v(e,o,c),v(e,c,o);o.index<o.lines.length&&c.index<c.lines.length;){var l=o.lines[o.index],u=c.lines[c.index];if("-"!==l[0]&&"+"!==l[0]||"-"!==u[0]&&"+"!==u[0])if("+"===l[0]&&" "===u[0]){var d;(d=e.lines).push.apply(d,a(y(o)))}else if("+"===u[0]&&" "===l[0]){var f;(f=e.lines).push.apply(f,a(y(c)))}else"-"===l[0]&&" "===u[0]?m(e,o,c):"-"===u[0]&&" "===l[0]?m(e,c,o,!0):l===u?(e.lines.push(l),o.index++,c.index++):g(e,y(o),y(c));else h(e,o,c)}b(e,o),b(e,c),s(e)}function h(e,t,n){var r=y(t),i=y(n);if(O(r)&&O(i)){var s,c;if((0,o.arrayStartsWith)(r,i)&&w(n,r,r.length-i.length))return void(s=e.lines).push.apply(s,a(r));if((0,o.arrayStartsWith)(i,r)&&w(t,i,i.length-r.length))return void(c=e.lines).push.apply(c,a(i))}else if((0,o.arrayEqual)(r,i)){var l;return void(l=e.lines).push.apply(l,a(r))}g(e,r,i)}function m(e,t,n,r){var i,o=y(t),s=function(e,t){for(var n=[],r=[],i=0,o=!1,a=!1;i<t.length&&e.index<e.lines.length;){var s=e.lines[e.index],c=t[i];if("+"===c[0])break;if(o=o||" "!==s[0],r.push(c),i++,"+"===s[0])for(a=!0;"+"===s[0];)n.push(s),s=e.lines[++e.index];c.substr(1)===s.substr(1)?(n.push(s),e.index++):a=!0}if("+"===(t[i]||"")[0]&&o&&(a=!0),a)return n;for(;i<t.length;)r.push(t[i++]);return{merged:r,changes:n}}(n,o);s.merged?(i=e.lines).push.apply(i,a(s.merged)):g(e,r?s:o,r?o:s)}function g(e,t,n){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:n})}function v(e,t,n){for(;t.offset<n.offset&&t.index<t.lines.length;){var r=t.lines[t.index++];e.lines.push(r),t.offset++}}function b(e,t){for(;t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n)}}function y(e){for(var t=[],n=e.lines[e.index][0];e.index<e.lines.length;){var r=e.lines[e.index];if("-"===n&&"+"===r[0]&&(n="+"),n!==r[0])break;t.push(r),e.index++}return t}function O(e){return e.reduce((function(e,t){return e&&"-"===t[0]}),!0)}function w(e,t,n){for(var r=0;r<n;r++){var i=t[t.length-n+r].substr(1);if(e.lines[e.index+r]!==" "+i)return!1}return e.index+=n,!0}},function(e,t,n){"use strict";t.__esModule=!0,t.structuredPatch=o,t.createTwoFilesPatch=a,t.createPatch=function(e,t,n,r,i,o){return a(e,e,t,n,r,i,o)};var r=n(5);function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n,o,a,s,c){c||(c={}),void 0===c.context&&(c.context=4);var l=(0,r.diffLines)(n,o,c);function u(e){return e.map((function(e){return" "+e}))}l.push({value:"",lines:[]});for(var d=[],f=0,p=0,h=[],m=1,g=1,v=function(e){var t=l[e],r=t.lines||t.value.replace(/\n$/,"").split("\n");if(t.lines=r,t.added||t.removed){var a;if(!f){var s=l[e-1];f=m,p=g,s&&(h=c.context>0?u(s.lines.slice(-c.context)):[],f-=h.length,p-=h.length)}(a=h).push.apply(a,i(r.map((function(e){return(t.added?"+":"-")+e})))),t.added?g+=r.length:m+=r.length}else{if(f)if(r.length<=2*c.context&&e<l.length-2){var v;(v=h).push.apply(v,i(u(r)))}else{var b,y=Math.min(r.length,c.context);(b=h).push.apply(b,i(u(r.slice(0,y))));var O={oldStart:f,oldLines:m-f+y,newStart:p,newLines:g-p+y,lines:h};if(e>=l.length-2&&r.length<=c.context){var w=/\n$/.test(n),_=/\n$/.test(o);0!=r.length||w?w&&_||h.push("\\ No newline at end of file"):h.splice(O.oldLines,0,"\\ No newline at end of file")}d.push(O),f=0,p=0,h=[]}m+=r.length,g+=r.length}},b=0;b<l.length;b++)v(b);return{oldFileName:e,newFileName:t,oldHeader:a,newHeader:s,hunks:d}}function a(e,t,n,r,i,a,s){var c=o(e,t,n,r,i,a,s),l=[];e==t&&l.push("Index: "+e),l.push("==================================================================="),l.push("--- "+c.oldFileName+(void 0===c.oldHeader?"":"\t"+c.oldHeader)),l.push("+++ "+c.newFileName+(void 0===c.newHeader?"":"\t"+c.newHeader));for(var u=0;u<c.hunks.length;u++){var d=c.hunks[u];l.push("@@ -"+d.oldStart+","+d.oldLines+" +"+d.newStart+","+d.newLines+" @@"),l.push.apply(l,d.lines)}return l.join("\n")+"\n"}},function(e,t){"use strict";function n(e,t){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}t.__esModule=!0,t.arrayEqual=function(e,t){return e.length===t.length&&n(e,t)},t.arrayStartsWith=n},function(e,t){"use strict";t.__esModule=!0,t.convertChangesToDMP=function(e){for(var t=[],n=void 0,r=void 0,i=0;i<e.length;i++)n=e[i],r=n.added?1:n.removed?-1:0,t.push([r,n.value]);return t}},function(e,t){"use strict";t.__esModule=!0,t.convertChangesToXML=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r.added?t.push("<ins>"):r.removed&&t.push("<del>"),t.push((i=r.value,void 0,i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"))),r.added?t.push("</ins>"):r.removed&&t.push("</del>")}var i;return t.join("")}}])},e.exports=r()},z4D1:function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n.highlighted[data-v-06747bc5] {\n  color: #1f78d1;\n  font-weight: 600;\n}\n",""])}},[[67,1,0,25,22,50,51]]]);
//# sourceMappingURL=pages.ide.bda8ba5e.chunk.js.map