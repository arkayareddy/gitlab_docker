(this.webpackJsonp=this.webpackJsonp||[]).push([[259],{164:function(t,n,e){e("HVBj"),e("gjpc"),t.exports=e("JURt")},JURt:function(t,n,e){"use strict";e.r(n);var a=e("3a3M"),i=e.n(a),r=e("Qw3U"),c=e("nNFV");document.addEventListener("DOMContentLoaded",(function(){new r.a(i()(".js-new-pipeline-form")),Object(c.a)({container:i()(".js-ci-variable-list-section"),formField:"variables_attributes"})}))},Qw3U:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));e("9U97"),e("t3Gg"),e("S6uq"),e("gyUR"),e("Z5ek"),e("yaFd"),e("8Qi2"),e("IdsT"),e("l9AF");var a=e("3a3M"),i=e.n(a),r=e("eskl");function c(t,n){for(var e=0;e<n.length;e++){var a=n[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var o=function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.validate=this.validate.bind(this),this.branchNameError=n.find(".js-branch-name-error"),this.name=n.find(".js-branch-name"),this.ref=n.find("#ref"),new r.a(i()(".js-branch-select"),e),this.setupRestrictions(),this.addBinding(),this.init()}var n,e,a;return n=t,(e=[{key:"addBinding",value:function(){return this.name.on("blur",this.validate)}},{key:"init",value:function(){if(this.name.length&&this.name.val().length>0)return this.name.trigger("blur")}},{key:"setupRestrictions",value:function(){return this.restrictions=[{pattern:/^(\/|\.)/g,prefix:"can't start with",conjunction:"or"},{pattern:/(\s|~|\^|:|\?|\*|\[|\\|\.\.|@\{|\/{2,}){1}/g,prefix:"can't contain",conjunction:", "},{pattern:/(\/|\.|\.lock)$/g,prefix:"can't end in",conjunction:"or"},{pattern:/^@+$/g,prefix:"can't be",conjunction:"or"}]}},{key:"validate",value:function(){var t=this,n=[].indexOf;this.branchNameError.empty();var e=function(t,e){return-1===n.call(t,e)&&t.push(e),t},a=this.restrictions.reduce((function(n,a){var i=t.name.val().match(a.pattern);return i?n.concat(function(t,n){var e=t.map((function(t){switch(!1){case!/\s/.test(t):return"spaces";case!/\/{2,}/g.test(t):return"consecutive slashes";default:return"'".concat(t,"'")}}));return"".concat(n.prefix," ").concat(e.join(n.conjunction))}(i.reduce(e,[]),a)):n}),[]);if(a.length>0){var r=i()("<span/>").text(a.join(", "));return this.branchNameError.append(r)}}}])&&c(n.prototype,e),a&&c(n,a),t}()},eskl:function(t,n,e){"use strict";e("+xeR");var a=e("3a3M"),i=e.n(a);e("X42B");n.a=function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);var a=e||JSON.parse(document.getElementById("availableRefs").innerHTML);n.glDropdown({data:a,filterable:!0,filterByText:!0,remote:!1,fieldName:n.data("fieldName"),filterInput:'input[type="search"]',selectable:!0,isSelectable:function(t,n){return!n.hasClass("is-active")},text:function(t){return t},id:function(t){return t},toggleLabel:function(t){return t}});var r=n.closest(".dropdown"),c=i()('input[name="'.concat(n.data("fieldName"),'"]'),r),o=i()('input[type="search"]',r);o.on("keyup",(function(t){if(13===(t.keyCode||t.which)){var e=o.val().trim();""!==e&&(c.val(e),i()(".dropdown-toggle-text",n).text(e),r.removeClass("open"))}}))}}},[[164,1,0,36]]]);
//# sourceMappingURL=pages.projects.pipelines.new.125a6990.chunk.js.map