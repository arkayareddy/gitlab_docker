(this.webpackJsonp=this.webpackJsonp||[]).push([[43],{"04nr":function(e,t,n){"use strict";n.d(t,"e",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return S})),n.d(t,"o",(function(){return E})),n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return C})),n.d(t,"p",(function(){return T})),n.d(t,"n",(function(){return N})),n.d(t,"m",(function(){return x})),n.d(t,"g",(function(){return F})),n.d(t,"l",(function(){return B})),n.d(t,"f",(function(){return U})),n.d(t,"d",(function(){return V})),n.d(t,"k",(function(){return q})),n.d(t,"q",(function(){return M})),n.d(t,"c",(function(){return G}));n("va8A"),n("z4I3"),n("dj/k"),n("9U97"),n("kO4A"),n("t3Gg"),n("8pn6"),n("+kFb"),n("OZM5"),n("S6uq"),n("x/6R"),n("gyUR"),n("Z5ek"),n("yaFd"),n("4ql4"),n("y6Fo"),n("jnfO"),n("8Qi2"),n("EWC9"),n("zCcL"),n("zpLX"),n("BD5p"),n("MRnW"),n("N0ZT"),n("IdsT"),n("GzNv"),n("tbvx"),n("S26F"),n("pBsb"),n("Id6h"),n("orcL");var i,r=n("VNnR"),o=n.n(r),s=n("Ur9C"),a=n.n(s),c=(n("0AwG"),n("BAGK")),u=n("pIt4");function d(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"file_hash";return e.find((function(e){return e[n]===t}))}function v(e){var t=e.commit,n=e.note,i=e.noteableType,r=e.noteableData,o=e.diffFile,s=e.noteTargetLine,a=e.diffViewType,c=e.linePosition,d=e.positionType,l=e.lineRange,f=JSON.stringify({base_sha:o.diff_refs.base_sha,start_sha:o.diff_refs.start_sha,head_sha:o.diff_refs.head_sha,old_path:o.old_path,new_path:o.new_path,position_type:d||u.R,old_line:s?s.old_line:null,new_line:s?s.new_line:null,x:e.x,y:e.y,width:e.width,height:e.height,line_range:l});return{view:a,line_type:c===u.u?u.F:u.I,merge_request_diff_head_sha:o.diff_refs.head_sha,in_reply_to_discussion_id:"",note_project_id:"",target_type:r.targetType,target_id:r.id,return_discussion:!0,note:{note:n,position:f,noteable_type:i,noteable_id:r.id,commit_id:t&&t.id,type:o.diff_refs.start_sha&&o.diff_refs.head_sha?u.h:u.p,line_code:s?s.line_code:null}}}function b(e){var t=v(e);return{endpoint:e.noteableData.create_note_path,data:t}}var _=function(e,t){var n=t.oldLineNumber,i=t.newLineNumber;return e.findIndex((function(e){return e.old_line===n&&e.new_line===i}))},y=function(e,t){var n=t.oldLineNumber,i=t.newLineNumber;return e.findIndex((function(e){return e.left&&e.right&&e.left.old_line===n&&e.right.new_line===i}))},O=(m(i={},u.n,_),m(i,u.L,y),i),S=function(e,t,n){var i,r=O[e],o=(m(i={},u.n,t.highlighted_diff_lines),m(i,u.L,t.parallel_diff_lines),i);return r&&r(o[e],n)};function E(e,t,n){var i=_(e.highlighted_diff_lines,t),r=y(e.parallel_diff_lines,t),o=n?1:-1;i>-1&&e.highlighted_diff_lines.splice(i+o,1),r>-1&&e.parallel_diff_lines.splice(r+o,1)}function D(e,t,n,i,r){var o=t.oldLineNumber,s=t.newLineNumber,a=e.length,c=-1,d=e.map((function(e,t){return e.type===u.w?c=t:Object.assign(e,{old_line:n?o+t+1:o+t-a,new_line:n?s+t+1:s+t-a}),e}));if(c>-1){var l,f=d[c];l=i?r:n?d[c-1]:d[c+1],Object.assign(f,{meta_data:{old_pos:l.old_line,new_pos:l.new_line}})}return d}function I(e){var t=e.parallelLines,n=e.contextLines,i=e.lineNumbers,r=e.isExpandDown,o=n.map((function(e){return{left:e,right:e,line_code:e.line_code}})),s=r?1:0;if(!r&&e.bottom)t.push.apply(t,p(o));else{var a=y(t,i);t.splice.apply(t,[a+s,0].concat(p(o)))}}function w(e){var t=e.inlineLines,n=e.contextLines,i=e.lineNumbers,r=e.isExpandDown,o=r?1:0;if(!r&&e.bottom)t.push.apply(t,p(n));else{var s=_(t,i);t.splice.apply(t,[s+o,0].concat(p(n)))}}function C(e){var t,n=e.diffViewType,i=(m(t={},u.n,w),m(t,u.L,I),t)[n];i&&i(e)}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};delete e.text;var t=f({},e);if(e.rich_text){var n=t.rich_text.charAt(0);" "!==n&&"+"!==n&&"-"!==n||(t.rich_text=e.rich_text.substring(1))}return t}function j(e,t){var n=e.left,i=e.right;return n&&n.line_code?n.line_code:i&&i.line_code?i.line_code:t}function k(e){var t=!e.highlighted_diff_lines,n=!e.parallel_diff_lines;return Object.assign(e,{highlighted_diff_lines:t?[]:e.highlighted_diff_lines,parallel_diff_lines:n?[]:e.parallel_diff_lines}),e}function A(e){var t;e.alreadyPrepared||Object.assign(e,{rich_text:(t=e.rich_text,t?t.replace(/^[+ -]/,""):void 0),discussionsExpanded:!0,discussions:[],hasForm:!1,text:void 0,alreadyPrepared:!0})}function N(e){var t=e.line,n=e.diffViewType,i=e.diffFile,r=e.index,o=(void 0===r?0:r)+1,s=f(f({},t),{},{line_code:"".concat(i.file_hash,"_").concat(o,"_").concat(o),new_line:o,old_line:o});return A(s),n===u.L?{left:f({},s),right:f({},s),line_code:s.line_code}:s}function L(e){var t=e.highlighted_diff_lines,n=e.parallel_diff_lines,i=0;return t.forEach(A),n.forEach((function(e,t){Object.assign(e,{line_code:j(e,t)}),e.left&&(i+=1,A(e.left)),e.right&&(i+=1,A(e.right))})),Object.assign(e,{inlineLinesCount:t.length,parallelLinesCount:i}),e}function P(e){var t=e.viewer&&e.viewer.name||c.r.text,n=function(e){return Math.max(e.inlineLinesCount,e.parallelLinesCount)}(e);return Object.assign(e,{renderIt:n<u.r,collapsed:t===c.r.text&&n>u.x,isShowingFullFile:!1,isLoadingFullFile:!1,discussions:[],renderingLines:!1}),e}function R(e){var t=e.reduce((function(e,t){var n,i,r,o,s,a,c=function(e){return"".concat(e.content_sha,"-").concat(e.file_hash)}(t);return f(f({},e),{},m({},c,e[c]?(n=e[c],i=t,r=n.highlighted_diff_lines,o=n.parallel_diff_lines,s=!r.length,a=!o.length,f(f({},n),{},{highlighted_diff_lines:s?i.highlighted_diff_lines:r,parallel_diff_lines:a?i.parallel_diff_lines:o,renderIt:i.renderIt,collapsed:i.collapsed})):t))}),{});return Object.values(t)}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(e.diff_files||[]).map(k).map(L).map(P);return R([].concat(p(t),p(n)))}function F(e,t){var n=e.some((function(e){return e.highlighted_diff_lines.length>0}));return(!t||n?e.reduce((function(e,t){return t.highlighted_diff_lines.forEach((function(n){e.push({file:t,line:n})})),e}),[]):e.reduce((function(e,t){return t.parallel_diff_lines.forEach((function(n){n.left&&e.push({file:t,line:n.left}),n.right&&e.push({file:t,line:n.right})})),e}),[])).reduce((function(e,t){var n=t.file,i=t.line;return i.line_code&&(e[i.line_code]={base_sha:n.diff_refs.base_sha,head_sha:n.diff_refs.head_sha,start_sha:n.diff_refs.start_sha,new_path:n.new_path,old_path:n.old_path,old_line:i.old_line,new_line:i.new_line,line_range:null,line_code:i.line_code,position_type:"text"}),e}),{})}function B(e){var t=e.discussion,n=e.diffPosition,i=e.latestDiff,r=n.line_code,s=d(n,["line_code"]),a=(s.line_range,d(s,["line_range"]));if(t.original_position&&t.position){return[t.original_position,t.position].concat(p(t.positions||[])).map((function(e){e.line_range;return d(e,["line_range"])})).some((function(e){return o()(e,a)}))}return i&&t.active&&r===t.line_code}var U=function(e){var t=Object.keys(c.p).find((function(t){return e["".concat(t,"_file")]}));return c.p[t]||e.viewer&&e.viewer.name===c.r.mode_changed&&c.r.mode_changed||c.p.replaced},V=function(e){for(var t=e.diffLines,n=e.data,i=e.typeKey,r=e.oldLineKey,o=e.newLineKey,s=e.mapLine,c=n.length,u=[],d=0,l=t.length;d<l;d+=1){var f=t[d];"match"===a()(i)(f)?function(){var e=t[d-1],i=t[d+1],l=a()(o),f=l(e)||0,h=l(i)-1||c;u.push.apply(u,p(n.slice(f,h).map((function(t,n){return s({line:Object.assign(t,{hasForm:!1,discussions:[]}),oldLine:(a()(r)(e)||0)+n+1,newLine:(l(e)||0)+n+1})}))))}():u.push(f)}return u},q=function(e){return requestIdleCallback(e)};var M=function(e,t,n){(function(e,t){var n=e.parallel_diff_lines,i=e.highlighted_diff_lines;return[].concat(p(n.reduce((function(e,t){return t.left&&e.push(t.left),t.right&&e.push(t.right),e}),[])),p(i)).filter((function(e){return e.line_code===t}))})(e,t).forEach(n)},G=function(e){var t=!0,n=function(e){e&&e.discussions.length&&(t=t&&e.discussionsExpanded)};return e.parallel_diff_lines.forEach((function(e){n(e.left),n(e.right)})),e.highlighted_diff_lines.forEach((function(e){n(e)})),t}},"5JsC":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Author"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]}]}}],loc:{start:0,end:67}};n.loc.source={body:"fragment Author on User {\n  avatarUrl\n  name\n  username\n  webUrl\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"5q1/":function(e,t,n){"use strict";n("8Qi2");var i=n("3V9n"),r=n("7xOh"),o=Object(r.a)(),s=function(){throw new Error("".concat("recaptchaDialogCallback"," is already defined!"))};window.recaptchaDialogCallback&&s();var a=function(){return o.$emit("submit")};Object.defineProperty(window,"recaptchaDialogCallback",{get:function(){return a},set:s});var c={name:"RecaptchaModal",components:{DeprecatedModal:i.a},props:{html:{type:String,required:!1,default:""}},data:function(){return{script:{},scriptSrc:"https://www.recaptcha.net/recaptcha/api.js"}},watch:{html:function(){this.appendRecaptchaScript()}},mounted:function(){o.$on("submit",this.submit),this.html&&this.appendRecaptchaScript()},beforeDestroy:function(){o.$off("submit",this.submit)},methods:{appendRecaptchaScript:function(){this.removeRecaptchaScript();var e=document.createElement("script");e.src=this.scriptSrc,e.classList.add("js-recaptcha-script"),e.async=!0,e.defer=!0,this.script=e,document.body.appendChild(e)},removeRecaptchaScript:function(){this.script instanceof Element&&this.script.remove()},close:function(){this.removeRecaptchaScript(),this.$emit("close")},submit:function(){this.$el.querySelector("form").submit()}}},u=n("tBpV"),d=Object(u.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("deprecated-modal",{staticClass:"recaptcha-modal js-recaptcha-modal",attrs:{"hide-footer":!0,title:e.__("Please solve the reCAPTCHA"),kind:"warning"},on:{cancel:e.close}},[n("div",{attrs:{slot:"body"},slot:"body"},[n("p",[e._v(e._s(e.__("We want to be sure it is you, please confirm you are not a robot.")))]),e._v(" "),n("div",{ref:"recaptcha",domProps:{innerHTML:e._s(e.html)}})])])}),[],!1,null,null,null).exports;t.a={data:function(){return{showRecaptcha:!1,recaptchaHTML:""}},components:{recaptchaModal:d},methods:{openRecaptcha:function(){this.showRecaptcha=!0},closeRecaptcha:function(){this.showRecaptcha=!1},checkForSpam:function(e){if(!e.recaptcha_html)return e;this.recaptchaHTML=e.recaptcha_html;var t=new Error(e.error_message);throw t.name="SpamError",t.message="SpamError",t}}}},"62tv":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("jB52"),r=n("yi8e"),o=n("Ocj7");i.default.use(r.b);var s=function(){return new r.b.Store(Object(o.a)())},a=s()},"7KAB":function(e,t,n){"use strict";n.d(t,"j",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"q",(function(){return s})),n.d(t,"w",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"t",(function(){return u})),n.d(t,"u",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"o",(function(){return f})),n.d(t,"n",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"p",(function(){return m})),n.d(t,"y",(function(){return g})),n.d(t,"v",(function(){return v})),n.d(t,"e",(function(){return b})),n.d(t,"m",(function(){return _})),n.d(t,"h",(function(){return y})),n.d(t,"k",(function(){return O})),n.d(t,"s",(function(){return S})),n.d(t,"x",(function(){return E})),n.d(t,"a",(function(){return D})),n.d(t,"d",(function(){return I})),n.d(t,"r",(function(){return w})),n.d(t,"i",(function(){return C}));var i="DiscussionNote",r="DiffNote",o="discussion",s="note",a="systemNote",c="comment",u="opened",d="reopened",l="closed",f="merged",p="issue",h="epic",m="MergeRequest",g="delete",v="post",b="changed the description",_=2,y=0,O="show",S="note_",E=10,D="asc",I="desc",w={Issue:p,MergeRequest:m,Epic:h},C={ALL:"all",COMMENTS:"comments",HISTORY:"history"}},"7sEu":function(e,t,n){"use strict";n("4ql4"),n("+xU6");var i=n("FkSe"),r=n("/lV4"),o=n("Dfb/"),s=n("+kWK"),a={directives:{tooltip:o.a},components:{userAvatarImage:s.a,GlLoadingIcon:i.a},props:{loading:{type:Boolean,required:!1,default:!1},participants:{type:Array,required:!1,default:function(){return[]}},numberOfLessParticipants:{type:Number,required:!1,default:7},showParticipantLabel:{type:Boolean,required:!1,default:!0}},data:function(){return{isShowingMoreParticipants:!1}},computed:{lessParticipants:function(){return this.participants.slice(0,this.numberOfLessParticipants)},visibleParticipants:function(){return this.isShowingMoreParticipants?this.participants:this.lessParticipants},hasMoreParticipants:function(){return this.participants.length>this.numberOfLessParticipants},toggleLabel:function(){return this.isShowingMoreParticipants?Object(r.a)("- show less"):Object(r.e)(Object(r.a)("+ %{moreCount} more"),{moreCount:this.participants.length-this.numberOfLessParticipants})},participantLabel:function(){return Object(r.e)(Object(r.c)("%{count} participant","%{count} participants",this.participants.length),{count:this.loading?"":this.participantCount})},participantCount:function(){return this.participants.length}},methods:{toggleMoreParticipants:function(){this.isShowingMoreParticipants=!this.isShowingMoreParticipants},onClickCollapsedIcon:function(){this.$emit("toggleSidebar")}}},c=n("tBpV"),u=Object(c.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showParticipantLabel?n("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.participantLabel,"data-container":"body","data-placement":"left","data-boundary":"viewport"},on:{click:e.onClickCollapsedIcon}},[n("i",{staticClass:"fa fa-users",attrs:{"aria-hidden":"true"}}),e._v(" "),e.loading?n("gl-loading-icon"):n("span",{attrs:{"data-testid":"collapsed-count"}},[e._v(" "+e._s(e.participantCount)+" ")])],1):e._e(),e._v(" "),e.showParticipantLabel?n("div",{staticClass:"title hide-collapsed"},[e.loading?n("gl-loading-icon",{attrs:{inline:!0}}):e._e(),e._v("\n    "+e._s(e.participantLabel)+"\n  ")],1):e._e(),e._v(" "),n("div",{staticClass:"participants-list hide-collapsed"},e._l(e.visibleParticipants,(function(e){return n("div",{key:e.id,staticClass:"participants-author"},[n("a",{staticClass:"author-link",attrs:{href:e.web_url}},[n("user-avatar-image",{attrs:{lazy:!0,"img-src":e.avatar_url,size:24,"tooltip-text":e.name,"css-classes":"avatar-inline","tooltip-placement":"bottom"}})],1)])})),0),e._v(" "),e.hasMoreParticipants?n("div",{staticClass:"participants-more hide-collapsed"},[n("button",{staticClass:"btn-transparent btn-link",attrs:{type:"button"},on:{click:e.toggleMoreParticipants}},[e._v("\n      "+e._s(e.toggleLabel)+"\n    ")])]):e._e()])}),[],!1,null,null,null);t.a=u.exports},BAGK:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return a})),n.d(t,"k",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"x",(function(){return h})),n.d(t,"p",(function(){return m})),n.d(t,"r",(function(){return g})),n.d(t,"q",(function(){return v})),n.d(t,"s",(function(){return b})),n.d(t,"v",(function(){return _})),n.d(t,"w",(function(){return y})),n.d(t,"o",(function(){return O})),n.d(t,"t",(function(){return S})),n.d(t,"n",(function(){return E})),n.d(t,"u",(function(){return D})),n.d(t,"l",(function(){return I})),n.d(t,"m",(function(){return w}));n("LwwS");var i=750,r=50,o=72,s=340,a=340,c=60,u="editor",d="preview",l="createMergeRequestIn",f="readMergeRequest",p="pushCode",h={mr:"mrdiff",edit:"editor",diff:"diff"},m={replaced:"replaced",new:"new",deleted:"deleted",renamed:"renamed",mode_changed:"mode_changed"},g=Object.freeze({not_diffable:"not_diffable",no_preview:"no_preview",added:"added",deleted:"deleted",renamed:"renamed",mode_changed:"mode_changed",text:"text",image:"image"}),v=Object.freeze({too_large:"too_large",stored_externally:"server_side_but_stored_externally"}),b={edit:{name:"ide-tree",keepAlive:!1},review:{name:"ide-review",keepAlive:!1},commit:{name:"repo-commit-section",keepAlive:!1}},_={pipelines:{name:"pipelines-list",keepAlive:!0},jobsDetail:{name:"jobs-detail",keepAlive:!1},mergeRequestInfo:{name:"merge-request-info",keepAlive:!0},clientSidePreview:{name:"clientside",keepAlive:!1},terminal:{name:"terminal",keepAlive:!0}},y={unstaged:"unstaged",staged:"staged"},O={addition:{icon:"file-addition",class:"ide-file-addition"},modified:{icon:"file-modified",class:"ide-file-modified"},deleted:{icon:"file-deletion",class:"ide-file-deletion"}},S={rename:"rename",tree:"tree",blob:"blob"},E={move:"move",delete:"delete",create:"create",update:"update"},D="package.json",I="left",w="right"},Gn8k:function(e,t,n){"use strict";var i=n("uyVa"),r=n("3a3M"),o=n.n(r),s=n("jB52"),a=n("GiFX"),c=(n("BD5p"),n("sAvI")),u=n.n(c),d=(n("Kq6u"),n("tyhI")),l=n("jz1Q"),f=n("Or2z"),p={components:{IssuableTimeTracker:d.a},data:function(){return{mediator:new i.a,store:new l.a}},mounted:function(){this.listenForQuickActions()},methods:{listenForQuickActions:function(){var e=this;o()(document).on("ajax:success",".gfm-form",this.quickActionListened),f.a.$on("timeTrackingUpdated",(function(t){e.quickActionListened(null,t)}))},quickActionListened:function(e,t){var n;(n=void 0!==t&&t.commands_changes?Object.keys(t.commands_changes):[])&&u()(["spend_time","time_estimate"],n).length&&this.mediator.fetch()}}},h=n("tBpV"),m=Object(h.a)(p,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block"},[t("issuable-time-tracker",{attrs:{"time-estimate":this.store.timeEstimate,"time-spent":this.store.totalTimeSpent,"human-time-estimate":this.store.humanTimeEstimate,"human-time-spent":this.store.humanTotalTimeSpent,"limit-to-hours":this.store.timeTrackingLimitToHours,"root-path":this.store.rootPath}})],1)}),[],!1,null,null,null).exports,g=n("XRO8"),v=n("s4z4"),b=n("sHIo"),_=n("qvro"),y=n("GdyO"),O=(n("va8A"),n("kO4A"),n("+kFb"),n("Z5ek"),n("zCcL"),n("zpLX"),n("Id6h"),n("FxFN")),S=n("TMz1"),E=n.n(S),D=n("qDEO"),I=Object(D.createConsumer)();function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j={subscription:null,name:"AssigneesRealtime",props:{mediator:{type:Object,required:!0},issuableIid:{type:String,required:!0},projectPath:{type:String,required:!0}},apollo:{project:{query:E.a,variables:function(){return{iid:this.issuableIid,fullPath:this.projectPath}},result:function(e){this.handleFetchResult(e)}}},mounted:function(){this.initActionCablePolling()},beforeDestroy:function(){this.$options.subscription.unsubscribe()},methods:{received:function(e){"updated"===e.event&&this.$apollo.queries.project.refetch()},initActionCablePolling:function(){this.$options.subscription=I.subscriptions.create({channel:"IssuesChannel",project_path:this.projectPath,iid:this.issuableIid},{received:this.received})},handleFetchResult:function(e){var t=e.data.project.issue.assignees.nodes.map((function(e){return C(C({},e),{},{avatar_url:e.avatarUrl,id:Object(O.a)(e.id)})}));this.mediator.store.setAssigneesFromRealtime(t)}},render:function(){return this.$slots.default}},k=Object(h.a)(j,void 0,void 0,!1,null,null,null).exports,A=n("/lV4"),N={name:"SidebarAssignees",components:{AssigneeTitle:_.a,Assignees:y.a,AssigneesRealtime:k},mixins:[Object(b.a)()],props:{mediator:{type:Object,required:!0},field:{type:String,required:!0},signedIn:{type:Boolean,required:!1,default:!1},issuableType:{type:String,required:!1,default:"issue"},issuableIid:{type:String,required:!0},projectPath:{type:String,required:!0}},data:function(){return{store:new l.a,loading:!1}},computed:{shouldEnableRealtime:function(){return this.glFeatures.realTimeIssueSidebar&&"issue"===this.issuableType}},created:function(){this.removeAssignee=this.store.removeAssignee.bind(this.store),this.addAssignee=this.store.addAssignee.bind(this.store),this.removeAllAssignees=this.store.removeAllAssignees.bind(this.store),f.a.$on("sidebar.removeAssignee",this.removeAssignee),f.a.$on("sidebar.addAssignee",this.addAssignee),f.a.$on("sidebar.removeAllAssignees",this.removeAllAssignees),f.a.$on("sidebar.saveAssignees",this.saveAssignees)},beforeDestroy:function(){f.a.$off("sidebar.removeAssignee",this.removeAssignee),f.a.$off("sidebar.addAssignee",this.addAssignee),f.a.$off("sidebar.removeAllAssignees",this.removeAllAssignees),f.a.$off("sidebar.saveAssignees",this.saveAssignees)},methods:{assignSelf:function(){this.$el.parentElement.dispatchEvent(new Event("assignYourself")),this.mediator.assignYourself(),this.saveAssignees()},saveAssignees:function(){var e=this;this.loading=!0,this.mediator.saveAssignees(this.field).then((function(){e.loading=!1,Object(v.b)()})).catch((function(){return e.loading=!1,new g.a(Object(A.a)("Error occurred when saving assignees"))}))}}},L=Object(h.a)(N,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.shouldEnableRealtime?n("assignees-realtime",{attrs:{"issuable-iid":e.issuableIid,"project-path":e.projectPath,mediator:e.mediator}}):e._e(),e._v(" "),n("assignee-title",{attrs:{"number-of-assignees":e.store.assignees.length,loading:e.loading||e.store.isFetching.assignees,editable:e.store.editable,"show-toggle":!e.signedIn}}),e._v(" "),e.store.isFetching.assignees?e._e():n("assignees",{staticClass:"value",attrs:{"root-path":e.store.rootPath,users:e.store.assignees,editable:e.store.editable,"issuable-type":e.issuableType},on:{"assign-self":e.assignSelf}})],1)}),[],!1,null,null,null).exports,P=(n("8Qi2"),n("yi8e")),R=n("Dfb/"),x=n("len0"),F={props:{isConfidential:{required:!0,type:Boolean},updateConfidentialAttribute:{required:!0,type:Function}},computed:{toggleButtonText:function(){return this.isConfidential?Object(A.a)("Turn Off"):Object(A.a)("Turn On")},updateConfidentialBool:function(){return!this.isConfidential}},methods:{closeForm:function(){f.a.$emit("closeConfidentialityForm"),o()(this.$el).trigger("hidden.gl.dropdown")},submitForm:function(){this.closeForm(),this.updateConfidentialAttribute(this.updateConfidentialBool)}}},B={components:{editFormButtons:Object(h.a)(F,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sidebar-item-warning-message-actions"},[n("button",{staticClass:"btn btn-default append-right-10",attrs:{type:"button"},on:{click:e.closeForm}},[e._v("\n    "+e._s(e.__("Cancel"))+"\n  ")]),e._v(" "),n("button",{staticClass:"btn btn-close",attrs:{type:"button","data-testid":"confidential-toggle"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("\n    "+e._s(e.toggleButtonText)+"\n  ")])])}),[],!1,null,null,null).exports},props:{isConfidential:{required:!0,type:Boolean},updateConfidentialAttribute:{required:!0,type:Function}},computed:{confidentialityOnWarning:function(){return Object(A.d)("confidentiality|You are going to turn on the confidentiality. This means that only team members with <strong>at least Reporter access</strong> are able to see and leave comments on the issue.")},confidentialityOffWarning:function(){return Object(A.d)("confidentiality|You are going to turn off the confidentiality. This means <strong>everyone</strong> will be able to see and leave a comment on this issue.")}}},U=Object(h.a)(B,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown show"},[n("div",{staticClass:"dropdown-menu sidebar-item-warning-message"},[n("div",[e.isConfidential?n("p",{domProps:{innerHTML:e._s(e.confidentialityOffWarning)}}):n("p",{domProps:{innerHTML:e._s(e.confidentialityOnWarning)}}),e._v(" "),n("edit-form-buttons",{attrs:{"is-confidential":e.isConfidential,"update-confidential-attribute":e.updateConfidentialAttribute}})],1)])])}),[],!1,null,null,null).exports,V=n("5q1/");function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H={components:{EditForm:U,Icon:x.a},directives:{tooltip:R.a},mixins:[V.a],props:{isEditable:{required:!0,type:Boolean},service:{required:!0,type:Object}},data:function(){return{edit:!1}},computed:M(M({},Object(P.e)({confidential:function(e){return e.noteableData.confidential}})),{},{confidentialityIcon:function(){return this.confidential?"eye-slash":"eye"},tooltipLabel:function(){return this.confidential?Object(A.a)("Confidential"):Object(A.a)("Not confidential")}}),created:function(){f.a.$on("closeConfidentialityForm",this.toggleForm)},beforeDestroy:function(){f.a.$off("closeConfidentialityForm",this.toggleForm)},methods:{toggleForm:function(){this.edit=!this.edit},updateConfidentialAttribute:function(e){var t=this;this.service.update("issue",{confidential:e}).then((function(e){var n=e.data;return t.checkForSpam(n)})).then((function(){return window.location.reload()})).catch((function(e){"SpamError"===e.name?t.openRecaptcha():Object(g.a)(Object(A.a)("Something went wrong trying to change the confidentiality of this issue"))}))}}},W=Object(h.a)(H,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block issuable-sidebar-item confidentiality"},[n("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],ref:"collapseIcon",staticClass:"sidebar-collapsed-icon",attrs:{title:e.tooltipLabel,"data-container":"body","data-placement":"left","data-boundary":"viewport"},on:{click:e.toggleForm}},[n("icon",{attrs:{name:e.confidentialityIcon,"aria-hidden":"true"}})],1),e._v(" "),n("div",{staticClass:"title hide-collapsed"},[e._v("\n    "+e._s(e.__("Confidentiality"))+"\n    "),e.isEditable?n("a",{ref:"editLink",staticClass:"float-right confidential-edit",attrs:{href:"#","data-track-event":"click_edit_button","data-track-label":"right_sidebar","data-track-property":"confidentiality"},on:{click:function(t){return t.preventDefault(),e.toggleForm(t)}}},[e._v(e._s(e.__("Edit")))]):e._e()]),e._v(" "),n("div",{staticClass:"value sidebar-item-value hide-collapsed"},[e.edit?n("edit-form",{attrs:{"is-confidential":e.confidential,"update-confidential-attribute":e.updateConfidentialAttribute}}):e._e(),e._v(" "),e.confidential?n("div",{staticClass:"value sidebar-item-value hide-collapsed"},[n("icon",{staticClass:"sidebar-item-icon inline is-active",attrs:{size:16,name:"eye-slash","aria-hidden":"true"}}),e._v("\n      "+e._s(e.__("This issue is confidential"))+"\n    ")],1):n("div",{staticClass:"no-value sidebar-item-value"},[n("icon",{staticClass:"sidebar-item-icon inline",attrs:{size:16,name:"eye","aria-hidden":"true"}}),e._v("\n      "+e._s(e.__("Not confidential"))+"\n    ")],1)],1),e._v(" "),e.showRecaptcha?n("recaptcha-modal",{attrs:{html:e.recaptchaHTML},on:{close:e.closeRecaptcha}}):e._e()],1)}),[],!1,null,null,null).exports,$=n("G3fq"),z=n.n($);n("X42B");function K(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function J(e){return e>0}var Q=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediator=t,this.$dropdownToggle=o()(n),this.$confirmButton=o()(i),this.onConfirmClickedWrapper=this.onConfirmClicked.bind(this)}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.initDropdown(),this.addEventListeners()}},{key:"destroy",value:function(){this.removeEventListeners()}},{key:"initDropdown",value:function(){var e=this;this.$dropdownToggle.glDropdown({search:{fields:["name_with_namespace"]},showMenuAbove:!0,selectable:!0,filterable:!0,filterRemote:!0,multiSelect:!1,shouldPropagate:!1,data:function(t,n){e.mediator.fetchAutocompleteProjects(t).then(n).catch((function(){return new window.Flash(Object(A.a)("An error occurred while fetching projects autocomplete."))}))},renderRow:function(e){return'\n        <li>\n          <a href="#" class="js-move-issue-dropdown-item">\n            '.concat(z()(e.name_with_namespace),"\n          </a>\n        </li>\n      ")},clicked:function(t){var n=t.selectedObj,i=t.isMarking?n.id:0;e.mediator.setMoveToProjectId(i),e.$confirmButton.prop("disabled",!J(i))}})}},{key:"addEventListeners",value:function(){this.$confirmButton.on("click",this.onConfirmClickedWrapper)}},{key:"removeEventListeners",value:function(){this.$confirmButton.off("click",this.onConfirmClickedWrapper)}},{key:"onConfirmClicked",value:function(){var e=this;J(this.mediator.store.moveToProjectId)&&(this.$confirmButton.disable().addClass("is-loading"),this.mediator.moveIssue().catch((function(){window.Flash(Object(A.a)("An error occurred while moving the issue.")),e.$confirmButton.enable().removeClass("is-loading")})))}}])&&K(t.prototype,n),i&&K(t,i),e}(),Y=n("bJWr"),X={props:{isLocked:{required:!0,type:Boolean},updateLockedAttribute:{required:!0,type:Function}},computed:{buttonText:function(){return this.isLocked?Object(A.a)("Unlock"):Object(A.a)("Lock")},toggleLock:function(){return!this.isLocked}},methods:{closeForm:function(){f.a.$emit("closeLockForm"),o()(this.$el).trigger("hidden.gl.dropdown")},submitForm:function(){this.closeForm(),this.updateLockedAttribute(this.toggleLock)}}},Z={components:{editFormButtons:Object(h.a)(X,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sidebar-item-warning-message-actions"},[n("button",{staticClass:"btn btn-default append-right-10",attrs:{type:"button"},on:{click:e.closeForm}},[e._v("\n    "+e._s(e.__("Cancel"))+"\n  ")]),e._v(" "),n("button",{staticClass:"btn btn-close",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("\n    "+e._s(e.buttonText)+"\n  ")])])}),[],!1,null,null,null).exports},mixins:[Y.a],props:{isLocked:{required:!0,type:Boolean},updateLockedAttribute:{required:!0,type:Function}},computed:{lockWarning:function(){return Object(A.e)(Object(A.a)("Lock this %{issuableDisplayName}? Only <strong>project members</strong> will be able to comment."),{issuableDisplayName:this.issuableDisplayName})},unlockWarning:function(){return Object(A.e)(Object(A.a)("Unlock this %{issuableDisplayName}? <strong>Everyone</strong> will be able to comment."),{issuableDisplayName:this.issuableDisplayName})}}},ee={components:{editForm:Object(h.a)(Z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown show"},[n("div",{staticClass:"dropdown-menu sidebar-item-warning-message"},[e.isLocked?n("p",{staticClass:"text",domProps:{innerHTML:e._s(e.unlockWarning)}}):n("p",{staticClass:"text",domProps:{innerHTML:e._s(e.lockWarning)}}),e._v(" "),n("edit-form-buttons",{attrs:{"is-locked":e.isLocked,"update-locked-attribute":e.updateLockedAttribute}})],1)])}),[],!1,null,null,null).exports,Icon:x.a},directives:{tooltip:R.a},mixins:[Y.a],props:{isLocked:{required:!0,type:Boolean},isEditable:{required:!0,type:Boolean},mediator:{required:!0,type:Object,validator:function(e){return e.service&&e.service.update&&e.store}}},computed:{lockIcon:function(){return this.isLocked?"lock":"lock-open"},isLockDialogOpen:function(){return this.mediator.store.isLockDialogOpen},tooltipLabel:function(){return this.isLocked?Object(A.a)("Locked"):Object(A.a)("Unlocked")}},created:function(){f.a.$on("closeLockForm",this.toggleForm)},beforeDestroy:function(){f.a.$off("closeLockForm",this.toggleForm)},methods:{toggleForm:function(){this.isEditable&&(this.mediator.store.isLockDialogOpen=!this.mediator.store.isLockDialogOpen)},updateLockedAttribute:function(e){var t=this;this.mediator.service.update(this.issuableType,{discussion_locked:e}).then((function(){return window.location.reload()})).catch((function(){return Object(g.a)(Object(A.e)(Object(A.a)("Something went wrong trying to change the locked state of this %{issuableDisplayName}"),{issuableDisplayName:t.issuableDisplayName}))}))}}},te=Object(h.a)(ee,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block issuable-sidebar-item lock"},[n("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.tooltipLabel,"data-container":"body","data-placement":"left","data-boundary":"viewport"},on:{click:e.toggleForm}},[n("icon",{staticClass:"sidebar-item-icon is-active",attrs:{name:e.lockIcon}})],1),e._v(" "),n("div",{staticClass:"title hide-collapsed"},[e._v("\n    "+e._s(e.sprintf(e.__("Lock %{issuableDisplayName}"),{issuableDisplayName:e.issuableDisplayName}))+"\n    "),e.isEditable?n("a",{staticClass:"float-right lock-edit",attrs:{href:"#","data-track-event":"click_edit_button","data-track-label":"right_sidebar","data-track-property":"lock_issue"},on:{click:function(t){return t.preventDefault(),e.toggleForm(t)}}},[e._v("\n      "+e._s(e.__("Edit"))+"\n    ")]):e._e()]),e._v(" "),n("div",{staticClass:"value sidebar-item-value hide-collapsed"},[e.isLockDialogOpen?n("edit-form",{attrs:{"is-locked":e.isLocked,"update-locked-attribute":e.updateLockedAttribute,"issuable-type":e.issuableType}}):e._e(),e._v(" "),e.isLocked?n("div",{staticClass:"value sidebar-item-value"},[n("icon",{staticClass:"sidebar-item-icon inline is-active",attrs:{size:16,name:"lock"}}),e._v("\n      "+e._s(e.__("Locked"))+"\n    ")],1):n("div",{staticClass:"no-value sidebar-item-value hide-collapsed"},[n("icon",{staticClass:"sidebar-item-icon inline",attrs:{size:16,name:"lock-open"}}),e._v(" "+e._s(e.__("Unlocked"))+"\n    ")],1)],1)])}),[],!1,null,null,null).exports,ne={components:{participants:n("7sEu").a},props:{mediator:{type:Object,required:!0}},data:function(){return{store:new l.a}}},ie=Object(h.a)(ne,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block participants"},[t("participants",{attrs:{loading:this.store.isFetching.participants,participants:this.store.participants,"number-of-less-participants":7}})],1)}),[],!1,null,null,null).exports,re={components:{subscriptions:n("Pkpf").a},props:{mediator:{type:Object,required:!0}},data:function(){return{store:new l.a}},methods:{onToggleSubscription:function(){this.mediator.toggleSubscription().catch((function(){Object(g.a)(Object(A.a)("Error occurred when toggling the notification subscription"))}))}}},oe=Object(h.a)(re,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block subscriptions"},[t("subscriptions",{attrs:{loading:this.store.isFetching.subscriptions,"project-emails-disabled":this.store.projectEmailsDisabled,"subscribe-disabled-description":this.store.subscribeDisabledDescription,subscribed:this.store.subscribed},on:{toggleSubscription:this.onToggleSubscription}})],1)}),[],!1,null,null,null).exports,se=n("0KyK"),ae=n("5v28"),ce=n("62tv");function ue(){return JSON.parse(document.querySelector(".js-sidebar-options").innerHTML)}function de(e){var t;!function(e){var t=document.getElementById("js-vue-sidebar-assignees"),n=new a.b({defaultClient:Object(ae.a)()});if(t){var i=ue(),r=i.iid,o=i.fullPath;new s.default({el:t,apolloProvider:n,components:{SidebarAssignees:L},render:function(n){return n("sidebar-assignees",{props:{mediator:e,issuableIid:String(r),projectPath:o,field:t.dataset.field,signedIn:t.hasAttribute("data-signed-in"),issuableType:gl.utils.isInIssuePage()?"issue":"merge_request"}})}})}}(e),function(e){var t=document.getElementById("js-confidential-entry-point");if(t){var n=document.getElementById("js-confidential-issue-data"),i=JSON.parse(n.innerHTML);new(s.default.extend(W))({store:ce.a,propsData:{isEditable:i.is_editable,service:e.service}}).$mount(t)}}(e),function(e){var t=document.getElementById("js-lock-entry-point");if(t){var n=document.getElementById("js-lock-issue-data"),i=JSON.parse(n.innerHTML);new(s.default.extend(te))({propsData:{isLocked:i.is_locked,isEditable:i.is_editable,mediator:e,issuableType:gl.utils.isInIssuePage()?"issue":"merge_request"}}).$mount(t)}}(e),function(e){var t=document.querySelector(".js-sidebar-participants-entry-point");t&&new s.default({el:t,components:{sidebarParticipants:ie},render:function(t){return t("sidebar-participants",{props:{mediator:e}})}})}(e),function(e){var t=document.querySelector(".js-sidebar-subscriptions-entry-point");t&&new s.default({el:t,components:{sidebarSubscriptions:oe},render:function(t){return t("sidebar-subscriptions",{props:{mediator:e}})}})}(e),new Q(e,o()(".js-move-issue"),o()(".js-move-issue-confirmation-button")).init(),(t=document.getElementById("issuable-time-tracker"))&&new s.default({el:t,components:{SidebarTimeTracking:m},render:function(e){return e("sidebar-time-tracking",{})}})}s.default.use(se.a),s.default.use(a.b);t.a=function(){var e=new i.a(ue());e.fetch(),de(e)}},HCER:function(e,t,n){var i=n("4ips"),r=1/0;e.exports=function(e){return(null==e?0:e.length)?i(e,r):[]}},Kq6u:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("3a3M"),r=n.n(i);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cfg={callback:t.callback,startingInterval:t.startingInterval,maxInterval:t.maxInterval,hiddenInterval:t.hiddenInterval,incrementByFactorOf:t.incrementByFactorOf,lazyStart:t.lazyStart,immediateExecution:t.immediateExecution},this.state={intervalId:null,currentInterval:this.cfg.startingInterval,pagevisibile:!0},this.initInterval()}var t,n,i;return t=e,(n=[{key:"start",value:function(){var e=this,t=this.cfg,n=this.state;t.immediateExecution&&!this.isLoading&&(t.immediateExecution=!1,this.triggerCallback()),n.intervalId=window.setInterval((function(){e.isLoading||(e.triggerCallback(),e.getCurrentInterval()!==t.maxInterval&&(e.incrementInterval(),e.resume()))}),this.getCurrentInterval())}},{key:"cancel",value:function(){this.setCurrentInterval(this.cfg.startingInterval),this.stopTimer()}},{key:"onVisibilityHidden",value:function(){this.cfg.hiddenInterval?(this.setCurrentInterval(this.cfg.hiddenInterval),this.resume()):this.cancel()}},{key:"resume",value:function(){this.stopTimer(),this.start()}},{key:"onVisibilityVisible",value:function(){this.cancel(),this.start()}},{key:"destroy",value:function(){document.removeEventListener("visibilitychange",this.onVisibilityChange),window.removeEventListener("blur",this.onWindowVisibilityChange),window.removeEventListener("focus",this.onWindowVisibilityChange),this.cancel(),r()(document).off("visibilitychange").off("beforeunload")}},{key:"initInterval",value:function(){this.cfg.lazyStart||this.start(),this.initVisibilityChangeHandling(),this.initPageUnloadHandling()}},{key:"triggerCallback",value:function(){var e=this;this.isLoading=!0,this.cfg.callback().then((function(){e.isLoading=!1})).catch((function(t){throw e.isLoading=!1,t}))}},{key:"onWindowVisibilityChange",value:function(e){this.state.pagevisibile="focus"===e.type,this.handleVisibilityChange()}},{key:"onVisibilityChange",value:function(e){this.state.pagevisibile="visible"===e.target.visibilityState,this.handleVisibilityChange()}},{key:"initVisibilityChangeHandling",value:function(){document.addEventListener("visibilitychange",this.onVisibilityChange.bind(this)),window.addEventListener("blur",this.onWindowVisibilityChange.bind(this)),window.addEventListener("focus",this.onWindowVisibilityChange.bind(this))}},{key:"initPageUnloadHandling",value:function(){var e=this;r()(document).on("beforeunload",(function(){return e.cancel()}))}},{key:"handleVisibilityChange",value:function(){(this.isPageVisible()?this.onVisibilityVisible:this.onVisibilityHidden).apply(this)}},{key:"getCurrentInterval",value:function(){return this.state.currentInterval}},{key:"setCurrentInterval",value:function(e){this.state.currentInterval=e}},{key:"incrementInterval",value:function(){var e=this.cfg,t=this.getCurrentInterval();if(!e.hiddenInterval||this.isPageVisible()){var n=t*e.incrementByFactorOf;n>e.maxInterval&&(n=e.maxInterval),this.setCurrentInterval(n)}}},{key:"isPageVisible",value:function(){return this.state.pagevisibile}},{key:"stopTimer",value:function(){var e=this.state;e.intervalId=window.clearInterval(e.intervalId)}}])&&o(t.prototype,n),i&&o(t,i),e}()},"OK+K":function(e,t,n){"use strict";var i=n("hoFG"),r=n("MDlm"),o=n("f9it"),s=n("i3lA"),a=n("bplN");t.a=function(){var e=JSON.parse(document.querySelector(".js-sidebar-options").innerHTML);new i.a({full_path:e.fullPath}),new r.a,new o.a(e.currentUser),new a.a,s.a.initialize()}},Ocj7:function(e,t,n){"use strict";var i={};n.r(i),n.d(i,"expandDiscussion",(function(){return L})),n.d(i,"collapseDiscussion",(function(){return P})),n.d(i,"setNotesData",(function(){return R})),n.d(i,"setNoteableData",(function(){return x})),n.d(i,"setUserData",(function(){return F})),n.d(i,"setLastFetchedAt",(function(){return B})),n.d(i,"setInitialNotes",(function(){return U})),n.d(i,"setTargetNoteHash",(function(){return V})),n.d(i,"setNotesFetchedState",(function(){return q})),n.d(i,"toggleDiscussion",(function(){return M})),n.d(i,"setExpandDiscussions",(function(){return G})),n.d(i,"fetchDiscussions",(function(){return H})),n.d(i,"updateDiscussion",(function(){return W})),n.d(i,"setDiscussionSortDirection",(function(){return $})),n.d(i,"removeNote",(function(){return z})),n.d(i,"deleteNote",(function(){return K})),n.d(i,"updateNote",(function(){return J})),n.d(i,"updateOrCreateNotes",(function(){return Q})),n.d(i,"replyToDiscussion",(function(){return Y})),n.d(i,"createNewNote",(function(){return X})),n.d(i,"removePlaceholderNotes",(function(){return Z})),n.d(i,"resolveDiscussion",(function(){return ee})),n.d(i,"toggleResolveNote",(function(){return te})),n.d(i,"toggleBlockedIssueWarning",(function(){return ne})),n.d(i,"closeIssue",(function(){return ie})),n.d(i,"reopenIssue",(function(){return re})),n.d(i,"toggleStateButtonLoading",(function(){return oe})),n.d(i,"emitStateChangedEvent",(function(){return se})),n.d(i,"toggleIssueLocalState",(function(){return ae})),n.d(i,"saveNote",(function(){return ce})),n.d(i,"fetchData",(function(){return le})),n.d(i,"poll",(function(){return fe})),n.d(i,"stopPolling",(function(){return pe})),n.d(i,"restartPolling",(function(){return he})),n.d(i,"toggleAward",(function(){return me})),n.d(i,"toggleAwardRequest",(function(){return ge})),n.d(i,"scrollToNoteIfNeeded",(function(){return ve})),n.d(i,"fetchDiscussionDiffLines",(function(){return be})),n.d(i,"updateMergeRequestWidget",(function(){return _e})),n.d(i,"setLoadingState",(function(){return ye})),n.d(i,"filterDiscussion",(function(){return Oe})),n.d(i,"setCommentsDisabled",(function(){return Se})),n.d(i,"startTaskList",(function(){return Ee})),n.d(i,"updateResolvableDiscussionsCounts",(function(){return De})),n.d(i,"submitSuggestion",(function(){return Ie})),n.d(i,"submitSuggestionBatch",(function(){return we})),n.d(i,"addSuggestionInfoToBatch",(function(){return Ce})),n.d(i,"removeSuggestionInfoFromBatch",(function(){return Te})),n.d(i,"convertToDiscussion",(function(){return je})),n.d(i,"removeConvertedDiscussion",(function(){return ke})),n.d(i,"setCurrentDiscussionId",(function(){return Ae})),n.d(i,"fetchDescriptionVersion",(function(){return Ne})),n.d(i,"requestDescriptionVersion",(function(){return Le})),n.d(i,"receiveDescriptionVersion",(function(){return Pe})),n.d(i,"receiveDescriptionVersionError",(function(){return Re})),n.d(i,"softDeleteDescriptionVersion",(function(){return xe})),n.d(i,"requestDeleteDescriptionVersion",(function(){return Fe})),n.d(i,"receiveDeleteDescriptionVersion",(function(){return Be})),n.d(i,"receiveDeleteDescriptionVersionError",(function(){return Ue})),n.d(i,"updateAssignees",(function(){return Ve})),n.d(i,"default",(function(){return qe}));var r={};n.r(r),n.d(r,"discussions",(function(){return Ke})),n.d(r,"convertedDisscussionIds",(function(){return Je})),n.d(r,"targetNoteHash",(function(){return Qe})),n.d(r,"getNotesData",(function(){return Ye})),n.d(r,"isNotesFetched",(function(){return Xe})),n.d(r,"sortDirection",(function(){return Ze})),n.d(r,"isLoading",(function(){return et})),n.d(r,"getNotesDataByProp",(function(){return tt})),n.d(r,"getNoteableData",(function(){return nt})),n.d(r,"getNoteableDataByProp",(function(){return it})),n.d(r,"getBlockedByIssues",(function(){return rt})),n.d(r,"userCanReply",(function(){return ot})),n.d(r,"openState",(function(){return st})),n.d(r,"getUserData",(function(){return at})),n.d(r,"getUserDataByProp",(function(){return ct})),n.d(r,"descriptionVersions",(function(){return ut})),n.d(r,"notesById",(function(){return dt})),n.d(r,"noteableType",(function(){return lt})),n.d(r,"getCurrentUserLastNote",(function(){return ht})),n.d(r,"getDiscussionLastNote",(function(){return mt})),n.d(r,"unresolvedDiscussionsCount",(function(){return gt})),n.d(r,"resolvableDiscussionsCount",(function(){return vt})),n.d(r,"showJumpToNextDiscussion",(function(){return bt})),n.d(r,"isDiscussionResolved",(function(){return _t})),n.d(r,"allResolvableDiscussions",(function(){return yt})),n.d(r,"resolvedDiscussionsById",(function(){return Ot})),n.d(r,"unresolvedDiscussionsIdsByDate",(function(){return St})),n.d(r,"unresolvedDiscussionsIdsByDiff",(function(){return Et})),n.d(r,"resolvedDiscussionCount",(function(){return Dt})),n.d(r,"discussionTabCounter",(function(){return It})),n.d(r,"unresolvedDiscussionsIdsOrdered",(function(){return wt})),n.d(r,"isLastUnresolvedDiscussion",(function(){return Ct})),n.d(r,"findUnresolvedDiscussionIdNeighbor",(function(){return Tt})),n.d(r,"nextUnresolvedDiscussionId",(function(){return jt})),n.d(r,"previousUnresolvedDiscussionId",(function(){return kt})),n.d(r,"firstUnresolvedDiscussionId",(function(){return At})),n.d(r,"getDiscussion",(function(){return Nt})),n.d(r,"commentsDisabled",(function(){return Lt})),n.d(r,"default",(function(){return Pt}));n("va8A"),n("kO4A"),n("t3Gg"),n("+kFb"),n("x/6R"),n("Z5ek"),n("zCcL"),n("zpLX"),n("BD5p"),n("MRnW"),n("jaBk"),n("KcQl"),n("tbvx"),n("Id6h"),n("orcL");var o=n("jB52"),s=n("3a3M"),a=n.n(s),c=n("99pJ"),u=n.n(c),d=n("2ibD"),l=n("QBXl"),f=n("XRO8"),p=n("hqF9"),h=(n("z4I3"),n("8Qi2"),n("Ag57"),n("IdsT"),n("GzNv"),n("S26F"),n("+xeR"),n("Gs6c")),m=n("04nr"),g=n("/lV4");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _,y=function(e,t){return e.filter((function(e){return e.id===t}))[0]},O=function(e){var t=Object(g.a)("Applying command"),n=(h.a.get(gl.GfmAutoComplete.dataSources.commands)||[]).filter((function(t){return new RegExp("/".concat(t.name)).test(e)}));if(n&&n.length)if(n.length>1)t=Object(g.a)("Applying multiple commands");else{var i=n[0].description.toLowerCase();t=Object(g.e)(Object(g.a)("Applying command to %{commandDescription}"),{commandDescription:i})}return t},S=function(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(m.p)(e))}))},E=n("7KAB"),D=n("/ode"),I=n("Or2z"),w=n("NmEs"),C=n("3twG"),T=n("SqD0"),j=n("qPgm");function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e,t){var n=e.commit,i=e.dispatch;t.discussionId&&i("diffs/renderFileForDiscussionId",t.discussionId,{root:!0}),n("EXPAND_DISCUSSION",t)},P=function(e,t){return(0,e.commit)("COLLAPSE_DISCUSSION",t)},R=function(e,t){return(0,e.commit)("SET_NOTES_DATA",t)},x=function(e,t){return(0,e.commit)("SET_NOTEABLE_DATA",t)},F=function(e,t){return(0,e.commit)("SET_USER_DATA",t)},B=function(e,t){return(0,e.commit)("SET_LAST_FETCHED_AT",t)},U=function(e,t){return(0,e.commit)("SET_INITIAL_DISCUSSIONS",t)},V=function(e,t){return(0,e.commit)("SET_TARGET_NOTE_HASH",t)},q=function(e,t){return(0,e.commit)("SET_NOTES_FETCHED_STATE",t)},M=function(e,t){return(0,e.commit)("TOGGLE_DISCUSSION",t)},G=function(e,t){(0,e.commit)("SET_EXPAND_DISCUSSIONS",{discussionIds:t.discussionIds,expanded:t.expanded})},H=function(e,t){var n=e.commit,i=e.dispatch,r=t.path,o=t.filter,s=t.persistFilter,a=void 0!==o?{params:{notes_filter:o,persist_filter:s}}:null;return d.a.get(r,a).then((function(e){var t=e.data;n("SET_INITIAL_DISCUSSIONS",t),i("updateResolvableDiscussionsCounts")}))},W=function(e,t){var n=e.commit,i=e.state;return n("UPDATE_DISCUSSION",t),y(i.discussions,t.id)},$=function(e,t){(0,e.commit)("SET_DISCUSSIONS_SORT",t)},z=function(e,t){var n=e.commit,i=e.dispatch,r=e.state.discussions.find((function(e){return e.id===t.discussion_id}));n("DELETE_NOTE",t),i("updateMergeRequestWidget"),i("updateResolvableDiscussionsCounts"),Object(w.z)()&&i("diffs/removeDiscussionsFromDiff",r)},K=function(e,t){var n=e.dispatch;return d.a.delete(t.path).then((function(){n("removeNote",t)}))},J=function(e,t){var n=e.commit,i=e.dispatch,r=t.endpoint,o=t.note;return d.a.put(r,o).then((function(e){var t=e.data;n("UPDATE_NOTE",t),i("startTaskList")}))},Q=function(e,t){var n=e.commit,i=e.state,r=e.getters,o=e.dispatch,s=r.notesById;t.forEach((function(e){if(s[e.id])n("UPDATE_NOTE",e);else if(e.type===E.j||e.type===E.f){y(i.discussions,e.discussion_id)?n("ADD_NEW_REPLY_TO_DISCUSSION",e):e.type===E.f?o("fetchDiscussions",{path:i.notesData.discussionsPath}):n("ADD_NEW_NOTE",e)}else n("ADD_NEW_NOTE",e)}))},Y=function(e,t){var n=e.commit,i=e.state,r=e.getters,o=e.dispatch,s=t.endpoint,a=t.data;return d.a.post(s,a).then((function(e){var t=e.data;return t.discussion?(n("UPDATE_DISCUSSION",t.discussion),Q({commit:n,state:i,getters:r,dispatch:o},t.discussion.notes),o("updateMergeRequestWidget"),o("startTaskList"),o("updateResolvableDiscussionsCounts")):n("ADD_NEW_REPLY_TO_DISCUSSION",t),t}))},X=function(e,t){var n=e.commit,i=e.dispatch,r=t.endpoint,o=t.data;return d.a.post(r,o).then((function(e){var t=e.data;return t.errors||(n("ADD_NEW_NOTE",t),i("updateMergeRequestWidget"),i("startTaskList"),i("updateResolvableDiscussionsCounts")),t}))},Z=function(e){return(0,e.commit)("REMOVE_PLACEHOLDER_NOTES")},ee=function(e,t){var n=e.state,i=e.dispatch,r=e.getters,o=t.discussionId,s=y(n.discussions,o),a=r.isDiscussionResolved(o);return s?a?Promise.resolve():i("toggleResolveNote",{endpoint:s.resolve_path,isResolved:a,discussion:!0}):Promise.reject()},te=function(e,t){var n=e.commit,i=e.dispatch,r=t.endpoint,o=t.isResolved,s=t.discussion,a=o?E.y:E.v,c=s?"UPDATE_DISCUSSION":"UPDATE_NOTE";return d.a[a](r).then((function(e){var t=e.data;n(c,t),i("updateResolvableDiscussionsCounts"),i("updateMergeRequestWidget")}))},ne=function(e,t){(0,e.commit)("TOGGLE_BLOCKED_ISSUE_WARNING",t);var n=document.querySelector(".js-issuable-close-dropdown");n?n.classList.toggle("d-none"):document.querySelector(".detail-page-header-actions .btn-close.btn-grouped").classList.toggle("d-md-block")},ie=function(e){var t=e.commit,n=e.dispatch,i=e.state;return n("toggleStateButtonLoading",!0),d.a.put(i.notesData.closePath).then((function(e){var i=e.data;t("CLOSE_ISSUE"),n("emitStateChangedEvent",i),n("toggleStateButtonLoading",!1),n("toggleBlockedIssueWarning",!1)}))},re=function(e){var t=e.commit,n=e.dispatch,i=e.state;return n("toggleStateButtonLoading",!0),d.a.put(i.notesData.reopenPath).then((function(e){var i=e.data;t("REOPEN_ISSUE"),n("emitStateChangedEvent",i),n("toggleStateButtonLoading",!1)}))},oe=function(e,t){return(0,e.commit)("TOGGLE_STATE_BUTTON_LOADING",t)},se=function(e,t){var n=e.getters,i=new CustomEvent("issuable_vue_app:change",{detail:{data:t,isClosed:n.openState===E.b}});document.dispatchEvent(i)},ae=function(e,t){var n=e.commit;t===E.b?n("CLOSE_ISSUE"):t===E.u&&n("REOPEN_ISSUE")},ce=function(e,t){var n,i=e.commit,r=e.dispatch,o=t.data.draft_note||t.data["note[note]"]||t.data.note.note,s=o,c=function(e){return/^\/\w+.*$/gm.test(e)}(s),u=t.data.in_reply_to_discussion_id,d=A({},t);!0===d.isDraft?(n=u?"batchComments/addDraftToDiscussion":"batchComments/createNewDraft",!d.draft_note&&t.note&&(d.draft_note=d.note,delete d.note)):n=u?"replyToDiscussion":"createNewNote",a()(".notes-form .flash-container").hide(),i("REMOVE_PLACEHOLDER_NOTES"),u&&(c&&(s=function(e){return e.replace(/^\/\w+.*$/gm,"").trim()}(s)),s.length&&i("SHOW_PLACEHOLDER_NOTE",{noteBody:s,replyId:u}),c&&i("SHOW_PLACEHOLDER_NOTE",{isSystemNote:!0,noteBody:O(o),replyId:u}));return r(n,d,{root:!0}).then((function(e){var n=e.errors,i=(n=void 0===n?{commands_only:null}:n).commands_only;return c&&i&&(_.makeRequest(),a()(".js-gfm-input").trigger("clear-commands-cache.atwho"),Object(f.a)(i||Object(g.a)("Commands applied"),"notice",t.flashContainer)),e})).then((function(e){var n=(e.commands_changes||{}).emoji_award;if(!n)return e;var i=a()(".js-awards-block").eq(0);return Object(D.b)().then((function(e){e.addAwardToEmojiBar(i,n),e.scrollToAwards()})).catch((function(){Object(f.a)(Object(g.a)("Something went wrong while adding your award. Please try again."),"alert",t.flashContainer)})).then((function(){return e}))})).then((function(e){var t=e.commands_changes,n=t||{},i=n.spend_time,r=n.time_estimate;return null==i&&null==r||I.a.$emit("timeTrackingUpdated",{commands_changes:t}),e})).then((function(e){return u&&i("REMOVE_PLACEHOLDER_NOTES"),e})).catch((function(e){if(e.response){var n=e.response.data,i=void 0===n?{}:n,r=i.errors,o=(void 0===r?{}:r).base,s=void 0===o?[]:o;if(s.length>0){var a=Object(g.e)(Object(g.a)("Your comment could not be submitted because %{error}"),{error:s[0].toLowerCase()});return Object(f.a)(a,"alert",t.flashContainer),A(A({},i),{},{hasFlash:!0})}}throw e}))},ue=function(e,t,n,i,r){return e.notes&&e.notes.length&&(Q({commit:t,state:n,getters:i,dispatch:r},e.notes),r("startTaskList")),t("SET_LAST_FETCHED_AT",e.last_fetched_at),e},de=function(e){return{endpoint:e.notesData.notesPath,options:{headers:{"X-Last-Fetched-At":e.lastFetchedAt?"".concat(e.lastFetchedAt):void 0}}}},le=function(e){var t=e.commit,n=e.state,i=e.getters,r=de(n),o=r.endpoint,s=r.options;d.a.get(o,s).then((function(e){var r=e.data;return ue(r,t,n,i)})).catch((function(){return Object(f.a)(Object(g.a)("Something went wrong while fetching latest comments."))}))},fe=function(e){var t=e.commit,n=e.state,i=e.getters,r=e.dispatch;_=new p.a({resource:{poll:function(){var e=de(n),t=e.endpoint,i=e.options;return d.a.get(t,i)}},method:"poll",successCallback:function(e){var o=e.data;return ue(o,t,n,i,r)},errorCallback:function(){return Object(f.a)(Object(g.a)("Something went wrong while fetching latest comments."))}}),u.a.hidden()?le({commit:t,state:n,getters:i}):_.makeRequest(),u.a.change((function(){u.a.hidden()?_.stop():_.restart()}))},pe=function(){_&&_.stop()},he=function(){_&&_.restart()},me=function(e,t){var n=e.commit,i=e.getters,r=t.awardName,o=t.noteId;n("TOGGLE_AWARD",{awardName:r,note:i.notesById[o]})},ge=function(e,t){var n=e.dispatch,i=t.endpoint,r=t.awardName;return d.a.post(i,{name:r}).then((function(){n("toggleAward",t)}))},ve=function(e,t){Object(w.B)(t[0])||Object(w.Q)(t)},be=function(e,t){var n=e.commit;return d.a.get(t.truncated_diff_lines_path).then((function(e){var i=e.data;n("SET_DISCUSSION_DIFF_LINES",{discussionId:t.id,diffLines:i.truncated_diff_lines})}))},_e=function(){T.a.$emit("mr.discussion.updated")},ye=function(e,t){(0,e.commit)("SET_NOTES_LOADING_STATE",t)},Oe=function(e,t){var n=e.dispatch,i=t.path,r=t.filter,o=t.persistFilter;n("setLoadingState",!0),n("fetchDiscussions",{path:i,filter:r,persistFilter:o}).then((function(){n("setLoadingState",!1),n("setNotesFetchedState",!0)})).catch((function(){n("setLoadingState",!1),n("setNotesFetchedState",!0),Object(f.a)(Object(g.a)("Something went wrong while fetching comments. Please try again."))}))},Se=function(e,t){(0,e.commit)("DISABLE_COMMENTS",t)},Ee=function(e){var t=e.dispatch;return o.default.nextTick((function(){return new l.a({dataType:"note",fieldName:"note",selector:".notes .is-editable",onSuccess:function(){return t("startTaskList")}})}))},De=function(e){return(0,e.commit)("UPDATE_RESOLVABLE_DISCUSSIONS_COUNTS")},Ie=function(e,t){var n=e.commit,i=e.dispatch,r=t.discussionId,o=t.noteId,s=t.suggestionId,a=t.flashContainer;return j.a.applySuggestion(s).then((function(){return n("APPLY_SUGGESTION",{discussionId:r,noteId:o,suggestionId:s})})).then((function(){return i("resolveDiscussion",{discussionId:r}).catch((function(){}))})).catch((function(e){var t,n=Object(g.a)("Something went wrong while applying the suggestion. Please try again."),i=(null===(t=e.response.data)||void 0===t?void 0:t.message)||n;Object(f.a)(Object(g.a)(i),"alert",a)}))},we=function(e,t){var n=e.commit,i=e.dispatch,r=e.state,o=t.flashContainer,s=r.batchSuggestionsInfo.map((function(e){return e.suggestionId}));return n("SET_APPLYING_BATCH_STATE",!0),j.a.applySuggestionBatch(s).then((function(){return Promise.all(r.batchSuggestionsInfo.map((function(e){return n("APPLY_SUGGESTION",e)})))})).then((function(){return Promise.all(r.batchSuggestionsInfo.map((function(e){var t=e.discussionId;return i("resolveDiscussion",{discussionId:t}).catch((function(){}))})))})).then((function(){return n("CLEAR_SUGGESTION_BATCH")})).catch((function(e){var t,n=Object(g.a)("Something went wrong while applying the batch of suggestions. Please try again."),i=(null===(t=e.response.data)||void 0===t?void 0:t.message)||n;Object(f.a)(Object(g.a)(i),"alert",o)})).finally((function(){return n("SET_APPLYING_BATCH_STATE",!1)}))},Ce=function(e,t){return(0,e.commit)("ADD_SUGGESTION_TO_BATCH",{suggestionId:t.suggestionId,noteId:t.noteId,discussionId:t.discussionId})},Te=function(e,t){return(0,e.commit)("REMOVE_SUGGESTION_FROM_BATCH",t)},je=function(e,t){return(0,e.commit)("CONVERT_TO_DISCUSSION",t)},ke=function(e,t){return(0,e.commit)("REMOVE_CONVERTED_DISCUSSION",t)},Ae=function(e,t){return(0,e.commit)("SET_CURRENT_DISCUSSION_ID",t)},Ne=function(e,t){var n=e.dispatch,i=t.endpoint,r=t.startingVersion,o=t.versionId,s=i;return r&&(s=Object(C.n)({start_version_id:r},s)),n("requestDescriptionVersion"),d.a.get(s).then((function(e){n("receiveDescriptionVersion",{descriptionVersion:e.data,versionId:o})})).catch((function(e){n("receiveDescriptionVersionError",e),Object(f.a)(Object(g.a)("Something went wrong while fetching description changes. Please try again."))}))},Le=function(e){(0,e.commit)("REQUEST_DESCRIPTION_VERSION")},Pe=function(e,t){(0,e.commit)("RECEIVE_DESCRIPTION_VERSION",t)},Re=function(e,t){(0,e.commit)("RECEIVE_DESCRIPTION_VERSION_ERROR",t)},xe=function(e,t){var n=e.dispatch,i=t.endpoint,r=t.startingVersion,o=t.versionId,s=i;return r&&(s=Object(C.n)({start_version_id:r},s)),n("requestDeleteDescriptionVersion"),d.a.delete(s).then((function(){n("receiveDeleteDescriptionVersion",o)})).catch((function(e){throw n("receiveDeleteDescriptionVersionError",e),Object(f.a)(Object(g.a)("Something went wrong while deleting description changes. Please try again.")),new Error}))},Fe=function(e){(0,e.commit)("REQUEST_DELETE_DESCRIPTION_VERSION")},Be=function(e,t){(0,e.commit)("RECEIVE_DELETE_DESCRIPTION_VERSION",N({},t,Object(g.a)("Deleted")))},Ue=function(e,t){(0,e.commit)("RECEIVE_DELETE_DESCRIPTION_VERSION_ERROR",t)},Ve=function(e,t){(0,e.commit)("UPDATE_ASSIGNEES",t)},qe=function(){},Me=(n("vHow"),n("S6uq"),n("yaFd"),n("4ql4"),n("EWC9"),n("OksX")),Ge=n.n(Me),He=n("HCER"),We=n.n(He),$e=(n("jnfO"),function(e){var t=null,n=-1;return e.slice(0).reduce((function(e,i){var r=i.notes[0];if(function(e){return e.system&&e.note===E.e}(r))if(t){if(t){(function(e,t){var n=new Date(e.created_at),i=(new Date(t.created_at)-n)/1e3/60;return Math.ceil(i)})(t,r)>E.x||r.author.id!==t.author.id||t.description_version_deleted?(t=r,n=e.length):(r.start_description_version_id=t.description_version_id,e.splice(n,1),n=e.length)}}else t=r,n=e.length;return e.push(i),e}),[])});var ze,Ke=function(e){var t=Ge()(e.discussions);return e.discussionSortOrder===E.d&&(t=t.reverse()),$e(t)},Je=function(e){return e.convertedDisscussionIds},Qe=function(e){return e.targetNoteHash},Ye=function(e){return e.notesData},Xe=function(e){return e.isNotesFetched},Ze=function(e){return e.discussionSortOrder},et=function(e){return e.isLoading},tt=function(e){return function(t){return e.notesData[t]}},nt=function(e){return e.noteableData},it=function(e){return function(t){return e.noteableData[t]}},rt=function(e){return e.noteableData.blocked_by_issues},ot=function(e){return Boolean(e.noteableData.current_user.can_create_note)},st=function(e){return e.noteableData.state},at=function(e){return e.userData||{}},ct=function(e){return function(t){return e.userData&&e.userData[t]}},ut=function(e){return e.descriptionVersions},dt=function(e){return e.discussions.reduce((function(e,t){return t.notes.every((function(t){return Object.assign(e,(n={},i=t.id,r=t,i in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,n));var n,i,r})),e}),{})},lt=function(e){var t=E.n,n=E.p,i=E.l;return e.noteableData.noteableType===i?i:e.noteableData.merge_params?n:t},ft=function(e){return e.slice(0).reverse()},pt=function(e,t){return!e.system&&t.userData&&e.author&&e.author.id===t.userData.id},ht=function(e){return We()(ft(e.discussions).map((function(e){return ft(e.notes)}))).find((function(t){return pt(t,e)}))},mt=function(e){return function(t){return ft(t.notes).find((function(t){return pt(t,e)}))}},gt=function(e){return e.unresolvedDiscussionsCount},vt=function(e){return e.resolvableDiscussionsCount},bt=function(e,t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"discussion",n="discussion"!==e?t.unresolvedDiscussionsIdsByDiff:t.unresolvedDiscussionsIdsByDate;return n.length>1}},_t=function(e,t){return function(e){return void 0!==t.resolvedDiscussionsById[e]}},yt=function(e){return e.discussions.filter((function(e){return!e.individual_note&&e.resolvable}))},Ot=function(e){var t={};return e.discussions.filter((function(e){return e.resolvable})).forEach((function(e){e.notes&&(e.notes.filter((function(e){return e.resolvable})).every((function(e){return e.resolved}))&&(t[e.id]=e))})),t},St=function(e,t){return t.allResolvableDiscussions.filter((function(e){return!e.resolved})).sort((function(e,t){var n=new Date(e.notes[0].created_at),i=new Date(t.notes[0].created_at);return n<i?-1:n===i?0:1})).map((function(e){return e.id}))},Et=function(e,t){return t.allResolvableDiscussions.filter((function(e){return!e.resolved&&e.active})).sort((function(e,t){if(!e.diff_file||!t.diff_file)return 0;var n=e.diff_file.file_path.localeCompare(t.diff_file.file_path),i=[e.position.new_line,e.position.old_line],r=[t.position.new_line,t.position.old_line];return n<0||0===n&&Math.max(i[0],i[1])<Math.max(r[0],r[1])?-1:1})).map((function(e){return e.id}))},Dt=function(e,t){var n=t.resolvedDiscussionsById;return Object.keys(n).length},It=function(e){return e.discussions.reduce((function(e,t){return e+t.notes.filter((function(e){return!e.system&&!e.placeholder})).length}),0)},wt=function(e,t){return function(e){return e?t.unresolvedDiscussionsIdsByDiff:t.unresolvedDiscussionsIdsByDate}},Ct=function(e,t){return function(e,n){var i=t.unresolvedDiscussionsIdsOrdered(n);return i[i.length-1]===e}},Tt=function(e,t){return function(e){var n=e.discussionId,i=e.diffOrder,r=e.step,o=t.unresolvedDiscussionsIdsOrdered(i),s=o.indexOf(n)+r;return s<0&&r<0?o[o.length-1]:s===o.length&&r>0?o[0]:o[s]}},jt=function(e,t){return function(e,n){return t.findUnresolvedDiscussionIdNeighbor({discussionId:e,diffOrder:n,step:1})}},kt=function(e,t){return function(e,n){return t.findUnresolvedDiscussionIdNeighbor({discussionId:e,diffOrder:n,step:-1})}},At=function(e,t){return function(e){return e?t.unresolvedDiscussionsIdsByDiff[0]:t.unresolvedDiscussionsIdsByDate[0]}},Nt=function(e){return function(t){return e.discussions.find((function(e){return e.id===t}))}},Lt=function(e){return e.commentsDisabled},Pt=function(){};n("dj/k"),n("9U97"),n("8pn6"),n("OZM5"),n("y6Fo");function Rt(e){return function(e){if(Array.isArray(e))return qt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Vt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){Bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(e,t)||Vt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(e,t){if(e){if("string"==typeof e)return qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qt(e,t):void 0}}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Mt=(Bt(ze={},"ADD_NEW_NOTE",(function(e,t){var n=t.discussion?t.discussion.notes[0]:t,i=n.discussion_id,r=n.type,o=Ut(e.discussions.filter((function(e){return e.id===n.discussion_id})),1)[0],s=r===E.j||r===E.f;if(!o){var a={expanded:!0,id:i,individual_note:!s,notes:[n],reply_id:i};s&&Object(w.z)()&&(a.resolvable=n.resolvable,a.resolved=!1,a.active=!0,a.resolve_path=n.resolve_path,a.resolve_with_issue_path=n.resolve_with_issue_path,a.diff_discussion=!1),e.discussions.push(a)}})),Bt(ze,"ADD_NEW_REPLY_TO_DISCUSSION",(function(e,t){var n=y(e.discussions,t.discussion_id),i=n&&y(n.notes,t.id);n&&!i&&n.notes.push(t)})),Bt(ze,"DELETE_NOTE",(function(e,t){var n=y(e.discussions,t.discussion_id);if(n.individual_note)e.discussions.splice(e.discussions.indexOf(n),1);else{var i=y(n.notes,t.id);n.notes.splice(n.notes.indexOf(i),1),n.notes.length||e.discussions.splice(e.discussions.indexOf(n),1)}})),Bt(ze,"EXPAND_DISCUSSION",(function(e,t){var n=t.discussionId,i=y(e.discussions,n);Object.assign(i,{expanded:!0})})),Bt(ze,"COLLAPSE_DISCUSSION",(function(e,t){var n=t.discussionId,i=y(e.discussions,n);Object.assign(i,{expanded:!1})})),Bt(ze,"REMOVE_PLACEHOLDER_NOTES",(function(e){for(var t=e.discussions,n=t.length-1;n>=0;n-=1){var i=t[n],r=i.notes;if(r.length&&!i.individual_note)for(var o=r.length-1;o>=0;o-=1)r[o].isPlaceholderNote&&r.splice(o,1);else i.isPlaceholderNote&&t.splice(n,1)}})),Bt(ze,"SET_NOTES_DATA",(function(e,t){Object.assign(e,{notesData:t})})),Bt(ze,"SET_NOTEABLE_DATA",(function(e,t){Object.assign(e,{noteableData:t})})),Bt(ze,"SET_USER_DATA",(function(e,t){Object.assign(e,{userData:t})})),Bt(ze,"SET_INITIAL_DISCUSSIONS",(function(e,t){var n=t.reduce((function(t,n){var i=Ft({},n),r={};if(i.diff_file&&(r.file_hash=i.diff_file.file_hash,r.truncated_diff_lines=S(i.truncated_diff_lines||[])),i.individual_note&&i.notes.length>1)i.notes.forEach((function(e){t.push(Ft(Ft(Ft({},i),r),{},{notes:[e]}))}));else{var o=y(e.discussions,i.id);t.push(Ft(Ft(Ft({},i),r),{},{expanded:o?o.expanded:i.expanded}))}return t}),[]);Object.assign(e,{discussions:n})})),Bt(ze,"SET_LAST_FETCHED_AT",(function(e,t){Object.assign(e,{lastFetchedAt:t})})),Bt(ze,"SET_TARGET_NOTE_HASH",(function(e,t){Object.assign(e,{targetNoteHash:t})})),Bt(ze,"SHOW_PLACEHOLDER_NOTE",(function(e,t){var n=e.discussions,i=y(n,t.replyId);i&&(n=i.notes),n.push({individual_note:!0,isPlaceholderNote:!0,placeholderType:t.isSystemNote?E.w:E.q,notes:[{body:t.noteBody}]})})),Bt(ze,"TOGGLE_AWARD",(function(e,t){var n=t.awardName,i=t.note,r=e.userData,o=r.id,s=r.name,a=r.username,c=i.award_emoji.filter((function(e){return"".concat(e.name)==="".concat(t.awardName)&&e.user.id===o}));c.length?i.award_emoji.splice(i.award_emoji.indexOf(c[0]),1):i.award_emoji.push({name:n,user:{id:o,name:s,username:a}})})),Bt(ze,"TOGGLE_DISCUSSION",(function(e,t){var n=t.discussionId,i=t.forceExpanded,r=void 0===i?null:i,o=y(e.discussions,n);Object.assign(o,{expanded:null===r?!o.expanded:r})})),Bt(ze,"SET_EXPAND_DISCUSSIONS",(function(e,t){var n=t.discussionIds,i=t.expanded;(null==n?void 0:n.length)&&n.forEach((function(t){var n=y(e.discussions,t);Object.assign(n,{expanded:i})}))})),Bt(ze,"UPDATE_NOTE",(function(e,t){var n=y(e.discussions,t.discussion_id);if(n.individual_note)t.type===E.j&&(n.individual_note=!1),n.notes.splice(0,1,t);else{var i=y(n.notes,t.id);n.notes.splice(n.notes.indexOf(i),1,t)}})),Bt(ze,"APPLY_SUGGESTION",(function(e,t){var n=t.noteId,i=t.discussionId,r=t.suggestionId,o=y(e.discussions,i),s=y(o.notes,n);s.suggestions=s.suggestions.map((function(e){return Ft(Ft({},e),{},{applied:e.applied||e.id===r,appliable:!1})}))})),Bt(ze,"SET_APPLYING_BATCH_STATE",(function(e,t){e.batchSuggestionsInfo.forEach((function(n){var i=n.discussionId,r=n.noteId,o=n.suggestionId,s=y(e.discussions,i),a=y(s.notes,r);a.suggestions=a.suggestions.map((function(e){return Ft(Ft({},e),{},{is_applying_batch:e.id===o&&t})}))}))})),Bt(ze,"ADD_SUGGESTION_TO_BATCH",(function(e,t){var n=t.noteId,i=t.discussionId,r=t.suggestionId;e.batchSuggestionsInfo.push({suggestionId:r,noteId:n,discussionId:i})})),Bt(ze,"REMOVE_SUGGESTION_FROM_BATCH",(function(e,t){var n=e.batchSuggestionsInfo.findIndex((function(e){return e.suggestionId===t}));-1!==n&&e.batchSuggestionsInfo.splice(n,1)})),Bt(ze,"CLEAR_SUGGESTION_BATCH",(function(e){e.batchSuggestionsInfo.splice(0,e.batchSuggestionsInfo.length)})),Bt(ze,"UPDATE_DISCUSSION",(function(e,t){var n=t,i=e.discussions.find((function(e){return e.id===n.id}));n.expanded=!0,n.diff_file&&Object.assign(n,{file_hash:n.diff_file.file_hash}),Object.assign(i,Ft({},n))})),Bt(ze,"CLOSE_ISSUE",(function(e){Object.assign(e.noteableData,{state:E.b})})),Bt(ze,"REOPEN_ISSUE",(function(e){Object.assign(e.noteableData,{state:E.u})})),Bt(ze,"TOGGLE_STATE_BUTTON_LOADING",(function(e,t){Object.assign(e,{isToggleStateButtonLoading:t})})),Bt(ze,"TOGGLE_BLOCKED_ISSUE_WARNING",(function(e,t){Object.assign(e,{isToggleBlockedIssueWarning:t})})),Bt(ze,"SET_NOTES_FETCHED_STATE",(function(e,t){Object.assign(e,{isNotesFetched:t})})),Bt(ze,"SET_NOTES_LOADING_STATE",(function(e,t){e.isLoading=t})),Bt(ze,"SET_DISCUSSION_DIFF_LINES",(function(e,t){var n=t.discussionId,i=t.diffLines;y(e.discussions,n).truncated_diff_lines=S(i)})),Bt(ze,"SET_DISCUSSIONS_SORT",(function(e,t){e.discussionSortOrder=t})),Bt(ze,"DISABLE_COMMENTS",(function(e,t){e.commentsDisabled=t})),Bt(ze,"UPDATE_RESOLVABLE_DISCUSSIONS_COUNTS",(function(e){e.resolvableDiscussionsCount=e.discussions.filter((function(e){return!e.individual_note&&e.resolvable})).length,e.unresolvedDiscussionsCount=e.discussions.filter((function(e){return!e.individual_note&&e.resolvable&&e.notes.some((function(e){return e.resolvable&&!e.resolved}))})).length})),Bt(ze,"CONVERT_TO_DISCUSSION",(function(e,t){var n=[].concat(Rt(e.convertedDisscussionIds),[t]);Object.assign(e,{convertedDisscussionIds:n})})),Bt(ze,"REMOVE_CONVERTED_DISCUSSION",(function(e,t){var n=Rt(e.convertedDisscussionIds);n.splice(n.indexOf(t),1),Object.assign(e,{convertedDisscussionIds:n})})),Bt(ze,"SET_CURRENT_DISCUSSION_ID",(function(e,t){e.currentDiscussionId=t})),Bt(ze,"REQUEST_DESCRIPTION_VERSION",(function(e){e.isLoadingDescriptionVersion=!0})),Bt(ze,"RECEIVE_DESCRIPTION_VERSION",(function(e,t){var n=t.descriptionVersion,i=t.versionId,r=Ft(Ft({},e.descriptionVersions),{},Bt({},i,n));Object.assign(e,{descriptionVersions:r,isLoadingDescriptionVersion:!1})})),Bt(ze,"RECEIVE_DESCRIPTION_VERSION_ERROR",(function(e){e.isLoadingDescriptionVersion=!1})),Bt(ze,"REQUEST_DELETE_DESCRIPTION_VERSION",(function(e){e.isLoadingDescriptionVersion=!0})),Bt(ze,"RECEIVE_DELETE_DESCRIPTION_VERSION",(function(e,t){e.isLoadingDescriptionVersion=!1,Object.assign(e.descriptionVersions,t)})),Bt(ze,"RECEIVE_DELETE_DESCRIPTION_VERSION_ERROR",(function(e){e.isLoadingDescriptionVersion=!1})),Bt(ze,"UPDATE_ASSIGNEES",(function(e,t){e.noteableData.assignees=t})),ze);t.a=function(){return{state:{discussions:[],discussionSortOrder:E.a,convertedDisscussionIds:[],targetNoteHash:null,lastFetchedAt:null,currentDiscussionId:null,batchSuggestionsInfo:[],isToggleStateButtonLoading:!1,isToggleBlockedIssueWarning:!1,isNotesFetched:!1,isLoading:!0,isLoadingDescriptionVersion:!1,notesData:{markdownDocsPath:""},userData:{},noteableData:{confidential:!1,current_user:{},preview_note_path:"path/to/preview"},commentsDisabled:!1,resolvableDiscussionsCount:0,unresolvedDiscussionsCount:0,descriptionVersions:{}},actions:i,getters:r,mutations:Mt}}},SqD0:function(e,t,n){"use strict";var i=n("7xOh");t.a=Object(i.a)()},TMz1:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getProjectIssue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Author"},directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:286}};i.loc.source={body:'#import "~/graphql_shared/fragments/author.fragment.graphql"\n\nquery getProjectIssue($iid: String!, $fullPath: ID!) {\n  project(fullPath: $fullPath) {\n    issue(iid: $iid) {\n      assignees {\n        nodes {\n          ...Author\n          id\n          state\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("5JsC").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.getProjectIssue=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,r=new Set,a=new Set;for(i.forEach((function(e){a.add(e)}));a.size>0;){var c=a;a=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(o[e]||new Set).forEach((function(e){a.add(e)})))}))}return r.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"getProjectIssue")},bJWr:function(e,t,n){"use strict";n("IdsT"),n("S26F");t.a={props:{issuableType:{required:!0,type:String}},computed:{issuableDisplayName:function(){return this.issuableType.replace(/_/g," ")}}}},pIt4:function(e,t,n){"use strict";var i;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"n",(function(){return o})),n.d(t,"L",(function(){return s})),n.d(t,"w",(function(){return a})),n.d(t,"J",(function(){return c})),n.d(t,"G",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"j",(function(){return l})),n.d(t,"h",(function(){return f})),n.d(t,"p",(function(){return p})),n.d(t,"F",(function(){return h})),n.d(t,"I",(function(){return m})),n.d(t,"R",(function(){return g})),n.d(t,"k",(function(){return v})),n.d(t,"t",(function(){return b})),n.d(t,"u",(function(){return _})),n.d(t,"i",(function(){return y})),n.d(t,"s",(function(){return O})),n.d(t,"v",(function(){return S})),n.d(t,"b",(function(){return E})),n.d(t,"bb",(function(){return D})),n.d(t,"d",(function(){return I})),n.d(t,"q",(function(){return w})),n.d(t,"r",(function(){return C})),n.d(t,"x",(function(){return T})),n.d(t,"D",(function(){return j})),n.d(t,"Z",(function(){return k})),n.d(t,"X",(function(){return A})),n.d(t,"cb",(function(){return N})),n.d(t,"Y",(function(){return L})),n.d(t,"l",(function(){return P})),n.d(t,"C",(function(){return R})),n.d(t,"A",(function(){return x})),n.d(t,"W",(function(){return F})),n.d(t,"H",(function(){return B})),n.d(t,"E",(function(){return U})),n.d(t,"ab",(function(){return V})),n.d(t,"o",(function(){return q})),n.d(t,"a",(function(){return M})),n.d(t,"z",(function(){return G})),n.d(t,"y",(function(){return H})),n.d(t,"B",(function(){return W})),n.d(t,"N",(function(){return $})),n.d(t,"m",(function(){return z})),n.d(t,"K",(function(){return K})),n.d(t,"e",(function(){return J})),n.d(t,"f",(function(){return Q})),n.d(t,"g",(function(){return Y})),n.d(t,"P",(function(){return X})),n.d(t,"Q",(function(){return Z})),n.d(t,"O",(function(){return ee})),n.d(t,"U",(function(){return te})),n.d(t,"T",(function(){return ne})),n.d(t,"V",(function(){return ie})),n.d(t,"S",(function(){return re})),n.d(t,"M",(function(){return oe}));var o="inline",s="parallel",a="match",c="old-nonewline",u="new-nonewline",d="context",l="empty-cell",f="DiffNote",p="LegacyDiffNote",h="new",m="old",g="text",v="image",b="left",_="right",y="diff_view",O="is-over",S="unfold js-unfold",E="diff-expanded",D=20,I=3,w=17,C=100,T=2e3,j="mr_tree_show",k="tree",A="mr_diff_tree_list",N="mr_show_whitespace",L="mr_tree_list_width",P=320,R=240,x=400,F=260,B="old_line",U="new_line",V="type",q="left",M="container-limited limit-container-width mx-lg-auto px-3",G=500,H=30,W=2,$=200,z="highlighted_diff_lines",K="parallel_diff_lines",J=20,Q=-1,Y=-2,X="idle",Z="loading",ee="errored",te="LOAD_START",ne="LOAD_ERROR",ie="LOAD_SUCCEED",re="ACKNOWLEDGE_ERROR",oe=(r(i={},"".concat(X,":").concat(te),Z),r(i,"".concat(Z,":").concat(ne),ee),r(i,"".concat(Z,":").concat(ie),X),r(i,"".concat(ee,":").concat(te),Z),r(i,"".concat(ee,":").concat(re),X),i)},qDEO:function(e,t,n){!function(e){"use strict";var t={logger:self.console,WebSocket:self.WebSocket},n={log:function(){if(this.enabled){for(var e,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];i.push(Date.now()),(e=t.logger).log.apply(e,["[ActionCable]"].concat(i))}}},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){return(new Date).getTime()},a=function(e){return(s()-e)/1e3},c=function(){function e(t){r(this,e),this.visibilityDidChange=this.visibilityDidChange.bind(this),this.connection=t,this.reconnectAttempts=0}return e.prototype.start=function(){this.isRunning()||(this.startedAt=s(),delete this.stoppedAt,this.startPolling(),addEventListener("visibilitychange",this.visibilityDidChange),n.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms"))},e.prototype.stop=function(){this.isRunning()&&(this.stoppedAt=s(),this.stopPolling(),removeEventListener("visibilitychange",this.visibilityDidChange),n.log("ConnectionMonitor stopped"))},e.prototype.isRunning=function(){return this.startedAt&&!this.stoppedAt},e.prototype.recordPing=function(){this.pingedAt=s()},e.prototype.recordConnect=function(){this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,n.log("ConnectionMonitor recorded connect")},e.prototype.recordDisconnect=function(){this.disconnectedAt=s(),n.log("ConnectionMonitor recorded disconnect")},e.prototype.startPolling=function(){this.stopPolling(),this.poll()},e.prototype.stopPolling=function(){clearTimeout(this.pollTimeout)},e.prototype.poll=function(){var e=this;this.pollTimeout=setTimeout((function(){e.reconnectIfStale(),e.poll()}),this.getPollInterval())},e.prototype.getPollInterval=function(){var e=this.constructor.pollInterval,t=e.min,n=e.max,i=e.multiplier*Math.log(this.reconnectAttempts+1);return Math.round(1e3*function(e,t,n){return Math.max(t,Math.min(n,e))}(i,t,n))},e.prototype.reconnectIfStale=function(){this.connectionIsStale()&&(n.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+a(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?n.log("ConnectionMonitor skipping reopening recent disconnect"):(n.log("ConnectionMonitor reopening"),this.connection.reopen()))},e.prototype.connectionIsStale=function(){return a(this.pingedAt?this.pingedAt:this.startedAt)>this.constructor.staleThreshold},e.prototype.disconnectedRecently=function(){return this.disconnectedAt&&a(this.disconnectedAt)<this.constructor.staleThreshold},e.prototype.visibilityDidChange=function(){var e=this;"visible"===document.visibilityState&&setTimeout((function(){!e.connectionIsStale()&&e.connection.isOpen()||(n.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),e.connection.reopen())}),200)},e}();c.pollInterval={min:3,max:30,multiplier:5},c.staleThreshold=6;var u={message_types:{welcome:"welcome",disconnect:"disconnect",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},disconnect_reasons:{unauthorized:"unauthorized",invalid_request:"invalid_request",server_restart:"server_restart"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},d=u.message_types,l=u.protocols,f=l.slice(0,l.length-1),p=[].indexOf,h=function(){function e(t){r(this,e),this.open=this.open.bind(this),this.consumer=t,this.subscriptions=this.consumer.subscriptions,this.monitor=new c(this),this.disconnected=!0}return e.prototype.send=function(e){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(e)),!0)},e.prototype.open=function(){return this.isActive()?(n.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(n.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+l),this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new t.WebSocket(this.consumer.url,l),this.installEventHandlers(),this.monitor.start(),!0)},e.prototype.close=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allowReconnect:!0},t=e.allowReconnect;if(t||this.monitor.stop(),this.isActive())return this.webSocket.close()},e.prototype.reopen=function(){if(n.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(e){n.log("Failed to reopen WebSocket",e)}finally{n.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},e.prototype.getProtocol=function(){if(this.webSocket)return this.webSocket.protocol},e.prototype.isOpen=function(){return this.isState("open")},e.prototype.isActive=function(){return this.isState("open","connecting")},e.prototype.isProtocolSupported=function(){return p.call(f,this.getProtocol())>=0},e.prototype.isState=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.call(t,this.getState())>=0},e.prototype.getState=function(){if(this.webSocket)for(var e in t.WebSocket)if(t.WebSocket[e]===this.webSocket.readyState)return e.toLowerCase();return null},e.prototype.installEventHandlers=function(){for(var e in this.events){var t=this.events[e].bind(this);this.webSocket["on"+e]=t}},e.prototype.uninstallEventHandlers=function(){for(var e in this.events)this.webSocket["on"+e]=function(){}},e}();h.reopenDelay=500,h.prototype.events={message:function(e){if(this.isProtocolSupported()){var t=JSON.parse(e.data),i=t.identifier,r=t.message,o=t.reason,s=t.reconnect;switch(t.type){case d.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case d.disconnect:return n.log("Disconnecting. Reason: "+o),this.close({allowReconnect:s});case d.ping:return this.monitor.recordPing();case d.confirmation:return this.subscriptions.notify(i,"connected");case d.rejection:return this.subscriptions.reject(i);default:return this.subscriptions.notify(i,"received",r)}}},open:function(){if(n.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return n.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(e){if(n.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){n.log("WebSocket onerror event")}};var m=function(e,t){if(null!=t)for(var n in t){var i=t[n];e[n]=i}return e},g=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2];r(this,e),this.consumer=t,this.identifier=JSON.stringify(n),m(this,i)}return e.prototype.perform=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.action=e,this.send(t)},e.prototype.send=function(e){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(e)})},e.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},e}(),v=function(){function e(t){r(this,e),this.consumer=t,this.subscriptions=[]}return e.prototype.create=function(e,t){var n=e,r="object"===(void 0===n?"undefined":i(n))?n:{channel:n},o=new g(this.consumer,r,t);return this.add(o)},e.prototype.add=function(e){return this.subscriptions.push(e),this.consumer.ensureActiveConnection(),this.notify(e,"initialized"),this.sendCommand(e,"subscribe"),e},e.prototype.remove=function(e){return this.forget(e),this.findAll(e.identifier).length||this.sendCommand(e,"unsubscribe"),e},e.prototype.reject=function(e){var t=this;return this.findAll(e).map((function(e){return t.forget(e),t.notify(e,"rejected"),e}))},e.prototype.forget=function(e){return this.subscriptions=this.subscriptions.filter((function(t){return t!==e})),e},e.prototype.findAll=function(e){return this.subscriptions.filter((function(t){return t.identifier===e}))},e.prototype.reload=function(){var e=this;return this.subscriptions.map((function(t){return e.sendCommand(t,"subscribe")}))},e.prototype.notifyAll=function(e){for(var t=this,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return this.subscriptions.map((function(n){return t.notify.apply(t,[n,e].concat(i))}))},e.prototype.notify=function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return("string"==typeof e?this.findAll(e):[e]).map((function(e){return"function"==typeof e[t]?e[t].apply(e,i):void 0}))},e.prototype.sendCommand=function(e,t){var n=e.identifier;return this.consumer.send({command:t,identifier:n})},e}(),b=function(){function e(t){r(this,e),this._url=t,this.subscriptions=new v(this),this.connection=new h(this)}return e.prototype.send=function(e){return this.connection.send(e)},e.prototype.connect=function(){return this.connection.open()},e.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},e.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},o(e,[{key:"url",get:function(){return _(this._url)}}]),e}();function _(e){if("function"==typeof e&&(e=e()),e&&!/^wss?:/i.test(e)){var t=document.createElement("a");return t.href=e,t.href=t.href,t.protocol=t.protocol.replace("http","ws"),t.href}return e}function y(e){var t=document.head.querySelector("meta[name='action-cable-"+e+"']");if(t)return t.getAttribute("content")}e.Connection=h,e.ConnectionMonitor=c,e.Consumer=b,e.INTERNAL=u,e.Subscription=g,e.Subscriptions=v,e.adapters=t,e.createWebSocketURL=_,e.logger=n,e.createConsumer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y("url")||u.default_mount_path;return new b(e)},e.getConfig=y,Object.defineProperty(e,"__esModule",{value:!0})}(t)}}]);
//# sourceMappingURL=commons~pages.projects.issues.designs~pages.projects.issues.show~pages.projects.merge_requests.confl~84dd5fa9.46c75732.chunk.js.map