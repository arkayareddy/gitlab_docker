(this.webpackJsonp=this.webpackJsonp||[]).push([[209],{113:function(t,n,e){e("HVBj"),e("gjpc"),t.exports=e("qz/Z")},"38Gl":function(t,n,e){"use strict";e.d(n,"a",(function(){return m}));e("+kFb"),e("Id6h"),e("S6uq"),e("jnfO"),e("8Qi2"),e("MRnW"),e("GzNv");var i=e("h7kv"),a=e.n(i),s=e("htNe"),r=e.n(s),o=e("3a3M"),u=e.n(o);function c(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.form=n,this.dirtyInputs=[],this.isDisabled=!0,this.init()}var n,e,i;return n=t,i=[{key:"initInput",value:function(n){n.dataset.isDirtySubmitInput=!0,n.dataset.dirtySubmitOriginalValue=t.inputCurrentValue(n)}},{key:"isInputCheckable",value:function(t){return"checkbox"===t.type||"radio"===t.type}},{key:"inputCurrentValue",value:function(n){return t.isInputCheckable(n)?n.checked.toString():n.value}}],(e=[{key:"init",value:function(){this.inputs=this.form.querySelectorAll("input, textarea, select"),this.submits=this.form.querySelectorAll("input[type=submit], button[type=submit]"),this.inputs.forEach(t.initInput),this.toggleSubmission(),this.registerListeners()}},{key:"registerListeners",value:function(){var n=this,e=r()((function(){return a()((function(t){return n.updateDirtyInput(t)}),t.THROTTLE_DURATION)})),i=function(t){e(t.target.name)(t)};this.form.addEventListener("input",i),this.form.addEventListener("change",i),u()(this.form).on("change.select2",i),this.form.addEventListener("submit",(function(t){return n.formSubmit(t)}))}},{key:"updateDirtyInput",value:function(t){var n=t.target;n.dataset.isDirtySubmitInput&&(this.updateDirtyInputs(n),this.toggleSubmission())}},{key:"updateDirtyInputs",value:function(n){var e=n.name,i=n.dataset.dirtySubmitOriginalValue!==t.inputCurrentValue(n),a=this.dirtyInputs.indexOf(e),s=-1!==a;i&&!s&&this.dirtyInputs.push(e),!i&&s&&this.dirtyInputs.splice(a,1)}},{key:"toggleSubmission",value:function(){var t=this;this.isDisabled=0===this.dirtyInputs.length,this.submits.forEach((function(n){n.disabled=t.isDisabled}))}},{key:"formSubmit",value:function(t){return this.isDisabled&&(t.preventDefault(),t.stopImmediatePropagation()),!this.isDisabled}}])&&c(n.prototype,e),i&&c(n,i),t}();l.THROTTLE_DURATION=500;var f=l;var d=function t(n){var e=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.forms=n,this.dirtySubmits=[],this.forms.forEach((function(t){return e.dirtySubmits.push(new f(t))}))};function m(t){return new(t instanceof NodeList||t instanceof Array?d:f)(t)}},h1NV:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var i=e("3a3M"),a=e.n(i),s=e("NmEs");function r(){a()(document).on("click",".js-confirm-danger",(function(t){var n=a()(t.target),e=n.data("checkFieldName"),i=n.data("checkCompareValue"),r=parseInt(a()('[name="'.concat(e,'"]')).val(),10);(!e||r<i)&&(t.preventDefault(),function(t,n,e){var i=a()(".js-confirm-danger-input",n);i.val(""),a()(".js-confirm-text",n).text(e||""),n.modal("show");var r=a()(".js-confirm-danger-match",n).text(),o=a()(".js-confirm-danger-submit",n);o.disable(),i.focus(),i.off("input").on("input",(function(){Object(s.P)(a()(this).val())===r?o.enable():o.disable()})),a()(".js-confirm-danger-submit",n).off("click").on("click",(function(){return t.submit()}))}(n.closest("form"),function(t){var n=t.prev(".modal");return n.length?n:a()("#modal-confirm-danger")}(n),n.data("confirmDangerMessage")))}))}},"qz/Z":function(t,n,e){"use strict";e.r(n);var i=e("CPfm"),a=e("r5uf"),s=e("u5H2"),r=e("h1NV"),o=e("iImK"),u=e("38Gl"),c=e("z1DD"),l=e("3a3M"),f=e.n(l);var d=e("QRYO");document.addEventListener("DOMContentLoaded",(function(){var t,n;Object(c.a)(),Object(r.a)(),Object(a.a)(),Object(o.a)(i.b),t=f()(".project-edit-container"),n=f()(".save-project-loader"),t.on("ajax:before",(function(){t.hide(),n.show()})),Object(d.default)(),Object(s.a)(".js-project-transfer-form","select.select2"),Object(u.a)(document.querySelectorAll(".js-general-settings-form, .js-mr-settings-form, .js-mr-approvals-form"))}))},r5uf:function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));e("t3Gg");var i=e("3a3M"),a=e.n(i),s=e("/lV4");function r(t){t.find(".js-settings-toggle:not(.js-settings-toggle-trigger-only)").text(Object(s.a)("Collapse")),t.find(".settings-content").off("scroll.expandSection").scrollTop(0),t.addClass("expanded"),t.hasClass("no-animate")||t.addClass("animating").one("animationend.animateSection",(function(){return t.removeClass("animating")}))}function o(t){t.removeClass("no-animate"),t.hasClass("expanded")?function(t){t.find(".js-settings-toggle:not(.js-settings-toggle-trigger-only)").text(Object(s.a)("Expand")),t.find(".settings-content").on("scroll.expandSection",(function(){return r(t)})),t.removeClass("expanded"),t.hasClass("no-animate")||t.addClass("animating").one("animationend.animateSection",(function(){return t.removeClass("animating")}))}(t):r(t)}function u(){if(a()(".settings").each((function(t,n){var e=a()(n);e.on("click.toggleSection",".js-settings-toggle",(function(){return o(e)})),e.hasClass("expanded")||e.find(".settings-content").on("scroll.expandSection",(function(){e.removeClass("no-animate"),r(e)}))})),window.location.hash){var t=a()(window.location.hash);t.length&&t.hasClass("settings")&&r(t)}}},u5H2:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));e("t3Gg");var i=e("3a3M"),a=e.n(i);function s(t,n){var e=a()(t),i=e.find(n);i.on("change",(function(){e.find(":submit").prop("disabled",!i.val())})),i.trigger("change")}},z1DD:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));e("+kFb"),e("IdsT"),e("S26F"),e("Id6h");function i(){document.querySelectorAll(".js-filepicker").forEach((function(t){var n=t.querySelector(".js-filepicker-button");n.addEventListener("click",(function(){n.closest("form").querySelector(".js-filepicker-input").click()}));var e=t.querySelector(".js-filepicker-input");e.addEventListener("change",(function(){var t=e.closest("form"),n=e.value.replace(/^.*[\\\/]/,"");t.querySelector(".js-filepicker-filename").textContent=n}))}))}}},[[113,1,0,48,68]]]);
//# sourceMappingURL=pages.projects.edit.e7dd5a91.chunk.js.map