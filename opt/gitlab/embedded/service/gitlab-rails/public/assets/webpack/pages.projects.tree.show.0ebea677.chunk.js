(this.webpackJsonp=this.webpackJsonp||[]).push([[285],{"0lKz":function(e,t,i){"use strict";i.r(t);i("MRnW"),i("jaBk");var n=i("3a3M"),r=i.n(n),a=(i("1ZpL"),i("jB52")),o=i("5p5H"),s=i("ydqu"),c=i("cE/5"),l=i("o5IB"),u=i("CX32"),d=i("MA/v"),h=i("IDjy"),f=i("NmEs");document.addEventListener("DOMContentLoaded",(function(){new u.a,new l.a,new d.a,new h.a(r()(".js-create-dir-form")),r()("#tree-slider").waitForImages((function(){return Object(f.d)(document.querySelector(".js-tree-content").dataset.logsPath)})),Object(o.a)();var e=document.querySelector(".js-commit-pipeline-status"),t=document.querySelector(".commit-actions .ci-status-link");null!=t&&(t.remove(),new a.default({el:e,components:{commitPipelineStatus:s.a},render:function(t){return t("commit-pipeline-status",{props:{endpoint:e.dataset.endpoint}})}})),c.a.fetch(),document.getElementById("js-tree-list")&&Promise.all([i.e(58),i.e(59),i.e(82)]).then(i.bind(null,"WyuF")).then((function(e){return e.default()})).catch((function(e){throw e}))}))},190:function(e,t,i){i("HVBj"),i("gjpc"),e.exports=i("0lKz")},"1ZpL":function(e,t,i){var n,r,a;
/*! waitForImages jQuery Plugin - v2.1.0 - 2016-01-04
* https://github.com/alexanderdickson/waitForImages
* Copyright (c) 2016 Alex Dickson; Licensed MIT */r=[i("3a3M")],void 0===(a="function"==typeof(n=function(e){e.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],hasImageAttributes:["srcset"]},e.expr[":"]["has-src"]=function(t){return e(t).is('img[src][src!=""]')},e.expr[":"].uncached=function(t){return!!e(t).is(":has-src")&&!t.complete},e.fn.waitForImages=function(){var t,i,n,r=0,a=0,o=e.Deferred();if(e.isPlainObject(arguments[0])?(n=arguments[0].waitForAll,i=arguments[0].each,t=arguments[0].finished):1===arguments.length&&"boolean"===e.type(arguments[0])?n=arguments[0]:(t=arguments[0],i=arguments[1],n=arguments[2]),t=t||e.noop,i=i||e.noop,n=!!n,!e.isFunction(t)||!e.isFunction(i))throw new TypeError("An invalid callback was supplied.");return this.each((function(){var s=e(this),c=[],l=e.waitForImages.hasImageProperties||[],u=e.waitForImages.hasImageAttributes||[],d=/url\(\s*(['"]?)(.*?)\1\s*\)/g;n?s.find("*").addBack().each((function(){var t=e(this);t.is("img:has-src")&&!t.is("[srcset]")&&c.push({src:t.attr("src"),element:t[0]}),e.each(l,(function(e,i){var n,r=t.css(i);if(!r)return!0;for(;n=d.exec(r);)c.push({src:n[2],element:t[0]})})),e.each(u,(function(e,i){if(!t.attr(i))return!0;c.push({src:t.attr("src"),srcset:t.attr("srcset"),element:t[0]})}))})):s.find("img:has-src").each((function(){c.push({src:this.src,element:this})})),r=c.length,a=0,0===r&&(t.call(s[0]),o.resolveWith(s[0])),e.each(c,(function(n,c){var l=new Image,u="load.waitForImages error.waitForImages";e(l).one(u,(function n(l){var d=[a,r,"load"==l.type];if(a++,i.apply(c.element,d),o.notifyWith(c.element,d),e(this).off(u,n),a==r)return t.call(s[0]),o.resolveWith(s[0]),!1})),c.srcset&&(l.srcset=c.srcset),l.src=c.src}))})),o.promise()}})?n.apply(t,r):n)||(e.exports=a)},"99pJ":function(e,t,i){e.exports=i("NFDe")},"Dfb/":function(e,t,i){"use strict";var n=i("3a3M"),r=i.n(n);i("yv3B");t.a={bind:function(e){var t=localStorage.getItem("gl-tooltip-delay"),i=t?JSON.parse(t):0;r()(e).tooltip({trigger:"hover",delay:i})},componentUpdated:function(e){r()(e).tooltip("_fixTitle");var t=r()(e).data("bs.tooltip"),i=t.getTipElement();t.setElementContent(r()(i.querySelectorAll(".tooltip-inner")),t.getTitle())},unbind:function(e){r()(e).tooltip("dispose")}}},"MA/v":function(e,t,i){"use strict";i.d(t,"b",(function(){return u})),i.d(t,"a",(function(){return d}));i("+kFb"),i("OZM5"),i("S6uq"),i("MRnW"),i("jaBk"),i("tbvx"),i("Id6h");var n=i("3a3M"),r=i.n(n),a=(i("EJYk"),i("XRO8")),o=i("NmEs"),s=i("2ibD"),c=i("/lV4");function l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(e,t){e&&t&&function(e){switch(e){case"balsamiq":return Promise.all([i.e(44),i.e(57),i.e(78),i.e(301),i.e(85)]).then(i.bind(null,"Q2/m"));case"notebook":return Promise.all([i.e(81),i.e(84),i.e(306),i.e(94)]).then(i.bind(null,"k9KH"));case"openapi":return Promise.all([i.e(308),i.e(95)]).then(i.bind(null,"NoLt"));case"pdf":return Promise.all([i.e(44),i.e(57),i.e(79),i.e(309),i.e(297)]).then(i.bind(null,"5EiH"));case"sketch":return Promise.all([i.e(44),i.e(57),i.e(78),i.e(312),i.e(299)]).then(i.bind(null,"vm94"));case"stl":return Promise.all([i.e(313),i.e(300)]).then(i.bind(null,"p/rF"));default:return Promise.resolve()}}(t).then((function(t){return null==t?void 0:t.default(e)})).catch((function(e){throw Object(a.a)(Object(c.a)("Error loading file viewer.")),e}))},d=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=document.querySelector('.blob-viewer[data-type="rich"]'),n=null==i?void 0:null===(t=i.dataset)||void 0===t?void 0:t.richType;e.initAuxiliaryViewer(),u(i,n),this.initMainViewers()}var t,i,n;return t=e,n=[{key:"initAuxiliaryViewer",value:function(){var t=document.querySelector('.blob-viewer[data-type="auxiliary"]');t&&e.loadViewer(t)}},{key:"loadViewer",value:function(e){var t=e,i=t.getAttribute("data-url");return!i||t.getAttribute("data-loaded")||t.getAttribute("data-loading")?Promise.resolve(t):(t.setAttribute("data-loading","true"),s.a.get(i).then((function(e){var i=e.data;return t.innerHTML=i.html,t.setAttribute("data-loaded","true"),t})))}}],(i=[{key:"initMainViewers",value:function(){this.$fileHolder=r()(".file-holder"),this.$fileHolder.length&&(this.switcher=document.querySelector(".js-blob-viewer-switcher"),this.switcherBtns=document.querySelectorAll(".js-blob-viewer-switch-btn"),this.copySourceBtn=document.querySelector(".js-copy-blob-source-btn"),this.simpleViewer=this.$fileHolder[0].querySelector('.blob-viewer[data-type="simple"]'),this.richViewer=this.$fileHolder[0].querySelector('.blob-viewer[data-type="rich"]'),this.initBindings(),this.switchToInitialViewer())}},{key:"switchToInitialViewer",value:function(){var e=this.$fileHolder[0].querySelector(".blob-viewer:not(.hidden)").getAttribute("data-type");this.switcher&&0===window.location.hash.indexOf("#L")&&(e="simple"),this.switchToViewer(e)}},{key:"initBindings",value:function(){var e=this;this.switcherBtns.length&&Array.from(this.switcherBtns).forEach((function(t){t.addEventListener("click",e.switchViewHandler.bind(e))})),this.copySourceBtn&&this.copySourceBtn.addEventListener("click",(function(){return e.copySourceBtn.classList.contains("disabled")?e.copySourceBtn.blur():e.switchToViewer("simple")}))}},{key:"switchViewHandler",value:function(e){var t=e.currentTarget;e.preventDefault(),this.switchToViewer(t.getAttribute("data-viewer"))}},{key:"toggleCopyButtonState",value:function(){this.copySourceBtn&&(this.simpleViewer.getAttribute("data-loaded")?(this.copySourceBtn.setAttribute("title",Object(c.a)("Copy file contents")),this.copySourceBtn.classList.remove("disabled")):this.activeViewer===this.simpleViewer?(this.copySourceBtn.setAttribute("title",Object(c.a)("Wait for the file to load to copy its contents")),this.copySourceBtn.classList.add("disabled")):(this.copySourceBtn.setAttribute("title",Object(c.a)("Switch to the source to copy the file contents")),this.copySourceBtn.classList.add("disabled")),r()(this.copySourceBtn).tooltip("_fixTitle"))}},{key:"switchToViewer",value:function(t){var i=this,n=this.$fileHolder[0].querySelector(".blob-viewer[data-type='".concat(t,"']"));if(this.activeViewer!==n){var s=document.querySelector(".js-blob-viewer-switch-btn.active"),l=document.querySelector(".js-blob-viewer-switch-btn[data-viewer='".concat(t,"']")),u=this.$fileHolder[0].querySelector(".blob-viewer:not([data-type='".concat(t,"'])"));s&&s.classList.remove("active"),l&&(l.classList.add("active"),l.blur()),u&&u.classList.add("hidden"),n.classList.remove("hidden"),this.activeViewer=n,this.toggleCopyButtonState(),e.loadViewer(n).then((function(e){r()(e).renderGFM(),i.$fileHolder.trigger("highlight:line"),Object(o.s)(),i.toggleCopyButtonState()})).catch((function(){return new a.a(Object(c.a)("Error loading viewer"))}))}}}])&&l(t.prototype,i),n&&l(t,n),e}()},NFDe:function(e,t,i){!function(t){"use strict";var n=-1,r=function(e){return e.every=function(t,i,r){e._time(),r||(r=i,i=null);var a=n+=1;return e._timers[a]={visible:t,hidden:i,callback:r},e._run(a,!1),e.isSupported()&&e._listen(),a},e.stop=function(t){return!!e._timers[t]&&(e._stop(t),delete e._timers[t],!0)},e._timers={},e._time=function(){e._timed||(e._timed=!0,e._wasHidden=e.hidden(),e.change((function(){e._stopRun(),e._wasHidden=e.hidden()})))},e._run=function(i,n){var r,a=e._timers[i];if(e.hidden()){if(null===a.hidden)return;r=a.hidden}else r=a.visible;var o=function(){a.last=new Date,a.callback.call(t)};if(n){var s=new Date-a.last;r>s?a.delay=setTimeout((function(){a.id=setInterval(o,r),o()}),r-s):(a.id=setInterval(o,r),o())}else a.id=setInterval(o,r)},e._stop=function(t){var i=e._timers[t];clearInterval(i.id),clearTimeout(i.delay),delete i.id,delete i.delay},e._stopRun=function(t){var i=e.hidden(),n=e._wasHidden;if(i&&!n||!i&&n)for(var r in e._timers)e._stop(r),e._run(r,!i)},e};e.exports?e.exports=r(i("lNHW")):r(t.Visibility)}(window)},QwBj:function(e,t,i){"use strict";i.d(t,"b",(function(){return r}));var n={ABORTED:0,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTI_STATUS:207,ALREADY_REPORTED:208,IM_USED:226,MULTIPLE_CHOICES:300,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,CONFLICT:409,GONE:410,UNPROCESSABLE_ENTITY:422,SERVICE_UNAVAILABLE:503},r=[n.OK,n.CREATED,n.ACCEPTED,n.NON_AUTHORITATIVE_INFORMATION,n.NO_CONTENT,n.RESET_CONTENT,n.PARTIAL_CONTENT,n.MULTI_STATUS,n.ALREADY_REPORTED,n.IM_USED];t.a=n},"cE/5":function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));i("kO4A"),i("+kFb"),i("MRnW"),i("jaBk"),i("Id6h");var n=i("3a3M"),r=i.n(n),a=i("NmEs"),o=i("2ibD"),s=i("XRO8"),c=i("/lV4");function l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,n=[{key:"fetch",value:function(){var e=r()(".js-signature-container");if(0===e.length)return Promise.resolve();var t=r()(".js-loading-gpg-badge");t.html('<i class="fa fa-spinner fa-spin"></i>');var i=function(){return Object(s.a)(Object(c.a)("An error occurred while loading commit signatures"))},n=e.data("signaturesPath");if(!n)return i(),Promise.reject(new Error(Object(c.a)("Missing commit signatures endpoint!")));var l=Object(a.J)(e.serialize());return o.a.get(n,{params:l}).then((function(e){e.data.signatures.forEach((function(e){t.filter('[data-commit-sha="'.concat(e.commit_sha,'"]')).replaceWith(e.html)}))})).catch(i)}}],(i=null)&&l(t.prototype,i),n&&l(t,n),e}()},hqF9:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));i("S6uq");var n=i("QwBj"),r=i("NmEs");function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.options.data=t.data||{},this.options.notificationCallback=t.notificationCallback||function(){},this.intervalHeader="POLL-INTERVAL",this.timeoutID=null,this.canPoll=!0}var t,i,o;return t=e,(i=[{key:"checkConditions",value:function(e){var t=this,i=Object(r.F)(e.headers),a=parseInt(i[this.intervalHeader],10);a>0&&-1!==n.b.indexOf(e.status)&&this.canPoll&&(this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout((function(){t.makeRequest()}),a)),this.options.successCallback(e)}},{key:"makeRequest",value:function(){var e=this,t=this.options,i=t.resource,r=t.method,a=t.data,o=t.errorCallback,s=t.notificationCallback;return s(!0),i[r](a).then((function(t){e.checkConditions(t),s(!1)})).catch((function(e){s(!1),e.status!==n.a.ABORTED&&o(e)}))}},{key:"stop",value:function(){this.canPoll=!1,clearTimeout(this.timeoutID)}},{key:"enable",value:function(e){e&&e.data&&(this.options.data=e.data),this.canPoll=!0,e&&e.response&&this.checkConditions(e.response)}},{key:"restart",value:function(e){this.enable(e),this.makeRequest()}}])&&a(t.prototype,i),o&&a(t,o),e}()},lNHW:function(e,t,i){!function(t){"use strict";var i=-1,n={onVisible:function(e){var t=n.isSupported();if(!t||!n.hidden())return e(),t;var i=n.change((function(t,r){n.hidden()||(n.unbind(i),e())}));return i},change:function(e){if(!n.isSupported())return!1;var t=i+=1;return n._callbacks[t]=e,n._listen(),t},unbind:function(e){delete n._callbacks[e]},afterPrerendering:function(e){var t=n.isSupported();if(!t||"prerender"!=n.state())return e(),t;var i=n.change((function(t,r){"prerender"!=r&&(n.unbind(i),e())}));return i},hidden:function(){return!(!n._doc.hidden&&!n._doc.webkitHidden)},state:function(){return n._doc.visibilityState||n._doc.webkitVisibilityState||"visible"},isSupported:function(){return!(!n._doc.visibilityState&&!n._doc.webkitVisibilityState)},_doc:document||{},_callbacks:{},_change:function(e){var t=n.state();for(var i in n._callbacks)n._callbacks[i].call(n._doc,e,t)},_listen:function(){if(!n._init){var e="visibilitychange";n._doc.webkitVisibilityState&&(e="webkit"+e);var t=function(){n._change.apply(n,arguments)};n._doc.addEventListener?n._doc.addEventListener(e,t):n._doc.attachEvent(e,t),n._init=!0}}};e.exports?e.exports=n:t.Visibility=n}(this)},o5IB:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("3a3M"),r=i.n(n),a=i("3twG");function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initKeyNav(),r()(".tree-content-holder .tree-item").on("click",(function(e){var t=r()(e.target),i=r()(".tree-item-file-name a",this).attr("href");if(!t.is("a")&&!t.is(".str-truncated"))return e.metaKey||2===e.which?(e.preventDefault(),window.open(i,"_blank")):Object(a.z)(i)})),r()("span.log_loading").first().removeClass("hide")}var t,i,n;return t=e,(i=[{key:"initKeyNav",value:function(){var e=r()("tr.tree-item"),t=null;return r()("body").keydown((function(i){var n,o;return(!(r()("input:focus").length>0)||38!==i.which&&40!==i.which)&&(40===i.which?(t?(n=t.next()).length>0&&(t.removeClass("selected"),t=n.addClass("selected")):t=e.eq(0).addClass("selected"),r()(t).focus()):38===i.which?(t?(n=t.prev()).length>0&&(t.removeClass("selected"),t=n.addClass("selected")):t=e.last().addClass("selected"),r()(t).focus()):13===i.which&&(o=r()(".tree-item.selected .tree-item-file-name a").attr("href"))?Object(a.z)(o):void 0)}))}}])&&o(t.prototype,i),n&&o(t,n),e}()},ydqu:function(e,t,i){"use strict";var n=i("99pJ"),r=i.n(n),a=i("FkSe"),o=i("8zNS"),s=i("hqF9"),c=i("XRO8"),l=i("/lV4"),u=i("Dfb/"),d=i("2ibD");function h(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.endpoint=t}var t,i,n;return t=e,(i=[{key:"fetchData",value:function(){return d.a.get(this.endpoint)}}])&&h(t.prototype,i),n&&h(t,n),e}(),p={directives:{tooltip:u.a},components:{ciIcon:o.a,GlLoadingIcon:a.a},props:{endpoint:{type:String,required:!0}},data:function(){return{ciStatus:{},isLoading:!0}},computed:{statusTitle:function(){return Object(l.e)(Object(l.d)("PipelineStatusTooltip|Pipeline: %{ciStatus}"),{ciStatus:this.ciStatus.text})}},mounted:function(){this.service=new f(this.endpoint),this.initPolling()},beforeDestroy:function(){this.poll.stop()},methods:{successCallback:function(e){var t=e.data.pipelines;t.length>0&&(this.ciStatus=t[0].details.status),this.isLoading=!1},errorCallback:function(){this.ciStatus={text:Object(l.a)("not found"),icon:"status_notfound",group:"notfound"},this.isLoading=!1,Object(c.a)(Object(l.d)("Something went wrong on our end"))},initPolling:function(){var e=this;this.poll=new s.a({resource:this.service,method:"fetchData",successCallback:function(t){return e.successCallback(t)},errorCallback:this.errorCallback}),r.a.hidden()?this.fetchPipelineCommitData():(this.isLoading=!0,this.poll.makeRequest()),r.a.change((function(){r.a.hidden()?e.poll.stop():e.poll.restart()}))},fetchPipelineCommitData:function(){this.service.fetchData().then(this.successCallback).catch(this.errorCallback)}}},v=i("tBpV"),b=Object(v.a)(p,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ci-status-link"},[this.isLoading?t("gl-loading-icon",{attrs:{size:"lg",label:"Loading pipeline status"}}):t("a",{attrs:{href:this.ciStatus.details_path}},[t("ci-icon",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:this.statusTitle,"aria-label":this.statusTitle,status:this.ciStatus,size:24,"data-container":"body"}})],1)],1)}),[],!1,null,null,null);t.a=b.exports}},[[190,1,0,2,3,30]]]);
//# sourceMappingURL=pages.projects.tree.show.0ebea677.chunk.js.map