(this.webpackJsonp=this.webpackJsonp||[]).push([[148],{53:function(e,t,s){s("HVBj"),e.exports=s("BXit")},"6ld1":function(e,t,s){"use strict";var n=s("8/Mu");t.a=function(e){var t=e.page,s=e.filteredSearchTokenKeys,i=e.isGroup,a=e.isGroupAncestor,r=e.isGroupDecendent,u=e.stateFiltersSelector;n.a&&document.querySelector(".filtered-search")&&new n.a({page:t,isGroup:i,isGroupAncestor:a,isGroupDecendent:r,filteredSearchTokenKeys:s,stateFiltersSelector:u}).setup()}},"9d8q":function(e,t,s){"use strict";var n=s("7xOh");t.a=Object(n.a)()},B8wJ:function(e,t,s){"use strict";s("kO4A"),s("+kFb"),s("S6uq"),s("Id6h");function n(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store={columns:3,issues:[],issuesCount:!1,selectedIssues:[],showAddIssuesModal:!1,activeTab:"all",selectedList:null,searchTerm:"",loading:!1,loadingNewPage:!1,filterLoading:!1,page:1,perPage:50,filter:{path:""}}}var t,s,i;return t=e,(s=[{key:"selectedCount",value:function(){return this.getSelectedIssues().length}},{key:"toggleIssue",value:function(e){var t=e,s=t.selected;t.selected=!s,s?this.removeSelectedIssue(t):this.addSelectedIssue(t)}},{key:"toggleAll",value:function(){var e=this,t=this.selectedCount()!==this.store.issues.length;this.store.issues.forEach((function(s){var n=s;n.selected!==t&&(n.selected=t,t?e.addSelectedIssue(s):e.removeSelectedIssue(s))}))}},{key:"getSelectedIssues",value:function(){return this.store.selectedIssues.filter((function(e){return e.selected}))}},{key:"addSelectedIssue",value:function(e){-1===this.selectedIssueIndex(e)&&this.store.selectedIssues.push(e)}},{key:"removeSelectedIssue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];("all"===this.store.activeTab||t)&&(this.store.selectedIssues=this.store.selectedIssues.filter((function(t){return t.id!==e.id})))}},{key:"purgeUnselectedIssues",value:function(){var e=this;this.store.selectedIssues.forEach((function(t){t.selected||e.removeSelectedIssue(t,!0)}))}},{key:"selectedIssueIndex",value:function(e){return this.store.selectedIssues.indexOf(e)}},{key:"findSelectedIssue",value:function(e){return this.store.selectedIssues.filter((function(t){return t.id===e.id}))[0]}}])&&n(t.prototype,s),i&&n(t,i),e}();t.a=new i},BXit:function(e,t,s){"use strict";s.r(t);var n=s("uehF"),i=s("k/Fq"),a=s("6ld1"),r=s("SGvn"),u=s("lLWD"),l=s("kOYq");document.addEventListener("DOMContentLoaded",(function(){Object(n.a)(u.a),r.a.init("merge_request_"),Object(a.a)({page:l.a.MERGE_REQUESTS,isGroupDecendent:!0,filteredSearchTokenKeys:u.a}),Object(i.a)()}))},SGvn:function(e,t,s){"use strict";s("t3Gg"),s("Z5ek");var n=s("Ur9C"),i=s.n(n),a=s("3a3M"),r=s.n(a),u=s("rrDE"),l=s("hoFG"),o=s("/lV4");var c=s("MDlm"),d=s("9d8q");function h(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.vueIssuablesListFeature=i()(["gon","features","vueIssuablesList"])(window),this.initDomElements(),this.bindEvents(),this.initDropdowns(),this.setupBulkUpdateActions()}var t,s,n;return t=e,n=[{key:"getCheckedIssueIds",value:function(){var e=r()(".selected-issuable:checked");return e.length>0?r.a.map(e,(function(e){return r()(e).data("id")})):[]}}],(s=[{key:"initDomElements",value:function(){this.$page=r()(".layout-page"),this.$sidebar=r()(".right-sidebar"),this.$sidebarInnerContainer=this.$sidebar.find(".issuable-sidebar"),this.$bulkEditCancelBtn=r()(".js-bulk-update-menu-hide"),this.$bulkEditSubmitBtn=r()(".update-selected-issues"),this.$bulkUpdateEnableBtn=r()(".js-bulk-update-toggle"),this.$otherFilters=r()(".issues-other-filters"),this.$checkAllContainer=r()(".check-all-holder"),this.$issueChecks=r()(".issue-check"),this.$issuesList=r()(".selected-issuable"),this.$issuableIdsInput=r()("#update_issuable_ids")}},{key:"bindEvents",value:function(){var e=this;this.$bulkUpdateEnableBtn.on("click",(function(t){return e.toggleBulkEdit(t,!0)})),this.$bulkEditCancelBtn.on("click",(function(t){return e.toggleBulkEdit(t,!1)})),this.$checkAllContainer.on("click",(function(t){return e.selectAll(t)})),this.$issuesList.on("change",(function(){return e.updateFormState()})),this.$bulkEditSubmitBtn.on("click",(function(){return e.prepForSubmit()})),this.$checkAllContainer.on("click",(function(){return e.updateFormState()})),this.vueIssuablesListFeature&&d.a.$on("issuables:updateBulkEdit",(function(){e.updateFormState()}))}},{key:"initDropdowns",value:function(){new c.a,new l.a,r()(".js-issue-status").each((function(e,t){var s=r()(t).data("fieldName");return r()(t).glDropdown({selectable:!0,fieldName:s,toggleLabel:function(e,t,s){var n=Object(o.a)("Author"),i=s.dropdown.find(".is-active");return i.length&&(n=i.text()),n},clicked:function(e){return e.e.preventDefault()},id:function(e,t){return r()(t).data("id")}})})),r()(".js-subscription-event").each((function(e,t){var s=r()(t).data("fieldName");return r()(t).glDropdown({selectable:!0,fieldName:s,toggleLabel:function(e,t,s){var n=Object(o.a)("Subscription"),i=s.dropdown.find(".is-active");return i.length&&(n=i.text()),n},clicked:function(e){return e.e.preventDefault()},id:function(e,t){return r()(t).data("id")}})}))}},{key:"setupBulkUpdateActions",value:function(){u.a.setOriginalDropdownData()}},{key:"updateFormState",value:function(){var e=!r()(".selected-issuable:checked").length;this.toggleSubmitButtonDisabled(e),this.updateSelectedIssuableIds(),u.a.setOriginalDropdownData()}},{key:"prepForSubmit",value:function(){var e=this;setTimeout((function(){return e.$bulkEditSubmitBtn.disable()})),this.updateSelectedIssuableIds()}},{key:"toggleBulkEdit",value:function(e,t){e.preventDefault(),d.a.$emit("issuables:toggleBulkEdit",t),this.toggleSidebarDisplay(t),this.toggleBulkEditButtonDisabled(t),this.toggleOtherFiltersDisabled(t),this.toggleCheckboxDisplay(t)}},{key:"updateSelectedIssuableIds",value:function(){this.$issuableIdsInput.val(e.getCheckedIssueIds())}},{key:"selectAll",value:function(){var e=this.$checkAllContainer.find("input").prop("checked");this.$issuesList.prop("checked",e)}},{key:"toggleSidebarDisplay",value:function(e){this.$page.toggleClass("right-sidebar-expanded issuable-bulk-update-sidebar",e),this.$page.toggleClass("right-sidebar-collapsed issuable-bulk-update-sidebar",!e),this.$sidebarInnerContainer.toggleClass("hidden",!e),this.$sidebar.toggleClass("right-sidebar-expanded issuable-bulk-update-sidebar",e),this.$sidebar.toggleClass("right-sidebar-collapsed issuable-bulk-update-sidebar",!e)}},{key:"toggleBulkEditButtonDisabled",value:function(e){e?this.$bulkUpdateEnableBtn.disable():this.$bulkUpdateEnableBtn.enable()}},{key:"toggleCheckboxDisplay",value:function(e){this.$checkAllContainer.toggleClass("hidden",!e||this.vueIssuablesListFeature),this.$issueChecks.toggleClass("hidden",!e)}},{key:"toggleOtherFiltersDisabled",value:function(e){this.$otherFilters.toggleClass("disabled-content",e)}},{key:"toggleSubmitButtonDisabled",value:function(e){e?this.$bulkEditSubmitBtn.disable():this.$bulkEditSubmitBtn.enable()}}])&&h(t.prototype,s),n&&h(t,n),e}();t.a={bulkUpdateSidebar:null,init:function(e){var t=document.querySelector(".issues-bulk-update"),s=Boolean(this.bulkUpdateSidebar);return t&&!s&&(u.a.init({prefixId:e}),this.bulkUpdateSidebar=new p),this.bulkUpdateSidebar}}},"k/Fq":function(e,t,s){"use strict";s("9U97"),s("8Qi2"),s("MRnW"),s("jaBk");var n=s("3a3M"),i=s.n(n),a=s("qPgm"),r=(s("gyUR"),s("4ql4"),s("IdsT"),s("pBsb"),s("n7CP"));function u(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.projectSelectInput=i()(t),this.newItemBtn=i()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}var t,n,a;return t=e,(n=[{key:"bindEvents",value:function(){var e=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",(function(t){return e.openDropdown(t)})),this.newItemBtn.on("click",(function(t){e.getProjectFromLocalStorage()||(t.preventDefault(),e.openDropdown(t))})),this.projectSelectInput.on("change",(function(){return e.selectProject()}))}},{key:"initLocalStorage",value:function(){r.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}},{key:"openDropdown",value:function(e){s.e(311).then(s.t.bind(null,"p9g0",7)).then((function(){i()(e.currentTarget).siblings(".project-item-select").select2("open")})).catch((function(){}))}},{key:"selectProject",value:function(){var e=JSON.parse(this.projectSelectInput.val()),t={url:"".concat(e.url,"/").concat(this.projectSelectInput.data("relativePath")),name:e.name};this.setNewItemBtnAttributes(t),this.setProjectInLocalStorage(t)}},{key:"setBtnTextFromLocalStorage",value:function(){var e=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(e)}},{key:"setNewItemBtnAttributes",value:function(e){e?(this.newItemBtn.attr("href",e.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(e.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}},{key:"getProjectFromLocalStorage",value:function(){var e=localStorage.getItem(this.localStorageKey);return JSON.parse(e)}},{key:"setProjectInLocalStorage",value:function(e){var t=JSON.stringify(e);localStorage.setItem(this.localStorageKey,t)}},{key:"deriveTextVariants",value:function(){var e=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:e,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}])&&u(t.prototype,n),a&&u(t,a),e}(),o=s("/lV4"),c=function(){i()(".ajax-project-select").each((function(e,t){var s,n=this,r=i()(t).data("simpleFilter")||!1,u=i()(t).data("select2");return this.groupId=i()(t).data("groupId"),this.userId=i()(t).data("userId"),this.includeGroups=i()(t).data("includeGroups"),this.allProjects=i()(t).data("allProjects")||!1,this.orderBy=i()(t).data("orderBy")||"id",this.withIssuesEnabled=i()(t).data("withIssuesEnabled"),this.withMergeRequestsEnabled=i()(t).data("withMergeRequestsEnabled"),this.withShared=void 0===i()(t).data("withShared")||i()(t).data("withShared"),this.includeProjectsInSubgroups=i()(t).data("includeProjectsInSubgroups")||!1,this.allowClear=i()(t).data("allowClear")||!1,s=Object(o.d)("ProjectSelect|Search for project"),this.includeGroups&&(s+=Object(o.d)("ProjectSelect| or group")),i()(t).select2({placeholder:s,minimumInputLength:0,query:function(e){var t,s=function(t){var s={results:t};return e.callback(s)};return t=n.includeGroups?function(t){return a.a.groups(e.term,{},(function(e){var n=e.concat(t);return s(n)}))}:s,n.groupId?a.a.groupProjects(n.groupId,e.term,{search_namespaces:!0,with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,with_shared:n.withShared,include_subgroups:n.includeProjectsInSubgroups},t):n.userId?a.a.userProjects(n.userId,e.term,{with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,with_shared:n.withShared,include_subgroups:n.includeProjectsInSubgroups},t):a.a.projects(e.term,{order_by:n.orderBy,with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,membership:!n.allProjects},t)},id:function(e){return r?e.id:JSON.stringify({name:e.name,url:e.web_url})},text:function(e){return e.name_with_namespace||e.name},initSelection:function(e,t){return a.a.project(e.val()).then((function(e){var s=e.data;return t(s)}))},allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),u||r?t:new l(t)}))};t.a=function(){return s.e(311).then(s.t.bind(null,"p9g0",7)).then(c).catch((function(){}))}},kOYq:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var n={MERGE_REQUESTS:"merge_requests",ISSUES:"issues",ADMIN_RUNNERS:"admin/runners"}},uehF:function(e,t,s){"use strict";var n=s("/lV4");t.a=function(e){var t={formattedKey:Object(n.a)("WIP"),key:"wip",type:"string",param:"",symbol:"",icon:"admin",tag:Object(n.a)("Yes or No"),lowercaseValueOnSubmit:!0,uppercaseTokenName:!0,capitalizeTokenValue:!0};e.tokenKeys.push(t),e.tokenKeysWithAlternative.push(t);var s={formattedKey:Object(n.a)("Target-Branch"),key:"target-branch",type:"string",param:"",symbol:"",icon:"arrow-right",tag:"branch"};e.tokenKeys.push(s),e.tokenKeysWithAlternative.push(s)}}},[[53,1,0,7,9,11,18]]]);
//# sourceMappingURL=pages.groups.merge_requests.b545986d.chunk.js.map