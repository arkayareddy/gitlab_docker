(this.webpackJsonp=this.webpackJsonp||[]).push([[143],{48:function(e,t,n){n("HVBj"),e.exports=n("mSQB")},"V4+i":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("t3Gg"),n("MRnW"),n("GzNv");var a=n("3a3M"),r=n.n(a),i=n("+XPY"),o=n.n(i),s=n("bOix");function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".js-access-expiration-date";function t(){r()(this).closest(".clearable-input").toggleClass("has-value",""!==r()(this).val())}var n=r()(e);n.each((function(e,n){var a=r()(n),i=new o.a({field:a.get(0),theme:"gitlab-theme animate-picker",format:"yyyy-mm-dd",minDate:new Date,container:a.parent().get(0),parse:function(e){return Object(s.o)(e)},toString:function(e){return Object(s.q)(e)},onSelect:function(e){a.val(i.toString(e)),t.call(a)},firstDay:gon.first_day_of_week});i.setDate(Object(s.o)(a.val())),a.data("pikaday",i)})),n.next(".js-clear-input").on("click",(function(n){n.preventDefault();var a=r()(this).closest(".clearable-input").find(e);a.data("pikaday").setDate(null),t.call(a)})),n.on("blur",t),n.each(t)}},mSQB:function(e,t,n){"use strict";n.r(t);var a=n("mltO"),r=n("V4+i"),i=n("yYhH"),o=n("n9rM");document.addEventListener("DOMContentLoaded",(function(){Object(r.a)(),Object(r.a)(".js-access-expiration-date-groups"),new a.a,Object(o.a)(),new i.a}))},mltO:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("t3Gg");var a=n("3a3M"),r=n.n(a);function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addListeners(),this.initGLDropdown()}var t,n,a;return t=e,(n=[{key:"addListeners",value:function(){r()(".js-member-update-control").off("change").on("change",this.formSubmit.bind(this)),r()(".js-edit-member-form").off("ajax:success").on("ajax:success",this.formSuccess.bind(this)),gl.utils.disableButtonIfEmptyField("#user_ids","input[name=commit]","change")}},{key:"dropdownClicked",value:function(e){e.e.preventDefault(),this.formSubmit(null,e.$el)}},{key:"dropdownToggleLabel",value:function(e,t){return t.text()}},{key:"dropdownIsSelectable",value:function(e,t){return!t.hasClass("is-active")}},{key:"initGLDropdown",value:function(){var e=this;r()(".js-member-permissions-dropdown").each((function(t,n){var a=r()(n);a.glDropdown({selectable:!0,isSelectable:function(t,n){return e.dropdownIsSelectable(t,n)},fieldName:a.data("fieldName"),id:function(e,t){return t.data("id")},toggleLabel:function(t,n){return e.dropdownToggleLabel(t,n,a)},clicked:function(t){return e.dropdownClicked(t)}})}))}},{key:"formSubmit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e?r()(e.currentTarget):t,a=this.getMemberListItems(n),i=a.$toggle,o=a.$dateInput;n.closest("form").trigger("submit.rails"),i.disable(),o.disable()}},{key:"formSuccess",value:function(e){var t=this.getMemberListItems(r()(e.currentTarget).closest(".member")),n=t.$toggle,a=t.$dateInput;n.enable(),a.enable()}},{key:"getMemberListItems",value:function(e){var t=e.is(".member")?e:r()("#".concat(e.data("elId")));return{$memberListItem:t,$toggle:t.find(".dropdown-menu-toggle"),$dateInput:t.find(".js-access-expiration-date")}}}])&&i(t.prototype,n),a&&i(t,a),e}()},n9rM:function(e,t,n){"use strict";n("9U97"),n("kO4A"),n("S6uq"),n("MRnW"),n("jaBk"),n("IdsT"),n("S26F");var a=n("G3fq"),r=n.n(a),i=n("3a3M"),o=n.n(i),s=n("2ibD"),l=n("qPgm"),u=n("NmEs"),c=n("/lV4"),d=function(){window.GROUP_SELECT_PER_PAGE=20,o()(".ajax-groups-select").each((function(){var e=o()(this),t=e.data("allAvailable"),n=e.data("skipGroups")||[],a=e.data("parentId"),i=a?l.a.subgroupsPath.replace(":id",a):l.a.groupsPath;e.select2({placeholder:Object(c.a)("Search for a group"),allowClear:e.hasClass("allowClear"),multiple:e.hasClass("multiselect"),minimumInputLength:0,ajax:{url:l.a.buildUrl(i),dataType:"json",quietMillis:250,transport:function(e){s.a[e.type.toLowerCase()](e.url,{params:e.data}).then((function(t){var n=t.data||[],a=Object(u.F)(t.headers),r=(parseInt(a["X-PAGE"],10)||0)<(parseInt(a["X-TOTAL-PAGES"],10)||0);e.success({results:n,pagination:{more:r}})})).catch(e.error)},data:function(e,n){return{search:e,page:n,per_page:window.GROUP_SELECT_PER_PAGE,all_available:t}},results:function(e,t){if(e.length)return{results:[]};var a=e.length?e:e.results||[],r=!!e.pagination&&e.pagination.more,i=a.filter((function(e){return-1===n.indexOf(e.id)}));return{results:i,page:t,more:r}}},initSelection:function(e,t){var n=o()(e).val();if(""!==n)return l.a.group(n,t)},formatResult:function(e){return"<div class='group-result'> <div class='group-name'>".concat(r()(e.full_name),"</div> <div class='group-path'>").concat(e.full_path,"</div> </div>")},formatSelection:function(e){return r()(e.full_name)},dropdownCssClass:"ajax-groups-dropdown select2-infinite",escapeMarkup:function(e){return e}}),e.on("select2-loaded",(function(){var e=document.querySelector(".select2-infinite .select2-results");e.style.height="".concat(Math.floor(e.scrollHeight),"px")}))}))};t.a=function(){return n.e(311).then(n.t.bind(null,"p9g0",7)).then(d).catch((function(){}))}}},[[48,1,0,6,8]]]);
//# sourceMappingURL=pages.groups.group_members.index.83ca3b15.chunk.js.map