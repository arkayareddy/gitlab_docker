(this.webpackJsonp=this.webpackJsonp||[]).push([[11],{"+GAp":function(e,t,a){var n=a("4O6w"),i=a("QPeP"),l=a("GY8p"),s=a("90g9"),r=a("wJPF"),o=a("5PFN"),d=Math.min;e.exports=function(e,t,a){for(var c=a?l:i,u=e[0].length,f=e.length,b=f,p=Array(f),h=1/0,m=[];b--;){var g=e[b];b&&t&&(g=s(g,r(t))),h=d(g.length,h),p[b]=!a&&(t||u>=120&&g.length>=120)?new n(b&&g):void 0}g=e[0];var v=-1,w=p[0];e:for(;++v<u&&m.length<h;){var j=g[v],O=t?t(j):j;if(j=a||0!==j?j:0,!(w?o(w,O):c(m,O,a))){for(b=f;--b;){var k=p[b];if(!(k?o(k,O):c(e[b],O,a)))continue e}w&&w.push(O),m.push(j)}}return m}},MDlm:function(e,t,a){"use strict";a.d(t,"a",(function(){return L}));a("va8A"),a("9U97"),a("kO4A"),a("t3Gg"),a("+kFb"),a("OZM5"),a("FMw2"),a("S6uq"),a("gyUR"),a("Z5ek"),a("4ql4"),a("jnfO"),a("+xU6"),a("zCcL"),a("zpLX"),a("BD5p"),a("MRnW"),a("IdsT"),a("GzNv"),a("QifN"),a("tbvx"),a("S26F"),a("pBsb"),a("Id6h");var n=a("05sH"),i=a.n(n),l=a("TKCn"),s=a.n(l),r=a("G3fq"),o=a.n(r),d=a("VNnR"),c=a.n(d),u=a("3a3M"),f=a.n(u),b=a("/lV4"),p=a("2ibD"),h=a("rrDE"),m=a("VbCt"),g=a("XRO8"),v=a("B8wJ"),w=a("KQYO"),j=a("NmEs");function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){y(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function C(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var L=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=this,i=f()(t);t||(i=f()(".js-label-select")),i.each((function(t,i){var l=f()(i),r=l.closest(".labels-filter"),d=l.data("namespacePath"),u=l.data("projectPath"),h=l.data("issueUpdate"),O=l.data("selected");null==O||l.hasClass("js-multiselect")||(O=O.split(","));var k=l.data("showNo"),y=l.data("showAny"),C=l.data("showMenuAbove"),L=l.data("defaultLabel")||Object(b.a)("Label"),x=l.data("abilityName"),S=l.closest(".selectbox"),$=S.closest(".block"),D=l.closest("form, .js-issuable-update"),I=$.find(".sidebar-collapsed-icon span"),F=$.find(".js-sidebar-labels-tooltip"),A=$.find(".value"),_=l.parent().find(".dropdown-menu"),E=$.find(".block-loading").fadeOut(),N=l.data("fieldName"),B=S.find('input[name="'.concat(l.data("fieldName"),'"]')).map((function(){return this.value})).get(),P=l.data("scopedLabels"),U=a.handleClick;F.tooltip(),l.closest(".dropdown").find(".dropdown-new-label").length&&new m.a(l.closest(".dropdown").find(".dropdown-new-label"),d,u);var M=function(){var t=l.closest(".selectbox").find("input[name='".concat(N,"']")).map((function(){return this.value})).get();if(!c()(B,t)){B=t;var a={};a[x]={},a[x].label_ids=t,t.length||(a[x].label_ids=[""]),E.removeClass("hidden").fadeIn(),l.trigger("loading.gl.dropdown"),p.a.put(h,a).then((function(t){var a,n,i=t.data;E.fadeOut(),l.trigger("loaded.gl.dropdown"),S.hide(),i.issueUpdateURL=h;var r=0;i.labels.length&&h?(n=e.getLabelTemplate({labels:s()(i.labels,"title"),issueUpdateURL:h,enableScopedLabels:P}),r=i.labels.length):n='<span class="no-value">'.concat(Object(b.a)("None"),"</span>");if(A.removeAttr("style").html(n),I.text(r),i.labels.length){var o=i.labels.map((function(e){return e.title}));o.length>5&&(o=o.slice(0,5)).push(Object(b.e)(Object(b.d)("Labels|and %{count} more"),{count:i.labels.length-5})),a=o.join(", ")}else a=Object(b.a)("Labels");F.attr("title",a).tooltip("_fixTitle"),f()(".has-tooltip",A).tooltip({container:"body"})})).catch((function(){return Object(g.a)(Object(b.a)("Error saving label update."))}))}};l.glDropdown({showMenuAbove:C,data:function(e,t){var a=l.attr("data-labels");p.a.get(a).then((function(e){var a=e.data;if(l.hasClass("js-extra-options")){var n=[];k&&n.unshift({id:0,title:Object(b.a)("No label")}),y&&n.unshift({isAny:!0,title:Object(b.a)("Any label")}),n.length&&(n.push({type:"divider"}),a=n.concat(a))}t(a),C&&l.data("glDropdown").positionMenuAbove()})).catch((function(){return Object(g.a)(Object(b.a)("Error fetching labels."))}))},renderRow:function(e){var t,a=[],n=e.id<=0||null==e.id;if(l.hasClass("js-filter-bulk-update")){var i=l.data("indeterminate")||[],s=l.data("marked")||[];if(-1!==i.indexOf(e.id)&&a.push("is-indeterminate"),-1!==s.indexOf(e.id)){var r=a.indexOf("is-indeterminate");-1!==r&&a.splice(r,1),a.push("is-active")}}else{if(this.id(e)){var d=this.id(e).toString().replace(/'/g,"\\'");D.find("input[type='hidden'][name='".concat(this.fieldName,"'][value='").concat(d,"']")).length&&a.push("is-active")}this.multiSelect&&n&&a.push("dropdown-clear-active")}t=e.color?"<span class='dropdown-label-box' style='background: ".concat(e.color,"'></span>"):"";var c=document.createElement("a");if(c.href="#",e.id){a.push.apply(a,["label-item"].concat(["d-flex","flex-row","text-break-word"])),c.dataset.labelId=e.id}c.className=a.join(" "),c.innerHTML="".concat(t," ").concat(o()(e.title));var u=document.createElement("li");return u.appendChild(c),u},search:{fields:["title"]},selectable:!0,filterable:!0,selected:l.data("selected")||[],toggleLabel:function(e,t){var a=l.parent(),n=a.find(".dropdown-input-field"),i=null!==t&&t.hasClass("is-active"),s=e?e.title:null,r=this.selected;if(n.length&&n.val().length&&a.find(".dropdown-input-clear").trigger("click"),e&&0===e.id)return this.selected=[],Object(b.a)("No label");if(i)this.selected.push(s);else if(!i&&s){var o=this.selected.indexOf(s);this.selected.splice(o,1)}return 1===r.length?r:r.length?Object(b.e)(Object(b.a)("%{firstLabel} +%{labelCount} more"),{firstLabel:r[0],labelCount:r.length-1}):L},fieldName:l.data("fieldName"),id:function(e){return e.id<=0?e.title:l.hasClass("js-issuable-form-dropdown")?e.id:l.hasClass("js-filter-submit")&&null==e.isAny?e.title:e.id},hidden:function(){var e=f()("body").attr("data-page"),t="projects:issues:index"===e,a="projects:merge_requests:index"===e;S.hide(),A.removeAttr("style"),l.hasClass("js-issuable-form-dropdown")||f()("html").hasClass("issue-boards-page")||l.hasClass("js-multiselect")&&(l.hasClass("js-filter-submit")&&(t||a)?Issuable.filterResults(l.closest("form")):l.hasClass("js-filter-submit")?l.closest("form").submit():l.hasClass("js-filter-bulk-update")||(M(),l.data("glDropdown").clearMenu()))},multiSelect:l.hasClass("js-multiselect"),vue:l.hasClass("js-issue-board-sidebar"),clicked:function(e){var t=e.$el,a=e.e,i=e.isMarking,s=e.selectedObj,r=function(){E.fadeOut()},o=f()("body").attr("data-page"),d="projects:issues:index"===o,c="projects:merge_requests:index"===o;if(l.parent().find(".is-active:not(.dropdown-clear-active)").length&&l.parent().find(".dropdown-clear-active").removeClass("is-active"),!l.hasClass("js-issuable-form-dropdown")){if(l.hasClass("js-filter-bulk-update"))return n.enableBulkLabelDropdown(),void n.setDropdownData(l,i,s.id);var u;if(l.closest(".add-issues-modal").length&&(u=v.a.store.filter),u)return s.isAny?u.label_name=[]:t.hasClass("is-active")&&u.label_name.push(s.title),void a.preventDefault();if(l.hasClass("js-filter-submit")&&(d||c)){if(!l.hasClass("js-multiselect"))return O=s.title,Issuable.filterResults(l.closest("form"))}else{if(l.hasClass("js-filter-submit"))return l.closest("form").submit();if(l.hasClass("js-issue-board-sidebar")){if(t.hasClass("is-active"))w.c.detail.issue.labels.push(new ListLabel({id:s.id,title:s.title,color:s.color,textColor:"#fff"}));else{var b=w.c.detail.issue.labels;b=b.filter((function(e){return e.id!==s.id})),w.c.detail.issue.labels=b}E.fadeIn();var p=w.c.detail.issue.labels;w.c.detail.issue.update(l.attr("data-issue-update")).then((function(){if(Object(j.E)(s)){var e=p.map((function(e){return e.id})),t=w.c.detail.issue.labels.map((function(e){return e.id})),a=e.filter((function(e){return!t.includes(e)}));l.data("marked",t),_.find(a.map((function(e){return'[data-label-id="'.concat(e,'"]')})).join(",")).removeClass("is-active")}})).then(r).catch(r)}else if(U)a.preventDefault(),U(s);else if(!l.hasClass("js-multiselect"))return M()}}},opened:function(){if(l.hasClass("js-issue-board-sidebar")){var e=l.attr("data-selected");this.selected=e?e.split(","):[],l.data("glDropdown").updateLabel()}},preserveContext:!0}),n.setOriginalDropdownData(r,l)})),this.bindEvents()}var t,a,n;return t=e,n=[{key:"getLabelTemplate",value:function(e){var t='<a href="<%- issueUpdateURL.slice(0, issueUpdateURL.lastIndexOf("/")) %>?label_name[]=<%- encodeURIComponent(label.title) %>" class="gl-link gl-label-link has-tooltip" <%= linkAttrs %> title="<%= tooltipTitleTemplate({ label, isScopedLabel, enableScopedLabels, escapeStr }) %>">',a='<span class="gl-label-text" style="background-color: <%= escapeStr(label.color) %>; color: <%= escapeStr(label.text_color) %>;">',n=i()(['<span class="gl-label">',t,a,"<%- label.title %>","</span>","</a>","</span>"].join("")),l=i()(['<span class="gl-label gl-label-scoped" style="color: <%= escapeStr(label.color) %>;">',t,a,'<%- label.title.slice(0, label.title.lastIndexOf("::")) %>',"</span>",'<span class="gl-label-text" style="color: <%= rightLabelTextColor({ label, escapeStr }) %>;">','<%- label.title.slice(label.title.lastIndexOf("::") + 2) %>',"</span>","</a>","</span>"].join("")),s=i()(["<% if (isScopedLabel(label) && enableScopedLabels) { %>","<span class='font-weight-bold scoped-label-tooltip-title'>Scoped label</span>","<br />","<%= escapeStr(label.description) %>","<% } else { %>","<%= escapeStr(label.description) %>","<% } %>"].join(""));return i()(["<% labels.forEach(function(label){ %>","<% if (isScopedLabel(label) && enableScopedLabels) { %>",'<span class="d-inline-block position-relative scoped-label-wrapper">',"<%= scopedLabelTemplate({ label, issueUpdateURL, isScopedLabel, enableScopedLabels, rightLabelTextColor, tooltipTitleTemplate, escapeStr, linkAttrs: 'data-html=\"true\"' }) %>","</span>","<% } else { %>",'<%= labelTemplate({ label, issueUpdateURL, isScopedLabel, enableScopedLabels, tooltipTitleTemplate, escapeStr, linkAttrs: "" }) %>',"<% } %>","<% }); %>"].join(""))(k(k({},e),{},{labelTemplate:n,rightLabelTextColor:function(e){var t=e.label;return(0,e.escapeStr)("#FFFFFF"===t.text_color?t.color:t.text_color)},scopedLabelTemplate:l,tooltipTitleTemplate:s,isScopedLabel:j.E,escapeStr:o.a}))}}],(a=[{key:"bindEvents",value:function(){return f()("body").on("change",".selected-issuable",this.onSelectCheckboxIssue)}},{key:"onSelectCheckboxIssue",value:function(){if(!f()(".selected-issuable:checked").length)return f()(".issues-bulk-update .labels-filter .dropdown-toggle-text").text(Object(b.a)("Label"))}},{key:"enableBulkLabelDropdown",value:function(){h.a.willUpdateLabels=!0}},{key:"setDropdownData",value:function(e,t,a){var n=e.data("marked")||[],i=e.data("unmarked")||[],l=e.data("indeterminate")||[];if(t){n.push(a);var s=l.indexOf(a);s>-1&&l.splice(s,1),(s=i.indexOf(a))>-1&&i.splice(s,1)}else{var r=n.indexOf(a);r>-1&&n.splice(r,1),h.a.getOriginalIndeterminateIds().indexOf(a)>-1&&i.push(a),h.a.getOriginalCommonIds().indexOf(a)>-1&&i.push(a)}e.data("marked",n),e.data("unmarked",i),e.data("indeterminate",l)}},{key:"setOriginalDropdownData",value:function(e,t){var a=[];e.find('[name="label_name[]"]').map((function(){return a.push(this.value)})),t.data("marked",a)}}])&&C(t.prototype,a),n&&C(t,n),e}()},QFSp:function(e,t,a){var n=a("20jF"),i=a("QA6A");e.exports=function(e){return i(e)&&n(e)}},S9bi:function(e,t,a){var n=a("QFSp");e.exports=function(e){return n(e)?e:[]}},VNnR:function(e,t,a){var n=a("7/U+");e.exports=function(e,t){return n(e,t)}},VbCt:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a("9U97"),a("gyUR"),a("Z5ek"),a("BD5p");var n=a("3a3M"),i=a.n(n),l=a("qPgm"),s=a("0AwG");function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(t,a,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$el=t,this.namespacePath=a,this.projectPath=n,this.$dropdownBack=i()(".dropdown-menu-back",this.$el.closest(".dropdown")),this.$cancelButton=i()(".js-cancel-label-btn",this.$el),this.$newLabelField=i()("#new_label_name",this.$el),this.$newColorField=i()("#new_label_color",this.$el),this.$colorPreview=i()(".js-dropdown-label-color-preview",this.$el),this.$addList=i()(".js-add-list",this.$el),this.$newLabelError=i()(".js-label-error",this.$el),this.$newLabelCreateButton=i()(".js-new-label-btn",this.$el),this.$colorSuggestions=i()(".suggest-colors-dropdown a",this.$el),this.$newLabelError.hide(),this.$newLabelCreateButton.disable(),this.addListDefault=this.$addList.is(":checked"),this.cleanBinding(),this.addBinding()}var t,a,n;return t=e,(a=[{key:"cleanBinding",value:function(){this.$colorSuggestions.off("click"),this.$newLabelField.off("keyup change"),this.$newColorField.off("keyup change"),this.$dropdownBack.off("click"),this.$cancelButton.off("click"),this.$newLabelCreateButton.off("click")}},{key:"addBinding",value:function(){var e=this;this.$colorSuggestions.on("click",(function(t){var a=i()(this);e.addColorValue(t,a)})),this.$newLabelField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$newColorField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$dropdownBack.on("click",this.resetForm.bind(this)),this.$cancelButton.on("click",(function(t){t.preventDefault(),t.stopPropagation(),e.resetForm(),e.$dropdownBack.trigger("click")})),this.$newLabelCreateButton.on("click",this.saveLabel.bind(this))}},{key:"addColorValue",value:function(e,t){e.preventDefault(),e.stopPropagation(),this.$newColorField.val(t.data("color")).trigger("change"),this.$colorPreview.css("background-color",t.data("color")).parent().addClass("is-active")}},{key:"enableLabelCreateButton",value:function(){""!==this.$newLabelField.val()&&""!==this.$newColorField.val()?(this.$newLabelError.hide(),this.$newLabelCreateButton.enable()):this.$newLabelCreateButton.disable()}},{key:"resetForm",value:function(){this.$newLabelField.val("").trigger("change"),this.$newColorField.val("").trigger("change"),this.$addList.prop("checked",this.addListDefault),this.$colorPreview.css("background-color","").parent().removeClass("is-active")}},{key:"saveLabel",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),l.a.newLabel(this.namespacePath,this.projectPath,{title:this.$newLabelField.val(),color:this.$newColorField.val()},(function(e){if(t.$newLabelCreateButton.enable(),e.message){var a;a="string"==typeof e.message?e.message:Object.keys(e.message).map((function(t){return"".concat(Object(s.j)(t)," ").concat(e.message[t].join(", "))})).join("<br/>"),t.$newLabelError.html(a).show()}else{var n=t.$addList.is(":checked");t.$dropdownBack.trigger("click"),i()(document).trigger("created.label",[e,n])}}))}}])&&r(t.prototype,a),n&&r(t,n),e}()},hoFG:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));a("9U97"),a("kO4A"),a("t3Gg"),a("8Qi2");var n=a("G3fq"),i=a.n(n),l=a("05sH"),s=a.n(l),r=a("3a3M"),o=a.n(r),d=a("/lV4"),c=(a("X42B"),a("2ibD")),u=a("bOix"),f=a("B8wJ"),b=a("KQYO");function p(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var h=function(){function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null!==t&&(this.currentProject="string"==typeof t?JSON.parse(t):t),e.init(a,n)}var t,a,n;return t=e,n=[{key:"init",value:function(e,t){var a=o()(e);e||(a=o()(".js-milestone-select")),a.each((function(e,a){var n,l,r,p,h=o()(a),m=h.data("milestones"),g=h.data("issueUpdate"),v=h.data("showNo"),w=h.data("showAny"),j=h.data("showMenuAbove"),O=h.data("showUpcoming"),k=h.data("showStarted"),y=h.data("useId"),C=h.data("defaultLabel"),L=h.data("defaultNo"),x=h.data("abilityName"),S=h.closest(".selectbox"),$=S.closest(".block"),D=$.find(".sidebar-collapsed-icon"),I=$.find(".value"),F=$.find(".block-loading").fadeOut();return p=w?"":null,p=v&&L?Object(d.a)("No milestone"):p,r=h.data("selected")||p,g&&(l=s()('<a href="<%- web_url %>" class="bold has-tooltip" data-container="body" title="<%- remaining %>"><%- title %></a>'),n='<span class="no-value">'.concat(Object(d.a)("None"),"</span>")),h.glDropdown({showMenuAbove:j,data:function(e,t){return c.a.get(m).then((function(e){var a=e.data,n=[];w&&n.push({id:null,name:null,title:Object(d.a)("Any milestone")}),v&&n.push({id:-1,name:Object(d.a)("No milestone"),title:Object(d.a)("No milestone")}),O&&n.push({id:-2,name:"#upcoming",title:Object(d.a)("Upcoming")}),k&&n.push({id:-3,name:"#started",title:Object(d.a)("Started")}),n.length&&n.push({type:"divider"}),t(n.concat(a)),j&&h.data("glDropdown").positionMenuAbove(),o()('[data-milestone-id="'.concat(i()(r),'"] > a')).addClass("is-active")}))},renderRow:function(e){return'\n          <li data-milestone-id="'.concat(i()(e.name),"\">\n            <a href='#' class='dropdown-menu-milestone-link'>\n              ").concat(i()(e.title),"\n            </a>\n          </li>\n        ")},filterable:!0,search:{fields:["title"]},selectable:!0,toggleLabel:function(e,t){return e&&"id"in e&&o()(t).hasClass("is-active")?e.title:C},defaultLabel:C,fieldName:h.data("fieldName"),text:function(e){return i()(e.title)},id:function(e){if(void 0!==e)return y||h.is(".js-issuable-form-dropdown")?e.id:e.name},hidden:function(){return S.hide(),I.css("display","")},opened:function(e){var a=o()(e.currentTarget);(h.hasClass("js-issue-board-sidebar")||t.handleClick)&&(r=h[0].dataset.selected||p),o()("a.is-active",a).removeClass("is-active"),o()('[data-milestone-id="'.concat(i()(r),'"] > a'),a).addClass("is-active")},vue:h.hasClass("js-issue-board-sidebar"),clicked:function(e){var a,i,s=e.e,m=e.selectedObj;if(m){if(t.handleClick)return s.preventDefault(),void t.handleClick(m);var v=o()("body").attr("data-page"),w="projects:issues:index"===v,j=v==v&&"projects:merge_requests:index"===v,O=m.name!==r;if(r=O?m.name:p,h.hasClass("js-filter-bulk-update")||h.hasClass("js-issuable-form-dropdown"))s.preventDefault();else if(h.closest(".add-issues-modal").length&&(i=f.a.store.filter),i)i[h.data("fieldName")]=m.name,s.preventDefault();else{if(h.hasClass("js-filter-submit")&&(w||j))return Issuable.filterResults(h.closest("form"));if(h.hasClass("js-filter-submit"))return h.closest("form").submit();if(!h.hasClass("js-issue-board-sidebar"))return m=S.find('input[type="hidden"]').val(),(a={})[x]={},a[x].milestone_id=null!=m?m:null,F.removeClass("hidden").fadeIn(),h.trigger("loading.gl.dropdown"),c.a.put(g,a).then((function(e){var t=e.data;return h.trigger("loaded.gl.dropdown"),F.fadeOut(),S.hide(),I.css("display",""),null!=t.milestone?(t.milestone.remaining=Object(u.t)(t.milestone.due_date),t.milestone.name=t.milestone.title,I.html(l(t.milestone)),D.attr("data-original-title","".concat(t.milestone.name,"<br />").concat(t.milestone.remaining)).find("span").text(t.milestone.title)):(I.html(n),D.attr("data-original-title",Object(d.a)("Milestone")).find("span").text(Object(d.a)("None")))})).catch((function(){F.fadeOut()}));-1!==m.id&&O?Object(b.b)("milestone",new ListMilestone({id:m.id,title:m.name})):Object(b.a)("milestone"),h.trigger("loading.gl.dropdown"),F.removeClass("hidden").fadeIn(),b.c.detail.issue.update(h.attr("data-issue-update")).then((function(){h.trigger("loaded.gl.dropdown"),F.fadeOut()})).catch((function(){F.fadeOut()}))}}}})}))}}],(a=null)&&p(t.prototype,a),n&&p(t,n),e}();window.MilestoneSelect=h},rrDE:function(e,t,a){"use strict";a("va8A"),a("z4I3"),a("dj/k"),a("9U97"),a("kO4A"),a("t3Gg"),a("+kFb"),a("OZM5"),a("FMw2"),a("S6uq"),a("x/6R"),a("Z5ek"),a("4ql4"),a("8Qi2"),a("MRnW"),a("GzNv"),a("QifN"),a("tbvx"),a("Id6h"),a("orcL");var n=a("sAvI"),i=a.n(n),l=a("3a3M"),s=a.n(l),r=a("2ibD"),o=a("XRO8"),d=a("/lV4");function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}t.a={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.form,a=e.issues,n=e.prefixId;this.prefixId=n||"issue_",this.form=t||this.getElement(".bulk-update"),this.$labelDropdown=this.form.find(".js-label-select"),this.issues=a||this.getElement(".issues-list .issue"),this.willUpdateLabels=!1,this.bindEvents()},bindEvents:function(){return this.form.off("submit").on("submit",this.onFormSubmit.bind(this))},onFormSubmit:function(e){return e.preventDefault(),this.submit()},submit:function(){var e=this;r.a[this.form.attr("method")](this.form.attr("action"),this.getFormDataAsObject()).then((function(){return window.location.reload()})).catch((function(){return e.onFormSubmitFailure()}))},onFormSubmitFailure:function(){return this.form.find('[type="submit"]').enable(),new o.a(Object(d.a)("Issue update failed"))},getSelectedIssues:function(){return this.issues.has(".selected-issuable:checked")},getLabelsFromSelection:function(){var e=[];return this.getSelectedIssues().map((function(){var t=s()(this).data("labels");if(t)return t.map((function(t){if(-1===e.indexOf(t))return e.push(t)}))})),e},getUnmarkedIndeterminedLabels:function(){var e=[],t=this.$labelDropdown.data("indeterminate");return this.getLabelsFromSelection().forEach((function(a){-1===t.indexOf(a)&&e.push(a)})),e},getFormDataAsObject:function(){var e={update:{state_event:this.form.find('input[name="update[state_event]"]').val(),assignee_ids:[this.form.find('input[name="update[assignee_ids][]"]').val()],milestone_id:this.form.find('input[name="update[milestone_id]"]').val(),issuable_ids:this.form.find('input[name="update[issuable_ids]"]').val(),subscription_event:this.form.find('input[name="update[subscription_event]"]').val(),add_label_ids:[],remove_label_ids:[]}};return this.willUpdateLabels&&(e.update.add_label_ids=this.$labelDropdown.data("marked"),e.update.remove_label_ids=this.$labelDropdown.data("unmarked")),e},setOriginalDropdownData:function(){var e=s()(".bulk-update .js-label-select"),t=e.data("marked")||[],a=[].concat(c(this.getOriginalMarkedIds()),c(t));e.data("common",this.getOriginalCommonIds()),e.data("marked",a),e.data("indeterminate",this.getOriginalIndeterminateIds())},getOriginalCommonIds:function(){var e=this,t=[];return this.getElement(".selected-issuable:checked").each((function(a,n){t.push(e.getElement("#".concat(e.prefixId).concat(n.dataset.id)).data("labels"))})),i.a.apply(this,t)},getOriginalMarkedIds:function(){var e=this,t=[];return this.getElement(".selected-issuable:checked").each((function(a,n){t.push(e.getElement("#".concat(e.prefixId).concat(n.dataset.id)).data("labels"))})),i.a.apply(this,t)},getOriginalIndeterminateIds:function(){var e=this,t=[],a=[],n=[];return this.getElement(".selected-issuable:checked").each((function(i,l){(n=e.getElement("#".concat(e.prefixId).concat(l.dataset.id)).data("labels")).forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),a.push(n)})),a.unshift(t),t.filter((function(t){return!i.a.apply(e,a).includes(t)}))},getElement:function(e){return this.scopeEl=this.scopeEl||s()(".content"),this.scopeEl.find(e)}}},sAvI:function(e,t,a){var n=a("90g9"),i=a("+GAp"),l=a("Opi0"),s=a("S9bi"),r=l((function(e){var t=n(e,s);return t.length&&t[0]===e[0]?i(t):[]}));e.exports=r}}]);
//# sourceMappingURL=commons~pages.groups.boards~pages.groups.issues~pages.groups.merge_requests~pages.projects.boards~pa~fbe15064.7c0b672f.chunk.js.map