(this.webpackJsonp=this.webpackJsonp||[]).push([[240,51,52,56],{"+FvQ":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a}));var i=n("04nr"),r=function(e){return{endpoint:e.notesData.draftsPath,data:e}},s=function(e){return{endpoint:e.notesData.draftsPath,data:Object(i.h)(e)}},o=function(e,t){return e[t]?e[t].line_code:""},a=function(e,t){if(null===t)return!0;if("left"===t||"right"===t){var n="left"===t?"right":"left",i=e[t]&&e[t].line_code||"",r=e[n]&&e[n].line_code||"";if(i!==r||"left"===t&&i===r)return!0}return!1}},"/CIc":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var i=function(e,t){return e+t},r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(i)},s=function(){return r.apply(void 0,arguments)/arguments.length},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=[NaN,1/0,-1/0],i=Number(e);if(n.includes(i)||n.includes(Number(t)))return i.toString();var r={"-24":"y","-21":"z","-18":"a","-15":"f","-12":"p","-9":"n","-6":"Î¼","-3":"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",24:"Y"},s=i.toExponential(t),o=s.split("e").map(Number)[1]||0;if(o<-24||o>24)return s;var a=3*Math.floor(o/3),l=(s/Math.pow(10,a)).toFixed(t).replace(/\.([1-9]*)0+$/,(function(e,t){return t?".".concat(t):""}));return"".concat(l).concat(r[a])}},"/uU4":function(e,t,n){"use strict";var i=n("jB52"),r=(n("va8A"),n("kO4A"),n("t3Gg"),n("+kFb"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h"),n("s1D3")),s=n("yi8e"),o=n("/lV4"),a={props:{storageKey:{type:String,required:!0},value:{type:String,required:!1,default:""}},watch:{value:function(e){this.saveValue(e)}},mounted:function(){var e=this.getValue();e&&this.value!==e&&this.$emit("input",e)},methods:{getValue:function(){return localStorage.getItem(this.storageKey)},saveValue:function(e){localStorage.setItem(this.storageKey,e)}},render:function(){return this.$slots.default}},l=n("tBpV"),c=Object(l.a)(a,void 0,void 0,!1,null,null,null).exports,u=n("4ZIW"),d=n("7KAB");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=[{key:d.d,text:Object(o.a)("Newest first"),cls:"js-newest-first"},{key:d.a,text:Object(o.a)("Oldest first"),cls:"js-oldest-first"}],g={SORT_OPTIONS:m,components:{GlIcon:r.a,LocalStorageSync:c},mixins:[u.a.mixin()],computed:p(p({},Object(s.d)(["sortDirection","noteableType"])),{},{selectedOption:function(){var e=this;return m.find((function(t){var n=t.key;return e.sortDirection===n}))},dropdownText:function(){return this.selectedOption.text},storageKey:function(){return"sort_direction_".concat(this.noteableType.toLowerCase())}}),methods:p(p({},Object(s.c)(["setDiscussionSortDirection"])),{},{fetchSortedDiscussions:function(e){this.isDropdownItemActive(e)||(this.setDiscussionSortDirection(e),this.track("change_discussion_sort_direction",{property:e}))},isDropdownItemActive:function(e){return e===this.sortDirection}})},b=Object(l.a)(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-2 d-inline-block align-bottom full-width-mobile"},[n("local-storage-sync",{attrs:{value:e.sortDirection,"storage-key":e.storageKey},on:{input:e.setDiscussionSortDirection}}),e._v(" "),n("button",{staticClass:"btn btn-sm js-dropdown-text",attrs:{"data-toggle":"dropdown","aria-expanded":"false"}},[e._v("\n    "+e._s(e.dropdownText)+"\n    "),n("gl-icon",{attrs:{name:"chevron-down"}})],1),e._v(" "),n("div",{ref:"dropdownMenu",staticClass:"dropdown-menu dropdown-menu-selectable dropdown-menu-right"},[n("div",{staticClass:"dropdown-content"},[n("ul",e._l(e.$options.SORT_OPTIONS,(function(t){var i=t.text,r=t.key,s=t.cls;return n("li",{key:r},[n("button",{class:[s,{"is-active":e.isDropdownItemActive(r)}],attrs:{type:"button"},on:{click:function(t){return e.fetchSortedDiscussions(r)}}},[e._v("\n            "+e._s(i)+"\n          ")])])})),0)])])],1)}),[],!1,null,null,null).exports;t.a=function(e){var t=document.getElementById("js-vue-sort-issue-discussions");return t?new i.default({el:t,store:e,render:function(e){return e(b)}}):null}},"0DPl":function(e,t,n){"use strict";var i=n("3a3M"),r=n.n(i),s=n("Zvrg");t.a=function(e){Object(s.b)(document.querySelector(".js-diff-files-changed"),e),r()(".js-diff-stats-dropdown").glDropdown({filterable:!0,remoteFilter:!1})}},145:function(e,t,n){n("HVBj"),n("gjpc"),e.exports=n("g7k4")},"1Wlv":function(e,t,n){var i=n("k9pk")("flatMap",n("z0AR"));i.placeholder=n("gkan"),e.exports=i},"1fc5":function(e,t,n){"use strict";var i=n("/Szx"),r=n("lgrP"),s=n("t8l0");var o={vertical:{type:Boolean,default:!1},size:{type:String,default:function(){return Object(s.b)("BButton","size")}},tag:{type:String,default:"div"},ariaRole:{type:String,default:"group"}},a=i.a.extend({name:"BButtonGroup",functional:!0,props:o,render:function(e,t){var n,i,s,o=t.props,a=t.data,l=t.children;return e(o.tag,Object(r.a)(a,{class:(n={"btn-group":!o.vertical,"btn-group-vertical":o.vertical},i="btn-group-".concat(o.size),s=o.size,i in n?Object.defineProperty(n,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[i]=s,n),attrs:{role:o.ariaRole}}),l)}}),l=n("Pyw5");const c={components:{BButtonGroup:a}};const u=n.n(l)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-button-group",this._g(this._b({},"b-button-group",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,c,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=u},"1pLT":function(e,t,n){"use strict";n("t3Gg"),n("IdsT"),n("S26F"),n("+xeR");var i=n("3a3M"),r=n.n(i),s=n("/lV4"),o=n("XRO8"),a=n("QBXl"),l=(n("9U97"),n("+kFb"),n("TZoF"),n("Id6h"),n("eVUo")),c=n("06tH"),u=n.n(c),d=n("7xOh"),f=n("2ibD"),p=n("Tctl"),h=n("0DPl"),m=n("NmEs"),g=n("1OWu"),b=n("3twG"),v=n("DN5t"),_=n("bOix"),y=n("FYnm"),w=n("uqFy"),O=n("Zvrg");function j(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var C=window.location,P=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.action,i=t.setUrl,r=t.stubLocation;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mergeRequestTabs=document.querySelector(".merge-request-tabs-container"),this.mergeRequestTabsAll=this.mergeRequestTabs&&this.mergeRequestTabs.querySelectorAll?this.mergeRequestTabs.querySelectorAll(".merge-request-tabs li"):null,this.mergeRequestTabPanes=document.querySelector("#diff-notes-app"),this.mergeRequestTabPanesAll=this.mergeRequestTabPanes&&this.mergeRequestTabPanes.querySelectorAll?this.mergeRequestTabPanes.querySelectorAll(".tab-pane"):null;var s=document.querySelector(".navbar-gitlab"),o=document.getElementById("js-peek");this.commitsTab=document.querySelector(".tab-content .commits.tab-pane"),this.currentTab=null,this.diffsLoaded=!1,this.pipelinesLoaded=!1,this.commitsLoaded=!1,this.fixedLayoutPref=null,this.eventHub=Object(d.a)(),this.setUrl=void 0===i||i,this.setCurrentAction=this.setCurrentAction.bind(this),this.tabShown=this.tabShown.bind(this),this.clickTab=this.clickTab.bind(this),this.stickyTop=s?s.offsetHeight-16:0,o&&(this.stickyTop+=o.offsetHeight),this.mergeRequestTabs&&(this.stickyTop+=this.mergeRequestTabs.offsetHeight),r&&(C=r),this.bindEvents(),this.mergeRequestTabs&&this.mergeRequestTabs.querySelector("a[data-action='".concat(n,"']"))&&this.mergeRequestTabs.querySelector("a[data-action='".concat(n,"']")).click&&this.mergeRequestTabs.querySelector("a[data-action='".concat(n,"']")).click(),this.initAffix()}var t,n,i;return t=e,(n=[{key:"bindEvents",value:function(){var e=this;r()('.merge-request-tabs a[data-toggle="tabvue"]').on("click",this.clickTab),window.addEventListener("popstate",(function(t){t.state&&t.state.action&&(e.tabShown(t.state.action,t.target.location),e.currentAction=t.state.action,e.eventHub.$emit("MergeRequestTabChange",e.getCurrentAction()))}))}},{key:"unbindEvents",value:function(){r()('.merge-request-tabs a[data-toggle="tabvue"]').off("click",this.clickTab)}},{key:"destroyPipelinesView",value:function(){this.commitPipelinesTable&&(this.commitPipelinesTable.$destroy(),this.commitPipelinesTable=null,document.querySelector("#commit-pipeline-table-view").innerHTML="")}},{key:"clickTab",value:function(e){if(e.currentTarget){e.stopImmediatePropagation(),e.preventDefault();var t=(e.currentTarget.dataset||{}).action;if(Object(m.C)(e)){var n=e.currentTarget.getAttribute("href");window.open(n,"_blank")}else if(t){var i=e.currentTarget.getAttribute("href");this.tabShown(t,i),this.setUrl&&this.setCurrentAction(t),this.eventHub.$emit("MergeRequestTabChange",this.getCurrentAction())}}}},{key:"tabShown",value:function(e,t){if(e!==this.currentTab&&this.mergeRequestTabs){this.currentTab=e,this.mergeRequestTabPanesAll&&this.mergeRequestTabPanesAll.forEach((function(e){e.style.display="none"})),this.mergeRequestTabsAll&&this.mergeRequestTabsAll.forEach((function(e){e.classList.remove("active")}));var n=this.mergeRequestTabPanes.querySelector("#".concat(e));n&&(n.style.display="block");var i=this.mergeRequestTabs.querySelector(".".concat(e,"-tab"));i&&i.classList.add("active"),"commits"===e?(this.loadCommits(t),this.expandView(),this.resetViewContainer(),this.destroyPipelinesView()):"new"===e?(this.expandView(),this.resetViewContainer(),this.destroyPipelinesView()):this.isDiffAction(e)?(Object(g.d)()||this.loadDiff(t),"xl"!==l.b.getBreakpointSize()&&this.shrinkView(),this.expandViewContainer(),this.destroyPipelinesView(),this.commitsTab.classList.remove("active")):"pipelines"===e?(this.resetViewContainer(),this.mountPipelinesView()):(this.mergeRequestTabPanes.querySelector("#notes").style.display="block",this.mergeRequestTabs.querySelector(".notes-tab").classList.add("active"),"xs"!==l.b.getBreakpointSize()&&this.expandView(),this.resetViewContainer(),this.destroyPipelinesView())}else if(e===this.currentAction){var r=document.querySelector(".content-wrapper"),s=document.querySelector(".tab-content");if(r&&s){var o=r.getBoundingClientRect().top,a=s.getBoundingClientRect().top-o-51;"scrollBehavior"in document.documentElement.style?window.scrollTo({top:a,behavior:"smooth"}):window.scrollTo(0,a)}}}},{key:"scrollToElement",value:function(e){if(C.hash){var t=0-(r()(".navbar-gitlab").outerHeight()+r()(".js-tabs-affix").outerHeight()),n=r()("".concat(e," ").concat(C.hash,":not(.match)"));n.length&&r.a.scrollTo(n[0],{offset:t})}}},{key:"setCurrentAction",value:function(e){this.currentAction=e;var t=C.pathname.replace(/\/(commits|diffs|pipelines)(\.html)?\/?$/,"");return"show"!==this.currentAction&&"new"!==this.currentAction&&(t+="/".concat(this.currentAction)),t+=C.search+C.hash,window.history.state&&window.history.state.url&&window.location.pathname!==t?window.history.pushState({url:t,action:this.currentAction},document.title,t):window.history.replaceState({url:window.location.href,action:e},document.title,window.location.href),t}},{key:"getCurrentAction",value:function(){return this.currentAction}},{key:"loadCommits",value:function(e){var t=this;this.commitsLoaded||(this.toggleLoading(!0),f.a.get("".concat(e,".json")).then((function(e){var n=e.data;document.querySelector("div#commits").innerHTML=n.html,Object(_.m)(r()(".js-timeago","div#commits")),t.commitsLoaded=!0,t.scrollToElement("#commits"),t.toggleLoading(!1)})).catch((function(){t.toggleLoading(!1),Object(o.a)(Object(s.a)("An error occurred while fetching this tab."))})))}},{key:"mountPipelinesView",value:function(){var e=document.querySelector("#commit-pipeline-table-view"),t=gl,n=t.CommitPipelinesTable,i=t.mrWidgetData;this.commitPipelinesTable=new n({propsData:{endpoint:e.dataset.endpoint,helpPagePath:e.dataset.helpPagePath,emptyStateSvgPath:e.dataset.emptyStateSvgPath,errorStateSvgPath:e.dataset.errorStateSvgPath,autoDevopsHelpPath:e.dataset.helpAutoDevopsPath,canRunPipeline:!0,projectId:e.dataset.projectId,mergeRequestId:i?i.iid:null}}).$mount(),e.appendChild(this.commitPipelinesTable.$el)}},{key:"loadDiff",value:function(e){var t=this;if(this.diffsLoaded)document.dispatchEvent(new CustomEvent("scroll"));else{var n=Object(m.L)(e);this.toggleLoading(!0),f.a.get("".concat(n,".json").concat(C.search)).then((function(e){var n=e.data,i=r()("#diffs");i.html(n.html),Object(h.a)(t.stickyTop),void 0!==gl.diffNotesCompileComponents&&gl.diffNotesCompileComponents(),Object(_.m)(r()(".js-timeago","div#diffs")),Object(y.a)(r()("#diffs .js-syntax-highlight")),t.isDiffAction(t.currentAction)&&t.expandViewContainer(),t.diffsLoaded=!0,new v.a,t.scrollToElement("#diffs"),r()(".diff-file").each((function(e,t){new p.a({openButtons:r()(t).find(".js-edit-blob-link-fork-toggler"),forkButtons:r()(t).find(".js-fork-suggestion-button"),cancelButtons:r()(t).find(".js-cancel-fork-suggestion-button"),suggestionSections:r()(t).find(".js-file-fork-suggestion-section"),actionTextPieces:r()(t).find(".js-file-fork-suggestion-section-action")}).init()}));var s=Object(b.e)(),o=s&&i.find('.note[id="'.concat(s,'"]'));if(o&&o.length>0){var a=o.closest(".notes-content").hasClass("new")?"new":"old";w.a.instance.toggleDiffNote({target:o,lineType:a,forceShow:!0}),o[0].scrollIntoView(),Object(m.s)(),o.addClass("target")}t.toggleLoading(!1)})).catch((function(){t.toggleLoading(!1),Object(o.a)(Object(s.a)("An error occurred while fetching this tab."))}))}}},{key:"toggleLoading",value:function(e){r()(".mr-loading-status .loading").toggleClass("hide",!e)}},{key:"diffViewType",value:function(){return r()(".js-diff-view-buttons button.active").data("viewType")}},{key:"isDiffAction",value:function(e){return"diffs"===e||"new/diffs"===e}},{key:"expandViewContainer",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=r()(".content-wrapper .container-fluid").not(".breadcrumbs");null===this.fixedLayoutPref&&(this.fixedLayoutPref=t.hasClass("container-limited")),"parallel"===this.diffViewType()||e?t.removeClass("container-limited"):t.toggleClass("container-limited",this.fixedLayoutPref)}},{key:"resetViewContainer",value:function(){null!==this.fixedLayoutPref&&r()(".content-wrapper .container-fluid").toggleClass("container-limited",this.fixedLayoutPref)}},{key:"shrinkView",value:function(){var e=r()(".js-sidebar-toggle i:visible");setTimeout((function(){e.is(".fa-angle-double-right")&&e.closest("a").trigger("click",[!0])}),0)}},{key:"expandView",value:function(){if(!Object(m.H)(u.a.get("collapsed_gutter"))){var e=r()(".js-sidebar-toggle i:visible");setTimeout((function(){e.is(".fa-angle-double-left")&&e.closest("a").trigger("click",[!0])}),0)}}},{key:"initAffix",value:function(){var e=r()(".js-tabs-affix");"xs"!==l.b.getBreakpointSize()&&e.length&&"static"===e.css("position")&&Object(O.a)(e)}}])&&j(t.prototype,n),i&&j(t,i),e}(),D=n("FUW5"),S=n("0AwG");function k(e){var t=this;this.opts=null!=e?e:{},this.submitNoteForm=this.submitNoteForm.bind(this),this.$el=r()(".merge-request"),this.$(".show-all-commits").on("click",(function(){return t.showAllCommits()})),this.initTabs(),this.initMRBtnListeners(),this.initCommitMessageListeners(),this.closeReopenReportToggle=D.a.initCloseReopenReport(),r()(".description.js-task-list-container").length&&(this.taskList=new a.a({dataType:"merge_request",fieldName:"description",selector:".detail-page-description",lockVersion:this.$el.data("lockVersion"),onSuccess:function(e){document.querySelector("#task_status").innerText=e.task_status,document.querySelector("#task_status_short").innerText=e.task_status_short},onError:function(){Object(o.a)(Object(s.a)("Someone edited this merge request at the same time you did. Please refresh the page to see changes."))}}))}k.prototype.$=function(e){return this.$el.find(e)},k.prototype.initTabs=function(){window.mrTabs&&window.mrTabs.unbindEvents(),window.mrTabs=new P(this.opts)},k.prototype.showAllCommits=function(){return this.$(".first-commits").remove(),this.$(".all-commits").removeClass("hide")},k.prototype.initMRBtnListeners=function(){var e=this;return r()("a.btn-close, a.btn-reopen").on("click",(function(t){var n=r()(this),i=n.hasClass("btn-comment");i&&n.data("submitted")||(this.closeReopenReportToggle&&this.closeReopenReportToggle.setDisable(),i&&(n.hasClass("btn-comment-and-close")||n.hasClass("btn-comment-and-reopen"))&&(t.preventDefault(),t.stopImmediatePropagation(),e.submitNoteForm(n.closest("form"),n)))}))},k.prototype.submitNoteForm=function(e,t){if(e.find("textarea.js-note-text").val().trim().length>0)return e.submit(),t.data("submitted",!0),t.trigger("click")},k.prototype.initCommitMessageListeners=function(){r()(document).on("click","a.js-with-description-link",(function(e){var t=r()("textarea.js-commit-message");e.preventDefault(),t.val(t.data("messageWithDescription")),r()(".js-with-description-hint").hide(),r()(".js-without-description-hint").show()})),r()(document).on("click","a.js-without-description-link",(function(e){var t=r()("textarea.js-commit-message");e.preventDefault(),t.val(t.data("messageWithoutDescription")),r()(".js-with-description-hint").show(),r()(".js-without-description-hint").hide()}))},k.setStatusBoxToMerged=function(){r()(".detail-page-header .status-box").removeClass("status-box-open").addClass("status-box-mr-merged").find("span").text(Object(s.a)("Merged"))},k.decreaseCounter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=r()(".js-merge-counter"),n=Math.max(parseInt(t.text().replace(/[^\d]/,""),10)-e,0);t.text(Object(S.a)(n))},k.hideCloseButton=function(){var e=document.querySelector(".merge-request .js-issuable-actions"),t=e.querySelector("li.close-item");t?(t.classList.add("hidden"),e.querySelector("li.report-item").click()):e.querySelector(".btn-close").classList.add("hidden"),e.querySelector("li.js-close-item").classList.add("hidden")};t.a=k},"2A3y":function(e,t,n){"use strict";var i=n("g4su"),r=n("M9cx");e.exports=i("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},"2FGo":function(e,t,n){var i=n("MYHX"),r=n("eiA/")((function(e,t,n){i(e,t,n)}));e.exports=r},"3A1N":function(e,t,n){"use strict";var i=n("3a3M"),r=n.n(i),s=n("FkSe"),o=n("LLbv"),a=n("/lV4"),l=n("XRO8"),c=n("2ibD"),u=n("s5BM"),d=n("len0"),f=n("PvM2"),p=n("k4Ha"),h={components:{Icon:d.a,JobItem:f.a,GlLoadingIcon:s.a},directives:{GlTooltip:o.a},props:{stage:{type:Object,required:!0},updateDropdown:{type:Boolean,required:!1,default:!1},type:{type:String,required:!1,default:""}},data:function(){return{isLoading:!1,dropdownContent:""}},computed:{dropdownClass:function(){return this.dropdownContent.length>0?"js-builds-dropdown-container":"js-builds-dropdown-loading"},triggerButtonClass:function(){return"ci-status-icon-".concat(this.stage.status.group)},borderlessIcon:function(){return"".concat(this.stage.status.icon,"_borderless")}},watch:{updateDropdown:function(){this.updateDropdown&&this.isDropdownOpen()&&!this.isLoading&&this.fetchJobs()}},updated:function(){this.dropdownContent.length>0&&this.stopDropdownClickPropagation()},methods:{onClickStage:function(){this.isDropdownOpen()||(u.a.$emit("clickedDropdown"),this.isLoading=!0,this.fetchJobs())},fetchJobs:function(){var e=this;c.a.get(this.stage.dropdown_path).then((function(t){var n=t.data;e.dropdownContent=n.latest_statuses,e.isLoading=!1})).catch((function(){e.closeDropdown(),e.isLoading=!1,Object(l.a)(Object(a.a)("Something went wrong on our end."))}))},stopDropdownClickPropagation:function(){r()(".js-builds-dropdown-list button, .js-builds-dropdown-list a.mini-pipeline-graph-dropdown-item",this.$el).on("click",(function(e){e.stopPropagation()}))},closeDropdown:function(){this.isDropdownOpen()&&r()(this.$refs.dropdown).dropdown("toggle")},isDropdownOpen:function(){return this.$el.classList.contains("show")},pipelineActionRequestComplete:function(){this.type===p.i?u.a.$emit("refreshPipelinesTable"):r()(this.$refs.dropdown).dropdown("toggle")}}},m=n("tBpV"),g=Object(m.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown"},[n("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],ref:"dropdown",staticClass:"mini-pipeline-graph-dropdown-toggle js-builds-dropdown-button",class:e.triggerButtonClass,attrs:{id:"stageDropdown",title:e.stage.title,"data-toggle":"dropdown","data-display":"static",type:"button","aria-haspopup":"true","aria-expanded":"false"},on:{click:e.onClickStage}},[n("span",{staticClass:"no-pointer-events",attrs:{"aria-label":e.stage.title,"aria-hidden":"true"}},[n("icon",{attrs:{name:e.borderlessIcon}})],1)]),e._v(" "),n("div",{staticClass:"dropdown-menu mini-pipeline-graph-dropdown-menu js-builds-dropdown-container",attrs:{"aria-labelledby":"stageDropdown"}},[e.isLoading?n("gl-loading-icon"):n("ul",{staticClass:"js-builds-dropdown-list scrollable-menu"},e._l(e.dropdownContent,(function(t){return n("li",{key:t.id},[n("job-item",{attrs:{"dropdown-length":e.dropdownContent.length,job:t,"css-class-job-name":"mini-pipeline-graph-dropdown-item"},on:{pipelineActionRequestComplete:e.pipelineActionRequestComplete}})],1)})),0)],1)])}),[],!1,null,null,null);t.a=g.exports},"4+8U":function(e,t,n){"use strict";var i=n("Qog8"),r=n("Pyw5");const s={props:{width:{type:Number,default:400,required:!1},height:{type:Number,default:130,required:!1},preserveAspectRatio:{type:String,default:"xMidYMid meet",required:!1},baseUrl:{type:String,default:"",required:!1},uniqueKey:{type:String,default:function(){return Object(i.e)()},required:!1}}};const o=n.n(r)()({render:function(e,t){var n=t._c;return n("svg",{staticClass:"gl-skeleton-loader",attrs:{viewBox:"0 0 "+t.props.width+" "+t.props.height,version:"1.1",preserveAspectRatio:t.props.preserveAspectRatio}},[n("rect",{style:{fill:"url("+t.props.baseUrl+"#"+t.props.uniqueKey+"-idGradient)"},attrs:{"clip-path":"url("+t.props.baseUrl+"#"+t.props.uniqueKey+"-idClip)",x:"0",y:"0",width:t.props.width,height:t.props.height}}),t._v(" "),n("defs",[n("clipPath",{attrs:{id:t.props.uniqueKey+"-idClip"}},[t._t("default")],2),t._v(" "),n("linearGradient",{attrs:{id:t.props.uniqueKey+"-idGradient"}},[n("stop",{staticClass:"primary-stop",attrs:{offset:"0%"}},[n("animate",{attrs:{attributeName:"offset",values:"-2; 1",dur:"1s",repeatCount:"indefinite"}})]),t._v(" "),n("stop",{staticClass:"secondary-stop",attrs:{offset:"50%"}},[n("animate",{attrs:{attributeName:"offset",values:"-1.5; 1.5",dur:"1s",repeatCount:"indefinite"}})]),t._v(" "),n("stop",{staticClass:"primary-stop",attrs:{offset:"100%"}},[n("animate",{attrs:{attributeName:"offset",values:"-1; 2",dur:"1s",repeatCount:"indefinite"}})])],1)],1)])},staticRenderFns:[]},void 0,s,void 0,!0,void 0,!1,void 0,void 0,void 0);t.a=o},"4UiK":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return a}));n("gyUR");var i=n("0AwG"),r=function(e){try{window.localStorage.removeItem("autosave/".concat(e))}catch(e){console.error(e)}},s=function(e){try{return window.localStorage.getItem("autosave/".concat(e))}catch(e){return console.error(e),null}},o=function(e,t){try{window.localStorage.setItem("autosave/".concat(e),t)}catch(e){console.error(e)}},a=function(e,t){return["Note",Object(i.b)(e),t,"Reply"].join("/")}},"53mm":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("3twG");function r(){var e=gon&&gon.relative_url_root||"",t=Object(i.m)(e,"/assets/webpack/");n.p=t,window.__webpack_public_path__=t}},"58fc":function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("70tN"),o=n("FUyg"),a=n("ayhe"),l=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{some:function(e){var t=s(this),n=a(t),i=o(e,arguments.length>1?arguments[1]:void 0,3);return l(n,(function(e){if(i(e,e,t))return l.stop()}),void 0,!1,!0).stopped}})},"5duq":function(e,t,n){var i=n("k9pk")("fill",n("Z/v1"));i.placeholder=n("gkan"),e.exports=i},"6+df":function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},"669a":function(e,t,n){"use strict";n("va8A"),n("kO4A"),n("+kFb"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h");var i=n("yi8e");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a={methods:s(s({},Object(i.c)(["toggleDiscussion"])),{},{clickedToggle:function(e){this.toggleDiscussion({discussionId:e.id})},toggleText:function(e,t){return t+1}})}},"69Ig":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("BD5p");var i=n("NmEs");function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state={},this.state.pipelines=[],this.state.count={},this.state.pageInfo={},this.state.isRunningMergeRequestPipeline=!1}var t,n,s;return t=e,(n=[{key:"storePipelines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.state.pipelines=e}},{key:"storeCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.count=e}},{key:"storePagination",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object.keys(t).length){var n=Object(i.F)(t);e=Object(i.I)(n)}else e=t;this.state.pageInfo=e}},{key:"toggleIsRunningPipeline",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state.isRunningMergeRequestPipeline=e}}])&&r(t.prototype,n),s&&r(t,s),e}()},"6Oz9":function(e,t,n){var i=n("2v8U");e.exports=function(e,t,n,r){return i(e,(function(e,i,s){t(r,e,n(e),s)})),r}},"6wZT":function(e,t,n){var i=n("6+df"),r=n("NDsS"),s=4294967295;e.exports=function(e){return e?i(r(e),0,s):0}},"71Sp":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("FMw2"),n("QifN");var i=n("osXd"),r=n.n(i),s=n("k4Ha"),o=function(e){return r()(e,(function(e,t){return s.k.includes(t)&&e}))}},"8EXu":function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n.file-finder-overlay[data-v-9bdd7a48] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 200;\n}\n.file-finder[data-v-9bdd7a48] {\n  top: 10px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n.diff-file-changes[data-v-9bdd7a48] {\n  top: 50px;\n  max-height: 327px;\n}\n",""])},"8SJv":function(e,t,n){"use strict";var i=n("jsqw");n.n(i).a},"8d6S":function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("70tN"),o=n("FUyg"),a=n("ayhe"),l=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{every:function(e){var t=s(this),n=a(t),i=o(e,arguments.length>1?arguments[1]:void 0,3);return!l(n,(function(e){if(!i(e,e,t))return l.stop()}),void 0,!1,!0).stopped}})},"8eeg":function(e,t,n){"use strict";var i=n("BAGK");t.a=function(e){return e.deleted?i.o.deleted:e.tempFile&&!e.prevPath?i.o.addition:i.o.modified}},"96PM":function(e,t,n){var i=n("ib6H");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("qic4").default)("33bcfeeb",i,!0,{})},"9dZE":function(e,t,n){"use strict";n("9U97"),n("+xU6");var i=n("FkSe"),r=n("s1D3"),s=(n("IdsT"),n("pBsb"),{html:"html",htm:"html",html_vm:"html",asp:"html",jade:"pug",pug:"pug",md:"markdown","md.rendered":"markdown",markdown:"markdown","markdown.rendered":"markdown",rst:"markdown",blink:"blink",css:"css",scss:"sass",sass:"sass",less:"less",json:"json",yaml:"yaml","YAML-tmLanguage":"yaml",yml:"yaml",xml:"xml",plist:"xml",xsd:"xml",dtd:"xml",xsl:"xml",xslt:"xml",resx:"xml",iml:"xml",xquery:"xml",tmLanguage:"xml",manifest:"xml",project:"xml",png:"image",jpeg:"image",jpg:"image",gif:"image",svg:"image",ico:"image",tif:"image",tiff:"image",psd:"image",psb:"image",ami:"image",apx:"image",bmp:"image",bpg:"image",brk:"image",cur:"image",dds:"image",dng:"image",exr:"image",fpx:"image",gbr:"image",img:"image",jbig2:"image",jb2:"image",jng:"image",jxr:"image",pbm:"image",pgf:"image",pic:"image",raw:"image",webp:"image",js:"javascript",ejs:"javascript",esx:"javascript",jsx:"react",tsx:"react",ini:"settings",dlc:"settings",dll:"settings",config:"settings",conf:"settings",properties:"settings",prop:"settings",settings:"settings",option:"settings",props:"settings",toml:"settings",prefs:"settings","sln.dotsettings":"settings","sln.dotsettings.user":"settings",ts:"typescript","d.ts":"typescript-def",marko:"markojs",pdf:"pdf",xlsx:"table",xls:"table",csv:"table",tsv:"table",vscodeignore:"vscode",vsixmanifest:"vscode",vsix:"vscode","code-workplace":"vscode",suo:"visualstudio",sln:"visualstudio",csproj:"visualstudio",vb:"visualstudio",pdb:"database",sql:"database",pks:"database",pkb:"database",accdb:"database",mdb:"database",sqlite:"database",cs:"csharp",zip:"zip",tar:"zip",gz:"zip",xz:"zip",bzip2:"zip",gzip:"zip","7z":"zip",rar:"zip",tgz:"zip",exe:"exe",msi:"exe",java:"java",jar:"java",jsp:"java",c:"c",m:"c",h:"h",cc:"cpp",cpp:"cpp",mm:"cpp",cxx:"cpp",hpp:"hpp",go:"go",py:"python",url:"url",sh:"console",ksh:"console",csh:"console",tcsh:"console",zsh:"console",bash:"console",bat:"console",cmd:"console",ps1:"powershell",psm1:"powershell",psd1:"powershell",ps1xml:"powershell",psc1:"powershell",pssc:"powershell",gradle:"gradle",doc:"word",docx:"word",rtf:"word",cer:"certificate",cert:"certificate",crt:"certificate",pub:"key",key:"key",pem:"key",asc:"key",gpg:"key",woff:"font",woff2:"font",ttf:"font",eot:"font",suit:"font",otf:"font",bmap:"font",fnt:"font",odttf:"font",ttc:"font",font:"font",fonts:"font",sui:"font",ntf:"font",mrf:"font",lib:"lib",bib:"lib",rb:"ruby",erb:"ruby",fs:"fsharp",fsx:"fsharp",fsi:"fsharp",fsproj:"fsharp",swift:"swift",ino:"arduino",dockerignore:"docker",dockerfile:"docker",tex:"tex",cls:"tex",sty:"tex",pptx:"powerpoint",ppt:"powerpoint",pptm:"powerpoint",potx:"powerpoint",pot:"powerpoint",potm:"powerpoint",ppsx:"powerpoint",ppsm:"powerpoint",pps:"powerpoint",ppam:"powerpoint",ppa:"powerpoint",webm:"movie",mkv:"movie",flv:"movie",vob:"movie",ogv:"movie",ogg:"music",gifv:"movie",avi:"movie",mov:"movie",qt:"movie",wmv:"movie",yuv:"movie",rm:"movie",rmvb:"movie",mp4:"movie",m4v:"movie",mpg:"movie",mp2:"movie",mpeg:"movie",mpe:"movie",mpv:"movie",m2v:"movie",vdi:"virtual",vbox:"virtual","vbox-prev":"virtual",ics:"email",mp3:"music",flac:"music",m4a:"music",wma:"music",aiff:"music",coffee:"coffee",txt:"document",graphql:"graphql",rs:"rust",raml:"raml",xaml:"xaml",hs:"haskell",kt:"kotlin",kts:"kotlin",patch:"git",lua:"lua",clj:"clojure",cljs:"clojure",groovy:"groovy",r:"r",rmd:"r",dart:"dart",as:"actionscript",mxml:"mxml",ahk:"autohotkey",swf:"flash",swc:"swc",cmake:"cmake",asm:"assembly",a51:"assembly",inc:"assembly",nasm:"assembly",s:"assembly",ms:"assembly",agc:"assembly",ags:"assembly",aea:"assembly",argus:"assembly",mitigus:"assembly",binsource:"assembly",vue:"vue",ml:"ocaml",mli:"ocaml",cmx:"ocaml","js.map":"javascript-map","css.map":"css-map",lock:"lock",hbs:"handlebars",mustache:"handlebars",pl:"perl",pm:"perl",hx:"haxe","spec.ts":"test-ts","test.ts":"test-ts","ts.snap":"test-ts","spec.tsx":"test-jsx","test.tsx":"test-jsx","tsx.snap":"test-jsx","spec.jsx":"test-jsx","test.jsx":"test-jsx","jsx.snap":"test-jsx","spec.js":"test-js","test.js":"test-js","js.snap":"test-js","routing.ts":"angular-routing","routing.js":"angular-routing","module.ts":"angular","module.js":"angular","ng-template":"angular","component.ts":"angular-component","component.js":"angular-component","guard.ts":"angular-guard","guard.js":"angular-guard","service.ts":"angular-service","service.js":"angular-service","pipe.ts":"angular-pipe","pipe.js":"angular-pipe","filter.js":"angular-pipe","directive.ts":"angular-directive","directive.js":"angular-directive","resolver.ts":"angular-resolver","resolver.js":"angular-resolver",pp:"puppet",ex:"elixir",exs:"elixir",ls:"livescript",erl:"erlang",twig:"twig",jl:"julia",elm:"elm",pure:"purescript",tpl:"smarty",styl:"stylus",re:"reason",rei:"reason",cmj:"bucklescript",merlin:"merlin",v:"verilog",vhd:"verilog",sv:"verilog",svh:"verilog",nb:"mathematica",wl:"wolframlanguage",wls:"wolframlanguage",njk:"nunjucks",nunjucks:"nunjucks",robot:"robot",sol:"solidity",au3:"autoit",haml:"haml",yang:"yang",tf:"terraform","tf.json":"terraform",tfvars:"terraform",tfstate:"terraform","blade.php":"laravel","inky.php":"laravel",applescript:"applescript",cake:"cake",feature:"cucumber",nim:"nim",nimble:"nim",apib:"apiblueprint",apiblueprint:"apiblueprint",tag:"riot",vfl:"vfl",kl:"kl",pcss:"postcss",sss:"postcss",todo:"todo",cfml:"coldfusion",cfc:"coldfusion",lucee:"coldfusion",cabal:"cabal",nix:"nix",slim:"slim",http:"http",rest:"http",rql:"restql",restql:"restql",kv:"kivy",graphcool:"graphcool",sbt:"sbt","reducer.ts":"ngrx-reducer","rootReducer.ts":"ngrx-reducer","state.ts":"ngrx-state","actions.ts":"ngrx-actions","effects.ts":"ngrx-effects",cr:"crystal","drone.yml":"drone",cu:"cuda",cuh:"cuda",log:"log"}),o={".jscsrc":"json",".jshintrc":"json","tsconfig.json":"json","tslint.json":"json","composer.lock":"json",".jsbeautifyrc":"json",".esformatter":"json","cdp.pid":"json",".htaccess":"xml",".jshintignore":"settings",".buildignore":"settings",makefile:"settings",".mrconfig":"settings",".yardopts":"settings","gradle.properties":"gradle",gradlew:"gradle","gradle-wrapper.properties":"gradle",license:"certificate","license.md":"certificate","license.md.rendered":"certificate","license.txt":"certificate",licence:"certificate","licence.md":"certificate","licence.md.rendered":"certificate","licence.txt":"certificate",dockerfile:"docker","docker-compose.yml":"docker",".mailmap":"email",".gitignore":"git",".gitconfig":"git",".gitattributes":"git",".gitmodules":"git",".gitkeep":"git","git-history":"git",".Rhistory":"r","cmakelists.txt":"cmake","cmakecache.txt":"cmake","angular-cli.json":"angular",".angular-cli.json":"angular",".vfl":"vfl",".kl":"kl","postcss.config.js":"postcss",".postcssrc.js":"postcss","project.graphcool":"graphcool","webpack.js":"webpack","webpack.ts":"webpack","webpack.base.js":"webpack","webpack.base.ts":"webpack","webpack.config.js":"webpack","webpack.config.ts":"webpack","webpack.common.js":"webpack","webpack.common.ts":"webpack","webpack.config.common.js":"webpack","webpack.config.common.ts":"webpack","webpack.config.common.babel.js":"webpack","webpack.config.common.babel.ts":"webpack","webpack.dev.js":"webpack","webpack.dev.ts":"webpack","webpack.config.dev.js":"webpack","webpack.config.dev.ts":"webpack","webpack.config.dev.babel.js":"webpack","webpack.config.dev.babel.ts":"webpack","webpack.prod.js":"webpack","webpack.prod.ts":"webpack","webpack.server.js":"webpack","webpack.server.ts":"webpack","webpack.client.js":"webpack","webpack.client.ts":"webpack","webpack.config.server.js":"webpack","webpack.config.server.ts":"webpack","webpack.config.client.js":"webpack","webpack.config.client.ts":"webpack","webpack.config.production.babel.js":"webpack","webpack.config.production.babel.ts":"webpack","webpack.config.prod.babel.js":"webpack","webpack.config.prod.babel.ts":"webpack","webpack.config.prod.js":"webpack","webpack.config.prod.ts":"webpack","webpack.config.production.js":"webpack","webpack.config.production.ts":"webpack","webpack.config.staging.js":"webpack","webpack.config.staging.ts":"webpack","webpack.config.babel.js":"webpack","webpack.config.babel.ts":"webpack","webpack.config.base.babel.js":"webpack","webpack.config.base.babel.ts":"webpack","webpack.config.base.js":"webpack","webpack.config.base.ts":"webpack","webpack.config.staging.babel.js":"webpack","webpack.config.staging.babel.ts":"webpack","webpack.config.coffee":"webpack","webpack.config.test.js":"webpack","webpack.config.test.ts":"webpack","webpack.config.vendor.js":"webpack","webpack.config.vendor.ts":"webpack","webpack.config.vendor.production.js":"webpack","webpack.config.vendor.production.ts":"webpack","webpack.test.js":"webpack","webpack.test.ts":"webpack","webpack.dist.js":"webpack","webpack.dist.ts":"webpack","webpackfile.js":"webpack","webpackfile.ts":"webpack","ionic.config.json":"ionic",".io-config.json":"ionic","gulpfile.js":"gulp","gulpfile.ts":"gulp","gulpfile.babel.js":"gulp","package.json":"nodejs","package-lock.json":"nodejs",".nvmrc":"nodejs",".npmignore":"npm",".npmrc":"npm",".yarnrc":"yarn",".yarnrc.yml":"yarn","yarn.lock":"yarn",".yarnclean":"yarn",".yarn-integrity":"yarn","yarn-error.log":"yarn","androidmanifest.xml":"android",".env":"tune",".env.example":"tune",".babelrc":"babel","contributing.md":"contributing","contributing.md.rendered":"contributing","readme.md":"readme","readme.md.rendered":"readme",changelog:"changelog","changelog.md":"changelog","changelog.md.rendered":"changelog",CREDITS:"credits","credits.txt":"credits","credits.md":"credits","credits.md.rendered":"credits",".flowconfig":"flow","favicon.png":"favicon","karma.conf.js":"karma","karma.conf.ts":"karma","karma.conf.coffee":"karma","karma.config.js":"karma","karma.config.ts":"karma","karma-main.js":"karma","karma-main.ts":"karma",".bithoundrc":"bithound","appveyor.yml":"appveyor",".travis.yml":"travis","protractor.conf.js":"protractor","protractor.conf.ts":"protractor","protractor.conf.coffee":"protractor","protractor.config.js":"protractor","protractor.config.ts":"protractor","fuse.js":"fusebox",procfile:"heroku",".editorconfig":"editorconfig",".gitlab-ci.yml":"gitlab",".bowerrc":"bower","bower.json":"bower",".eslintrc.js":"eslint",".eslintrc.yaml":"eslint",".eslintrc.yml":"eslint",".eslintrc.json":"eslint",".eslintrc":"eslint",".eslintignore":"eslint","code_of_conduct.md":"conduct","code_of_conduct.md.rendered":"conduct",".watchmanconfig":"watchman","aurelia.json":"aurelia","mocha.opts":"mocha",jenkinsfile:"jenkins","firebase.json":"firebase",".firebaserc":"firebase",Rakefile:"ruby","rollup.config.js":"rollup","rollup.config.ts":"rollup","rollup-config.js":"rollup","rollup-config.ts":"rollup","rollup.config.prod.js":"rollup","rollup.config.prod.ts":"rollup","rollup.config.dev.js":"rollup","rollup.config.dev.ts":"rollup","rollup.config.prod.vendor.js":"rollup","rollup.config.prod.vendor.ts":"rollup",".hhconfig":"hack",".stylelintrc":"stylelint","stylelint.config.js":"stylelint",".stylelintrc.json":"stylelint",".stylelintrc.yaml":"stylelint",".stylelintrc.yml":"stylelint",".stylelintrc.js":"stylelint",".stylelintignore":"stylelint",".codeclimate.yml":"code-climate",".prettierrc":"prettier","prettier.config.js":"prettier",".prettierrc.js":"prettier",".prettierrc.json":"prettier",".prettierrc.yaml":"prettier",".prettierrc.yml":"prettier",".prettierignore":"prettier","nodemon.json":"nodemon",".sonarrc":"sonar",browserslist:"browserlist",".browserslistrc":"browserlist",".snyk":"snyk",".drone.yml":"drone"};var a={components:{GlLoadingIcon:i.a,GlIcon:r.a},props:{fileName:{type:String,required:!0},folder:{type:Boolean,required:!1,default:!1},submodule:{type:Boolean,required:!1,default:!1},opened:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},size:{type:Number,required:!1,default:16},cssClasses:{type:String,required:!1,default:""}},computed:{spriteHref:function(){var e,t=this.submodule?"folder-git":(e=this.fileName,o[e]||s[e?e.split(".").pop():""]||""||"file");return"".concat(gon.sprite_file_icons,"#").concat(t)},folderIconName:function(){return this.opened?"folder-open":"folder"},iconSizeClass:function(){return this.size?"s".concat(this.size):""}}},l=n("tBpV"),c=Object(l.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e.loading||e.folder?e._e():n("svg",{class:[e.iconSizeClass,e.cssClasses]},[n("use",e._b({},"use",{"xlink:href":e.spriteHref},!1))]),!e.loading&&e.folder?n("gl-icon",{staticClass:"folder-icon",attrs:{name:e.folderIconName,size:e.size}}):e._e(),e.loading?n("gl-loading-icon",{attrs:{inline:!0}}):e._e()],1)}),[],!1,null,null,null);t.a=c.exports},A3eJ:function(e,t,n){"use strict";n("va8A"),n("kO4A"),n("+kFb"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h");var i=n("yi8e");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o={computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(i.d)("batchComments",["draftsCount"]))},a=n("tBpV"),l=Object(a.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"drafts-count-component"},[n("span",{staticClass:"drafts-count-number"},[e._v(e._s(e.draftsCount))]),e._v(" "),n("span",{staticClass:"sr-only"},[e._v(" "+e._s(e.n__("draft","drafts",e.draftsCount))+" ")])])}),[],!1,null,null,null);t.a=l.exports},Bk2k:function(e,t,n){var i=n("vkS7"),r=n("sHai"),s=Object.prototype.hasOwnProperty,o=r((function(e,t,n){s.call(e,n)?e[n].push(t):i(e,n,[t])}));e.exports=o},BwV9:function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];e.call(t,r[1],r[0])}},t}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),s="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},o=2;var a=20,l=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,r=0;function a(){n&&(n=!1,e()),i&&c()}function l(){s(a)}function c(){var e=Date.now();if(n){if(e-r<o)return;i=!0}else n=!0,i=!1,setTimeout(l,t);r=e}return c}(this.refresh.bind(this),a)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;l.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),d=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||r},p=_(0,0,0,0);function h(e){return parseFloat(e)||0}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+h(e["border-"+n+"-width"])}),0)}function g(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var i=f(e).getComputedStyle(e),r=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],s=e["padding-"+r];t[r]=h(s)}return t}(i),s=r.left+r.right,o=r.top+r.bottom,a=h(i.width),l=h(i.height);if("border-box"===i.boxSizing&&(Math.round(a+s)!==t&&(a-=m(i,"left","right")+s),Math.round(l+o)!==n&&(l-=m(i,"top","bottom")+o)),!function(e){return e===f(e).document.documentElement}(e)){var c=Math.round(a+s)-t,u=Math.round(l+o)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(u)&&(l-=u)}return _(r.left,r.top,a,l)}var b="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return i?b(e)?function(e){var t=e.getBBox();return _(0,0,t.width,t.height)}(e):g(e):p}function _(e,t,n,i){return{x:e,y:t,width:n,height:i}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=_(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),w=function(e,t){var n,i,r,s,o,a,l,c=(i=(n=t).x,r=n.y,s=n.width,o=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(a.prototype),d(l,{x:i,y:r,width:s,height:o,top:r,right:i+s,bottom:o+r,left:i}),l);d(this,{target:e,contentRect:c})},O=function(){function e(e,t,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new w(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),j="undefined"!=typeof WeakMap?new WeakMap:new n,C=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),i=new O(t,n,this);j.set(this,i)};["observe","unobserve","disconnect"].forEach((function(e){C.prototype[e]=function(){var t;return(t=j.get(this))[e].apply(t,arguments)}}));var P=void 0!==r.ResizeObserver?r.ResizeObserver:C;t.a=P}).call(this,n("uKge"))},CUaz:function(e,t,n){"use strict";n("va8A"),n("kO4A"),n("+kFb"),n("8Qi2"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h");var i=n("yi8e"),r=n("/lV4");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a={props:{discussionId:{type:String,required:!1,default:null},resolveDiscussion:{type:Boolean,required:!1,default:!1},isDraft:{type:Boolean,required:!1,default:!1}},computed:o(o({},Object(i.d)(["isDiscussionResolved"])),{},{resolvedStatusMessage:function(){var e,t=this.isDiscussionResolved(this.draft?this.draft.discussion_id:this.discussionId),n=this.draft?this.draft.resolve_discussion:this.resolveDiscussion;if(!n||!t||this.$options.showStaysResolved)return n?e=t?Object(r.d)("MergeRequests|Thread stays resolved"):Object(r.d)("MergeRequests|Thread will be resolved"):t?e=Object(r.d)("MergeRequests|Thread will be unresolved"):this.$options.showStaysResolved&&(e=Object(r.d)("MergeRequests|Thread stays unresolved")),e},componentClasses:function(){return this.resolveDiscussion?"is-resolving-discussion":"is-unresolving-discussion"},resolveButtonTitle:function(){if(this.isDraft||this.discussionId)return this.resolvedStatusMessage;var e=Object(r.a)("Mark as resolved");return this.resolvedBy&&(e=Object(r.e)(Object(r.a)("Resolved by %{name}"),{name:this.resolvedBy.name})),e}}),showStaysResolved:!0}},CdyC:function(e,t,n){"use strict";n("+xU6"),n("IdsT"),n("pBsb");var i=n("MV2A"),r=n("len0"),s=n("SNRI"),o={components:{GlLink:i.a,Icon:r.a},props:{path:{type:String,required:!0},filePath:{type:String,required:!1,default:""},fileSize:{type:Number,required:!1,default:0}},computed:{fileSizeReadable:function(){return Object(s.b)(this.fileSize)},fileName:function(){return(this.filePath||this.path).split("/").pop()}}},a=n("tBpV"),l=Object(a.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"file-container"},[n("div",{staticClass:"file-content"},[n("p",{staticClass:"prepend-top-10 file-info"},[e._v("\n      "+e._s(e.fileName)+"\n      "),e.fileSize>0?[e._v("\n        ("+e._s(e.fileSizeReadable)+")\n      ")]:e._e()],2),e._v(" "),n("gl-link",{staticClass:"btn btn-default",attrs:{href:e.path,rel:"nofollow",download:e.fileName,target:"_blank"}},[n("icon",{staticClass:"float-left gl-mr-3",attrs:{size:16,name:"download"}}),e._v("\n      "+e._s(e.__("Download"))+"\n    ")],1)],1)])}),[],!1,null,null,null);t.a=l.exports},"D+Xo":function(e,t,n){"use strict";var i=n("Gjpj"),r=n("30su"),s=n("z3Iu"),o={components:{GlFormSelect:i.a,GlSprintf:r.a},props:{lineRange:{type:Object,required:!1,default:null},line:{type:Object,required:!0},commentLineOptions:{type:Array,required:!0}},data:function(){return{commentLineStart:{lineCode:this.lineRange?this.lineRange.start_line_code:this.line.line_code,type:this.lineRange?this.lineRange.start_line_type:this.line.type}}},methods:{getSymbol:function(e){var t=e.type;return Object(s.e)(t)},getLineClasses:function(e){return Object(s.c)(e)}}},a=n("tBpV"),l=Object(a.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("gl-sprintf",{attrs:{message:e.s__("MergeRequestDiffs|Commenting on lines %{selectStart}start%{selectEnd} to %{end}")},scopedSlots:e._u([{key:"select",fn:function(){return[n("label",{staticClass:"sr-only",attrs:{for:"comment-line-start"}},[e._v(e._s(e.s__("MergeRequestDiffs|Select comment starting line")))]),e._v(" "),n("gl-form-select",{staticClass:"gl-w-auto gl-vertical-align-baseline",attrs:{id:"comment-line-start",value:e.commentLineStart,options:e.commentLineOptions,size:"sm"},on:{change:function(t){return e.$emit("input",t)}}})]},proxy:!0},{key:"end",fn:function(){return[n("span",{class:e.getLineClasses(e.line)},[e._v("\n        "+e._s(e.getSymbol(e.line)+(e.line.new_line||e.line.old_line))+"\n      ")])]},proxy:!0}])})],1)}),[],!1,null,null,null);t.a=l.exports},"D/do":function(e,t,n){"use strict";var i={name:"PipelinesEmptyState",components:{GlDeprecatedButton:n("GTGS").a},props:{helpPagePath:{type:String,required:!0},emptyStateSvgPath:{type:String,required:!0},canSetCi:{type:Boolean,required:!0}}},r=n("tBpV"),s=Object(r.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row empty-state js-empty-state"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"svg-content svg-250"},[n("img",{attrs:{src:e.emptyStateSvgPath}})])]),e._v(" "),n("div",{staticClass:"col-12"},[n("div",{staticClass:"text-content"},[e.canSetCi?[n("h4",{staticClass:"text-center"},[e._v(e._s(e.s__("Pipelines|Build with confidence")))]),e._v(" "),n("p",[e._v("\n          "+e._s(e.s__("Pipelines|Continuous Integration can help\n              catch bugs by running your tests automatically,\n              while Continuous Deployment can help you deliver\n              code to your product environment."))+"\n        ")]),e._v(" "),n("div",{staticClass:"text-center"},[n("gl-deprecated-button",{staticClass:"js-get-started-pipelines",attrs:{href:e.helpPagePath,variant:"primary"}},[e._v("\n            "+e._s(e.s__("Pipelines|Get started with Pipelines"))+"\n          ")])],1)]:n("p",{staticClass:"text-center"},[e._v("\n        "+e._s(e.s__("Pipelines|This project is not currently set up to run pipelines."))+"\n      ")])],2)])])}),[],!1,null,null,null);t.a=s.exports},Ex4Z:function(e,t,n){"use strict";n("va8A"),n("kO4A"),n("+kFb"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h");var i=n("P/Kr"),r=n.n(i),s=n("yi8e"),o=n("669a");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={name:"ImageDiffOverlay",components:{Icon:n("len0").a},mixins:[o.a],props:{discussions:{type:[Array,Object],required:!0},fileHash:{type:String,required:!0},canComment:{type:Boolean,required:!1,default:!1},showCommentIcon:{type:Boolean,required:!1,default:!1},badgeClass:{type:String,required:!1,default:"badge badge-pill"},shouldToggleDiscussion:{type:Boolean,required:!1,default:!0}},computed:l(l({},Object(s.d)("diffs",["getDiffFileByHash","getCommentFormForDiffFile"])),{},{currentCommentForm:function(){return this.getCommentFormForDiffFile(this.fileHash)},allDiscussions:function(){return r()(this.discussions)?this.discussions:[this.discussions]}}),methods:l(l({},Object(s.c)("diffs",["openDiffFileCommentForm"])),{},{getImageDimensions:function(){return{width:this.$parent.width,height:this.$parent.height}},getPositionForObject:function(e){var t=e.x,n=e.y,i=e.width,r=e.height,s=this.getImageDimensions().width/i,o=this.getImageDimensions().height/r;return{x:Math.round(t*s),y:Math.round(n*o)}},getPosition:function(e){var t=this.getPositionForObject(e.position),n=t.x,i=t.y;return{left:"".concat(n,"px"),top:"".concat(i,"px")}},clickedImage:function(e,t){var n=this.getImageDimensions(),i=n.width,r=n.height;this.openDiffFileCommentForm({fileHash:this.fileHash,width:i,height:r,x:e,y:t})}})},d=n("tBpV"),f=Object(d.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"position-absolute w-100 h-100 image-diff-overlay"},[e.canComment?n("button",{staticClass:"btn-transparent position-absolute image-diff-overlay-add-comment w-100 h-100 js-add-image-diff-note-button",attrs:{type:"button"},on:{click:function(t){return e.clickedImage(t.offsetX,t.offsetY)}}},[n("span",{staticClass:"sr-only"},[e._v(" "+e._s(e.__("Add image comment"))+" ")])]):e._e(),e._v(" "),e._l(e.allDiscussions,(function(t,i){return n("button",{key:t.id,staticClass:"js-image-badge",class:[e.badgeClass,{"is-draft":t.isDraft}],style:e.getPosition(t),attrs:{disabled:!e.shouldToggleDiscussion,type:"button"},on:{click:function(n){return e.clickedToggle(t)}}},[e.showCommentIcon?n("icon",{attrs:{name:"image-comment-dark"}}):[e._v("\n      "+e._s(e.toggleText(t,i))+"\n    ")]],2)})),e._v(" "),e.currentCommentForm?n("button",{staticClass:"btn-transparent comment-indicator",style:{left:e.currentCommentForm.x+"px",top:e.currentCommentForm.y+"px"},attrs:{"aria-label":e.__("Comment form position"),type:"button"}},[n("icon",{attrs:{name:"image-comment-dark"}})],1):e._e()],2)}),[],!1,null,null,null);t.a=f.exports},FHWC:function(e,t,n){var i=n("qykh");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("qic4").default)("c4fbe54a",i,!0,{})},FUW5:function(e,t,n){"use strict";n("va8A"),n("z4I3"),n("dj/k"),n("kO4A"),n("+kFb"),n("OZM5"),n("x/6R"),n("4ql4"),n("8Qi2"),n("zCcL"),n("zpLX"),n("BD5p"),n("MRnW"),n("GzNv"),n("tbvx"),n("Id6h"),n("orcL");var i=n("Naob");function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,s=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n("d5X7").a),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dropdownTrigger=t.dropdownTrigger,this.dropdownList=t.dropdownList,this.button=t.button}var t,n,s;return t=e,(n=[{key:"initDroplab",value:function(){this.reopenItem=this.dropdownList.querySelector(".reopen-item"),this.closeItem=this.dropdownList.querySelector(".close-item"),this.droplab=new i.a;var e=this.setConfig();this.droplab.init(this.dropdownTrigger,this.dropdownList,[c],e)}},{key:"updateButton",value:function(e){this.toggleButtonType(e),this.button.blur()}},{key:"toggleButtonType",value:function(e){var t=r(this.getButtonTypes(e),2),n=t[0],i=t[1];n.classList.remove("hidden"),n.classList.add("droplab-item-selected"),i.classList.add("hidden"),i.classList.remove("droplab-item-selected"),n.click()}},{key:"getButtonTypes",value:function(e){return e?[this.reopenItem,this.closeItem]:[this.closeItem,this.reopenItem]}},{key:"setDisable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?(this.button.setAttribute("disabled","true"),this.dropdownTrigger.setAttribute("disabled","true")):(this.button.removeAttribute("disabled"),this.dropdownTrigger.removeAttribute("disabled"))}},{key:"setConfig",value:function(){return{InputSetter:[{input:this.button,valueAttribute:"data-text",inputAttribute:"data-value"},{input:this.button,valueAttribute:"data-text",inputAttribute:"title"},{input:this.button,valueAttribute:"data-button-class",inputAttribute:"class"},{input:this.dropdownTrigger,valueAttribute:"data-toggle-class",inputAttribute:"class"},{input:this.button,valueAttribute:"data-url",inputAttribute:"href"},{input:this.button,valueAttribute:"data-method",inputAttribute:"data-method"}]}}}])&&o(t.prototype,n),s&&o(t,s),e}();var d={initCloseReopenReport:function(){var e=document.querySelector(".js-issuable-close-dropdown");if(e){var t=e.querySelector(".js-issuable-close-toggle"),n=e.querySelector(".js-issuable-close-menu"),i=e.querySelector(".js-issuable-close-button"),r=new u({dropdownTrigger:t,dropdownList:n,button:i});return r.initDroplab(),r}}};t.a=d},"G/dv":function(e,t,n){"use strict";n("vHow"),n("kO4A");var i=n("XRO8"),r=n("/lV4");t.a={computed:{discussionResolved:function(){if(this.discussion){var e=this.discussion,t=e.notes,n=e.resolved;return t?t.filter((function(e){return!e.system})).every((function(e){return e.resolved})):n}return this.note.resolved},resolveButtonTitle:function(){return this.updatedNoteBody?this.discussionResolved?Object(r.a)("Comment & unresolve thread"):Object(r.a)("Comment & resolve thread"):this.discussionResolved?Object(r.a)("Unresolve thread"):Object(r.a)("Resolve thread")}},methods:{resolveHandler:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.note&&this.note.isDraft)return this.$emit("toggleResolveStatus");this.isResolving=!0;var n=this.discussionResolved||t,s=this.resolveAsThread,o=s?this.discussion.resolve_path:"".concat(this.note.path,"/resolve");return this.toggleResolveNote({endpoint:o,isResolved:n,discussion:s}).then((function(){e.isResolving=!1})).catch((function(){e.isResolving=!1;var t=Object(r.a)("Something went wrong while resolving this discussion. Please try again.");Object(i.a)(t,"alert",e.$el)}))}}}},GDOA:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("70tN"),o=n("AgLN"),a=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:function(e){var t=s(this),n=o(t.has);return!a(e,(function(e){if(!0===n.call(t,e))return a.stop()})).stopped}})},Gjpj:function(e,t,n){"use strict";var i=n("/Szx"),r=n("TjC/"),s=n("rPnh"),o=n("DXSV"),a=n("Vxxt"),l=n("Tu1i"),c=n("QlUp"),u={props:{plain:{type:Boolean,default:!1}},computed:{custom:function(){return!this.plain}}},d=n("EQ0+"),f=n("A7+L"),p=n("7bmO"),h=n("BrvI"),m=n("SGKy"),g={mixins:[m.a],props:{labelField:{type:String,default:"label"},optionsField:{type:String,default:"options"}},methods:{normalizeOption:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object(p.i)(e)){var n=Object(f.a)(e,this.valueField),i=Object(f.a)(e,this.textField),r=Object(f.a)(e,this.optionsField,null);return Object(h.e)(r)?{value:Object(h.j)(n)?t||i:n,text:String(Object(h.j)(i)?t:i),html:Object(f.a)(e,this.htmlField),disabled:Boolean(Object(f.a)(e,this.disabledField))}:{label:String(Object(f.a)(e,this.labelField)||i),options:this.normalizeOptions(r)}}return{value:t||e,text:String(e),disabled:!1}}}},b=n("lgrP"),v={value:{required:!0},disabled:{type:Boolean,default:!1}},_=i.a.extend({name:"BFormSelectOption",functional:!0,props:v,render:function(e,t){var n=t.props,i=t.data,r=t.children,s=n.value,o=n.disabled;return e("option",Object(b.a)(i,{attrs:{disabled:o},domProps:{value:s}}),r)}}),y=i.a.extend({name:"BFormSelectOptionGroup",mixins:[d.a,m.a],props:{label:{type:String,required:!0}},render:function(e){return e("optgroup",{attrs:{label:this.label}},[this.normalizeSlot("first"),this.formOptions.map((function(t,n){return e(_,{props:{value:t.value,disabled:t.disabled},domProps:Object(s.a)(t.html,t.text),key:"option_".concat(n,"_opt")})})),this.normalizeSlot("default")])}}),w=i.a.extend({name:"BFormSelect",mixins:[o.a,d.a,a.a,l.a,c.a,u,g],model:{prop:"value",event:"input"},props:{value:{},multiple:{type:Boolean,default:!1},selectSize:{type:Number,default:0},ariaInvalid:{type:[Boolean,String],default:!1}},data:function(){return{localValue:this.value}},computed:{computedSelectSize:function(){return this.plain||0!==this.selectSize?this.selectSize:null},inputClass:function(){return[this.plain?"form-control":"custom-select",this.size&&this.plain?"form-control-".concat(this.size):null,this.size&&!this.plain?"custom-select-".concat(this.size):null,this.stateClass]},computedAriaInvalid:function(){return!0===this.ariaInvalid||"true"===this.ariaInvalid?"true":"is-invalid"===this.stateClass?"true":null}},watch:{value:function(e){this.localValue=e},localValue:function(){this.$emit("input",this.localValue)}},methods:{focus:function(){this.$refs.input.focus()},blur:function(){this.$refs.input.blur()}},render:function(e){var t=this;return e("select",{ref:"input",class:this.inputClass,directives:[{name:"model",rawName:"v-model",value:this.localValue,expression:"localValue"}],attrs:{id:this.safeId(),name:this.name,form:this.form||null,multiple:this.multiple||null,size:this.computedSelectSize,disabled:this.disabled,required:this.required,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid},on:{change:function(e){var n=e.target,i=Object(r.c)(n.options).filter((function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));t.localValue=n.multiple?i:i[0],t.$nextTick((function(){t.$emit("change",t.localValue)}))}}},[this.normalizeSlot("first"),this.formOptions.map((function(t,n){var i="option_".concat(n,"_opt"),o=t.options;return Object(r.d)(o)?e(y,{props:{label:t.label,options:o},key:i}):e(_,{props:{value:t.value,disabled:t.disabled},domProps:Object(s.a)(t.html,t.text),key:i})})),this.normalizeSlot("default")])}}),O=n("Pyw5");const j={components:{BFormSelect:w},inheritAttrs:!1};const C=n.n(O)()({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("b-form-select",e._g(e._b({staticClass:"gl-form-select"},"b-form-select",e.$attrs,!1),e.$listeners),[e._l(Object.keys(e.$slots),(function(t){return e._t(t,null,{slot:t})}))],2)},staticRenderFns:[]},void 0,j,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=C},GuZl:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s}));var i=1024,r="hidden",s={fixed:"fixed",anchored:"anchored",rolling:"rolling",open:"open",invalid:"invalid"}},Gx1T:function(e,t,n){"use strict";var i=n("S8W2"),r=n.n(i),s=n("hXLA"),o=n("kPIO"),a=n("Pyw5");const l={props:{options:{type:Object,required:!0},disableTheme:{type:Boolean,required:!1,default:!1},width:{type:Number,required:!1,default:null},height:{type:Number,required:!1,default:null},groupId:{type:String,required:!1,default:""},renderer:{type:String,required:!1,default:"svg",validator:function(e){return o.o.includes(e)}}},data:function(){return{chart:null}},watch:{options:function(){this.draw()},width:function(){this.setChartSize()},height:function(){this.setChartSize()}},created:function(){this.disableTheme||r.a.registerTheme(s.e,s.b)},mounted:function(){this.chart=r.a.init(this.$refs.chart,this.disableTheme?null:s.e,{renderer:this.renderer}),this.groupId.length&&(this.chart.group=this.groupId,r.a.connect(this.groupId)),this.chart.on("click",this.clickHandler),this.$emit("created",this.chart),this.draw(),this.setChartSize()},beforeDestroy:function(){this.chart.off("click",this.clickHandler)},methods:{draw:function(){this.chart.setOption(this.options),this.$emit("updated",this.chart)},setChartSize:function(){this.chart.resize({width:this.width||"auto",height:this.height||o.e})},clickHandler:function(e){this.$emit("chartItemClicked",{chart:this.chart,params:e})}}};const c=n.n(a)()({render:function(){var e=this.$createElement;return(this._self._c||e)("div",{ref:"chart"})},staticRenderFns:[]},void 0,l,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=c},HnlB:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e,t){return Boolean(e&&t&&new Date(e).getTime()===new Date(t).getTime())}},IKCR:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("70tN"),o=n("ayhe"),a=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{join:function(e){var t=s(this),n=o(t),i=void 0===e?",":String(e),r=[];return a(n,r.push,r,!1,!0),r.join(i)}})},IYHS:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("70tN"),o=n("FUyg"),a=n("ayhe"),l=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{find:function(e){var t=s(this),n=a(t),i=o(e,arguments.length>1?arguments[1]:void 0,3);return l(n,(function(e){if(i(e,e,t))return l.stop(e)}),void 0,!1,!0).result}})},IfLy:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return l}));var i=8,r=13,s=27,o=38,a=40,l=46},IsdW:function(e,t,n){"use strict";n("va8A"),n("kO4A"),n("+kFb"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h");var i=n("yi8e");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a={computed:s(s({},Object(i.d)(["getNoteableDataByProp"])),{},{isProjectArchived:function(){return this.getNoteableDataByProp("is_project_archived")},archivedProjectDocsPath:function(){return this.getNoteableDataByProp("archived_project_docs_path")},lockedIssueDocsPath:function(){return this.getNoteableDataByProp("locked_discussion_docs_path")},confidentialIssueDocsPath:function(){return this.getNoteableDataByProp("confidential_issues_docs_path")}}),methods:{isConfidential:function(e){return Boolean(e.confidential)},isLocked:function(e){return Boolean(e.discussion_locked)},hasWarning:function(e){return this.isConfidential(e)||this.isLocked(e)}}}},IwtM:function(e,t,n){"use strict";n("va8A"),n("kO4A"),n("+kFb"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h");var i=n("yi8e"),r=n("+FvQ"),s=n("pIt4"),o=n("XRO8"),a=n("/lV4"),l=n("4UiK");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a={computed:u(u(u(u({},Object(i.e)({noteableData:function(e){return e.notes.noteableData},notesData:function(e){return e.notes.notesData},withBatchComments:function(e){var t;return null===(t=e.batchComments)||void 0===t?void 0:t.withBatchComments}})),Object(i.d)("diffs",["getDiffFileByHash"])),Object(i.d)("batchComments",["shouldRenderDraftRowInDiscussion","draftForDiscussion"])),Object(i.e)("diffs",["commit"])),methods:u(u(u({},Object(i.c)("diffs",["cancelCommentForm"])),Object(i.c)("batchComments",["addDraftToReview","saveDraft","insertDraftIntoDrafts"])),{},{addReplyToReview:function(e,t){var n=this,i=Object(r.b)({in_reply_to_discussion_id:this.discussion.reply_id,target_type:this.getNoteableData.targetType,notesData:this.notesData,draft_note:{note:e,resolve_discussion:t}});this.discussion.for_commit&&(i.note_project_id=this.discussion.project_id),this.isReplying=!1,this.saveDraft(i).then((function(){n.handleClearForm(n.discussion.line_code)})).catch((function(){Object(o.a)(Object(a.d)("MergeRequests|An error occurred while saving the draft comment."))}))},addToReview:function(e){var t,n,i=this,l=this.diffFileCommentForm?s.k:s.R,c=this.getDiffFileByHash(this.diffFileHash),d=Object(r.a)(u({note:e,notesData:this.notesData,noteableData:this.noteableData,noteableType:this.noteableType,noteTargetLine:this.noteTargetLine,diffViewType:this.diffViewType,diffFile:c,linePosition:this.position,positionType:l},this.diffFileCommentForm)),f=this.commit&&(null==this?void 0:null===(t=this.diffFile)||void 0===t?void 0:null===(n=t.diff_refs)||void 0===n?void 0:n.head_sha);return d.data.note.commit_id=f||null,this.saveDraft(d).then((function(){l===s.k?i.closeDiffFileCommentForm(i.diffFileHash):i.handleClearForm(i.line.line_code)})).catch((function(){Object(o.a)(Object(a.d)("MergeRequests|An error occurred while saving the draft comment."))}))},handleClearForm:function(e){var t=this;this.cancelCommentForm({lineCode:e,fileHash:this.diffFileHash}),this.$nextTick((function(){t.autosaveKey?Object(l.a)(t.autosaveKey):t.resetAutoSave()}))},showDraft:function(e){return this.withBatchComments&&this.shouldRenderDraftRowInDiscussion(e)}})}},J7NB:function(e,t,n){"use strict";var i=n("jB52");t.a=new i.default},JCWm:function(e,t,n){"use strict";n("+xU6");var i=n("h7kv"),r=n.n(i),s=n("SNRI"),o={props:{path:{type:String,required:!0},fileSize:{type:Number,required:!1,default:0},renderInfo:{type:Boolean,default:!0,required:!1},innerCssClasses:{type:[Array,Object,String],required:!1,default:""}},data:function(){return{width:0,height:0}},computed:{fileSizeReadable:function(){return Object(s.b)(this.fileSize)},hasFileSize:function(){return this.fileSize>0},hasDimensions:function(){return this.width&&this.height}},beforeDestroy:function(){window.removeEventListener("resize",this.resizeThrottled,!1)},mounted:function(){this.onImgLoad(),this.resizeThrottled=r()(this.onImgLoad,400),window.addEventListener("resize",this.resizeThrottled,!1)},methods:{onImgLoad:function(){requestIdleCallback(this.calculateImgSize,{timeout:1e3})},calculateImgSize:function(){var e=this,t=this.$refs.contentImg;t&&(this.width=t.naturalWidth,this.height=t.naturalHeight,this.$nextTick((function(){e.$emit("imgLoaded",{width:e.width,height:e.height,renderedWidth:t.clientWidth,renderedHeight:t.clientHeight})})))}}},a=n("tBpV"),l=Object(a.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"position-relative",class:e.innerCssClasses},[n("img",{ref:"contentImg",attrs:{src:e.path},on:{load:e.onImgLoad}}),e._v(" "),e._t("image-overlay")],2),e._v(" "),e.renderInfo?n("p",{staticClass:"image-info"},[e.hasFileSize?[e._v("\n      "+e._s(e.fileSizeReadable)+"\n    ")]:e._e(),e._v(" "),e.hasFileSize&&e.hasDimensions?[e._v("\n      |\n    ")]:e._e(),e._v(" "),e.hasDimensions?[n("strong",[e._v(e._s(e.s__("ImageViewerDimensions|W")))]),e._v(": "+e._s(e.width)+" | "),n("strong",[e._v(e._s(e.s__("ImageViewerDimensions|H")))]),e._v(": "+e._s(e.height)+"\n    ")]:e._e()],2):e._e()])}),[],!1,null,null,null);t.a=l.exports},JVoq:function(e,t,n){"use strict";var i=n("eRq8");n.n(i).a},Kfmh:function(e,t,n){"use strict";var i=n("uSmA");n.n(i).a},Lft7:function(e,t,n){var i=n("v6X+");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("qic4").default)("1e018212",i,!0,{})},MViX:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("OuD2"),o=n("70tN"),a=n("AgLN"),l=n("eclS"),c=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{intersection:function(e){var t=o(this),n=new(l(t,s("Set"))),i=a(t.has),r=a(n.add);return c(e,(function(e){i.call(t,e)&&r.call(n,e)})),n}})},MYHX:function(e,t,n){var i=n("omPs"),r=n("Xxsa"),s=n("BBZX"),o=n("f2WW"),a=n("XCkn"),l=n("UwPs"),c=n("VVrI");e.exports=function e(t,n,u,d,f){t!==n&&s(n,(function(s,l){if(f||(f=new i),a(s))o(t,n,l,u,e,d,f);else{var p=d?d(c(t,l),s,l+"",t,n,f):void 0;void 0===p&&(p=s),r(t,l,p)}}),l)}},Mvx7:function(e,t,n){"use strict";var i=n("G3fq"),r=n.n(i),s=n("MV2A"),o=n("/lV4");function a(e){return'<a href="'.concat(r()(e),'" target="_blank" rel="noopener noreferrer">')}var l={components:{icon:n("len0").a,GlLink:s.a},props:{isLocked:{type:Boolean,default:!1,required:!1},isConfidential:{type:Boolean,default:!1,required:!1},lockedIssueDocsPath:{type:String,required:!1,default:""},confidentialIssueDocsPath:{type:String,required:!1,default:""}},computed:{warningIcon:function(){return this.isConfidential?"eye-slash":this.isLocked?"lock":""},isLockedAndConfidential:function(){return this.isConfidential&&this.isLocked},confidentialAndLockedDiscussionText:function(){return Object(o.e)(Object(o.a)("This issue is %{confidentialLinkStart}confidential%{linkEnd} and %{lockedLinkStart}locked%{linkEnd}."),{confidentialLinkStart:a(this.confidentialIssueDocsPath),lockedLinkStart:a(this.lockedIssueDocsPath),linkEnd:"</a>"},!1)}}},c=n("tBpV"),u=Object(c.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"issuable-note-warning"},[e.isLockedAndConfidential?e._e():n("icon",{staticClass:"icon inline",attrs:{name:e.warningIcon,size:16}}),e._v(" "),e.isLockedAndConfidential?n("span",{ref:"lockedAndConfidential"},[n("span",{domProps:{innerHTML:e._s(e.confidentialAndLockedDiscussionText)}}),e._v("\n    "+e._s(e.__("People without permission will never get a notification and won't be able to comment."))+"\n  ")]):e.isConfidential?n("span",{ref:"confidential"},[e._v("\n    "+e._s(e.__("This is a confidential issue."))+"\n    "+e._s(e.__("People without permission will never get a notification."))+"\n    "),n("gl-link",{attrs:{href:e.confidentialIssueDocsPath,target:"_blank"}},[e._v("\n      "+e._s(e.__("Learn more"))+"\n    ")])],1):e.isLocked?n("span",{ref:"locked"},[e._v("\n    "+e._s(e.__("This issue is locked."))+"\n    "+e._s(e.__("Only project members can comment."))+"\n    "),n("gl-link",{attrs:{href:e.lockedIssueDocsPath,target:"_blank"}},[e._v("\n      "+e._s(e.__("Learn more"))+"\n    ")])],1):e._e()],1)}),[],!1,null,null,null);t.a=u.exports},NSOW:function(e,t,n){"use strict";var i=n("96PM");n.n(i).a},OIsX:function(e,t,n){"use strict";n("+xU6"),n("IdsT"),n("S26F");var i=n("0AwG"),r={props:{path:{type:String,required:!0}},computed:{truncatedPath:function(){return Object(i.q)(this.path,40)}}},s=n("tBpV"),o=Object(s.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"file-row-header bg-white sticky-top p-2 js-file-row-header",attrs:{title:this.path}},[t("span",{staticClass:"bold"},[this._v(this._s(this.truncatedPath))])])}),[],!1,null,null,null).exports,a=n("9dZE"),l=n("3twG"),c={name:"FileRow",components:{FileHeader:o,FileIcon:a.a},props:{file:{type:Object,required:!0},level:{type:Number,required:!0}},computed:{isTree:function(){return"tree"===this.file.type},isBlob:function(){return"blob"===this.file.type},levelIndentation:function(){return{marginLeft:this.level?"".concat(16*this.level,"px"):null}},fileClass:function(){return{"file-open":this.isBlob&&this.file.opened,"is-active":this.isBlob&&this.file.active,folder:this.isTree,"is-open":this.file.opened}},textForTitle:function(){var e,t;return!!(null===(e=this.file)||void 0===e?void 0:null===(t=e.tree)||void 0===t?void 0:t.length)&&this.file.tree[0].parentPath}},watch:{"file.active":function(e){"blob"===this.file.type&&e&&this.scrollIntoView()}},mounted:function(){this.hasPathAtCurrentRoute()&&this.scrollIntoView(!0)},methods:{toggleTreeOpen:function(e){this.$emit("toggleTreeOpen",e)},clickedFile:function(e){this.$emit("clickFile",e)},clickFile:function(){this.isTree&&this.hasUrlAtCurrentRoute()&&this.toggleTreeOpen(this.file.path),this.$router&&this.$router.push("/project".concat(this.file.url)),this.isBlob&&this.clickedFile(this.file.path)},scrollIntoView:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e&&this.isTree?"center":"nearest";this.$el.scrollIntoView({behavior:"smooth",block:t})},hasPathAtCurrentRoute:function(){if(!this.$router||!this.$router.currentRoute)return!1;var e=this.$router.currentRoute.path.replace(/^.*?[\/]-[\/]/g,"").replace(/[\/]$/g,"");return this.file.path.replace(/[\/]$/g,"")===e},hasUrlAtCurrentRoute:function(){return!this.$router||!this.$router.currentRoute||this.$router.currentRoute.path==="/project".concat(Object(l.b)(this.file.url))}}},u=(n("JVoq"),Object(s.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.file.isHeader?n("file-header",{attrs:{path:e.file.path}}):n("div",{staticClass:"file-row",class:e.fileClass,attrs:{title:e.textForTitle,"data-level":e.level,role:"button"},on:{click:e.clickFile,mouseleave:function(t){return e.$emit("mouseleave",t)}}},[n("div",{staticClass:"file-row-name-container"},[n("span",{ref:"textOutput",staticClass:"file-row-name str-truncated",style:e.levelIndentation},[n("file-icon",{staticClass:"file-row-icon",class:{"text-secondary":"tree"===e.file.type},attrs:{"file-name":e.file.name,loading:e.file.loading,folder:e.isTree,opened:e.file.opened,size:16}}),e._v("\n      "+e._s(e.file.name)+"\n    ")],1),e._v(" "),e._t("default")],2)])}),[],!1,null,null,null));t.a=u.exports},OZZk:function(e,t,n){"use strict";var i=n("jB52"),r={props:{signedIn:{type:Boolean,required:!0},sidebarStatusClass:{type:String,required:!1,default:""}}},s=n("tBpV"),o=Object(s.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("aside",{staticClass:"right-sidebar js-right-sidebar js-issuable-sidebar",class:this.sidebarStatusClass,attrs:{"aria-live":"polite"}})}),[],!1,null,null,null).exports;t.a=function(){var e=document.getElementById("js-vue-issuable-sidebar");if(!e)return!1;var t=e.dataset.sidebarStatusClass,n=""===e.dataset.signedIn;return new i.default({el:e,components:{SidebarApp:o},render:function(e){return e("sidebar-app",{props:{signedIn:n,sidebarStatusClass:t}})}})}},OgyL:function(e,t,n){"use strict";var i=n("tBpV"),r=Object(i.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"timeline-entry"},[t("div",{staticClass:"timeline-entry-inner"},[this._t("default")],2)])}),[],!1,null,null,null);t.a=r.exports},OsT7:function(e,t,n){"use strict";n("va8A"),n("kO4A"),n("+kFb"),n("+xU6"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h");var i=n("yi8e"),r=n("3twG"),s=n("J7NB"),o=n("Mvx7"),a=n("IeAI"),l=n("IsdW"),c=n("G/dv"),u=n("/lV4"),d=n("4UiK");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={name:"NoteForm",components:{issueWarning:o.a,markdownField:a.a},mixins:[l.a,c.a],props:{noteBody:{type:String,required:!1,default:""},noteId:{type:[String,Number],required:!1,default:""},saveButtonTitle:{type:String,required:!1,default:Object(u.a)("Save comment")},discussion:{type:Object,required:!1,default:function(){return{}}},isEditing:{type:Boolean,required:!0},lineCode:{type:String,required:!1,default:""},resolveDiscussion:{type:Boolean,required:!1,default:!1},line:{type:Object,required:!1,default:null},note:{type:Object,required:!1,default:null},diffFile:{type:Object,required:!1,default:null},helpPagePath:{type:String,required:!1,default:""},autosaveKey:{type:String,required:!1,default:""},showSuggestPopover:{type:Boolean,required:!1,default:!1},isDraft:{type:Boolean,required:!1,default:!1}},data:function(){var e=this.noteBody;return!e&&this.autosaveKey&&(e=Object(d.c)(this.autosaveKey)||""),{updatedNoteBody:e,conflictWhileEditing:!1,isSubmitting:!1,isResolving:this.resolveDiscussion,isUnresolving:!this.resolveDiscussion,resolveAsThread:!0}},computed:p(p(p(p({},Object(i.d)(["getDiscussionLastNote","getNoteableData","getNoteableDataByProp","getNotesDataByProp","getUserDataByProp"])),Object(i.e)({withBatchComments:function(e){var t;return null===(t=e.batchComments)||void 0===t?void 0:t.withBatchComments}})),Object(i.d)("batchComments",["hasDrafts"])),{},{showBatchCommentsActions:function(){return this.withBatchComments&&""===this.noteId&&!this.discussion.for_commit},showResolveDiscussionToggle:function(){var e;return(null===(e=this.discussion)||void 0===e?void 0:e.id)&&this.discussion.resolvable||this.isDraft},noteHash:function(){return this.noteId?"#note_".concat(this.noteId):"#"},diffParams:function(){return this.diffFile?{filePath:this.diffFile.file_path,refs:this.diffFile.diff_refs}:this.note&&this.note.position?{filePath:this.note.position.new_path,refs:this.note.position}:this.discussion&&this.discussion.diff_file?{filePath:this.discussion.diff_file.file_path,refs:this.discussion.diff_file.diff_refs}:null},markdownPreviewPath:function(){var e=this.getNoteableDataByProp("preview_note_path"),t=this.line&&this.diffParams,n=t?{preview_suggestions:t,line:this.line.new_line,file_path:this.diffParams.filePath,base_sha:this.diffParams.refs.base_sha,start_sha:this.diffParams.refs.start_sha,head_sha:this.diffParams.refs.head_sha}:{};return Object(r.n)(n,e)},markdownDocsPath:function(){return this.getNotesDataByProp("markdownDocsPath")},quickActionsDocsPath:function(){return this.isEditing?void 0:this.getNotesDataByProp("quickActionsDocsPath")},currentUserId:function(){return this.getUserDataByProp("id")},isDisabled:function(){return!this.updatedNoteBody.length||this.isSubmitting},discussionNote:function(){var e=this.discussion.id?this.getDiscussionLastNote(this.discussion):this.note;return e||{}},canSuggest:function(){return this.getNoteableData.can_receive_suggestion&&this.line&&this.line.can_receive_suggestion},changedCommentText:function(){return Object(u.e)(Object(u.a)("This comment has changed since you started editing, please review the %{startTag}updated comment%{endTag} to ensure information is not lost."),{startTag:'<a href="'.concat(this.noteHash,'" target="_blank" rel="noopener noreferrer">'),endTag:"</a>"},!1)}}),watch:{noteBody:function(){this.updatedNoteBody===this.noteBody?this.updatedNoteBody=this.noteBody:this.conflictWhileEditing=!0}},mounted:function(){this.$refs.textarea.focus()},methods:p(p({},Object(i.c)(["toggleResolveNote"])),{},{shouldToggleResolved:function(e,t){var n=this.shouldBeResolved&&this.shouldBeResolved(e);return e||void 0!==n&&t!==n},editMyLastNote:function(){if(""===this.updatedNoteBody){var e=this.getDiscussionLastNote(this.discussion);e&&s.a.$emit("enterEditMode",{noteId:e.id})}},cancelHandler:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("cancelForm",e,this.noteBody!==this.updatedNoteBody)},onInput:function(){if(this.autosaveKey){var e=this.autosaveKey,t=this.updatedNoteBody;Object(d.d)(e,t)}},handleKeySubmit:function(){this.showBatchCommentsActions?this.handleAddToReview():this.handleUpdate()},handleUpdate:function(e){var t=this,n=this.discussionResolved;this.isSubmitting=!0,this.$emit("handleFormUpdate",this.updatedNoteBody,this.$refs.editNoteForm,(function(){t.isSubmitting=!1,t.shouldToggleResolved(e,n)&&t.resolveHandler(n)}),this.discussionResolved?!this.isUnresolving:this.isResolving)},shouldBeResolved:function(e){return this.withBatchComments?this.discussionResolved&&!this.isUnresolving||!this.discussionResolved&&this.isResolving:e},handleAddToReview:function(){var e=this.discussionResolved&&!this.isUnresolving||!this.discussionResolved&&this.isResolving;this.isSubmitting=!0,this.$emit("handleFormUpdateAddToReview",this.updatedNoteBody,e)}})},g=n("tBpV"),b=Object(g.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"editNoteForm",staticClass:"note-edit-form current-note-edit-form js-discussion-note-form"},[e.conflictWhileEditing?n("div",{staticClass:"js-conflict-edit-warning alert alert-danger",domProps:{innerHTML:e._s(e.changedCommentText)}}):e._e(),e._v(" "),n("div",{staticClass:"flash-container timeline-content"}),e._v(" "),n("form",{staticClass:"edit-note common-note-form js-quick-submit gfm-form",attrs:{"data-line-code":e.lineCode}},[e.hasWarning(e.getNoteableData)?n("issue-warning",{attrs:{"is-locked":e.isLocked(e.getNoteableData),"is-confidential":e.isConfidential(e.getNoteableData),"locked-issue-docs-path":e.lockedIssueDocsPath,"confidential-issue-docs-path":e.confidentialIssueDocsPath}}):e._e(),e._v(" "),n("markdown-field",{attrs:{"markdown-preview-path":e.markdownPreviewPath,"markdown-docs-path":e.markdownDocsPath,"quick-actions-docs-path":e.quickActionsDocsPath,line:e.line,note:e.discussionNote,"can-suggest":e.canSuggest,"add-spacing-classes":!1,"help-page-path":e.helpPagePath,"show-suggest-popover":e.showSuggestPopover},on:{handleSuggestDismissed:function(){return e.$emit("handleSuggestDismissed")}}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.updatedNoteBody,expression:"updatedNoteBody"}],ref:"textarea",staticClass:"note-textarea js-gfm-input js-note-text js-autosize markdown-area js-vue-issue-note-form js-vue-textarea qa-reply-input",attrs:{slot:"textarea",id:"note_note","data-supports-quick-actions":!e.isEditing,name:"note[note]",dir:"auto","aria-label":e.__("Description"),placeholder:e.__("Write a comment or drag your files hereâ¦")},domProps:{value:e.updatedNoteBody},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?e.handleKeySubmit():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.handleKeySubmit():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.editMyLastNote()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.cancelHandler(!0)}],input:[function(t){t.target.composing||(e.updatedNoteBody=t.target.value)},e.onInput]},slot:"textarea"})]),e._v(" "),n("div",{staticClass:"note-form-actions clearfix"},[e.showBatchCommentsActions?[e.showResolveDiscussionToggle?n("p",[n("label",[e.discussionResolved?[n("input",{directives:[{name:"model",rawName:"v-model",value:e.isUnresolving,expression:"isUnresolving"}],staticClass:"js-unresolve-checkbox",attrs:{type:"checkbox","data-qa-selector":"unresolve_review_discussion_checkbox"},domProps:{checked:Array.isArray(e.isUnresolving)?e._i(e.isUnresolving,null)>-1:e.isUnresolving},on:{change:function(t){var n=e.isUnresolving,i=t.target,r=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&(e.isUnresolving=n.concat([null])):s>-1&&(e.isUnresolving=n.slice(0,s).concat(n.slice(s+1)))}else e.isUnresolving=r}}}),e._v("\n              "+e._s(e.__("Unresolve thread"))+"\n            ")]:[n("input",{directives:[{name:"model",rawName:"v-model",value:e.isResolving,expression:"isResolving"}],staticClass:"js-resolve-checkbox",attrs:{type:"checkbox","data-qa-selector":"resolve_review_discussion_checkbox"},domProps:{checked:Array.isArray(e.isResolving)?e._i(e.isResolving,null)>-1:e.isResolving},on:{change:function(t){var n=e.isResolving,i=t.target,r=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&(e.isResolving=n.concat([null])):s>-1&&(e.isResolving=n.slice(0,s).concat(n.slice(s+1)))}else e.isResolving=r}}}),e._v("\n              "+e._s(e.__("Resolve thread"))+"\n            ")]],2)]):e._e(),e._v(" "),n("div",[n("button",{staticClass:"btn btn-success qa-start-review",attrs:{disabled:e.isDisabled,type:"button"},on:{click:e.handleAddToReview}},[e.hasDrafts?[e._v(e._s(e.__("Add to review")))]:[e._v(e._s(e.__("Start a review")))]],2),e._v(" "),n("button",{staticClass:"btn qa-comment-now js-comment-button",attrs:{disabled:e.isDisabled,type:"button"},on:{click:function(t){return e.handleUpdate()}}},[e._v("\n            "+e._s(e.__("Add comment now"))+"\n          ")]),e._v(" "),n("button",{staticClass:"btn note-edit-cancel js-close-discussion-note-form",attrs:{type:"button","data-testid":"cancelBatchCommentsEnabled"},on:{click:function(t){return e.cancelHandler(!0)}}},[e._v("\n            "+e._s(e.__("Cancel"))+"\n          ")])])]:[n("button",{staticClass:"js-vue-issue-save btn btn-success js-comment-button qa-reply-comment-button",attrs:{disabled:e.isDisabled,type:"button"},on:{click:function(t){return e.handleUpdate()}}},[e._v("\n          "+e._s(e.saveButtonTitle)+"\n        ")]),e._v(" "),e.discussion.resolvable?n("button",{staticClass:"btn btn-nr btn-default append-right-10 js-comment-resolve-button",on:{click:function(t){return t.preventDefault(),e.handleUpdate(!0)}}},[e._v("\n          "+e._s(e.resolveButtonTitle)+"\n        ")]):e._e(),e._v(" "),n("button",{staticClass:"btn btn-cancel note-edit-cancel js-close-discussion-note-form",attrs:{type:"button","data-testid":"cancel"},on:{click:function(t){return e.cancelHandler(!0)}}},[e._v("\n          "+e._s(e.__("Cancel"))+"\n        ")])]],2)],1)])}),[],!1,null,null,null);t.a=b.exports},PTFM:function(e,t,n){"use strict";n("va8A"),n("kO4A"),n("+kFb"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h");var i=n("yi8e"),r=n("ZlTH"),s=n("3c3Z"),o=n("WP4l");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={components:{NoteableNote:r.a,PublishButton:o.a,LoadingButton:s.a},props:{draft:{type:Object,required:!0},diffFile:{type:Object,required:!1,default:function(){return{}}},line:{type:Object,required:!1,default:null}},data:function(){return{isEditingDraft:!1}},computed:l(l(l({},Object(i.e)("batchComments",["isPublishing"])),Object(i.d)("batchComments",["isPublishingDraft"])),{},{draftCommands:function(){return this.draft.references.commands}}),mounted:function(){window.location.hash&&window.location.hash==="#note_".concat(this.draft.id)&&this.scrollToDraft(this.draft)},methods:l(l({},Object(i.c)("batchComments",["deleteDraft","updateDraft","publishSingleDraft","scrollToDraft","toggleResolveDiscussion"])),{},{update:function(e){this.updateDraft(e)},publishNow:function(){this.publishSingleDraft(this.draft.id)},handleEditing:function(){this.isEditingDraft=!0},handleNotEditing:function(){this.isEditingDraft=!1}})},d=n("tBpV"),f=Object(d.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{staticClass:"draft-note-component note-wrapper"},[n("ul",{staticClass:"notes draft-notes"},[n("noteable-note",{staticClass:"draft-note",attrs:{note:e.draft,"diff-lines":e.diffFile.highlighted_diff_lines,line:e.line},on:{handleEdit:e.handleEditing,cancelForm:e.handleNotEditing,updateSuccess:e.handleNotEditing,handleDeleteNote:e.deleteDraft,handleUpdateNote:e.update,toggleResolveStatus:function(t){return e.toggleResolveDiscussion(e.draft.id)}}},[n("strong",{staticClass:"badge draft-pending-label append-right-4",attrs:{slot:"note-header-info"},slot:"note-header-info"},[e._v("\n        "+e._s(e.__("Pending"))+"\n      ")])])],1),e._v(" "),e.isEditingDraft?e._e():[e.draftCommands?n("div",{staticClass:"referenced-commands draft-note-commands",domProps:{innerHTML:e._s(e.draftCommands)}}):e._e(),e._v(" "),n("p",{staticClass:"draft-note-actions d-flex"},[n("publish-button",{staticClass:"btn btn-success btn-inverted gl-mr-3",attrs:{"show-count":!0,"should-publish":!1}}),e._v(" "),n("loading-button",{ref:"publishNowButton",attrs:{loading:e.isPublishingDraft(e.draft.id)||e.isPublishing,label:e.__("Add comment now"),"container-class":"btn btn-inverted"},on:{click:e.publishNow}})],1)]],2)}),[],!1,null,null,null);t.a=f.exports},QlUp:function(e,t,n){"use strict";var i=n("BrvI");t.a={props:{state:{type:Boolean,default:null}},computed:{computedState:function(){return Object(i.a)(this.state)?this.state:null},stateClass:function(){var e=this.computedState;return!0===e?"is-valid":!1===e?"is-invalid":null}}}},Rhav:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("OuD2"),o=n("70tN"),a=n("AgLN"),l=n("eclS"),c=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{symmetricDifference:function(e){var t=o(this),n=new(l(t,s("Set")))(t),i=a(n.delete),r=a(n.add);return c(e,(function(e){i.call(n,e)||r.call(n,e)})),n}})},SGKy:function(e,t,n){"use strict";var i=n("A7+L"),r=n("rPnh"),s=n("7bmO"),o=n("BrvI"),a=n("TjC/"),l=n("kI/X");t.a={props:{options:{type:[Array,Object],default:function(){return[]}},valueField:{type:String,default:"value"},textField:{type:String,default:"text"},htmlField:{type:String,default:"html"},disabledField:{type:String,default:"disabled"}},computed:{formOptions:function(){return this.normalizeOptions(this.options)}},methods:{normalizeOption:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object(s.i)(e)){var n=Object(i.a)(e,this.valueField),a=Object(i.a)(e,this.textField);return{value:Object(o.j)(n)?t||a:n,text:Object(r.b)(String(Object(o.j)(a)?t:a)),html:Object(i.a)(e,this.htmlField),disabled:Boolean(Object(i.a)(e,this.disabledField))}}return{value:t||e,text:Object(r.b)(String(e)),disabled:!1}},normalizeOptions:function(e){var t=this;return Object(a.d)(e)?e.map((function(e){return t.normalizeOption(e)})):Object(s.i)(e)?(Object(l.a)('Setting prop "options" to an object is deprecated. Use the array format instead.',this.$options.name),Object(s.j)(e).map((function(n){return t.normalizeOption(e[n]||{},n)}))):[]}}}},SNRI:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));n("va8A"),n("z4I3"),n("dj/k"),n("9U97"),n("OZM5"),n("x/6R"),n("4ql4"),n("8Qi2"),n("+xU6"),n("7WVv"),n("L1PU"),n("MoW5"),n("MRnW"),n("IdsT"),n("GzNv"),n("tbvx"),n("pBsb"),n("orcL");var i=n("GuZl"),r=n("/lV4");function s(e){return e/(i.a*i.a)}function o(e){return e/(i.a*i.a*i.a)}function a(e){return e<i.a?Object(r.e)(Object(r.a)("%{size} bytes"),{size:e}):e<i.a*i.a?Object(r.e)(Object(r.a)("%{size} KiB"),{size:(t=e,t/i.a).toFixed(2)}):e<i.a*i.a*i.a?Object(r.e)(Object(r.a)("%{size} MiB"),{size:s(e).toFixed(2)}):Object(r.e)(Object(r.a)("%{size} GiB"),{size:o(e).toFixed(2)});var t}},SU48:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("/Szx"),r=n("EQ0+");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={active:{type:Boolean,default:!1},activeClass:{type:String,default:"active"},buttonClass:{type:[String,Array,Object]},disabled:{type:Boolean,default:!1},variant:{type:String}},c=i.a.extend({name:"BDropdownItemButton",mixins:[r.a],inheritAttrs:!1,inject:{bvDropdown:{default:null}},props:l,methods:{closeDropdown:function(){this.bvDropdown&&this.bvDropdown.hide(!0)},onClick:function(e){this.$emit("click",e),this.closeDropdown()}},render:function(e){var t;return e("li",{attrs:{role:"presentation"}},[e("button",{staticClass:"dropdown-item",class:[this.buttonClass,(t={},a(t,this.activeClass,this.active),a(t,"text-".concat(this.variant),this.variant&&!(this.active||this.disabled)),t)],attrs:o(o({},this.$attrs),{},{role:"menuitem",type:"button",disabled:this.disabled}),on:{click:this.onClick},ref:"button"},this.normalizeSlot("default"))])}})},SmUC:function(e,t,n){var i=n("k9pk")("flowRight",n("uwHt"));i.placeholder=n("gkan"),e.exports=i},TD9T:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n("va8A"),n("z4I3"),n("dj/k"),n("9U97"),n("+kFb"),n("x/6R"),n("WQYg"),n("MRnW"),n("EfZm"),n("GzNv"),n("tbvx"),n("+xeR"),n("Id6h"),n("orcL");var i=n("3a3M"),r=n.n(i),s=n("t6Yz"),o=n.n(s),a=n("i3lA"),l=n("v+Mp"),c=n("3E4U"),u=n("NmEs");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g(e);if(t){var r=g(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(l,e);var t,n,i,s=h(l);function l(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),e=s.call(this),o.a.bind("a",(function(){return l.openSidebarDropdown("assignee")})),o.a.bind("m",(function(){return l.openSidebarDropdown("milestone")})),o.a.bind("l",(function(){return l.openSidebarDropdown("labels")})),o.a.bind("r",l.replyWithSelectedText),o.a.bind("e",l.editIssue),e}return t=l,i=[{key:"replyWithSelectedText",value:function(){var e=r()(".js-main-target-form .js-vue-comment-form");if(!e.length||e.is(":hidden"))return!1;var t=Object(u.q)(document.querySelector("#content-body"));if(!t)return e.focus(),!1;var n=Boolean(t.querySelector(".md"));if(!n&&(t.originalNodes&&t.originalNodes.forEach((function(e){var t=e;do{t.matches&&t.matches(".md")&&(n=!0),t=t.parentNode}while(t&&!n)})),!n))return e.focus(),!1;var i=c.a.transformGFMSelection(t.cloneNode(!0)),s=document.createElement("blockquote");return s.appendChild(i),c.a.nodeToGFM(s).then((function(t){if(""===t.trim())return!1;var n=""!==e.val().trim()?"\n\n":"";e.val((function(e,i){return"".concat(i).concat(n).concat(t,"\n\n")})).trigger("input").trigger("change");var i=document.createEvent("Event");return i.initEvent("autosize:update",!0,!1),e.get(0).dispatchEvent(i),e.focus(),!1})).catch((function(){})),!1}},{key:"editIssue",value:function(){return document.querySelector(".js-issuable-edit").click(),!1}},{key:"openSidebarDropdown",value:function(e){return a.a.instance.openDropdown(e),!1}}],(n=null)&&f(t.prototype,n),i&&f(t,i),l}(l.a)},TNeE:function(e,t,n){"use strict";n("va8A"),n("kO4A"),n("+kFb"),n("+xU6"),n("zCcL"),n("zpLX"),n("BD5p"),n("MRnW"),n("jaBk"),n("Id6h");var i=n("yi8e"),r=n("s1D3"),s=n("LLbv");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={components:{timeAgoTooltip:n("Fsq/").a,GitlabTeamMemberBadge:function(){return n.e(14).then(n.bind(null,"4b03"))},GlIcon:r.a},directives:{GlTooltip:s.a},props:{author:{type:Object,required:!1,default:function(){return{}}},createdAt:{type:String,required:!1,default:null},actionText:{type:String,required:!1,default:""},noteId:{type:[String,Number],required:!1,default:null},includeToggle:{type:Boolean,required:!1,default:!1},expanded:{type:Boolean,required:!1,default:!0},showSpinner:{type:Boolean,required:!1,default:!0},isConfidential:{type:Boolean,required:!1,default:!1}},data:function(){return{isUsernameLinkHovered:!1,emojiTitle:"",authorStatusHasTooltip:!1}},computed:{toggleChevronClass:function(){return this.expanded?"fa-chevron-up":"fa-chevron-down"},noteTimestampLink:function(){return this.noteId?"#note_".concat(this.noteId):void 0},hasAuthor:function(){return this.author&&Object.keys(this.author).length},authorLinkClasses:function(){return{hover:this.isUsernameLinkHovered,"text-underline":this.isUsernameLinkHovered,"author-name-link":!0,"js-user-link":!0}},authorStatus:function(){return this.author.status_tooltip_html},emojiElement:function(){var e,t;return null===(e=this.$refs)||void 0===e?void 0:null===(t=e.authorStatus)||void 0===t?void 0:t.querySelector("gl-emoji")}},mounted:function(){var e,t,n;this.emojiTitle=this.emojiElement?this.emojiElement.getAttribute("title"):"";var i=null===(e=this.$refs)||void 0===e?void 0:null===(t=e.authorStatus)||void 0===t?void 0:null===(n=t.querySelector(".user-status-emoji"))||void 0===n?void 0:n.getAttribute("title");this.authorStatusHasTooltip=i&&""!==i},methods:a(a({},Object(i.c)(["setTargetNoteHash"])),{},{handleToggle:function(){this.$emit("toggleHandler")},updateTargetNoteHash:function(){this.$store&&this.setTargetNoteHash(this.noteTimestampLink)},removeEmojiTitle:function(){this.emojiElement.removeAttribute("title")},addEmojiTitle:function(){this.emojiElement.setAttribute("title",this.emojiTitle)},handleUsernameMouseEnter:function(){this.$refs.authorNameLink.dispatchEvent(new Event("mouseenter")),this.isUsernameLinkHovered=!0},handleUsernameMouseLeave:function(){this.$refs.authorNameLink.dispatchEvent(new Event("mouseleave")),this.isUsernameLinkHovered=!1}})},u=n("tBpV"),d=Object(u.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"note-header-info"},[e.includeToggle?n("div",{ref:"discussionActions",staticClass:"discussion-actions"},[n("button",{staticClass:"note-action-button discussion-toggle-button js-vue-toggle-button",attrs:{type:"button"},on:{click:e.handleToggle}},[n("i",{ref:"chevronIcon",staticClass:"fa",class:e.toggleChevronClass,attrs:{"aria-hidden":"true"}}),e._v("\n      "+e._s(e.__("Toggle thread"))+"\n    ")])]):e._e(),e._v(" "),e.hasAuthor?[n("a",{ref:"authorNameLink",class:e.authorLinkClasses,attrs:{href:e.author.path,"data-user-id":e.author.id,"data-username":e.author.username}},[e._t("note-header-info"),e._v(" "),n("span",{staticClass:"note-header-author-name bold"},[e._v(e._s(e.author.name))])],2),e._v(" "),e.authorStatus?n("span",e._g({ref:"authorStatus",domProps:{innerHTML:e._s(e.authorStatus)}},e.authorStatusHasTooltip?{mouseenter:e.removeEmojiTitle,mouseleave:e.addEmojiTitle}:{})):e._e(),e._v(" "),n("span",{staticClass:"text-nowrap author-username"},[n("a",{ref:"authorUsernameLink",staticClass:"author-username-link",attrs:{href:e.author.path},on:{mouseenter:e.handleUsernameMouseEnter,mouseleave:e.handleUsernameMouseLeave}},[n("span",{staticClass:"note-headline-light"},[e._v("@"+e._s(e.author.username))])]),e._v(" "),e.author&&e.author.is_gitlab_employee?n("gitlab-team-member-badge"):e._e()],1)]:n("span",[e._v(e._s(e.__("A deleted user")))]),e._v(" "),n("span",{staticClass:"note-headline-light note-headline-meta"},[n("span",{staticClass:"system-note-message"},[e._t("default")],2),e._v(" "),e.createdAt?[n("span",{ref:"actionText",staticClass:"system-note-separator"},[e.actionText?[e._v(e._s(e.actionText))]:e._e()],2),e._v(" "),e.noteTimestampLink?n("a",{ref:"noteTimestampLink",staticClass:"note-timestamp system-note-separator",attrs:{href:e.noteTimestampLink},on:{click:e.updateTargetNoteHash}},[n("time-ago-tooltip",{attrs:{time:e.createdAt,"tooltip-placement":"bottom"}})],1):n("time-ago-tooltip",{ref:"noteTimestamp",attrs:{time:e.createdAt,"tooltip-placement":"bottom"}})]:e._e(),e._v(" "),e.isConfidential?n("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip:tooltipcontainer.bottom",arg:"tooltipcontainer",modifiers:{bottom:!0}}],staticClass:"gl-ml-1 gl-text-gray-800 align-middle",attrs:{"data-testid":"confidentialIndicator",name:"eye-slash",size:14,title:e.s__("Notes|Private comments are accessible by internal staff only")}}):e._e(),e._v(" "),e._t("extra-controls"),e._v(" "),e.showSpinner?n("i",{ref:"spinner",staticClass:"fa fa-spinner fa-spin editing-spinner",attrs:{"aria-label":e.__("Comment is being updated"),"aria-hidden":"true"}}):e._e()],2)],2)}),[],!1,null,null,null);t.a=d.exports},TUEX:function(e,t,n){"use strict";n("Z5ek"),n("BD5p");var i=n("jB52"),r=(n("va8A"),n("kO4A"),n("t3Gg"),n("+kFb"),n("+xU6"),n("zCcL"),n("zpLX"),n("Id6h"),n("3a3M")),s=n.n(r),o=n("yi8e"),a=n("3twG"),l=n("len0"),c=n("7KAB"),u=n("J7NB");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={components:{Icon:l.a},props:{filters:{type:Array,required:!0},selectedValue:{type:Number,default:c.h,required:!1}},data:function(){return{currentValue:Object(a.a)(c.s)?c.h:this.selectedValue,defaultValue:c.h,displayFilters:!0}},computed:f(f({},Object(o.d)(["getNotesDataByProp"])),{},{currentFilter:function(){var e=this;return this.currentValue?this.filters.find((function(t){return t.value===e.currentValue})):this.filters[0]}}),created:function(){if(window.mrTabs){var e=window.mrTabs,t=e.eventHub,n=e.currentTab;t.$on("MergeRequestTabChange",this.toggleFilters),this.toggleFilters(n)}u.a.$on("dropdownSelect",this.selectFilter),window.addEventListener("hashchange",this.handleLocationHash)},mounted:function(){this.toggleCommentsForm()},destroyed:function(){u.a.$off("dropdownSelect",this.selectFilter),window.removeEventListener("hashchange",this.handleLocationHash)},methods:f(f({},Object(o.c)(["filterDiscussion","setCommentsDisabled","setTargetNoteHash"])),{},{selectFilter:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=parseInt(e,10);this.toggleDropdown(),n!==this.currentValue&&(this.currentValue=n,this.filterDiscussion({path:this.getNotesDataByProp("discussionsPath"),filter:n,persistFilter:t}),this.toggleCommentsForm())},toggleDropdown:function(){s()(this.$refs.dropdownToggle).dropdown("toggle")},toggleCommentsForm:function(){this.setCommentsDisabled(this.currentValue===c.m)},toggleFilters:function(e){this.displayFilters=e===c.k},handleLocationHash:function(){var e=Object(a.e)();/^note_/.test(e)&&this.currentValue!==c.h&&(this.selectFilter(this.defaultValue,!1),this.toggleDropdown(),this.setTargetNoteHash(e))},filterType:function(e){return 0===e?c.i.ALL:1===e?c.i.COMMENTS:c.i.HISTORY}})},m=n("tBpV"),g=Object(m.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.displayFilters?n("div",{staticClass:"discussion-filter-container js-discussion-filter-container d-inline-block align-bottom full-width-mobile"},[n("button",{ref:"dropdownToggle",staticClass:"btn btn-sm qa-discussion-filter",attrs:{id:"discussion-filter-dropdown","data-toggle":"dropdown","aria-expanded":"false"}},[e._v("\n    "+e._s(e.currentFilter.title)+" "),n("icon",{attrs:{name:"chevron-down"}})],1),e._v(" "),n("div",{ref:"dropdownMenu",staticClass:"dropdown-menu dropdown-menu-selectable dropdown-menu-right",attrs:{"aria-labelledby":"discussion-filter-dropdown"}},[n("div",{staticClass:"dropdown-content"},[n("ul",e._l(e.filters,(function(t){return n("li",{key:t.value,attrs:{"data-filter-type":e.filterType(t.value)}},[n("button",{staticClass:"qa-filter-options",class:{"is-active":t.value===e.currentValue},attrs:{type:"button"},on:{click:function(n){return e.selectFilter(t.value)}}},[e._v("\n            "+e._s(t.title)+"\n          ")]),e._v(" "),t.value===e.defaultValue?n("div",{staticClass:"dropdown-divider"}):e._e()])})),0)])])]):e._e()}),[],!1,null,null,null).exports;t.a=function(e){var t=document.getElementById("js-vue-discussion-filter");if(t){var n=t.dataset,r=n.defaultFilter,s=n.notesFilters,o=s?JSON.parse(s):{},a={filters:Object.keys(o).map((function(e){return{title:e,value:o[e]}}))};return r&&(a.selectedValue=parseInt(r,10)),new i.default({el:t,name:"DiscussionFilter",components:{DiscussionFilter:g},store:e,render:function(e){return e("discussion-filter",{props:a})}})}return null}},Tctl:function(e,t,n){"use strict";n("va8A"),n("kO4A"),n("+kFb"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h");var i=n("3a3M"),r=n.n(i);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c={openButtons:[],forkButtons:[],cancelButtons:[],suggestionSections:[],actionTextPieces:[]},u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elementMap=o(o({},c),t),this.onOpenButtonClick=this.onOpenButtonClick.bind(this),this.onCancelButtonClick=this.onCancelButtonClick.bind(this)}var t,n,i;return t=e,(n=[{key:"init",value:function(){return this.bindEvents(),this}},{key:"bindEvents",value:function(){r()(this.elementMap.openButtons).on("click",this.onOpenButtonClick),r()(this.elementMap.cancelButtons).on("click",this.onCancelButtonClick)}},{key:"showSuggestionSection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"edit";r()(this.elementMap.suggestionSections).removeClass("hidden"),r()(this.elementMap.forkButtons).attr("href",e),r()(this.elementMap.actionTextPieces).text(t)}},{key:"hideSuggestionSection",value:function(){r()(this.elementMap.suggestionSections).addClass("hidden")}},{key:"onOpenButtonClick",value:function(e){var t=r()(e.currentTarget).attr("data-fork-path"),n=r()(e.currentTarget).attr("data-action");this.showSuggestionSection(t,n)}},{key:"onCancelButtonClick",value:function(){this.hideSuggestionSection()}},{key:"destroy",value:function(){r()(this.elementMap.openButtons).off("click",this.onOpenButtonClick),r()(this.elementMap.cancelButtons).off("click",this.onCancelButtonClick)}}])&&l(t.prototype,n),i&&l(t,i),e}();t.a=u},Tu1i:function(e,t,n){"use strict";var i=n("t8l0");t.a={props:{size:{type:String,default:function(){return Object(i.b)("formControls","size")}}},computed:{sizeFormClass:function(){return[this.size?"form-control-".concat(this.size):null]},sizeBtnClass:function(){return[this.size?"btn-".concat(this.size):null]}}}},TwKd:function(e,t,n){"use strict";n("kO4A"),n("4ql4"),n("+xeR");var i=n("PxiM"),r=n.n(i),s=n("t6Yz"),o=n.n(s),a=n("T9Fk"),l=n.n(a),c=(n("8Qi2"),n("+xU6"),n("IdsT"),n("l9AF"),n("len0")),u=n("9dZE"),d=n("rOrh"),f={components:{Icon:c.a,ChangedFileIcon:d.a,FileIcon:u.a},props:{file:{type:Object,required:!0},focused:{type:Boolean,required:!0},searchText:{type:String,required:!0},index:{type:Number,required:!0},showDiffStats:{type:Boolean,required:!1,default:!1}},computed:{pathWithEllipsis:function(){var e=this.file.path;return e.length<60?e:"...".concat(e.substr(e.length-60))},nameSearchTextOccurences:function(){return r.a.match(this.file.name,this.searchText)},pathSearchTextOccurences:function(){return r.a.match(this.pathWithEllipsis,this.searchText)}},methods:{clickRow:function(){this.$emit("click",this.file)},mouseOverRow:function(){this.$emit("mouseover",this.index)},mouseMove:function(){this.$emit("mousemove",this.index)}}},p=(n("8SJv"),n("tBpV")),h=Object(p.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"diff-changed-file",class:{"is-focused":e.focused},attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.clickRow(t)},mouseover:e.mouseOverRow,mousemove:e.mouseMove}},[n("file-icon",{attrs:{"file-name":e.file.name,size:16,"css-classes":"diff-file-changed-icon gl-mr-3"}}),e._v(" "),n("span",{staticClass:"diff-changed-file-content gl-mr-3"},[n("strong",{staticClass:"diff-changed-file-name"},e._l(e.file.name.split(""),(function(t,i){return n("span",{key:i+t,class:{highlighted:e.nameSearchTextOccurences.indexOf(i)>=0},domProps:{textContent:e._s(t)}})})),0),e._v(" "),n("span",{staticClass:"diff-changed-file-path prepend-top-5"},e._l(e.pathWithEllipsis.split(""),(function(t,i){return n("span",{key:i+t,class:{highlighted:e.pathSearchTextOccurences.indexOf(i)>=0},domProps:{textContent:e._s(t)}})})),0)]),e._v(" "),e.file.changed||e.file.tempFile?e._m(0):e._e()],1)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"diff-changed-stats"},[e.showDiffStats?n("span",[n("span",{staticClass:"cgreen bold"},[n("icon",{staticClass:"align-text-top",attrs:{name:"file-addition"}}),e._v(" "+e._s(e.file.addedLines)+"\n      ")],1),e._v(" "),n("span",{staticClass:"cred bold ml-1"},[n("icon",{staticClass:"align-text-top",attrs:{name:"file-deletion"}}),e._v(" "+e._s(e.file.removedLines)+"\n      ")],1)]):n("changed-file-icon",{attrs:{file:e.file}})],1)}],!1,null,"06747bc5",null).exports,m=n("IfLy"),g=o.a.stopCallback,b={components:{Item:h,VirtualList:l.a},props:{files:{type:Array,required:!0},visible:{type:Boolean,required:!0},loading:{type:Boolean,required:!0},showDiffStats:{type:Boolean,required:!1,default:!1},clearSearchOnClose:{type:Boolean,required:!1,default:!0}},data:function(){return{focusedIndex:-1,searchText:"",mouseOver:!1,cancelMouseOver:!1}},computed:{filteredBlobs:function(){var e=this.searchText.trim();return""===e?this.files.slice(0,40):r.a.filter(this.files,e,{key:"path",maxResults:40})},filteredBlobsLength:function(){return this.filteredBlobs.length},listShowCount:function(){return this.filteredBlobsLength?Math.min(this.filteredBlobsLength,5):1},listHeight:function(){return this.filteredBlobsLength?55:33},showClearInputButton:function(){return""!==this.searchText.trim()}},watch:{visible:function(){var e=this;this.$nextTick((function(){e.visible?(e.focusedIndex=0,e.$refs.searchInput&&e.$refs.searchInput.focus()):e.clearSearchOnClose&&(e.searchText="")}))},searchText:function(){var e=this;this.focusedIndex=-1,this.$nextTick((function(){e.focusedIndex=0}))},focusedIndex:function(){var e=this;this.mouseOver||this.$nextTick((function(){var t=e.$refs.virtualScrollList.$el,n=55*e.focusedIndex,i=55*e.listShowCount;0===e.focusedIndex?t.scrollTop=0:e.focusedIndex===e.filteredBlobsLength-1?t.scrollTop=55*e.filteredBlobsLength:n>=i+t.scrollTop?t.scrollTop=n-i+55:n<t.scrollTop&&(t.scrollTop=n)}))}},mounted:function(){var e=this;this.files.length&&(this.focusedIndex=0),o.a.bind(["t","command+p","ctrl+p"],(function(t){t.preventDefault&&t.preventDefault(),e.toggle(!e.visible)})),o.a.stopCallback=function(t,n,i){return e.mousetrapStopCallback(t,n,i)}},methods:{toggle:function(e){this.$emit("toggle",e)},clearSearchInput:function(){var e=this;this.searchText="",this.$nextTick((function(){e.$refs.searchInput.focus()}))},onKeydown:function(e){switch(e.keyCode){case m.f:e.preventDefault(),this.mouseOver=!1,this.cancelMouseOver=!0,this.focusedIndex>0?this.focusedIndex-=1:this.focusedIndex=this.filteredBlobsLength-1;break;case m.c:e.preventDefault(),this.mouseOver=!1,this.cancelMouseOver=!0,this.focusedIndex<this.filteredBlobsLength-1?this.focusedIndex+=1:this.focusedIndex=0}},onKeyup:function(e){switch(e.keyCode){case m.d:this.openFile(this.filteredBlobs[this.focusedIndex]);break;case m.e:this.toggle(!1)}},openFile:function(e){this.toggle(!1),this.$emit("click",e)},onMouseOver:function(e){this.cancelMouseOver||(this.mouseOver=!0,this.focusedIndex=e)},onMouseMove:function(e){this.cancelMouseOver=!1,this.onMouseOver(e)},mousetrapStopCallback:function(e,t,n){return!!("t"===n&&t.classList.contains("dropdown-input-field")||t.classList.contains("inputarea"))||"command+p"!==n&&"ctrl+p"!==n&&g(e,t,n)}}},v=(n("UKr7"),Object(p.a)(b,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"file-finder-overlay",on:{mousedown:function(t){return t.target!==t.currentTarget?null:e.toggle(!1)}}},[n("div",{staticClass:"dropdown-menu diff-file-changes file-finder show"},[n("div",{staticClass:"dropdown-input",class:{"has-value":e.showClearInputButton}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],ref:"searchInput",staticClass:"dropdown-input-field",attrs:{placeholder:e.__("Search files"),type:"search",autocomplete:"off"},domProps:{value:e.searchText},on:{keydown:function(t){return e.onKeydown(t)},keyup:function(t){return e.onKeyup(t)},input:function(t){t.target.composing||(e.searchText=t.target.value)}}}),e._v(" "),n("i",{staticClass:"fa fa-search dropdown-input-search",class:{hidden:e.showClearInputButton},attrs:{"aria-hidden":"true"}}),e._v(" "),n("i",{staticClass:"fa fa-times dropdown-input-clear",attrs:{"aria-label":e.__("Clear search input"),role:"button"},on:{click:e.clearSearchInput}})]),e._v(" "),n("div",[n("virtual-list",{ref:"virtualScrollList",attrs:{size:e.listHeight,remain:e.listShowCount,wtag:"ul"}},[e.filteredBlobsLength?e._l(e.filteredBlobs,(function(t,i){return n("li",{key:t.key},[n("item",{staticClass:"disable-hover",attrs:{file:t,"search-text":e.searchText,focused:i===e.focusedIndex,index:i,"show-diff-stats":e.showDiffStats},on:{click:e.openFile,mouseover:e.onMouseOver,mousemove:e.onMouseMove}})],1)})):n("li",{staticClass:"dropdown-menu-empty-item"},[n("div",{staticClass:"append-right-default prepend-left-default gl-mt-3 gl-mb-3"},[e.loading?[e._v("\n              "+e._s(e.__("Loading..."))+"\n            ")]:[e._v("\n              "+e._s(e.__("No files found."))+"\n            ")]],2)])],2)],1)])])}),[],!1,null,"9bdd7a48",null));t.a=v.exports},U2De:function(e,t,n){var i=n("k9pk")("filter",n("xzHw"));i.placeholder=n("gkan"),e.exports=i},U5ZW:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("x/6R"),n("MRnW"),n("tbvx"),n("orcL"),n("pETN");function i(){var e=(gon.sourcegraph||{}).url;if(e){var t,n,i=new URL("/assets/webpack/sourcegraph/",window.location.href),r=new URL("scripts/integration.bundle.js",i).href;window.SOURCEGRAPH_ASSETS_URL=i.href,window.SOURCEGRAPH_URL=e,window.SOURCEGRAPH_INTEGRATION="gitlab-integration",t=r,(n=document.createElement("script")).type="application/javascript",n.src=t,n.defer=!0,document.head.appendChild(n)}}},UKr7:function(e,t,n){"use strict";var i=n("uJ4d");n.n(i).a},Ul1K:function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n.file-row {\n  display: flex;\n  align-items: center;\n  height: 32px;\n  padding: 4px 8px;\n  margin-left: -8px;\n  margin-right: -8px;\n  border-radius: 3px;\n  text-align: left;\n  cursor: pointer;\n}\n.file-row-name-container {\n  display: flex;\n  width: 100%;\n  align-items: center;\n  overflow: visible;\n}\n.file-row-name {\n  display: inline-block;\n  flex: 1;\n  max-width: inherit;\n  height: 19px;\n  line-height: 16px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.file-row-name .file-row-icon {\n  margin-right: 2px;\n  vertical-align: middle;\n}\n",""])},UtYG:function(e,t,n){"use strict";var i=n("jB52"),r=(n("+xU6"),n("jslJ"),n("GTGS")),s=n("FkSe"),o=n("eVUo"),a=n("olcB"),l=n("69Ig"),c=n("goKL"),u=n("s5BM"),d=n("QSe5"),f=n("NmEs"),p=n("WYZc"),h={components:{TablePagination:d.a,GlDeprecatedButton:r.a,GlLoadingIcon:s.a},mixins:[c.a,p.a],props:{endpoint:{type:String,required:!0},helpPagePath:{type:String,required:!0},autoDevopsHelpPath:{type:String,required:!0},errorStateSvgPath:{type:String,required:!0},viewType:{type:String,required:!1,default:"child"},canRunPipeline:{type:Boolean,required:!1,default:!1},projectId:{type:String,required:!1,default:""},mergeRequestId:{type:Number,required:!1,default:0}},data:function(){var e=new l.a;return{store:e,state:e.state,page:Object(f.o)("page")||"1",requestData:{}}},computed:{shouldRenderTable:function(){return!this.isLoading&&this.state.pipelines.length>0&&!this.hasError},shouldRenderErrorState:function(){return this.hasError&&!this.isLoading},canRenderPipelineButton:function(){return this.canRunPipeline&&this.latestPipelineDetachedFlag},latestPipelineDetachedFlag:function(){var e=this.state.pipelines[0];return e&&e.flags&&(e.flags.detached_merge_request_pipeline||e.flags.merge_request_pipeline)},shouldAddNegativeMargin:function(){return this.canRenderPipelineButton&&o.b.isDesktop()}},created:function(){this.service=new a.a(this.endpoint),this.requestData={page:this.page}},methods:{successCallback:function(e){var t=e.data.pipelines||e.data;this.store.storePagination(e.headers),this.setCommonData(t);var n=new CustomEvent("update-pipelines-count",{detail:{pipelines:e.data}});this.$el.parentElement&&this.$el.parentElement.dispatchEvent(n)},onClickRunPipeline:function(){u.a.$emit("runMergeRequestPipeline",{projectId:this.projectId,mergeRequestId:this.mergeRequestId})}}},m=n("tBpV"),g=Object(m.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content-list pipelines"},[e.isLoading?n("gl-loading-icon",{staticClass:"prepend-top-20",attrs:{label:e.s__("Pipelines|Loading Pipelines"),size:"lg"}}):e.shouldRenderErrorState?n("svg-blank-state",{attrs:{"svg-path":e.errorStateSvgPath,message:e.s__("Pipelines|There was an error fetching the pipelines.\n    Try again in a few moments or contact your support team.")}}):e.shouldRenderTable?n("div",{staticClass:"table-holder"},[e.canRenderPipelineButton?n("div",{staticClass:"nav justify-content-end"},[e.canRenderPipelineButton?n("gl-deprecated-button",{staticClass:"js-run-mr-pipeline prepend-top-10 btn-wide-on-xs",attrs:{variant:"success",disabled:e.state.isRunningMergeRequestPipeline},on:{click:e.onClickRunPipeline}},[e.state.isRunningMergeRequestPipeline?n("gl-loading-icon",{attrs:{inline:""}}):e._e(),e._v("\n        "+e._s(e.s__("Pipelines|Run Pipeline"))+"\n      ")],1):e._e()],1):e._e(),e._v(" "),n("pipelines-table-component",{class:{"negative-margin-top":e.shouldAddNegativeMargin},attrs:{pipelines:e.state.pipelines,"update-graph-dropdown":e.updateGraphDropdown,"auto-devops-help-path":e.autoDevopsHelpPath,"view-type":e.viewType}})],1):e._e(),e._v(" "),e.shouldRenderPagination?n("table-pagination",{attrs:{change:e.onChangePage,"page-info":e.state.pageInfo}}):e._e()],1)}),[],!1,null,null,null).exports,b=i.default.extend(g);window.gl=window.gl||{},window.gl.CommitPipelinesTable=b;t.a=function(){var e=document.querySelector("#commit-pipeline-table-view");if(e&&(e.addEventListener("update-pipelines-count",(function(e){e.detail.pipelines&&e.detail.pipelines.count&&e.detail.pipelines.count.all&&(document.querySelector(".js-pipelines-mr-count").textContent=e.detail.pipelines.count.all)})),void 0===e.dataset.disableInitialization)){var t=new b({propsData:{endpoint:e.dataset.endpoint,helpPagePath:e.dataset.helpPagePath,emptyStateSvgPath:e.dataset.emptyStateSvgPath,errorStateSvgPath:e.dataset.errorStateSvgPath,autoDevopsHelpPath:e.dataset.helpAutoDevopsPath}}).$mount();e.appendChild(t.$el)}}},V2jy:function(e,t,n){!function(t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r,s=!1,o=void 0!==t;o&&t.getComputedStyle?(r=n.createElement("div"),["","-webkit-","-moz-","-ms-"].some((function(e){try{r.style.position=e+"sticky"}catch(e){}return""!=r.style.position}))&&(s=!0)):s=!0;var a=!1,l="undefined"!=typeof ShadowRoot,c={top:null,left:null},u=[];function d(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function f(e){return parseFloat(e)||0}function p(e){for(var t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t}var h=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!(t instanceof HTMLElement))throw new Error("First argument must be HTMLElement");if(u.some((function(e){return e._node===t})))throw new Error("Stickyfill is already applied to this node");this._node=t,this._stickyMode=null,this._active=!1,u.push(this),this.refresh()}return i(e,[{key:"refresh",value:function(){if(!s&&!this._removed){this._active&&this._deactivate();var e=this._node,i=getComputedStyle(e),r={position:i.position,top:i.top,display:i.display,marginTop:i.marginTop,marginBottom:i.marginBottom,marginLeft:i.marginLeft,marginRight:i.marginRight,cssFloat:i.cssFloat};if(!isNaN(parseFloat(r.top))&&"table-cell"!=r.display&&"none"!=r.display){this._active=!0;var o=e.style.position;"sticky"!=i.position&&"-webkit-sticky"!=i.position||(e.style.position="static");var a=e.parentNode,c=l&&a instanceof ShadowRoot?a.host:a,u=e.getBoundingClientRect(),h=c.getBoundingClientRect(),m=getComputedStyle(c);this._parent={node:c,styles:{position:c.style.position},offsetHeight:c.offsetHeight},this._offsetToWindow={left:u.left,right:n.documentElement.clientWidth-u.right},this._offsetToParent={top:u.top-h.top-f(m.borderTopWidth),left:u.left-h.left-f(m.borderLeftWidth),right:-u.right+h.right-f(m.borderRightWidth)},this._styles={position:o,top:e.style.top,bottom:e.style.bottom,left:e.style.left,right:e.style.right,width:e.style.width,marginTop:e.style.marginTop,marginLeft:e.style.marginLeft,marginRight:e.style.marginRight};var g=f(r.top);this._limits={start:u.top+t.pageYOffset-g,end:h.top+t.pageYOffset+c.offsetHeight-f(m.borderBottomWidth)-e.offsetHeight-g-f(r.marginBottom)};var b=m.position;"absolute"!=b&&"relative"!=b&&(c.style.position="relative"),this._recalcPosition();var v=this._clone={};v.node=n.createElement("div"),d(v.node.style,{width:u.right-u.left+"px",height:u.bottom-u.top+"px",marginTop:r.marginTop,marginBottom:r.marginBottom,marginLeft:r.marginLeft,marginRight:r.marginRight,cssFloat:r.cssFloat,padding:0,border:0,borderSpacing:0,fontSize:"1em",position:"static"}),a.insertBefore(v.node,e),v.docOffsetTop=p(v.node)}}}},{key:"_recalcPosition",value:function(){if(this._active&&!this._removed){var e=c.top<=this._limits.start?"start":c.top>=this._limits.end?"end":"middle";if(this._stickyMode!=e){switch(e){case"start":d(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:this._offsetToParent.top+"px",bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"middle":d(this._node.style,{position:"fixed",left:this._offsetToWindow.left+"px",right:this._offsetToWindow.right+"px",top:this._styles.top,bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"end":d(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:"auto",bottom:0,width:"auto",marginLeft:0,marginRight:0})}this._stickyMode=e}}}},{key:"_fastCheck",value:function(){this._active&&!this._removed&&(Math.abs(p(this._clone.node)-this._clone.docOffsetTop)>1||Math.abs(this._parent.node.offsetHeight-this._parent.offsetHeight)>1)&&this.refresh()}},{key:"_deactivate",value:function(){var e=this;this._active&&!this._removed&&(this._clone.node.parentNode.removeChild(this._clone.node),delete this._clone,d(this._node.style,this._styles),delete this._styles,u.some((function(t){return t!==e&&t._parent&&t._parent.node===e._parent.node}))||d(this._parent.node.style,this._parent.styles),delete this._parent,this._stickyMode=null,this._active=!1,delete this._offsetToWindow,delete this._offsetToParent,delete this._limits)}},{key:"remove",value:function(){var e=this;this._deactivate(),u.some((function(t,n){if(t._node===e._node)return u.splice(n,1),!0})),this._removed=!0}}]),e}(),m={stickies:u,Sticky:h,forceSticky:function(){s=!1,g(),this.refreshAll()},addOne:function(e){if(!(e instanceof HTMLElement)){if(!e.length||!e[0])return;e=e[0]}for(var t=0;t<u.length;t++)if(u[t]._node===e)return u[t];return new h(e)},add:function(e){if(e instanceof HTMLElement&&(e=[e]),e.length){for(var t=[],n=function(n){var i=e[n];return i instanceof HTMLElement?u.some((function(e){if(e._node===i)return t.push(e),!0}))?"continue":void t.push(new h(i)):(t.push(void 0),"continue")},i=0;i<e.length;i++)n(i);return t}},refreshAll:function(){u.forEach((function(e){return e.refresh()}))},removeOne:function(e){if(!(e instanceof HTMLElement)){if(!e.length||!e[0])return;e=e[0]}u.some((function(t){if(t._node===e)return t.remove(),!0}))},remove:function(e){if(e instanceof HTMLElement&&(e=[e]),e.length)for(var t=function(t){var n=e[t];u.some((function(e){if(e._node===n)return e.remove(),!0}))},n=0;n<e.length;n++)t(n)},removeAll:function(){for(;u.length;)u[0].remove()}};function g(){if(!a){a=!0,s(),t.addEventListener("scroll",s),t.addEventListener("resize",m.refreshAll),t.addEventListener("orientationchange",m.refreshAll);var e=void 0,i=void 0,r=void 0;"hidden"in n?(i="hidden",r="visibilitychange"):"webkitHidden"in n&&(i="webkitHidden",r="webkitvisibilitychange"),r?(n[i]||o(),n.addEventListener(r,(function(){n[i]?clearInterval(e):o()}))):o()}function s(){t.pageXOffset!=c.left?(c.top=t.pageYOffset,c.left=t.pageXOffset,m.refreshAll()):t.pageYOffset!=c.top&&(c.top=t.pageYOffset,c.left=t.pageXOffset,u.forEach((function(e){return e._recalcPosition()})))}function o(){e=setInterval((function(){u.forEach((function(e){return e._fastCheck()}))}),500)}}s||g(),e.exports?e.exports=m:o&&(t.Stickyfill=m)}(window,document)},VNgF:function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(o=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),s=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[n].concat(s).concat([r]).join("\n")}var o;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var s=this[r][0];null!=s&&(i[s]=!0)}for(r=0;r<e.length;r++){var o=e[r];null!=o[0]&&i[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},VVrI:function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},VuQQ:function(e,t,n){"use strict";n("+xU6"),n("L1PU");var i=n("LLbv"),r=n("bOix"),s={directives:{GlTooltip:i.a},props:{endDateString:{type:String,required:!0,validator:function(e){return!Number.isNaN(new Date(e).getTime())}}},data:function(){return{remainingTime:Object(r.e)(0),countdownUpdateIntervalId:null}},mounted:function(){var e=this,t=function(){var t=Object(r.b)(e.endDateString);e.remainingTime=Object(r.e)(t)};t(),this.countdownUpdateIntervalId=window.setInterval(t,1e3)},beforeDestroy:function(){window.clearInterval(this.countdownUpdateIntervalId)}},o=n("tBpV"),a=Object(o.a)(s,(function(){var e=this.$createElement;return(this._self._c||e)("time",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{datetime:this.endDateString,title:this.endDateString}},[this._v(" "+this._s(this.remainingTime)+" ")])}),[],!1,null,null,null);t.a=a.exports},VwWG:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("OuD2"),o=n("70tN"),a=n("AgLN"),l=n("FUyg"),c=n("eclS"),u=n("ayhe"),d=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{filter:function(e){var t=o(this),n=u(t),i=l(e,arguments.length>1?arguments[1]:void 0,3),r=new(c(t,s("Set"))),f=a(r.add);return d(n,(function(e){i(e,e,t)&&f.call(r,e)}),void 0,!1,!0),r}})},Vxxt:function(e,t,n){"use strict";var i=n("o/E4");t.a={props:{name:{type:String},id:{type:String},disabled:{type:Boolean},required:{type:Boolean,default:!1},form:{type:String},autofocus:{type:Boolean,default:!1}},mounted:function(){this.handleAutofocus()},activated:function(){this.handleAutofocus()},methods:{handleAutofocus:function(){var e=this;this.$nextTick((function(){Object(i.u)((function(){var t=e.$el;e.autofocus&&Object(i.o)(t)&&(Object(i.p)(t,"input, textarea, select")||(t=Object(i.v)("input, textarea, select",t)),t&&t.focus&&t.focus())}))}))}}}},W2kU:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("70tN"),o=n("AgLN"),a=n("ayhe"),l=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{reduce:function(e){var t=s(this),n=a(t),i=arguments.length<2,r=i?void 0:arguments[1];if(o(e),l(n,(function(n){i?(i=!1,r=n):r=e(r,n,n,t)}),void 0,!1,!0),i)throw TypeError("Reduce of empty set with no initial value");return r}})},WP4l:function(e,t,n){"use strict";n("va8A"),n("kO4A"),n("+kFb"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h");var i=n("yi8e"),r=n("/lV4"),s=n("3c3Z"),o=n("A3eJ");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={components:{LoadingButton:s.a,DraftsCount:o.a},props:{showCount:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:Object(r.a)("Finish review")},shouldPublish:{type:Boolean,required:!0}},computed:l({},Object(i.e)("batchComments",["isPublishing"])),methods:l(l({},Object(i.c)("batchComments",["publishReview","toggleReviewDropdown"])),{},{onClick:function(){this.shouldPublish?this.publishReview():this.toggleReviewDropdown()}})},d=n("tBpV"),f=Object(d.a)(u,(function(){var e=this.$createElement,t=this._self._c||e;return t("loading-button",{attrs:{loading:this.isPublishing,"container-class":"btn btn-success js-publish-draft-button qa-submit-review"},on:{click:this.onClick}},[t("span",[this._v("\n    "+this._s(this.label)+"\n    "),this.showCount?t("drafts-count"):this._e()],1)])}),[],!1,null,null,null);t.a=f.exports},WYZc:function(e,t,n){"use strict";n("va8A"),n("9U97"),n("kO4A"),n("+kFb"),n("gyUR"),n("Z5ek"),n("+xU6"),n("zCcL"),n("zpLX"),n("BD5p"),n("MRnW"),n("GzNv"),n("Id6h");var i=n("NmEs"),r=n("71Sp");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a={methods:{onChangeTab:function(e){var t={scope:e,page:"1"};t=this.onChangeWithFilter(t),this.updateContent(t)},onChangePage:function(e){var t={page:Number(e).toString()};this.scope&&(t.scope=this.scope),t=this.onChangeWithFilter(t),this.updateContent(t)},onChangeWithFilter:function(e){return o(o({},e),Object(r.a)(this.requestData))},updateInternalState:function(e){var t=this;this.poll.stop();var n=Object.keys(e).map((function(n){var i=e[n];return t[n]=i,"".concat(n,"=").concat(encodeURIComponent(i))})).join("&");this.requestData=e,Object(i.t)(Object(i.f)("?".concat(n))),this.isLoading=!0}}}},WkA6:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return o})),n.d(t,"l",(function(){return h}));var i="annotations",r="markPoint",s=10,o=2,a=10,l="inline",c="table",u="Avg",d="Current",f="Min",p="Max",h="path://m5 229 5 8h-10z"},XLEV:function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var i=n("/Szx"),r=n("TjC/"),s=n("rPnh"),o=n("t8l0"),a=n("DXSV"),l=n("Z4o9"),c=n("Mm9T"),u=n("sOG4"),d=n("o/E4"),f=n("BrvI"),p=n("oSBg"),h=n("kI/X"),m=n("QXXq"),g={data:function(){return{listenForClickOut:!1}},watch:{listenForClickOut:function(e,t){e!==t&&(Object(m.c)(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,m.a),e&&Object(m.d)(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,m.a))}},beforeCreate:function(){this.clickOutElement=null,this.clickOutEventName=null},mounted:function(){this.clickOutElement||(this.clickOutElement=document),this.clickOutEventName||(this.clickOutEventName="click"),this.listenForClickOut&&Object(m.d)(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,m.a)},beforeDestroy:function(){Object(m.c)(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,m.a)},methods:{isClickOut:function(e){return!Object(d.d)(this.$el,e.target)},_clickOutHandler:function(e){this.clickOutHandler&&this.isClickOut(e)&&this.clickOutHandler(e)}}},b={data:function(){return{listenForFocusIn:!1}},watch:{listenForFocusIn:function(e,t){e!==t&&(Object(m.c)(this.focusInElement,"focusin",this._focusInHandler,m.a),e&&Object(m.d)(this.focusInElement,"focusin",this._focusInHandler,m.a))}},beforeCreate:function(){this.focusInElement=null},mounted:function(){this.focusInElement||(this.focusInElement=document),this.listenForFocusIn&&Object(m.d)(this.focusInElement,"focusin",this._focusInHandler,m.a)},beforeDestroy:function(){Object(m.c)(this.focusInElement,"focusin",this._focusInHandler,m.a)},methods:{_focusInHandler:function(e){this.focusInHandler&&this.focusInHandler(e)}}};function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w="".concat("bv::dropdown::","shown"),O="".concat("bv::dropdown::","hidden"),j={FORM_CHILD:".dropdown form",ITEM_SELECTOR:[".dropdown-item",".b-dropdown-form"].map((function(e){return"".concat(e,":not(.disabled):not([disabled])")})).join(", ")},C="top-start",P="top-end",D="bottom-start",S="bottom-end",k="right-start",x="left-start",E={dropup:{type:Boolean,default:!1},dropright:{type:Boolean,default:!1},dropleft:{type:Boolean,default:!1},right:{type:Boolean,default:!1},offset:{type:[Number,String],default:0},noFlip:{type:Boolean,default:!1},popperOpts:{default:function(){}},boundary:{type:[String,p.b],default:"scrollParent"}},T={mixins:[a.a,g,b],provide:function(){return{bvDropdown:this}},inject:{bvNavbar:{default:null}},props:_({disabled:{type:Boolean,default:!1}},E),data:function(){return{visible:!1,visibleChangePrevented:!1}},computed:{inNavbar:function(){return!Object(f.e)(this.bvNavbar)},toggler:function(){var e=this.$refs.toggle;return e?e.$el||e:null},directionClass:function(){return this.dropup?"dropup":this.dropright?"dropright":this.dropleft?"dropleft":""}},watch:{visible:function(e,t){if(this.visibleChangePrevented)this.visibleChangePrevented=!1;else if(e!==t){var n=e?"show":"hide",i=new u.a(n,{cancelable:!0,vueTarget:this,target:this.$refs.menu,relatedTarget:null,componentId:this.safeId?this.safeId():this.id||null});if(this.emitEvent(i),i.defaultPrevented)return this.visibleChangePrevented=!0,this.visible=t,void this.$off("hidden",this.focusToggler);"show"===n?this.showMenu():this.hideMenu()}},disabled:function(e,t){e!==t&&e&&this.visible&&(this.visible=!1)}},created:function(){this.$_popper=null},deactivated:function(){this.visible=!1,this.whileOpenListen(!1),this.destroyPopper()},beforeDestroy:function(){this.visible=!1,this.whileOpenListen(!1),this.destroyPopper()},methods:{emitEvent:function(e){var t=e.type;this.$emit(t,e),this.$root.$emit("".concat("bv::dropdown::").concat(t),e)},showMenu:function(){var e=this;if(!this.disabled){if(!this.inNavbar)if(void 0===l.default)Object(h.a)("Popper.js not found. Falling back to CSS positioning","BDropdown");else{var t=this.dropup&&this.right||this.split?this.$el:this.$refs.toggle;t=t.$el||t,this.createPopper(t)}this.$root.$emit(w,this),this.whileOpenListen(!0),this.$nextTick((function(){e.focusMenu(),e.$emit("shown")}))}},hideMenu:function(){this.whileOpenListen(!1),this.$root.$emit(O,this),this.$emit("hidden"),this.destroyPopper()},createPopper:function(e){this.destroyPopper(),this.$_popper=new l.default(e,this.$refs.menu,this.getPopperConfig())},destroyPopper:function(){this.$_popper&&this.$_popper.destroy(),this.$_popper=null},updatePopper:function(){try{this.$_popper.scheduleUpdate()}catch(e){}},getPopperConfig:function(){var e=D;this.dropup?e=this.right?P:C:this.dropright?e=k:this.dropleft?e=x:this.right&&(e=S);var t={placement:e,modifiers:{offset:{offset:this.offset||0},flip:{enabled:!this.noFlip}}};return this.boundary&&(t.modifiers.preventOverflow={boundariesElement:this.boundary}),_(_({},t),this.popperOpts||{})},whileOpenListen:function(e){this.listenForClickOut=e,this.listenForFocusIn=e;var t=e?"$on":"$off";this.$root[t](w,this.rootCloseListener)},rootCloseListener:function(e){e!==this&&(this.visible=!1)},show:function(){var e=this;this.disabled||Object(d.u)((function(){e.visible=!0}))},hide:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.disabled||(this.visible=!1,e&&this.$once("hidden",this.focusToggler))},toggle:function(e){var t=e=e||{},n=t.type,i=t.keyCode;("click"===n||"keydown"===n&&-1!==[c.a.ENTER,c.a.SPACE,c.a.DOWN].indexOf(i))&&(this.disabled?this.visible=!1:(this.$emit("toggle",e),e.preventDefault(),e.stopPropagation(),this.visible?this.hide(!0):this.show()))},onMousedown:function(e){e.preventDefault()},onKeydown:function(e){var t=e.keyCode;t===c.a.ESC?this.onEsc(e):t===c.a.DOWN?this.focusNext(e,!1):t===c.a.UP&&this.focusNext(e,!0)},onEsc:function(e){this.visible&&(this.visible=!1,e.preventDefault(),e.stopPropagation(),this.$once("hidden",this.focusToggler))},onSplitClick:function(e){this.disabled?this.visible=!1:this.$emit("click",e)},hideHandler:function(e){var t=e.target;!this.visible||Object(d.d)(this.$refs.menu,t)||Object(d.d)(this.toggler,t)||this.hide()},clickOutHandler:function(e){this.hideHandler(e)},focusInHandler:function(e){this.hideHandler(e)},focusNext:function(e,t){var n=this,i=e.target;!this.visible||e&&Object(d.c)(j.FORM_CHILD,i)||(e.preventDefault(),e.stopPropagation(),this.$nextTick((function(){var e=n.getItems();if(!(e.length<1)){var r=e.indexOf(i);t&&r>0?r--:!t&&r<e.length-1&&r++,r<0&&(r=0),n.focusItem(r,e)}})))},focusItem:function(e,t){var n=t.find((function(t,n){return n===e}));n&&n.focus&&n.focus()},getItems:function(){return(Object(d.w)(j.ITEM_SELECTOR,this.$refs.menu)||[]).filter(d.o)},focusMenu:function(){try{this.$refs.menu.focus()}catch(e){}},focusToggler:function(){var e=this;this.$nextTick((function(){var t=e.toggler;t&&t.focus&&t.focus()}))}}},I=n("EQ0+"),R=n("ofGl"),L="BDropdown",F={text:{type:String,default:""},html:{type:String},size:{type:String,default:function(){return Object(o.b)(L,"size")}},variant:{type:String,default:function(){return Object(o.b)(L,"variant")}},block:{type:Boolean,default:!1},menuClass:{type:[String,Array,Object]},toggleTag:{type:String,default:"button"},toggleText:{type:String,default:function(){return Object(o.b)(L,"toggleText")}},toggleClass:{type:[String,Array,Object]},noCaret:{type:Boolean,default:!1},split:{type:Boolean,default:!1},splitHref:{type:String},splitTo:{type:[String,Object]},splitVariant:{type:String,default:function(){return Object(o.b)(L,"splitVariant")}},splitClass:{type:[String,Array,Object]},splitButtonType:{type:String,default:"button",validator:function(e){return Object(r.a)(["button","submit","reset"],e)}},lazy:{type:Boolean,default:!1},role:{type:String,default:"menu"}},B=i.a.extend({name:L,mixins:[a.a,T,I.a],props:F,computed:{dropdownClasses:function(){return[this.directionClass,{show:this.visible,"btn-group":this.split||!this.block,"d-flex":this.block&&this.split,"position-static":"scrollParent"!==this.boundary||!this.boundary}]},menuClasses:function(){return[this.menuClass,{"dropdown-menu-right":this.right,show:this.visible}]},toggleClasses:function(){return[this.toggleClass,{"dropdown-toggle-split":this.split,"dropdown-toggle-no-caret":this.noCaret&&!this.split}]}},render:function(e){var t=e(),n=this.normalizeSlot("button-content")||this.html||Object(s.b)(this.text);if(this.split){var i={variant:this.splitVariant||this.variant,size:this.size,block:this.block,disabled:this.disabled};this.splitTo?i.to=this.splitTo:this.splitHref?i.href=this.splitHref:this.splitButtonType&&(i.type=this.splitButtonType),t=e(R.a,{ref:"button",props:i,class:this.splitClass,attrs:{id:this.safeId("_BV_button_")},on:{click:this.onSplitClick}},[n])}var r=e(R.a,{ref:"toggle",staticClass:"dropdown-toggle",class:this.toggleClasses,props:{tag:this.toggleTag,variant:this.variant,size:this.size,block:this.block&&!this.split,disabled:this.disabled},attrs:{id:this.safeId("_BV_toggle_"),"aria-haspopup":"true","aria-expanded":this.visible?"true":"false"},on:{mousedown:this.onMousedown,click:this.toggle,keydown:this.toggle}},[this.split?e("span",{class:["sr-only"]},[this.toggleText]):n]),o=e("ul",{ref:"menu",staticClass:"dropdown-menu",class:this.menuClasses,attrs:{role:this.role,tabindex:"-1","aria-labelledby":this.safeId(this.split?"_BV_button_":"_BV_toggle_")},on:{keydown:this.onKeydown}},!this.lazy||this.visible?this.normalizeSlot("default",{hide:this.hide}):[e()]);return e("div",{staticClass:"dropdown b-dropdown",class:this.dropdownClasses,attrs:{id:this.safeId()}},[t,r,o])}})},Xa9V:function(e,t,n){"use strict";n("va8A"),n("9U97"),n("kO4A"),n("+kFb"),n("8Qi2"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h");var i=n("G3fq"),r=n.n(i),s=n("yi8e"),o=n("FkSe"),a=n("GTGS"),l=n("LLbv"),c=n("Zvrg"),u=n("rK/1"),d=n("len0"),f=n("9dZE"),p=n("0AwG"),h=n("/lV4"),m=n("BAGK"),g={components:{GlDeprecatedButton:a.a,Icon:d.a},directives:{GlTooltip:l.a},props:{editPath:{type:String,required:!1,default:""},canCurrentUserFork:{type:Boolean,required:!0},canModifyBlob:{type:Boolean,required:!1,default:!1}},computed:{tooltipTitle:function(){return this.isDisabled?Object(h.a)("Can't edit as source branch was deleted"):Object(h.a)("Edit file")},isDisabled:function(){return!this.editPath}},methods:{handleEditClick:function(e){this.canCurrentUserFork&&!this.canModifyBlob&&(e.preventDefault(),this.$emit("showForkMessage"))}}},b=n("tBpV"),v=Object(b.a)(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.top",modifiers:{top:!0}}],attrs:{title:e.tooltipTitle}},[n("gl-deprecated-button",{staticClass:"rounded-0 js-edit-blob",class:{"cursor-not-allowed":e.isDisabled},attrs:{href:e.editPath,disabled:e.isDisabled},nativeOn:{click:function(t){return e.handleEditClick(t)}}},[n("icon",{attrs:{name:"pencil"}})],1)],1)}),[],!1,null,null,null).exports,_=n("l+kv"),y=n("NmEs");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C={components:{GlLoadingIcon:o.a,GlDeprecatedButton:a.a,ClipboardButton:u.a,EditButton:v,Icon:d.a,FileIcon:f.a,DiffStats:_.a},directives:{GlTooltip:l.a},props:{discussionPath:{type:String,required:!1,default:""},diffFile:{type:Object,required:!0},collapsible:{type:Boolean,required:!1,default:!1},addMergeRequestButtons:{type:Boolean,required:!1,default:!1},expanded:{type:Boolean,required:!1,default:!0},canCurrentUserFork:{type:Boolean,required:!0}},computed:O(O({},Object(s.d)("diffs",["diffHasExpandedDiscussions","diffHasDiscussions"])),{},{diffContentIDSelector:function(){return"#diff-content-".concat(this.diffFile.file_hash)},titleLink:function(){return this.diffFile.submodule?this.diffFile.submodule_tree_url||this.diffFile.submodule_link:this.discussionPath?this.discussionPath:this.diffContentIDSelector},filePath:function(){return this.diffFile.submodule?"".concat(this.diffFile.file_path," @ ").concat(Object(p.r)(this.diffFile.blob.id)):this.diffFile.deleted_file?Object(h.e)(Object(h.a)("%{filePath} deleted"),{filePath:this.diffFile.file_path},!1):this.diffFile.file_path},isUsingLfs:function(){return this.diffFile.stored_externally&&"lfs"===this.diffFile.external_storage},collapseIcon:function(){return this.expanded?"chevron-down":"chevron-right"},viewFileButtonText:function(){var e=r()(Object(p.r)(this.diffFile.content_sha));return Object(h.e)(Object(h.d)("MergeRequests|View file @ %{commitId}"),{commitId:e},!1)},viewReplacedFileButtonText:function(){var e=r()(Object(p.r)(this.diffFile.diff_refs.base_sha));return Object(h.e)(Object(h.d)("MergeRequests|View replaced file @ %{commitId}"),{commitId:'<span class="commit-sha">'.concat(e,"</span>")},!1)},gfmCopyText:function(){return"`".concat(this.diffFile.file_path,"`")},isFileRenamed:function(){return this.diffFile.renamed_file},isModeChanged:function(){return this.diffFile.viewer.name===m.r.mode_changed},expandDiffToFullFileTitle:function(){return this.diffFile.isShowingFullFile?Object(h.d)("MRDiff|Show changes only"):Object(h.d)("MRDiff|Show full file")}}),mounted:function(){Object(c.a)(this.$refs.header)},methods:O(O({},Object(s.c)("diffs",["toggleFileDiscussions","toggleFileDiscussionWrappers","toggleFullDiff"])),{},{handleToggleFile:function(){this.$emit("toggleFile")},showForkMessage:function(){this.$emit("showForkMessage")},handleFileNameClick:function(e){if(!(this.diffFile.submodule_tree_url||this.diffFile.submodule_link||this.discussionPath)){e.preventDefault();var t=this.diffContentIDSelector;Object(y.Q)(document.querySelector(t)),window.location.hash=t}}})},P=Object(b.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"header",staticClass:"js-file-title file-title file-title-flex-parent",on:{click:function(t){return t.target!==t.currentTarget?null:e.handleToggleFile(t)}}},[n("div",{staticClass:"file-header-content"},[e.collapsible?n("icon",{ref:"collapseIcon",staticClass:"diff-toggle-caret append-right-5",attrs:{name:e.collapseIcon,size:16,"aria-hidden":"true"},on:{click:function(t){return t.stopPropagation(),e.handleToggleFile(t)}}}):e._e(),e._v(" "),e._m(0),e._v(" "),n("clipboard-button",{attrs:{title:e.__("Copy file path"),text:e.diffFile.file_path,gfm:e.gfmCopyText,"css-class":"btn-default btn-transparent btn-clipboard","data-track-event":"click_copy_file_button","data-track-label":"diff_copy_file_path_button","data-track-property":"diff_copy_file"}}),e._v(" "),e.isModeChanged?n("small",{ref:"fileMode",staticClass:"mr-1"},[e._v("\n      "+e._s(e.diffFile.a_mode)+" â "+e._s(e.diffFile.b_mode)+"\n    ")]):e._e(),e._v(" "),e.isUsingLfs?n("span",{staticClass:"label label-lfs append-right-5"},[e._v(" "+e._s(e.__("LFS"))+" ")]):e._e()],1),e._v(" "),!e.diffFile.submodule&&e.addMergeRequestButtons?n("div",{staticClass:"file-actions d-none d-sm-flex align-items-center flex-wrap"},[n("diff-stats",{attrs:{"added-lines":e.diffFile.added_lines,"removed-lines":e.diffFile.removed_lines}}),e._v(" "),n("div",{staticClass:"btn-group",attrs:{role:"group"}},[e.diffFile.blob&&e.diffFile.blob.readable_text?[n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.s__("MergeRequests|Toggle comments for this file")}},[n("gl-deprecated-button",{ref:"toggleDiscussionsButton",staticClass:"js-btn-vue-toggle-comments btn",class:{active:e.diffHasExpandedDiscussions(e.diffFile)},attrs:{disabled:!e.diffHasDiscussions(e.diffFile),"data-qa-selector":"toggle_comments_button","data-track-event":"click_toggle_comments_button","data-track-label":"diff_toggle_comments_button","data-track-property":"diff_toggle_comments",type:"button"},on:{click:function(t){return e.toggleFileDiscussionWrappers(e.diffFile)}}},[n("icon",{attrs:{name:"comment"}})],1)],1),e._v(" "),e.diffFile.deleted_file?e._e():n("edit-button",{attrs:{"can-current-user-fork":e.canCurrentUserFork,"edit-path":e.diffFile.edit_path,"can-modify-blob":e.diffFile.can_modify_blob,"data-track-event":"click_toggle_edit_button","data-track-label":"diff_toggle_edit_button","data-track-property":"diff_toggle_edit"},on:{showForkMessage:e.showForkMessage}})]:e._e(),e._v(" "),e.diffFile.replaced_view_path?n("a",{ref:"replacedFileButton",staticClass:"btn view-file",attrs:{href:e.diffFile.replaced_view_path},domProps:{innerHTML:e._s(e.viewReplacedFileButtonText)}}):e._e(),e._v(" "),e.diffFile.is_fully_expanded?e._e():n("gl-deprecated-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],ref:"expandDiffToFullFileButton",staticClass:"expand-file",attrs:{title:e.expandDiffToFullFileTitle,"data-track-event":"click_toggle_view_full_button","data-track-label":"diff_toggle_view_full_button","data-track-property":"diff_toggle_view_full"},on:{click:function(t){return e.toggleFullDiff(e.diffFile.file_path)}}},[e.diffFile.isLoadingFullFile?n("gl-loading-icon",{attrs:{color:"dark",inline:""}}):e.diffFile.isShowingFullFile?n("icon",{attrs:{name:"doc-changes"}}):n("icon",{attrs:{name:"doc-expand"}})],1),e._v(" "),n("gl-deprecated-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],ref:"viewButton",staticClass:"view-file",attrs:{href:e.diffFile.view_path,target:"_blank","data-track-event":"click_toggle_view_sha_button","data-track-label":"diff_toggle_view_sha_button","data-track-property":"diff_toggle_view_sha",title:e.viewFileButtonText}},[n("icon",{attrs:{name:"doc-text"}})],1),e._v(" "),e.diffFile.external_url?n("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],ref:"externalLink",staticClass:"btn btn-file-option",attrs:{href:e.diffFile.external_url,title:"View on "+e.diffFile.formatted_external_url,target:"_blank",rel:"noopener noreferrer","data-track-event":"click_toggle_external_button","data-track-label":"diff_toggle_external_button","data-track-property":"diff_toggle_external"}},[n("icon",{attrs:{name:"external-link"}})],1):e._e()],2)],1):e._e()])}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{ref:"titleWrapper",staticClass:"append-right-4",attrs:{href:e.titleLink},on:{click:e.handleFileNameClick}},[n("file-icon",{attrs:{"file-name":e.filePath,size:18,"aria-hidden":"true","css-classes":"append-right-5"}}),e._v(" "),e.isFileRenamed?n("span",[n("strong",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"file-title-name",attrs:{title:e.diffFile.old_path},domProps:{innerHTML:e._s(e.diffFile.old_path_html)}}),e._v("\n        â\n        "),n("strong",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"file-title-name",attrs:{title:e.diffFile.new_path},domProps:{innerHTML:e._s(e.diffFile.new_path_html)}})]):n("strong",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"file-title-name",attrs:{title:e.filePath,"data-container":"body"}},[e._v("\n        "+e._s(e.filePath)+"\n      ")])],1)}],!1,null,null,null);t.a=P.exports},XcOo:function(e,t,n){var i=n("juKp");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("qic4").default)("be6ba292",i,!0,{})},Xxsa:function(e,t,n){var i=n("vkS7"),r=n("hmyg");e.exports=function(e,t,n){(void 0===n||r(e[t],n))&&(void 0!==n||t in e)||i(e,t,n)}},YUKG:function(e,t,n){"use strict";var i=n("XcOo");n.n(i).a},Yyc1:function(e,t,n){"use strict";var i=n("o/E4"),r=n("XLEV"),s=n("s1D3"),o=n("Pyw5"),a=n.n(o);var l=".dropdown-item:not(.disabled):not([disabled]),.form-control:not(.disabled):not([disabled])";const c={components:{BDropdown:{extends:r.a,methods:{getItems:function(){return(Object(i.w)(l,this.$refs.menu)||[]).filter(i.o)}}},GlIcon:s.a},inheritAttrs:!1,props:{text:{type:String,required:!1,default:""},noCaret:{type:Boolean,required:!1,default:!1},split:{type:Boolean,required:!1,default:!1}},computed:{renderCaret:function(){return!this.split&&!this.noCaret}},methods:{hide:function(){var e;(e=this.$refs.dropdown).hide.apply(e,arguments)},show:function(){var e;(e=this.$refs.dropdown).show.apply(e,arguments)}}};const u=a()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-dropdown",e._g(e._b({ref:"dropdown",staticClass:"gl-dropdown",attrs:{split:e.split}},"b-dropdown",e.$attrs,!1),e.$listeners),[e._t("default"),e._v(" "),e._t("button-content",[n("span",{staticClass:"gl-dropdown-toggle-text"},[e._v(e._s(e.text))]),e._v(" "),e.renderCaret?n("gl-icon",{staticClass:"gl-dropdown-caret",attrs:{name:"chevron-down","aria-hidden":"true"}}):e._e()],{slot:"button-content"})],2)},staticRenderFns:[]},void 0,c,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=u},"Z/v1":function(e,t,n){var i=n("mG8k"),r=n("etTJ");e.exports=function(e,t,n,s){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&r(e,t,n)&&(n=0,s=o),i(e,t,n,s)):[]}},ZlTH:function(e,t,n){"use strict";n("va8A"),n("9U97"),n("kO4A"),n("+kFb"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h");var i=n("G3fq"),r=n.n(i),s=n("3a3M"),o=n.n(s),a=n("yi8e"),l=n("30su"),c=n("sHIo"),u=n("0AwG"),d=n("OgyL"),f=n("/lV4"),p=n("XRO8"),h=n("ZHzM"),m=n("TNeE"),g=(n("Z5ek"),n("y6Fo"),n("+xU6"),n("FkSe")),b=n("LLbv"),v=n("CUaz"),_=n("len0"),y=n("GTGS"),w={name:"ReplyButton",components:{Icon:_.a,GlDeprecatedButton:y.a},directives:{GlTooltip:b.a}},O=n("tBpV"),j=Object(O.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"note-actions-item"},[n("gl-deprecated-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],ref:"button",staticClass:"note-action-button",attrs:{"data-track-event":"click_button","data-track-label":"reply_comment_button",variant:"transparent",title:e.__("Reply to comment")},on:{click:function(t){return e.$emit("startReplying")}}},[n("icon",{staticClass:"link-highlight",attrs:{name:"comment"}})],1)],1)}),[],!1,null,null,null).exports,C=n("Or2z"),P=n("qPgm");function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x={name:"NoteActions",components:{Icon:_.a,ReplyButton:j,GlLoadingIcon:g.a},directives:{GlTooltip:b.a},mixins:[v.a],props:{author:{type:Object,required:!0},authorId:{type:Number,required:!0},noteId:{type:[String,Number],required:!0},noteUrl:{type:String,required:!1,default:""},accessLevel:{type:String,required:!1,default:""},reportAbusePath:{type:String,required:!1,default:null},showReply:{type:Boolean,required:!0},canEdit:{type:Boolean,required:!0},canAwardEmoji:{type:Boolean,required:!0},canDelete:{type:Boolean,required:!0},canResolve:{type:Boolean,required:!1,default:!1},resolvable:{type:Boolean,required:!1,default:!1},isResolved:{type:Boolean,required:!1,default:!1},isResolving:{type:Boolean,required:!1,default:!1},resolvedBy:{type:Object,required:!1,default:function(){return{}}},canReportAsAbuse:{type:Boolean,required:!0}},computed:S(S({},Object(a.d)(["getUserDataByProp","getNoteableData"])),{},{shouldShowActionsDropdown:function(){return this.currentUserId&&(this.canEdit||this.canReportAsAbuse)},showDeleteAction:function(){return this.canDelete&&!this.canReportAsAbuse&&!this.noteUrl},isAuthoredByCurrentUser:function(){return this.authorId===this.currentUserId},currentUserId:function(){return this.getUserDataByProp("id")},isUserAssigned:function(){var e=this;return this.assignees&&this.assignees.some((function(t){return t.id===e.author.id}))},displayAssignUserText:function(){return this.isUserAssigned?Object(f.a)("Unassign from commenting user"):Object(f.a)("Assign to commenting user")},sidebarAction:function(){return this.isUserAssigned?"sidebar.addAssignee":"sidebar.removeAssignee"},targetType:function(){return this.getNoteableData.targetType},assignees:function(){return this.getNoteableData.assignees||[]},isIssue:function(){return"issue"===this.targetType}}),methods:{onEdit:function(){this.$emit("handleEdit")},onDelete:function(){this.$emit("handleDelete")},onResolve:function(){this.$emit("handleResolve")},closeTooltip:function(){var e=this;this.$nextTick((function(){e.$root.$emit("bv::hide::tooltip")}))},handleAssigneeUpdate:function(e){this.$emit("updateAssignees",e),C.a.$emit(this.sidebarAction,this.author),C.a.$emit("sidebar.saveAssignees")},assignUser:function(){var e=this,t=this.assignees,n=this.getNoteableData,i=n.project_id,r=n.iid;this.isUserAssigned?t=t.filter((function(t){return t.id!==e.author.id})):t.push({id:this.author.id}),"issue"===this.targetType&&P.a.updateIssue(i,r,{assignee_ids:t.map((function(e){return e.id}))}).then((function(){return e.handleAssigneeUpdate(t)})).catch((function(){return Object(p.a)(Object(f.a)("Something went wrong while updating assignees"))}))}}},E=Object(O.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"note-actions"},[e.accessLevel?n("span",{staticClass:"note-role user-access-role"},[e._v(e._s(e.accessLevel))]):e._e(),e._v(" "),e.canResolve?n("div",{staticClass:"note-actions-item"},[n("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],ref:"resolveButton",staticClass:"line-resolve-btn note-action-button",class:{"is-disabled":!e.resolvable,"is-active":e.isResolved},attrs:{title:e.resolveButtonTitle,"aria-label":e.resolveButtonTitle,type:"button"},on:{click:e.onResolve}},[e.isResolving?n("gl-loading-icon",{attrs:{inline:""}}):[n("icon",{attrs:{name:e.isResolved?"check-circle-filled":"check-circle"}})]],2)]):e._e(),e._v(" "),e.canAwardEmoji?n("div",{staticClass:"note-actions-item"},[n("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"note-action-button note-emoji-button js-add-award js-note-emoji",class:{"js-user-authored":e.isAuthoredByCurrentUser},attrs:{href:"#",title:"Add reaction","data-position":"right"}},[n("icon",{staticClass:"link-highlight award-control-icon-neutral",attrs:{name:"slight-smile"}}),e._v(" "),n("icon",{staticClass:"link-highlight award-control-icon-positive",attrs:{name:"smiley"}}),e._v(" "),n("icon",{staticClass:"link-highlight award-control-icon-super-positive",attrs:{name:"smiley"}})],1)]):e._e(),e._v(" "),e.showReply?n("reply-button",{ref:"replyButton",staticClass:"js-reply-button",on:{startReplying:function(t){return e.$emit("startReplying")}}}):e._e(),e._v(" "),e.canEdit?n("div",{staticClass:"note-actions-item"},[n("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"note-action-button js-note-edit btn btn-transparent qa-note-edit-button",attrs:{type:"button",title:"Edit comment"},on:{click:e.onEdit}},[n("icon",{staticClass:"link-highlight",attrs:{name:"pencil"}})],1)]):e._e(),e._v(" "),e.showDeleteAction?n("div",{staticClass:"note-actions-item"},[n("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"note-action-button js-note-delete btn btn-transparent",attrs:{type:"button",title:"Delete comment"},on:{click:e.onDelete}},[n("icon",{staticClass:"link-highlight",attrs:{name:"remove"}})],1)]):e.shouldShowActionsDropdown?n("div",{staticClass:"dropdown more-actions note-actions-item"},[n("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"note-action-button more-actions-toggle btn btn-transparent",attrs:{type:"button",title:"More actions","data-toggle":"dropdown"},on:{click:e.closeTooltip}},[n("icon",{staticClass:"icon",attrs:{name:"ellipsis_v"}})],1),e._v(" "),n("ul",{staticClass:"dropdown-menu more-actions-dropdown dropdown-open-left"},[e.canReportAsAbuse?n("li",[n("a",{attrs:{href:e.reportAbusePath}},[e._v(e._s(e.__("Report abuse to admin")))])]):e._e(),e._v(" "),e.noteUrl?n("li",[n("button",{staticClass:"btn-default btn-transparent js-btn-copy-note-link",attrs:{"data-clipboard-text":e.noteUrl,type:"button"}},[e._v("\n          "+e._s(e.__("Copy link"))+"\n        ")])]):e._e(),e._v(" "),e.canEdit?n("li",[n("button",{staticClass:"btn btn-transparent js-note-delete js-note-delete",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.onDelete(t)}}},[n("span",{staticClass:"text-danger"},[e._v(e._s(e.__("Delete comment")))])])]):e._e(),e._v(" "),e.isIssue?n("li",[n("button",{staticClass:"btn-default btn-transparent",attrs:{"data-testid":"assign-user",type:"button"},on:{click:e.assignUser}},[e._v("\n          "+e._s(e.displayAssignUserText)+"\n        ")])]):e._e()])]):e._e()],1)}),[],!1,null,null,null).exports,T=(n("EJYk"),n("c82y")),I=(n("z4I3"),n("dj/k"),n("OZM5"),n("S6uq"),n("x/6R"),n("gyUR"),n("yaFd"),n("4ql4"),n("8Qi2"),n("EWC9"),n("5j0x"),n("MRnW"),n("GzNv"),n("tbvx"),n("orcL"),n("Bk2k")),R=n.n(I),L=n("s1D3"),F=n("Dfb/"),B=n("tDP3");function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,s=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}return n}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W={components:{GlIcon:L.a},directives:{tooltip:F.a},props:{awards:{type:Array,required:!0},canAwardEmoji:{type:Boolean,required:!0},currentUserId:{type:Number,required:!1,default:-1},addButtonClass:{type:String,required:!1,default:""},defaultAwards:{type:Array,required:!1,default:function(){return[]}}},computed:{groupedDefaultAwards:function(){return this.defaultAwards.reduce((function(e,t){return Object.assign(e,V({},t,[]))}),{})},groupedAwards:function(){var e=this,t=H(H({},this.groupedDefaultAwards),R()(this.awards,(function(e){return e.name}))),n=t.thumbsup,i=t.thumbsdown,r=U(t,["thumbsup","thumbsdown"]);return[].concat(A(n?[this.createAwardList("thumbsup",n)]:[]),A(i?[this.createAwardList("thumbsdown",i)]:[]),A(Object.entries(r).map((function(t){var n=q(t,2),i=n[0],r=n[1];return e.createAwardList(i,r)}))))},isAuthoredByMe:function(){return this.noteAuthorId===this.currentUserId}},methods:{getAwardClassBindings:function(e){return{active:this.hasReactionByCurrentUser(e),disabled:-1===this.currentUserId}},hasReactionByCurrentUser:function(e){var t=this;return-1!==this.currentUserId&&e.some((function(e){return e.user.id===t.currentUserId}))},createAwardList:function(e,t){return{name:e,list:t,title:this.getAwardListTitle(t),classes:this.getAwardClassBindings(t),html:Object(B.glEmojiTag)(e)}},getAwardListTitle:function(e){var t=this;if(!e.length)return"";var n=this.hasReactionByCurrentUser(e),i=n?9:10,r=e;n&&(r=r.filter((function(e){return e.user.id!==t.currentUserId})));var s=r.slice(0,i).map((function(e){return e.user.name})),o=r.slice(i,r.length);n&&s.unshift(Object(f.a)("You"));var a="";return o.length?a=Object(f.e)(Object(f.a)("%{listToShow}, and %{awardsListLength} more."),{listToShow:s.join(", "),awardsListLength:o.length},!1):s.length>1?(a=s.slice(0,s.length-1).join(", "),a+=s.length>2?",":"",a+=Object(f.e)(Object(f.a)(" and %{sliced}"),{sliced:s.slice(-1)},!1)):a=s.join(Object(f.a)(" and ")),a},handleAward:function(e){if(this.canAwardEmoji){var t=/^[0-9]+$/.test(e)?Number(e):e;this.$emit("award",t)}}}};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X={components:{AwardsList:Object(O.a)(W,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"awards js-awards-block"},[e._l(e.groupedAwards,(function(t){return n("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],key:t.name,staticClass:"btn award-control",class:t.classes,attrs:{title:t.title,"data-boundary":"viewport","data-testid":"award-button",type:"button"},on:{click:function(n){return e.handleAward(t.name)}}},[n("span",{attrs:{"data-testid":"award-html"},domProps:{innerHTML:e._s(t.html)}}),e._v(" "),n("span",{staticClass:"award-control-text js-counter"},[e._v(e._s(t.list.length))])])})),e._v(" "),e.canAwardEmoji?n("div",{staticClass:"award-menu-holder"},[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"award-control btn js-add-award",class:e.addButtonClass,attrs:{title:"Add reaction","aria-label":e.__("Add reaction"),"data-boundary":"viewport",type:"button"}},[n("span",{staticClass:"award-control-icon award-control-icon-neutral"},[n("gl-icon",{attrs:{"aria-hidden":"true",name:"slight-smile"}})],1),e._v(" "),n("span",{staticClass:"award-control-icon award-control-icon-positive"},[n("gl-icon",{attrs:{"aria-hidden":"true",name:"smiley"}})],1),e._v(" "),n("span",{staticClass:"award-control-icon award-control-icon-super-positive"},[n("gl-icon",{attrs:{"aria-hidden":"true",name:"smiley"}})],1),e._v(" "),n("i",{staticClass:"fa fa-spinner fa-spin award-control-icon award-control-icon-loading",attrs:{"aria-hidden":"true"}})])]):e._e()],2)}),[],!1,null,null,null).exports},props:{awards:{type:Array,required:!0},toggleAwardPath:{type:String,required:!0},noteAuthorId:{type:Number,required:!0},noteId:{type:String,required:!0},canAwardEmoji:{type:Boolean,required:!0}},computed:G(G({},Object(a.d)(["getUserData"])),{},{isAuthoredByMe:function(){return this.noteAuthorId===this.getUserData.id},addButtonClass:function(){return this.isAuthoredByMe?"js-user-authored":""}}),methods:G(G({},Object(a.c)(["toggleAwardRequest"])),{},{handleAward:function(e){var t={endpoint:this.toggleAwardPath,noteId:this.noteId,awardName:e};this.toggleAwardRequest(t).catch((function(){return Object(p.a)(Object(f.a)("Something went wrong on our end."))}))}})},Z=Object(O.a)(X,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"note-awards"},[n("awards-list",{attrs:{awards:e.awards,"can-award-emoji":e.canAwardEmoji,"current-user-id":e.getUserData.id,"add-button-class":e.addButtonClass},on:{award:function(t){return e.handleAward(t)}}})],1)}),[],!1,null,null,null).exports,Q={name:"NoteAttachment",props:{attachment:{type:Object,required:!0}}},Y=Object(O.a)(Q,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"note-attachment"},[e.attachment.image?n("a",{ref:"attachmentImage",attrs:{href:e.attachment.url,target:"_blank",rel:"noopener noreferrer"}},[n("img",{staticClass:"note-image-attach",attrs:{src:e.attachment.url}})]):e._e(),e._v(" "),n("div",{staticClass:"attachment"},[e.attachment.url?n("a",{ref:"attachmentUrl",attrs:{href:e.attachment.url,target:"_blank",rel:"noopener noreferrer"}},[n("i",{staticClass:"fa fa-paperclip",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.attachment.filename)+"\n    ")]):e._e()])])}),[],!1,null,null,null).exports,J=n("OsT7"),ee=n("ywIy"),te=n("KAYR");function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se={components:{noteEditedText:T.a,noteAwardsList:Z,noteAttachment:Y,noteForm:J.a,Suggestions:te.a},mixins:[ee.a],props:{note:{type:Object,required:!0},line:{type:Object,required:!1,default:null},canEdit:{type:Boolean,required:!0},isEditing:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""}},computed:ie(ie(ie({},Object(a.d)(["getDiscussion"])),{},{discussion:function(){return this.note.isDraft?this.getDiscussion(this.note.discussion_id):{}}},Object(a.e)({batchSuggestionsInfo:function(e){return e.notes.batchSuggestionsInfo}})),{},{noteBody:function(){return this.note.note},hasSuggestion:function(){return this.note.suggestions&&this.note.suggestions.length},lineType:function(){return this.line?this.line.type:null}}),mounted:function(){this.renderGFM(),this.isEditing&&this.initAutoSave(this.note)},updated:function(){this.renderGFM(),this.isEditing&&(this.autosave?this.setAutoSave():this.initAutoSave(this.note))},methods:ie(ie({},Object(a.c)(["submitSuggestion","submitSuggestionBatch","addSuggestionInfoToBatch","removeSuggestionInfoFromBatch"])),{},{renderGFM:function(){o()(this.$refs["note-body"]).renderGFM()},handleFormUpdate:function(e,t,n,i){this.$emit("handleFormUpdate",e,t,n,i)},formCancelHandler:function(e,t){this.$emit("cancelForm",e,t)},applySuggestion:function(e){var t=e.suggestionId,n=e.flashContainer,i=e.callback,r=void 0===i?function(){}:i,s=this.note,o=s.discussion_id,a=s.id;return this.submitSuggestion({discussionId:o,noteId:a,suggestionId:t,flashContainer:n}).then(r)},applySuggestionBatch:function(e){var t=e.flashContainer;return this.submitSuggestionBatch({flashContainer:t})},addSuggestionToBatch:function(e){var t=this.note,n=t.discussion_id,i=t.id;this.addSuggestionInfoToBatch({suggestionId:e,discussionId:n,noteId:i})},removeSuggestionFromBatch:function(e){this.removeSuggestionInfoFromBatch(e)}})},oe=Object(O.a)(se,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"note-body",staticClass:"note-body",class:{"js-task-list-container":e.canEdit}},[e.hasSuggestion&&!e.isEditing?n("suggestions",{attrs:{suggestions:e.note.suggestions,"batch-suggestions-info":e.batchSuggestionsInfo,"note-html":e.note.note_html,"line-type":e.lineType,"help-page-path":e.helpPagePath},on:{apply:e.applySuggestion,applyBatch:e.applySuggestionBatch,addToBatch:e.addSuggestionToBatch,removeFromBatch:e.removeSuggestionFromBatch}}):n("div",{staticClass:"note-text md",domProps:{innerHTML:e._s(e.note.note_html)}}),e._v(" "),e.isEditing?n("note-form",{ref:"noteForm",attrs:{"is-editing":e.isEditing,"note-body":e.noteBody,"note-id":e.note.id,line:e.line,note:e.note,"help-page-path":e.helpPagePath,discussion:e.discussion,"resolve-discussion":e.note.resolve_discussion},on:{handleFormUpdate:e.handleFormUpdate,cancelForm:e.formCancelHandler}}):e._e(),e._v(" "),e.canEdit?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.note.note,expression:"note.note"}],staticClass:"hidden js-task-list-field",attrs:{"data-update-url":e.note.path,dir:"auto"},domProps:{value:e.note.note},on:{input:function(t){t.target.composing||e.$set(e.note,"note",t.target.value)}}}):e._e(),e._v(" "),e.note.last_edited_at?n("note-edited-text",{staticClass:"note_edited_ago",attrs:{"edited-at":e.note.last_edited_at,"edited-by":e.note.last_edited_by,"action-text":"Edited"}}):e._e(),e._v(" "),e.note.award_emoji&&e.note.award_emoji.length?n("note-awards-list",{attrs:{"note-id":e.note.id,"note-author-id":e.note.author.id,awards:e.note.award_emoji,"toggle-award-path":e.note.toggle_award_path,"can-award-emoji":e.note.current_user.can_award_emoji}}):e._e(),e._v(" "),e.note.attachment?n("note-attachment",{attrs:{attachment:e.note.attachment}}):e._e()],1)}),[],!1,null,null,null).exports,ae=n("J7NB"),le=n("byjy"),ce=n("G/dv"),ue=n("QwBj"),de=n("z3Iu"),fe=n("D+Xo");function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge={name:"NoteableNote",components:{GlSprintf:l.a,userAvatarLink:h.a,noteHeader:m.a,noteActions:E,NoteBody:oe,TimelineEntryItem:d.a,MultilineCommentForm:fe.a},mixins:[le.a,ce.a,Object(c.a)()],props:{note:{type:Object,required:!0},line:{type:Object,required:!1,default:null},helpPagePath:{type:String,required:!1,default:""},commit:{type:Object,required:!1,default:function(){return null}},showReplyButton:{type:Boolean,required:!1,default:!1},diffLines:{type:Object,required:!1,default:null}},data:function(){var e,t;return{isEditing:!1,isDeleting:!1,isRequesting:!1,isResolving:!1,commentLineStart:{line_code:null===(e=this.line)||void 0===e?void 0:e.line_code,type:null===(t=this.line)||void 0===t?void 0:t.type}}},computed:he(he(he({},Object(a.d)("diffs",["getDiffFileByHash"])),Object(a.d)(["targetNoteHash","getNoteableData","getUserData","commentsDisabled"])),{},{author:function(){return this.note.author},classNameBindings:function(){var e;return me(e={},"note-row-".concat(this.note.id),!0),me(e,"is-editing",this.isEditing&&!this.isRequesting),me(e,"is-requesting being-posted",this.isRequesting),me(e,"disabled-content",this.isDeleting),me(e,"target",this.isTarget),me(e,"is-editable",this.note.current_user.can_edit),e},canReportAsAbuse:function(){return Boolean(this.note.report_abuse_path)&&this.author.id!==this.getUserData.id},noteAnchorId:function(){return"note_".concat(this.note.id)},isTarget:function(){return this.targetNoteHash===this.noteAnchorId},discussionId:function(){return this.discussion?this.discussion.id:""},actionText:function(){if(!this.commit)return"";var e=this.commit,t=e.id,n=e.url,i='<a class="commit-sha monospace" href="'.concat(r()(n),'">').concat(Object(u.r)(t),"</a>");return Object(f.e)(Object(f.d)("MergeRequests|commented on commit %{commitLink}"),{commitLink:i},!1)},isDraft:function(){return this.note.isDraft},canResolve:function(){return this.note.current_user.can_resolve||this.note.isDraft&&null!==this.note.discussion_id},lineRange:function(){var e;return null===(e=this.note.position)||void 0===e?void 0:e.line_range},startLineNumber:function(){return Object(de.d)(this.lineRange)},endLineNumber:function(){return Object(de.b)(this.lineRange)},showMultiLineComment:function(){return this.glFeatures.multilineComments&&this.startLineNumber&&this.endLineNumber&&(this.startLineNumber!==this.endLineNumber||this.isEditing)},commentLineOptions:function(){if(this.diffLines)return Object(de.a)(this.diffLines,this.line.line_code);var e=this.diffFile||this.getDiffFileByHash(this.targetNoteHash);return e?Object(de.a)(e.highlighted_diff_lines,this.line.line_code):null}}),created:function(){var e=this;ae.a.$on("enterEditMode",(function(t){t.noteId===e.note.id&&(e.isEditing=!0,e.scrollToNoteIfNeeded(o()(e.$el)))}))},mounted:function(){this.isTarget&&this.scrollToNoteIfNeeded(o()(this.$el))},methods:he(he({},Object(a.c)(["deleteNote","removeNote","updateNote","toggleResolveNote","scrollToNoteIfNeeded","updateAssignees"])),{},{editHandler:function(){this.isEditing=!0,this.$emit("handleEdit")},deleteHandler:function(){var e=this,t=this.note.isDraft?Object(f.a)("pending comment"):Object(f.a)("comment");if(window.confirm(Object(f.e)(Object(f.a)("Are you sure you want to delete this %{typeOfComment}?"),{typeOfComment:t}))){if(this.isDeleting=!0,this.$emit("handleDeleteNote",this.note),this.note.isDraft)return;this.deleteNote(this.note).then((function(){e.isDeleting=!1})).catch((function(){Object(p.a)(Object(f.a)("Something went wrong while deleting your note. Please try again.")),e.isDeleting=!1}))}},updateSuccess:function(){this.isEditing=!1,this.isRequesting=!1,this.oldContent=null,o()(this.$refs.noteBody.$el).renderGFM(),this.$refs.noteBody.resetAutoSave(),this.$emit("updateSuccess")},formUpdateHandler:function(e,t,n,i){var s,o,a,l,c=this,u=he(he({},this.note.position),{},{line_range:{start_line_code:null===(s=this.commentLineStart)||void 0===s?void 0:s.lineCode,start_line_type:null===(o=this.commentLineStart)||void 0===o?void 0:o.type,end_line_code:null===(a=this.line)||void 0===a?void 0:a.line_code,end_line_type:null===(l=this.line)||void 0===l?void 0:l.type}});if(this.$emit("handleUpdateNote",{note:this.note,noteText:e,resolveDiscussion:i,position:u,callback:function(){return c.updateSuccess()}}),!this.isDraft){var d={endpoint:this.note.path,note:{target_type:this.getNoteableData.targetType,target_id:this.note.noteable_id,note:{note:e}}};this.isRequesting=!0,this.oldContent=this.note.note_html,this.note.note_html=r()(e),this.updateNote(d).then((function(){c.updateSuccess(),n()})).catch((function(t){t.status===ue.a.GONE?(c.removeNote(c.note),c.updateSuccess(),n()):(c.isRequesting=!1,c.isEditing=!0,c.$nextTick((function(){var t=Object(f.a)("Something went wrong while editing your comment. Please try again.");Object(p.a)(t,"alert",c.$el),c.recoverNoteContent(e),n()})))}))}},formCancelHandler:function(e,t){e&&t&&!window.confirm(Object(f.a)("Are you sure you want to cancel editing this comment?"))||(this.$refs.noteBody.resetAutoSave(),this.oldContent&&(this.note.note_html=this.oldContent,this.oldContent=null),this.isEditing=!1,this.$emit("cancelForm"))},recoverNoteContent:function(e){this.note.note=e;var t=this.$refs.noteBody;t&&(t.note.note=e)},getLineClasses:function(e){return Object(de.c)(e)},assigneesUpdate:function(e){this.updateAssignees(e)}})},be=Object(O.a)(ge,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("timeline-entry-item",{staticClass:"note note-wrapper qa-noteable-note-item",class:e.classNameBindings,attrs:{id:e.noteAnchorId,"data-award-url":e.note.toggle_award_path,"data-note-id":e.note.id}},[e.showMultiLineComment?n("div",{attrs:{"data-testid":"multiline-comment"}},[e.isEditing&&e.commentLineOptions&&e.line?n("multiline-comment-form",{staticClass:"gl-mb-3 gl-text-gray-700 gl-border-gray-200 gl-border-b-solid gl-border-b-1 gl-pb-3",attrs:{line:e.line,"comment-line-options":e.commentLineOptions,"line-range":e.note.position.line_range},model:{value:e.commentLineStart,callback:function(t){e.commentLineStart=t},expression:"commentLineStart"}}):n("div",{staticClass:"gl-mb-3 gl-text-gray-700"},[n("gl-sprintf",{attrs:{message:e.__("Comment on lines %{startLine} to %{endLine}")},scopedSlots:e._u([{key:"startLine",fn:function(){return[n("span",{class:e.getLineClasses(e.startLineNumber)},[e._v(e._s(e.startLineNumber))])]},proxy:!0},{key:"endLine",fn:function(){return[n("span",{class:e.getLineClasses(e.endLineNumber)},[e._v(e._s(e.endLineNumber))])]},proxy:!0}],null,!1,1413361638)})],1)],1):e._e(),e._v(" "),e._m(0),e._v(" "),n("div",{staticClass:"timeline-content"},[n("div",{staticClass:"note-header"},[e._m(1),e._v(" "),n("note-actions",{attrs:{author:e.author,"author-id":e.author.id,"note-id":e.note.id,"note-url":e.note.noteable_note_url,"access-level":e.note.human_access,"show-reply":e.showReplyButton,"can-edit":e.note.current_user.can_edit,"can-award-emoji":e.note.current_user.can_award_emoji,"can-delete":e.note.current_user.can_edit,"can-report-as-abuse":e.canReportAsAbuse,"can-resolve":e.canResolve,"report-abuse-path":e.note.report_abuse_path,resolvable:e.note.resolvable||e.note.isDraft,"is-resolved":e.note.resolved||e.note.resolve_discussion,"is-resolving":e.isResolving,"resolved-by":e.note.resolved_by,"is-draft":e.note.isDraft,"resolve-discussion":e.note.isDraft&&e.note.resolve_discussion,"discussion-id":e.discussionId},on:{handleEdit:e.editHandler,handleDelete:e.deleteHandler,handleResolve:e.resolveHandler,startReplying:function(t){return e.$emit("startReplying")},updateAssignees:e.assigneesUpdate}})],1),e._v(" "),n("div",{staticClass:"timeline-discussion-body"},[e._t("discussion-resolved-text"),e._v(" "),n("note-body",{ref:"noteBody",attrs:{note:e.note,line:e.line,"can-edit":e.note.current_user.can_edit,"is-editing":e.isEditing,"help-page-path":e.helpPagePath},on:{handleFormUpdate:e.formUpdateHandler,cancelForm:e.formCancelHandler}})],2)])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"timeline-icon"},[t("user-avatar-link",{attrs:{"link-href":this.author.path,"img-src":this.author.avatar_url,"img-alt":this.author.name,"img-size":40}},[this._t("avatar-badge",null,{slot:"avatar-badge"})],2)],1)},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("note-header",{attrs:{author:e.author,"created-at":e.note.created_at,"note-id":e.note.id,"is-confidential":e.note.confidential}},[e._t("note-header-info",null,{slot:"note-header-info"}),e._v(" "),e.commit?n("span",{domProps:{innerHTML:e._s(e.actionText)}}):e.note.created_at?n("span",{staticClass:"d-none d-sm-inline"},[e._v("Â·")]):e._e()],2)}],!1,null,null,null);t.a=be.exports},Zvrg:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var i=n("V2jy"),r=n.n(i),s=function(e,t,n,i){var r=Math.floor(e.offsetTop-t);if(r<=n&&!e.classList.contains("is-stuck")){var s=i?function(){var e=document.createElement("div");return e.classList.add("sticky-placeholder"),e}():null,o=e.offsetHeight;e.classList.add("is-stuck"),i&&(e.parentNode.insertBefore(s,e.nextElementSibling),s.style.height="".concat(o-e.offsetHeight,"px"))}else r>n&&e.classList.contains("is-stuck")&&(e.classList.remove("is-stuck"),i&&e.nextElementSibling&&e.nextElementSibling.classList.contains("sticky-placeholder")&&e.nextElementSibling.remove())},o=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e&&"undefined"!=typeof CSS&&CSS.supports("(position: -webkit-sticky) or (position: sticky)")&&document.addEventListener("scroll",(function(){return s(e,window.scrollY,t,n)}),{passive:!0})},a=function(e){r.a.add(e)}},a0mT:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("OuD2"),o=n("70tN"),a=n("AgLN"),l=n("1M6e"),c=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:function(e){var t=l(this),n=o(e),i=n.has;return"function"!=typeof i&&(n=new(s("Set"))(e),i=a(n.has)),!c(t,(function(e){if(!1===i.call(n,e))return c.stop()}),void 0,!1,!0).stopped}})},aOyP:function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n.tree-list-blobs .file-row-name {\n  margin-left: 12px;\n}\n.diff-tree-search-shortcut {\n  top: 50%;\n  right: 10px;\n  transform: translateY(-50%);\n  pointer-events: none;\n}\n.tree-list-icon:not(button) {\n  pointer-events: none;\n}\n",""])},ayhe:function(e,t,n){var i=n("PpKG"),r=n("1M6e");e.exports=i?r:function(e){return Set.prototype.values.call(e)}},"bX/R":function(e,t,n){"use strict";n("va8A"),n("kO4A"),n("+kFb"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h");var i=n("yi8e"),r=n("/lV4");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={computed:o(o({},Object(i.d)(["getNotesDataByProp"])),{},{registerLink:function(){return this.getNotesDataByProp("registerPath")},signInLink:function(){return this.getNotesDataByProp("newSessionPath")},signedOutText:function(){return Object(r.e)(Object(r.a)("Please %{startTagRegister}register%{endRegisterTag} or %{startTagSignIn}sign in%{endSignInTag} to reply"),{startTagRegister:'<a href="'.concat(this.registerLink,'">'),startTagSignIn:'<a href="'.concat(this.signInLink,'">'),endRegisterTag:"</a>",endSignInTag:"</a>"},!1)}})},c=n("tBpV"),u=Object(c.a)(l,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"disabled-comment text-center",domProps:{innerHTML:this._s(this.signedOutText)}})}),[],!1,null,null,null);t.a=u.exports},byjy:function(e,t,n){"use strict";var i=n("7KAB");t.a={computed:{noteableType:function(){var e=this.discussion?this.discussion.notes[0]:this.note;return i.r[e.noteable_type]}}}},c82y:function(e,t,n){"use strict";var i={name:"EditedNoteText",components:{timeAgoTooltip:n("Fsq/").a},props:{actionText:{type:String,required:!0},actionDetailText:{type:String,required:!1,default:""},editedAt:{type:String,required:!1,default:null},editedBy:{type:Object,required:!1,default:null},className:{type:String,required:!1,default:"edited-text"}}},r=n("tBpV"),s=Object(r.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.className},[e._v("\n  "+e._s(e.actionText)+"\n  "),e.editedBy?[e._v("\n    by\n    "),n("a",{staticClass:"js-user-link author-link",attrs:{href:e.editedBy.path,"data-user-id":e.editedBy.id}},[e._v("\n      "+e._s(e.editedBy.name)+"\n    ")])]:e._e(),e._v("\n  "+e._s(e.actionDetailText)+"\n  "),n("time-ago-tooltip",{attrs:{time:e.editedAt,"tooltip-placement":"bottom"}})],2)}),[],!1,null,null,null);t.a=s.exports},cyZB:function(e,t,n){"use strict";n("va8A"),n("pRmn"),n("kO4A"),n("t3Gg"),n("+kFb"),n("FMw2"),n("y6Fo"),n("zCcL"),n("zpLX"),n("BD5p"),n("IdsT"),n("QifN"),n("S26F"),n("Id6h");var i=n("yi8e"),r=n("3twG"),s=n("XRO8"),o=n("7KAB"),a=n("J7NB"),l=n("ZlTH"),c=n("ffkl"),u=n("GTGS"),d=n("len0"),f=n("/lV4"),p={components:{GlDeprecatedButton:u.a,Icon:d.a},computed:{timelineContent:function(){return Object(f.e)(Object(f.a)("You're only seeing %{startTag}other activity%{endTag} in the feed. To add a comment, switch to one of the following options."),{startTag:"<b>",endTag:"</b>"},!1)}},methods:{selectFilter:function(e){a.a.$emit("dropdownSelect",e)}}},h=n("tBpV"),m=Object(h.a)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"timeline-entry note note-wrapper discussion-filter-note js-discussion-filter-note"},[n("div",{staticClass:"timeline-icon d-none d-lg-flex"},[n("icon",{attrs:{name:"comment"}})],1),e._v(" "),n("div",{staticClass:"timeline-content"},[n("div",{ref:"timelineContent",domProps:{innerHTML:e._s(e.timelineContent)}}),e._v(" "),n("div",{staticClass:"discussion-filter-actions mt-2"},[n("gl-deprecated-button",{ref:"showAllActivity",attrs:{variant:"default"},on:{click:function(t){return e.selectFilter(0)}}},[e._v("\n        "+e._s(e.__("Show all activity"))+"\n      ")]),e._v(" "),n("gl-deprecated-button",{ref:"showComments",attrs:{variant:"default"},on:{click:function(t){return e.selectFilter(1)}}},[e._v("\n        "+e._s(e.__("Show comments only"))+"\n      ")])],1)])])}),[],!1,null,null,null).exports,g=n("gvRd"),b=(n("gyUR"),n("MRnW"),n("N0ZT"),n("jaBk"),n("Q33P")),v=n.n(b),_=n("3a3M"),y=n.n(_),w=n("k5du"),O=n.n(w),j=n("dsWN"),C=n("hqzR"),P=n.n(C),D=n("5duq"),S=n.n(D),k=n("U2De"),x=n.n(k),E=n("gMZC"),T=n.n(E),I=n("1Wlv"),R=n.n(I);function L(e){return function(e){if(Array.isArray(e))return e}(e)||B(e)||q(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e){return function(e){if(Array.isArray(e))return A(e)}(e)||B(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function q(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var M=T()((function(e,t){var n=L(t),i=n[0],r=n.slice(1);return[i].concat(F(R()((function(t){return[e,t]}),r)))})),N=T()((function(e,t,n){return[].concat(F(n.slice(0,e)),[t],F(n.slice(e)))})),$=n("Pyw5"),H=n.n($),U=x()((function(e){return function(e){return void 0!==e.tag}(e)||!function(e){return""===e.text.trim()}(e)})),V=N(-1),W=S()(-2,-1);const z={functional:!0,props:{separator:{type:String,default:", ",required:!1},lastSeparator:{type:String,default:"",required:!1}},render:function(e,t){var n=t.props,i=n.separator,r=n.lastSeparator,s=t.slots;return e("span",P()(function(e){return function(t){return e?t.length>3?V(e,t):W(e,t):t}}(r),M(i),U)(s().default))}};var G=H()({},void 0,z,void 0,void 0,void 0,!1,void 0,void 0,void 0),K=n("MV2A"),X=n("30su"),Z=n("OgyL"),Q=n("tRCE"),Y=n("0AwG"),J=n("s4z4"),ee=n("Mvx7"),te=n("IeAI"),ne=n("ZHzM"),ie=n("3c3Z"),re=n("bX/R"),se=n("bJWr"),oe=n("IsdW"),ae={components:{Icon:d.a,GlLink:K.a},mixins:[se.a,oe.a],computed:{projectArchivedWarning:function(){return Object(f.a)("This project is archived and cannot be commented on.")},lockedIssueWarning:function(){return Object(f.e)(Object(f.a)("This %{issuableDisplayName} is locked. Only project members can comment."),{issuableDisplayName:this.issuableDisplayName})}}},le=Object(h.a)(ae,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"disabled-comment text-center"},[n("span",{staticClass:"issuable-note-warning inline"},[n("icon",{staticClass:"icon",attrs:{size:16,name:"lock"}}),e._v(" "),e.isProjectArchived?n("span",[e._v("\n      "+e._s(e.projectArchivedWarning)+"\n      "),n("gl-link",{staticClass:"learn-more",attrs:{href:e.archivedProjectDocsPath,target:"_blank"}},[e._v("\n        "+e._s(e.__("Learn more"))+"\n      ")])],1):n("span",[e._v("\n      "+e._s(e.lockedIssueWarning)+"\n      "),n("gl-link",{staticClass:"learn-more",attrs:{href:e.lockedIssueDocsPath,target:"_blank"}},[e._v("\n        "+e._s(e.__("Learn more"))+"\n      ")])],1)],1)])}),[],!1,null,null,null).exports;function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe={name:"CommentForm",components:{issueWarning:ee.a,epicWarning:function(){return n.e(14).then(n.bind(null,"4b03"))},noteSignedOutWidget:re.a,discussionLockedWidget:le,markdownField:te.a,userAvatarLink:ne.a,loadingButton:ie.a,TimelineEntryItem:Z.a,GlAlert:j.a,GlIntersperse:G,GlLink:K.a,GlSprintf:X.a},mixins:[oe.a],props:{noteableType:{type:String,required:!0}},data:function(){return{note:"",noteType:o.c,isSubmitting:!1,isSubmitButtonDisabled:!0}},computed:ue(ue(ue({},Object(i.d)(["getCurrentUserLastNote","getUserData","getNoteableData","getNoteableDataByProp","getNotesData","openState","getBlockedByIssues"])),Object(i.e)(["isToggleStateButtonLoading","isToggleBlockedIssueWarning"])),{},{noteableDisplayName:function(){return Object(Y.m)(this.noteableType).toLowerCase()},isLoggedIn:function(){return this.getUserData.id},commentButtonTitle:function(){return this.noteType===o.c?Object(f.a)("Comment"):Object(f.a)("Start thread")},startDiscussionDescription:function(){return this.getNoteableData.noteableType===o.p?Object(f.a)("Discuss a specific suggestion or question that needs to be resolved."):Object(f.a)("Discuss a specific suggestion or question.")},isOpen:function(){return this.openState===o.t||this.openState===o.u},canCreateNote:function(){return this.getNoteableData.current_user.can_create_note},issueActionButtonTitle:function(){var e=this.isOpen?"close":"reopen";return this.note.length?Object(f.e)(Object(f.a)("%{actionText} & %{openOrClose} %{noteable}"),{actionText:this.commentButtonTitle,openOrClose:e,noteable:this.noteableDisplayName}):Object(f.e)(Object(f.a)("%{openOrClose} %{noteable}"),{openOrClose:Object(Y.b)(e),noteable:this.noteableDisplayName})},actionButtonClassNames:function(){return{"btn-reopen":!this.isOpen,"btn-close":this.isOpen,"js-note-target-close":this.isOpen,"js-note-target-reopen":!this.isOpen}},markdownDocsPath:function(){return this.getNotesData.markdownDocsPath},quickActionsDocsPath:function(){return this.getNotesData.quickActionsDocsPath},markdownPreviewPath:function(){return this.getNoteableData.preview_note_path},author:function(){return this.getUserData},canToggleIssueState:function(){return this.getNoteableData.current_user.can_update&&this.getNoteableData.state!==o.o},endpoint:function(){return this.getNoteableData.create_note_path},issuableTypeTitle:function(){return this.noteableType===o.p?Object(f.a)("merge request"):Object(f.a)("issue")},isIssueType:function(){return this.noteableDisplayName===o.n},trackingLabel:function(){return Object(Y.l)("".concat(this.commentButtonTitle," button"))}}),watch:{note:function(e){this.setIsSubmitButtonDisabled(e,this.isSubmitting)},isSubmitting:function(e){this.setIsSubmitButtonDisabled(this.note,e)}},mounted:function(){var e=this;y()(document).on("issuable:change",(function(t,n){e.toggleIssueLocalState(n?o.b:o.u)})),this.initAutoSave()},methods:ue(ue({},Object(i.c)(["saveNote","stopPolling","restartPolling","removePlaceholderNotes","closeIssue","reopenIssue","toggleIssueLocalState","toggleStateButtonLoading","toggleBlockedIssueWarning"])),{},{setIsSubmitButtonDisabled:function(e,t){v()(e)||t?this.isSubmitButtonDisabled=!0:this.isSubmitButtonDisabled=!1},handleSave:function(e){var t=this;if(this.isSubmitting=!0,this.note.length){var n={endpoint:this.endpoint,flashContainer:this.$el,data:{note:{noteable_type:this.noteableType,noteable_id:this.getNoteableData.id,note:this.note},merge_request_diff_head_sha:this.getNoteableData.diff_head_sha}};this.noteType===o.g&&(n.data.note.type=o.j),this.note="",this.resizeTextarea(),this.stopPolling(),this.saveNote(n).then((function(){t.enableButton(),t.restartPolling(),t.discard(),e&&t.toggleIssueState()})).catch((function(){t.enableButton(),t.discard(!1);var e=Object(f.a)("Your comment could not be submitted! Please check your network connection and try again.");Object(s.a)(e,"alert",t.$el),t.note=n.data.note.note,t.removePlaceholderNotes()}))}else this.toggleIssueState()},enableButton:function(){this.isSubmitting=!1},toggleIssueState:function(){var e=this;this.noteableType.toLowerCase()===o.n&&this.isOpen&&this.getBlockedByIssues&&this.getBlockedByIssues.length>0?this.toggleBlockedIssueWarning(!0):this.isOpen?this.forceCloseIssue():this.reopenIssue().then((function(){e.enableButton(),Object(J.b)()})).catch((function(t){var n=t.data;e.enableButton(),e.toggleStateButtonLoading(!1);var i=Object(f.e)(Object(f.a)("Something went wrong while reopening the %{issuable}. Please try again later"),{issuable:e.noteableDisplayName});n&&(i=Object.values(n).join("\n")),Object(s.a)(i)}))},forceCloseIssue:function(){var e=this;this.closeIssue().then((function(){e.enableButton(),Object(J.b)()})).catch((function(){e.enableButton(),e.toggleStateButtonLoading(!1),Object(s.a)(Object(f.e)(Object(f.a)("Something went wrong while closing the %{issuable}. Please try again later"),{issuable:e.noteableDisplayName}))}))},discard:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.textarea.blur(),this.$refs.textarea.focus(),e&&(this.note="",this.resizeTextarea(),this.$refs.markdownField.previewMarkdown=!1),this.autosave.reset()},setNoteType:function(e){this.noteType=e},editCurrentUserLastNote:function(){if(""===this.note){var e=this.getCurrentUserLastNote;e&&a.a.$emit("enterEditMode",{noteId:e.id})}},initAutoSave:function(){if(this.isLoggedIn){var e=Object(Y.b)(Object(Y.c)(this.noteableType));this.autosave=new Q.a(y()(this.$refs.textarea),[Object(f.a)("Note"),e,this.getNoteableData.id])}},resizeTextarea:function(){var e=this;this.$nextTick((function(){O.a.update(e.$refs.textarea)}))}})},pe=Object(h.a)(fe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isLoggedIn?e.canCreateNote?e.canCreateNote?n("ul",{staticClass:"notes notes-form timeline"},[n("timeline-entry-item",{staticClass:"note-form"},[n("div",{staticClass:"flash-container error-alert timeline-content"}),e._v(" "),n("div",{staticClass:"timeline-icon d-none d-sm-none d-md-block"},[e.author?n("user-avatar-link",{attrs:{"link-href":e.author.path,"img-src":e.author.avatar_url,"img-alt":e.author.name,"img-size":40}}):e._e()],1),e._v(" "),n("div",{staticClass:"timeline-content timeline-content-form"},[n("form",{ref:"commentForm",staticClass:"new-note common-note-form gfm-form js-main-target-form"},[n("div",{staticClass:"error-alert"}),e._v(" "),e.hasWarning(e.getNoteableData)&&e.isIssueType?n("issue-warning",{attrs:{"is-locked":e.isLocked(e.getNoteableData),"is-confidential":e.isConfidential(e.getNoteableData),"locked-issue-docs-path":e.lockedIssueDocsPath,"confidential-issue-docs-path":e.confidentialIssueDocsPath}}):e._e(),e._v(" "),n("epic-warning",{attrs:{"is-confidential":e.isConfidential(e.getNoteableData)}}),e._v(" "),n("markdown-field",{ref:"markdownField",attrs:{"is-submitting":e.isSubmitting,"markdown-preview-path":e.markdownPreviewPath,"markdown-docs-path":e.markdownDocsPath,"quick-actions-docs-path":e.quickActionsDocsPath,"add-spacing-classes":!1}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.note,expression:"note"}],ref:"textarea",staticClass:"note-textarea js-vue-comment-form js-note-text\njs-gfm-input js-autosize markdown-area js-vue-textarea qa-comment-input",attrs:{slot:"textarea",id:"note-body",dir:"auto",disabled:e.isSubmitting,name:"note[note]","data-supports-quick-actions":"true","aria-label":e.__("Description"),placeholder:e.__("Write a comment or drag your files hereâ¦")},domProps:{value:e.note},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.editCurrentUserLastNote()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?e.handleSave():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.handleSave():null}],input:function(t){t.target.composing||(e.note=t.target.value)}},slot:"textarea"})]),e._v(" "),e.isToggleBlockedIssueWarning?n("gl-alert",{staticClass:"prepend-top-16",attrs:{title:e.__("Are you sure you want to close this blocked issue?"),"primary-button-text":e.__("Yes, close issue"),"secondary-button-text":e.__("Cancel"),variant:"warning",dismissible:!1},on:{primaryAction:e.forceCloseIssue,secondaryAction:function(t){e.toggleBlockedIssueWarning(!1)&&e.enableButton()}}},[n("p",[n("gl-sprintf",{attrs:{message:e.__("This issue is currently blocked by the following issues: %{issues}.")},scopedSlots:e._u([{key:"issues",fn:function(){return[n("gl-intersperse",e._l(e.getBlockedByIssues,(function(t){return n("gl-link",{key:t.web_url,attrs:{href:t.web_url}},[e._v("#"+e._s(t.iid))])})),1)]},proxy:!0}],null,!1,1495405806)})],1)]):e._e(),e._v(" "),n("div",{staticClass:"note-form-actions"},[n("div",{staticClass:"btn-group\nappend-right-10 comment-type-dropdown js-comment-type-dropdown droplab-dropdown"},[n("button",{staticClass:"btn btn-success js-comment-button js-comment-submit-button\n                    qa-comment-button",attrs:{disabled:e.isSubmitButtonDisabled,type:"submit","data-track-label":e.trackingLabel,"data-track-event":"click_button"},on:{click:function(t){return t.preventDefault(),e.handleSave()}}},[e._v("\n                  "+e._s(e.commentButtonTitle)+"\n                ")]),e._v(" "),n("button",{staticClass:"btn btn-success note-type-toggle js-note-new-discussion dropdown-toggle qa-note-dropdown",attrs:{disabled:e.isSubmitButtonDisabled,name:"button",type:"button","data-display":"static","data-toggle":"dropdown","aria-label":e.__("Open comment type dropdown")}},[n("i",{staticClass:"fa fa-caret-down toggle-icon",attrs:{"aria-hidden":"true"}})]),e._v(" "),n("ul",{staticClass:"note-type-dropdown dropdown-open-top dropdown-menu"},[n("li",{class:{"droplab-item-selected":"comment"===e.noteType}},[n("button",{staticClass:"btn btn-transparent",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.setNoteType("comment")}}},[n("i",{staticClass:"fa fa-check icon",attrs:{"aria-hidden":"true"}}),e._v(" "),n("div",{staticClass:"description"},[n("strong",[e._v(e._s(e.__("Comment")))]),e._v(" "),n("p",[e._v("\n                          "+e._s(e.sprintf(e.__("Add a general comment to this %{noteableDisplayName}."),{noteableDisplayName:e.noteableDisplayName}))+"\n                        ")])])])]),e._v(" "),n("li",{staticClass:"divider droplab-item-ignore"}),e._v(" "),n("li",{class:{"droplab-item-selected":"discussion"===e.noteType}},[n("button",{staticClass:"btn btn-transparent qa-discussion-option",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.setNoteType("discussion")}}},[n("i",{staticClass:"fa fa-check icon",attrs:{"aria-hidden":"true"}}),e._v(" "),n("div",{staticClass:"description"},[n("strong",[e._v(e._s(e.__("Start thread")))]),e._v(" "),n("p",[e._v(e._s(e.startDiscussionDescription))])])])])])]),e._v(" "),e.canToggleIssueState&&!e.isToggleBlockedIssueWarning?n("loading-button",{attrs:{loading:e.isToggleStateButtonLoading,"container-class":[e.actionButtonClassNames,"btn btn-comment btn-comment-and-close js-action-button"],disabled:e.isToggleStateButtonLoading||e.isSubmitting,label:e.issueActionButtonTitle},on:{click:function(t){return e.handleSave(!0)}}}):e._e()],1)],1)])])],1):e._e():n("discussion-locked-widget",{attrs:{"issuable-type":e.issuableTypeTitle}}):n("note-signed-out-widget")],1)}),[],!1,null,null,null).exports,he=n("sZvX"),me=n("zkom"),ge={name:"SkeletonNote",components:{GlSkeletonLoading:n("TBBL").a,TimelineEntryItem:Z.a}},be=Object(h.a)(ge,(function(){var e=this.$createElement,t=this._self._c||e;return t("timeline-entry-item",{staticClass:"note note-wrapper",attrs:{"data-qa-selector":"skeleton_note"}},[t("div",{staticClass:"timeline-icon"}),this._v(" "),t("div",{staticClass:"timeline-content"},[t("div",{staticClass:"note-header"}),this._v(" "),t("div",{staticClass:"note-body"},[t("gl-skeleton-loading")],1)])])}),[],!1,null,null,null).exports,ve=(n("Z5ek"),{functional:!0,render:function(e,t){var n=t.props.slotKeys,i=t.slots();return n.map((function(e){return i[e]})).filter((function(e){return e}))}}),_e=Object(h.a)(ve,void 0,void 0,!1,null,null,null).exports,ye=n("oz03"),we=n("ONti");function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pe={name:"NotesApp",components:{noteableNote:l.a,noteableDiscussion:c.a,systemNote:g.a,commentForm:pe,placeholderNote:he.a,placeholderSystemNote:me.a,skeletonLoadingContainer:be,discussionFilterNote:m,OrderedLayout:_e},props:{noteableData:{type:Object,required:!0},notesData:{type:Object,required:!0},userData:{type:Object,required:!1,default:function(){return{}}},shouldShow:{type:Boolean,required:!1,default:!0},helpPagePath:{type:String,required:!1,default:""}},data:function(){return{isFetching:!1,currentFilter:null}},computed:je(je({},Object(i.d)(["isNotesFetched","discussions","convertedDisscussionIds","getNotesDataByProp","isLoading","commentsDisabled","getNoteableData","userCanReply","discussionTabCounter","sortDirection"])),{},{sortDirDesc:function(){return this.sortDirection===o.d},discussionTabCounterText:function(){return this.isLoading?"":this.discussionTabCounter},noteableType:function(){return this.noteableData.noteableType},allDiscussions:function(){if(this.isLoading){var e=parseInt(this.notesData.prerenderedNotesCount,10)||0;return new Array(e).fill({isSkeletonNote:!0})}return this.discussions},canReply:function(){return this.userCanReply&&!this.commentsDisabled},slotKeys:function(){return this.sortDirDesc?["form","comments"]:["comments","form"]}}),watch:{shouldShow:function(){this.isNotesFetched||this.fetchNotes()},discussionTabCounterText:function(e){this.discussionsCount&&(this.discussionsCount.textContent=e)}},created:function(){this.discussionsCount=document.querySelector(".js-discussions-count"),this.setNotesData(this.notesData),this.setNoteableData(this.noteableData),this.setUserData(this.userData),this.setTargetNoteHash(Object(r.e)()),a.a.$once("fetchNotesData",this.fetchNotes)},mounted:function(){var e=this;this.shouldShow&&this.fetchNotes();var t=this.$el.parentElement;t&&t.classList.contains("js-vue-notes-event")&&t.addEventListener("toggleAward",(function(t){var n=t.detail,i=n.awardName,r=n.noteId;e.toggleAward({awardName:i,noteId:r})})),window.addEventListener("hashchange",this.handleHashChanged)},updated:function(){var e=this;this.$nextTick((function(){Object(ye.a)(e.$el.querySelectorAll(".gfm-project_member")),Object(we.a)(e.$el.querySelectorAll(".js-user-link"))}))},beforeDestroy:function(){this.stopPolling(),window.removeEventListener("hashchange",this.handleHashChanged)},methods:je(je({},Object(i.c)(["setLoadingState","fetchDiscussions","poll","toggleAward","setNotesData","setNoteableData","setUserData","setLastFetchedAt","setTargetNoteHash","toggleDiscussion","setNotesFetchedState","expandDiscussion","startTaskList","convertToDiscussion","stopPolling"])),{},{discussionIsIndividualNoteAndNotConverted:function(e){return e.individual_note&&!this.convertedDisscussionIds.includes(e.id)},handleHashChanged:function(){this.checkLocationHash()&&this.setTargetNoteHash(Object(r.e)())},fetchNotes:function(){var e=this;return this.isFetching?null:(this.isFetching=!0,this.fetchDiscussions(this.getFetchDiscussionsConfig()).then(this.initPolling).then((function(){e.setLoadingState(!1),e.setNotesFetchedState(!0),a.a.$emit("fetchedNotesData"),e.isFetching=!1})).then(this.$nextTick).then(this.startTaskList).then(this.checkLocationHash).catch((function(){e.setLoadingState(!1),e.setNotesFetchedState(!0),Object(s.a)(Object(f.a)("Something went wrong while fetching comments. Please try again."))})))},initPolling:function(){this.isPollingInitialized||(this.setLastFetchedAt(this.getNotesDataByProp("lastFetchedAt")),this.poll(),this.isPollingInitialized=!0)},checkLocationHash:function(){var e=Object(r.e)(),t=e&&e.replace(/^note_/,"");if(t){var n=this.discussions.find((function(e){return e.notes.some((function(e){return e.id===t}))}));n&&this.expandDiscussion({discussionId:n.id})}return t},startReplying:function(e){return this.convertToDiscussion(e).then(this.$nextTick).then((function(){return a.a.$emit("startReplying",e)}))},getFetchDiscussionsConfig:function(){var e={path:this.getNotesDataByProp("discussionsPath")};return Object(r.a)(o.s)?je(je({},e),{},{filter:o.h,persistFilter:!1}):e}}),systemNote:o.w},De=Object(h.a)(Pe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShow,expression:"shouldShow"}],attrs:{id:"notes"}},[n("ordered-layout",{attrs:{"slot-keys":e.slotKeys},scopedSlots:e._u([{key:"form",fn:function(){return[e.commentsDisabled?e._e():n("comment-form",{staticClass:"js-comment-form",attrs:{"noteable-type":e.noteableType}})]},proxy:!0},{key:"comments",fn:function(){return[n("ul",{staticClass:"notes main-notes-list timeline",attrs:{id:"notes-list"}},[e._l(e.allDiscussions,(function(t){return[t.isSkeletonNote?n("skeleton-loading-container",{key:t.id}):t.isPlaceholderNote?[t.placeholderType===e.$options.systemNote?n("placeholder-system-note",{key:t.id,attrs:{note:t.notes[0]}}):n("placeholder-note",{key:t.id,attrs:{note:t.notes[0]}})]:e.discussionIsIndividualNoteAndNotConverted(t)?[t.notes[0].system?n("system-note",{key:t.id,attrs:{note:t.notes[0]}}):n("noteable-note",{key:t.id,attrs:{note:t.notes[0],"show-reply-button":e.canReply},on:{startReplying:function(n){return e.startReplying(t.id)}}})]:n("noteable-discussion",{key:t.id,attrs:{discussion:t,"render-diff-file":!0,"help-page-path":e.helpPagePath}})]})),e._v(" "),n("discussion-filter-note",{directives:[{name:"show",rawName:"v-show",value:e.commentsDisabled,expression:"commentsDisabled"}]})],2)]},proxy:!0}])})],1)}),[],!1,null,null,null);t.a=De.exports},dHQd:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("o34M");i({target:"Set",proto:!0,real:!0,forced:r},{addAll:function(){return s.apply(this,arguments)}})},eRq8:function(e,t,n){var i=n("Ul1K");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("qic4").default)("cfbd2bda",i,!0,{})},empl:function(e,t,n){var i=n("xJuT"),r=n("UwPs");e.exports=function(e){return i(e,r(e))}},eppl:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("OuD2"),o=n("70tN"),a=n("AgLN"),l=n("eclS"),c=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{union:function(e){var t=o(this),n=new(l(t,s("Set")))(t);return c(e,a(n.add),n),n}})},f2WW:function(e,t,n){var i=n("Xxsa"),r=n("iNcF"),s=n("b/GH"),o=n("qmgT"),a=n("z9/d"),l=n("x14d"),c=n("P/Kr"),u=n("QFSp"),d=n("FBB6"),f=n("KFC0"),p=n("XCkn"),h=n("8Ei6"),m=n("38y5"),g=n("VVrI"),b=n("empl");e.exports=function(e,t,n,v,_,y,w){var O=g(e,n),j=g(t,n),C=w.get(j);if(C)i(e,n,C);else{var P=y?y(O,j,n+"",e,t,w):void 0,D=void 0===P;if(D){var S=c(j),k=!S&&d(j),x=!S&&!k&&m(j);P=j,S||k||x?c(O)?P=O:u(O)?P=o(O):k?(D=!1,P=r(j,!0)):x?(D=!1,P=s(j,!0)):P=[]:h(j)||l(j)?(P=O,l(O)?P=b(O):p(O)&&!f(O)||(P=a(j))):D=!1}D&&(w.set(j,P),_(P,j,v,y,w),w.delete(j)),i(e,n,P)}}},f8Rl:function(e,t,n){"use strict";n("+xU6");var i={props:{startSize:{type:Number,required:!0},side:{type:String,required:!0},minSize:{type:Number,required:!1,default:0},maxSize:{type:Number,required:!1,default:Number.MAX_VALUE},enabled:{type:Boolean,required:!1,default:!0}},data:function(){return{size:this.startSize,isDragging:!1}},computed:{className:function(){return["position-".concat(this.side,"-0"),{"is-dragging":this.isDragging}]},cursorStyle:function(){return this.enabled?{cursor:"ew-resize"}:{}}},methods:{resetSize:function(e){var t=this;e.preventDefault(),this.$emit("resize-start",this.size),this.size=this.startSize,this.$emit("update:size",this.size),this.$nextTick((function(){t.$emit("resize-end",t.size)}))},startDrag:function(e){this.enabled&&(e.preventDefault(),this.isDragging=!0,this.startPos=e.clientX,this.currentStartSize=this.size,document.addEventListener("mousemove",this.drag),document.addEventListener("mouseup",this.endDrag,{once:!0}),this.$emit("resize-start",this.size))},drag:function(e){e.preventDefault();var t=e.clientX-this.startPos;"left"===this.side&&(t=-t);var n=this.currentStartSize+t;n<this.minSize?n=this.minSize:n>this.maxSize&&(n=this.maxSize),this.size=n,this.$emit("update:size",n)},endDrag:function(e){e.preventDefault(),this.isDragging=!1,document.removeEventListener("mousemove",this.drag),this.$emit("resize-end",this.size)}}},r=n("tBpV"),s=Object(r.a)(i,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"position-absolute position-top-0 position-bottom-0 drag-handle",class:this.className,style:this.cursorStyle,on:{mousedown:this.startDrag,dblclick:this.resetSize}})}),[],!1,null,null,null);t.a=s.exports},fY2I:function(e,t,n){"use strict";var i=n("3a3M"),r=n.n(i);t.a={bind:function(e,t){r()(e).popover(t.value)},unbind:function(e){r()(e).popover("dispose")}}},ffkl:function(e,t,n){"use strict";n("va8A"),n("kO4A"),n("+kFb"),n("FMw2"),n("4ql4"),n("zCcL"),n("zpLX"),n("BD5p"),n("QifN"),n("Id6h");var i=n("yi8e"),r=n("LLbv"),s=n("IwtM"),o=n("/lV4"),a=n("4UiK"),l=n("len0"),c=n("OgyL"),u=n("PTFM"),d=n("XRO8"),f=n("ZHzM"),p=n("G3fq"),h=n.n(p),m=n("0AwG"),g=n("c82y"),b=n("TNeE");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={name:"DiffDiscussionHeader",components:{userAvatarLink:f.a,noteEditedText:g.a,noteHeader:b.a},props:{discussion:{type:Object,required:!0}},computed:{notes:function(){return this.discussion.notes},firstNote:function(){return this.notes[0]},lastNote:function(){return this.notes[this.notes.length-1]},author:function(){return this.firstNote.author},resolvedText:function(){return this.discussion.resolved_by_push?Object(o.a)("Automatically resolved"):Object(o.a)("Resolved")},lastUpdatedBy:function(){return this.notes.length>1?this.lastNote.author:null},lastUpdatedAt:function(){return this.notes.length>1?this.lastNote.created_at:null},headerText:function(){var e='<a href="'.concat(h()(this.discussion.discussion_path),'">'),t=this.discussion.commit_id,n=t;t&&(n='<span class="commit-sha">'.concat(Object(m.r)(t),"</span>"));var i=this.discussion,r=i.for_commit,s=i.diff_discussion,a=i.active,l=Object(o.d)("MergeRequests|started a thread");return r?l=Object(o.d)("MergeRequests|started a thread on commit %{linkStart}%{commitDisplay}%{linkEnd}"):s&&t?l=a?Object(o.d)("MergeRequests|started a thread on commit %{linkStart}%{commitDisplay}%{linkEnd}"):Object(o.d)("MergeRequests|started a thread on an outdated change in commit %{linkStart}%{commitDisplay}%{linkEnd}"):s&&(l=a?Object(o.d)("MergeRequests|started a thread on %{linkStart}the diff%{linkEnd}"):Object(o.d)("MergeRequests|started a thread on %{linkStart}an old version of the diff%{linkEnd}")),Object(o.e)(l,{commitDisplay:n,linkStart:e,linkEnd:"</a>"},!1)}},methods:_(_({},Object(i.c)(["toggleDiscussion"])),{},{toggleDiscussionHandler:function(){this.toggleDiscussion({discussionId:this.discussion.id})}})},O=n("tBpV"),j=Object(O.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"discussion-header note-wrapper"},[e._m(0),e._v(" "),n("div",{staticClass:"timeline-content w-100"},[n("note-header",{attrs:{author:e.author,"created-at":e.firstNote.created_at,"note-id":e.firstNote.id,"include-toggle":!0,expanded:e.discussion.expanded},on:{toggleHandler:e.toggleDiscussionHandler}},[n("span",{domProps:{innerHTML:e._s(e.headerText)}})]),e._v(" "),e.discussion.resolved?n("note-edited-text",{attrs:{"edited-at":e.discussion.resolved_at,"edited-by":e.discussion.resolved_by,"action-text":e.resolvedText,"class-name":"discussion-headline-light js-discussion-headline"}}):e.lastUpdatedAt?n("note-edited-text",{attrs:{"edited-at":e.lastUpdatedAt,"edited-by":e.lastUpdatedBy,"action-text":e.__("Last updated"),"class-name":"discussion-headline-light js-discussion-headline"}}):e._e()],1)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"timeline-icon align-self-start flex-shrink-0"},[this.author?t("user-avatar-link",{attrs:{"link-href":this.author.path,"img-src":this.author.avatar_url,"img-alt":this.author.name,"img-size":40}}):this._e()],1)}],!1,null,null,null).exports,C=n("bX/R"),P=n("OsT7"),D=(n("8Qi2"),n("IdsT"),n("S26F"),n("TBBL")),S=n("Xa9V"),k=n("x/Tb"),x=n("Ex4Z"),E=n("04nr"),T=n("BAGK");function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=/^(\+|-| )/,B={components:{DiffFileHeader:S.a,GlSkeletonLoading:D.a,DiffViewer:k.a,ImageDiffOverlay:x.a},props:{discussion:{type:Object,required:!0}},data:function(){return{error:!1}},computed:R(R({},Object(i.e)({projectPath:function(e){return e.diffs.projectPath}})),{},{diffMode:function(){return Object(E.f)(this.discussion.diff_file)},diffViewerMode:function(){return this.discussion.diff_file.viewer.name},isTextFile:function(){return this.diffViewerMode===T.r.text},hasTruncatedDiffLines:function(){return this.discussion.truncated_diff_lines&&0!==this.discussion.truncated_diff_lines.length}}),mounted:function(){this.isTextFile&&!this.hasTruncatedDiffLines&&this.fetchDiff()},methods:R(R({},Object(i.c)(["fetchDiscussionDiffLines"])),{},{fetchDiff:function(){var e=this;this.error=!1,this.fetchDiscussionDiffLines(this.discussion).then(this.highlight).catch((function(){e.error=!0}))},trimChar:function(e){return e.replace(F,"")}}),userColorSchemeClass:window.gon.user_color_scheme},q=Object(O.a)(B,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"diff-file file-holder",class:{"text-file":e.isTextFile}},[n("diff-file-header",{attrs:{"discussion-path":e.discussion.discussion_path,"diff-file":e.discussion.diff_file,"can-current-user-fork":!1,expanded:!e.discussion.diff_file.viewer.collapsed}}),e._v(" "),e.isTextFile?n("div",{staticClass:"diff-content"},[n("table",{staticClass:"code js-syntax-highlight",class:e.$options.userColorSchemeClass},[e.hasTruncatedDiffLines?e._m(0):e._e(),e._v(" "),e.hasTruncatedDiffLines?e._e():n("tr",{staticClass:"line_holder line-holder-placeholder"},[n("td",{staticClass:"old_line diff-line-num"}),e._v(" "),n("td",{staticClass:"new_line diff-line-num"}),e._v(" "),e.error?n("td",{staticClass:"js-error-lazy-load-diff diff-loading-error-block"},[e._v("\n          "+e._s(e.__("Unable to load the diff"))+"\n          "),n("button",{staticClass:"btn-link btn-link-retry btn-no-padding js-toggle-lazy-diff-retry-button",on:{click:e.fetchDiff}},[e._v("\n            "+e._s(e.__("Try again"))+"\n          ")])]):n("td",{staticClass:"line_content js-success-lazy-load"},[n("span"),e._v(" "),n("gl-skeleton-loading"),e._v(" "),n("span")],1)]),e._v(" "),n("tr",{staticClass:"notes_holder"},[n("td",{staticClass:"notes-content",attrs:{colspan:"3"}},[e._t("default")],2)])],2)]):n("div",[n("diff-viewer",{attrs:{"diff-file":e.discussion.diff_file,"diff-mode":e.diffMode,"diff-viewer-mode":e.diffViewerMode,"new-path":e.discussion.diff_file.new_path,"new-sha":e.discussion.diff_file.diff_refs.head_sha,"old-path":e.discussion.diff_file.old_path,"old-sha":e.discussion.diff_file.diff_refs.base_sha,"file-hash":e.discussion.diff_file.file_hash,"project-path":e.projectPath}},[n("image-diff-overlay",{attrs:{slot:"image-overlay",discussions:e.discussion,"file-hash":e.discussion.diff_file.file_hash,"show-comment-icon":!0,"should-toggle-discussion":!1,"badge-class":"image-comment-badge"},slot:"image-overlay"})],1),e._v(" "),e._t("default")],2)],1)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return e._l(e.discussion.truncated_diff_lines,(function(t){return n("tr",{key:t.line_code,staticClass:"line_holder"},[n("td",{staticClass:"diff-line-num old_line",class:t.type},[e._v(e._s(t.old_line))]),e._v(" "),n("td",{staticClass:"diff-line-num new_line",class:t.type},[e._v(e._s(t.new_line))]),e._v(" "),n("td",{staticClass:"line_content",class:t.type,domProps:{innerHTML:e._s(e.trimChar(t.rich_text))}})])}))}],!1,null,null,null).exports,A=n("byjy"),M=n("G/dv"),N=n("J7NB"),$=n("7KAB"),H=n("sZvX"),U=n("zkom"),V=n("gvRd"),W=n("ZlTH"),z=(n("Z5ek"),n("YqVM")),G=n.n(z),K=n("Fsq/"),X={components:{Icon:l.a,UserAvatarLink:f.a,TimeAgoTooltip:K.a},props:{collapsed:{type:Boolean,required:!0},replies:{type:Array,required:!0}},computed:{lastReply:function(){return this.replies[this.replies.length-1]},uniqueAuthors:function(){var e=this.replies.map((function(e){return e.author||{}}));return G()(e,(function(e){return e.username}))},className:function(){return this.collapsed?"collapsed":"expanded"}},methods:{toggle:function(){this.$emit("toggle")}}},Z=Object(O.a)(X,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"replies-toggle js-toggle-replies",class:e.className},[e.collapsed?[n("icon",{attrs:{name:"chevron-right"},nativeOn:{click:function(t){return e.toggle(t)}}}),e._v(" "),n("div",e._l(e.uniqueAuthors,(function(e){return n("user-avatar-link",{key:e.username,attrs:{"link-href":e.path,"img-alt":e.name,"img-src":e.avatar_url,"img-size":26,"tooltip-text":e.name,"tooltip-placement":"bottom"}})})),1),e._v(" "),n("button",{staticClass:"btn btn-link js-replies-text qa-expand-replies",attrs:{type:"button"},on:{click:e.toggle}},[e._v("\n      "+e._s(e.replies.length)+" "+e._s(e.n__("reply","replies",e.replies.length))+"\n    ")]),e._v("\n    "+e._s(e.__("Last reply by"))+"\n    "),n("a",{staticClass:"btn btn-link author-link",attrs:{href:e.lastReply.author.path}},[e._v("\n      "+e._s(e.lastReply.author.name)+"\n    ")]),e._v(" "),n("time-ago-tooltip",{attrs:{time:e.lastReply.created_at,"tooltip-placement":"bottom"}})]:n("span",{staticClass:"collapse-replies-btn js-collapse-replies qa-collapse-replies",on:{click:e.toggle}},[n("icon",{attrs:{name:"chevron-down"}}),e._v(" "+e._s(e.s__("Notes|Collapse replies"))+"\n  ")],1)],2)}),[],!1,null,null,null).exports,Q={functional:!0,props:{isDiffDiscussion:{type:Boolean,required:!1,default:!1}},render:function(e,t){var n=t.props,i=t.children;return n.isDiffDiscussion?e("li",{class:"discussion-collapsible bordered-box clearfix"},[e("ul",{class:"notes"},i)]):i}},Y=Object(O.a)(Q,void 0,void 0,!1,null,null,null).exports;function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne={name:"DiscussionNotes",components:{ToggleRepliesWidget:Z,NoteEditedText:g.a,DiscussionNotesRepliesWrapper:Y},props:{discussion:{type:Object,required:!0},isExpanded:{type:Boolean,required:!1,default:!1},diffLine:{type:Object,required:!1,default:null},line:{type:Object,required:!1,default:null},shouldGroupReplies:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""}},computed:ee(ee({},Object(i.d)(["userCanReply"])),{},{hasReplies:function(){return Boolean(this.replies.length)},replies:function(){return this.discussion.notes.slice(1)},firstNote:function(){return this.discussion.notes.slice(0,1)[0]},resolvedText:function(){return this.discussion.resolved_by_push?Object(o.a)("Automatically resolved"):Object(o.a)("Resolved")},commit:function(){return this.discussion.for_commit?{id:this.discussion.commit_id,url:this.discussion.discussion_path}:null}}),methods:ee(ee({},Object(i.c)(["toggleDiscussion"])),{},{componentName:function(e){return e.isPlaceholderNote?e.placeholderType===$.w?U.a:H.a:e.system?V.a:W.a},componentData:function(e){return e.isPlaceholderNote?e.notes[0]:e}})},ie=Object(O.a)(ne,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"discussion-notes"},[n("ul",{staticClass:"notes"},[e.shouldGroupReplies?[n(e.componentName(e.firstNote),{tag:"component",attrs:{note:e.componentData(e.firstNote),line:e.line||e.diffLine,commit:e.commit,"help-page-path":e.helpPagePath,"show-reply-button":e.userCanReply},on:{handleDeleteNote:function(t){return e.$emit("deleteNote")},startReplying:function(t){return e.$emit("startReplying")}}},[e.discussion.resolved?n("note-edited-text",{attrs:{slot:"discussion-resolved-text","edited-at":e.discussion.resolved_at,"edited-by":e.discussion.resolved_by,"action-text":e.resolvedText,"class-name":"discussion-headline-light js-discussion-headline discussion-resolved-text"},slot:"discussion-resolved-text"}):e._e(),e._v(" "),e._t("avatar-badge",null,{slot:"avatar-badge"})],2),e._v(" "),n("discussion-notes-replies-wrapper",{attrs:{"is-diff-discussion":e.discussion.diff_discussion}},[e.hasReplies?n("toggle-replies-widget",{class:{"discussion-toggle-replies":e.discussion.diff_discussion},attrs:{collapsed:!e.isExpanded,replies:e.replies},on:{toggle:function(t){return e.toggleDiscussion({discussionId:e.discussion.id})}}}):e._e(),e._v(" "),e.isExpanded?e._l(e.replies,(function(t){return n(e.componentName(t),{key:t.id,tag:"component",attrs:{note:e.componentData(t),"help-page-path":e.helpPagePath,line:e.line},on:{handleDeleteNote:function(t){return e.$emit("deleteNote")}}})})):e._e(),e._v(" "),e._t("footer",null,{showReplies:e.isExpanded||!e.hasReplies})],2)]:[e._l(e.discussion.notes,(function(t,i){return n(e.componentName(t),{key:t.id,tag:"component",attrs:{note:e.componentData(t),"help-page-path":e.helpPagePath,line:e.diffLine},on:{handleDeleteNote:function(t){return e.$emit("deleteNote")}}},[0===i?e._t("avatar-badge",null,{slot:"avatar-badge"}):e._e()],2)})),e._v(" "),e._t("footer",null,{showReplies:e.isExpanded||!e.hasReplies})]],2)])}),[],!1,null,null,null).exports,re=(n("vHow"),n("h/fo")),se={name:"ResolveDiscussionButton",components:{GlLoadingIcon:n("FkSe").a},props:{isResolving:{type:Boolean,required:!1,default:!1},buttonTitle:{type:String,required:!0}}},oe=Object(O.a)(se,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{ref:"button",staticClass:"btn btn-default ml-sm-2",attrs:{type:"button"},on:{click:function(t){return e.$emit("onClick")}}},[e.isResolving?n("gl-loading-icon",{ref:"isResolvingIcon",attrs:{inline:""}}):e._e(),e._v("\n  "+e._s(e.buttonTitle)+"\n")],1)}),[],!1,null,null,null).exports,ae=n("GTGS"),le={name:"ResolveWithIssueButton",components:{Icon:l.a,GlDeprecatedButton:ae.a},directives:{GlTooltip:r.a},props:{url:{type:String,required:!0}}},ce=Object(O.a)(le,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"btn-group",attrs:{role:"group"}},[t("gl-deprecated-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"new-issue-for-discussion discussion-create-issue-btn",attrs:{href:this.url,title:this.s__("MergeRequests|Resolve this thread in a new issue")}},[t("icon",{attrs:{name:"issue-new"}})],1)],1)}),[],!1,null,null,null).exports,ue=n("grn8"),de={name:"JumpToNextDiscussionButton",components:{icon:l.a},directives:{GlTooltip:r.a},mixins:[ue.a],props:{fromDiscussionId:{type:String,required:!0}}},fe=Object(O.a)(de,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"btn-group",attrs:{role:"group"}},[n("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],ref:"button",staticClass:"btn btn-default discussion-next-btn",attrs:{title:e.s__("MergeRequests|Jump to next unresolved thread"),"data-track-event":"click_button","data-track-label":"mr_next_unresolved_thread","data-track-property":"click_next_unresolved_thread"},on:{click:function(t){return e.jumpToNextRelativeDiscussion(e.fromDiscussionId)}}},[n("icon",{attrs:{name:"comment-next"}})],1)])}),[],!1,null,null,null).exports,pe={name:"DiscussionActions",components:{ReplyPlaceholder:re.a,ResolveDiscussionButton:oe,ResolveWithIssueButton:ce,JumpToNextDiscussionButton:fe},props:{discussion:{type:Object,required:!0},isResolving:{type:Boolean,required:!0},resolveButtonTitle:{type:String,required:!0},resolveWithIssuePath:{type:String,required:!1,default:""},shouldShowJumpToNextDiscussion:{type:Boolean,required:!0}},computed:{resolvableNotes:function(){return this.discussion.notes.filter((function(e){return e.resolvable}))},userCanResolveDiscussion:function(){return this.resolvableNotes.every((function(e){return e.current_user&&e.current_user.can_resolve}))}}},he=Object(O.a)(pe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"discussion-with-resolve-btn clearfix"},[n("reply-placeholder",{attrs:{"data-qa-selector":"discussion_reply_tab","button-text":e.s__("MergeRequests|Reply...")},on:{onClick:function(t){return e.$emit("showReplyForm")}}}),e._v(" "),e.userCanResolveDiscussion?n("div",{staticClass:"btn-group discussion-actions",attrs:{role:"group"}},[n("div",{staticClass:"btn-group"},[e.discussion.resolvable?n("resolve-discussion-button",{attrs:{"data-qa-selector":"resolve_discussion_button","is-resolving":e.isResolving,"button-title":e.resolveButtonTitle},on:{onClick:function(t){return e.$emit("resolve")}}}):e._e()],1),e._v(" "),e.discussion.resolvable&&e.resolveWithIssuePath?n("resolve-with-issue-button",{attrs:{url:e.resolveWithIssuePath}}):e._e()],1):e._e(),e._v(" "),e.discussion.resolvable&&e.shouldShowJumpToNextDiscussion?n("div",{staticClass:"btn-group discussion-actions ml-sm-2"},[n("jump-to-next-discussion-button",{attrs:{"from-discussion-id":e.discussion.id}})],1):e._e()],1)}),[],!1,null,null,null).exports;function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ve={name:"NoteableDiscussion",components:{icon:l.a,userAvatarLink:f.a,diffDiscussionHeader:j,noteSignedOutWidget:C.a,noteForm:P.a,DraftNote:u.a,TimelineEntryItem:c.a,DiscussionNotes:ie,DiscussionActions:he},directives:{GlTooltip:r.a},mixins:[A.a,M.a,s.a],props:{discussion:{type:Object,required:!0},line:{type:Object,required:!1,default:null},renderDiffFile:{type:Boolean,required:!1,default:!0},alwaysExpanded:{type:Boolean,required:!1,default:!1},discussionsByDiffOrder:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""}},data:function(){return{isReplying:!1,isResolving:!1,resolveAsThread:!0}},computed:ge(ge({},Object(i.d)(["convertedDisscussionIds","getNoteableData","userCanReply","showJumpToNextDiscussion","getUserData"])),{},{currentUser:function(){return this.getUserData},isLoggedIn:function(){return Boolean(gon.current_user_id)},autosaveKey:function(){return Object(a.b)(this.firstNote.noteable_type,this.discussion.id)},newNotePath:function(){return this.getNoteableData.create_note_path},firstNote:function(){return this.discussion.notes.slice(0,1)[0]},shouldShowJumpToNextDiscussion:function(){return this.showJumpToNextDiscussion(this.discussionsByDiffOrder?"diff":"discussion")},shouldRenderDiffs:function(){return this.discussion.diff_discussion&&this.renderDiffFile},shouldGroupReplies:function(){return!this.shouldRenderDiffs},wrapperComponent:function(){return this.shouldRenderDiffs?q:"div"},wrapperComponentProps:function(){return this.shouldRenderDiffs?{discussion:this.discussion}:{}},isExpanded:function(){return this.discussion.expanded||this.alwaysExpanded},shouldHideDiscussionBody:function(){return this.shouldRenderDiffs&&!this.isExpanded},diffLine:function(){return this.line?this.line:this.discussion.diff_discussion&&this.discussion.truncated_diff_lines?this.discussion.truncated_diff_lines.slice(-1)[0]:null},resolveWithIssuePath:function(){return this.discussionResolved?"":this.discussion.resolve_with_issue_path}}),created:function(){N.a.$on("startReplying",this.onStartReplying)},beforeDestroy:function(){N.a.$off("startReplying",this.onStartReplying)},methods:ge(ge({},Object(i.c)(["saveNote","removePlaceholderNotes","toggleResolveNote","removeConvertedDiscussion"])),{},{showReplyForm:function(){this.isReplying=!0},cancelReplyForm:function(e,t){if(e&&t){var n=Object(o.d)("Notes|Are you sure you want to cancel creating this comment?");if(!window.confirm(n))return}this.convertedDisscussionIds.includes(this.discussion.id)&&this.removeConvertedDiscussion(this.discussion.id),this.isReplying=!1,Object(a.a)(this.autosaveKey)},saveReply:function(e,t,n){var i=this;if(!e)return this.cancelReplyForm(),void n();var r={in_reply_to_discussion_id:this.discussion.reply_id,target_type:this.getNoteableData.targetType,note:{note:e}};this.convertedDisscussionIds.includes(this.discussion.id)&&(r.return_discussion=!0),this.discussion.for_commit&&(r.note_project_id=this.discussion.project_id);var s={endpoint:this.newNotePath,flashContainer:this.$el,data:r};this.saveNote(s).then((function(e){!0!==e.hasFlash&&(i.isReplying=!1,Object(a.a)(i.autosaveKey)),n()})).catch((function(t){i.removePlaceholderNotes();var r=Object(o.a)("Your comment could not be submitted! Please check your network connection and try again.");Object(d.a)(r,"alert",i.$el),i.$refs.noteForm.note=e,n(t)}))},deleteNoteHandler:function(e){this.$emit("noteDeleted",this.discussion,e)},onStartReplying:function(e){this.discussion.id===e&&this.showReplyForm()}})},_e=Object(O.a)(ve,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("timeline-entry-item",{staticClass:"note note-discussion"},[n("div",{staticClass:"timeline-content"},[n("div",{staticClass:"discussion js-discussion-container",attrs:{"data-discussion-id":e.discussion.id,"data-qa-selector":"discussion_content"}},[e.shouldRenderDiffs?n("diff-discussion-header",{attrs:{discussion:e.discussion}}):e._e(),e._v(" "),e.shouldHideDiscussionBody?e._e():n("div",{staticClass:"discussion-body"},[n(e.wrapperComponent,e._b({tag:"component",staticClass:"card discussion-wrapper"},"component",e.wrapperComponentProps,!1),[n("discussion-notes",{attrs:{discussion:e.discussion,"diff-line":e.diffLine,"help-page-path":e.helpPagePath,"is-expanded":e.isExpanded,line:e.line,"should-group-replies":e.shouldGroupReplies},on:{startReplying:e.showReplyForm,deleteNote:e.deleteNoteHandler},scopedSlots:e._u([{key:"footer",fn:function(t){var i=t.showReplies;return[e.showDraft(e.discussion.reply_id)?n("draft-note",{key:"draft_"+e.discussion.id,attrs:{draft:e.draftForDiscussion(e.discussion.reply_id)}}):i?n("div",{staticClass:"discussion-reply-holder clearfix",class:{"is-replying":e.isReplying}},[!e.isReplying&&e.userCanReply?n("user-avatar-link",{staticClass:"d-none d-sm-block",attrs:{"link-href":e.currentUser.path,"img-src":e.currentUser.avatar_url,"img-alt":e.currentUser.name,"img-size":40}}):e._e(),e._v(" "),!e.isReplying&&e.userCanReply?n("discussion-actions",{attrs:{discussion:e.discussion,"is-resolving":e.isResolving,"resolve-button-title":e.resolveButtonTitle,"resolve-with-issue-path":e.resolveWithIssuePath,"should-show-jump-to-next-discussion":e.shouldShowJumpToNextDiscussion},on:{showReplyForm:e.showReplyForm,resolve:e.resolveHandler}}):e._e(),e._v(" "),e.isReplying?n("div",{staticClass:"avatar-note-form-holder"},[e.currentUser?n("user-avatar-link",{staticClass:"d-none d-sm-block",attrs:{"link-href":e.currentUser.path,"img-src":e.currentUser.avatar_url,"img-alt":e.currentUser.name,"img-size":40}}):e._e(),e._v(" "),n("note-form",{ref:"noteForm",attrs:{discussion:e.discussion,"is-editing":!1,line:e.diffLine,"save-button-title":"Comment","autosave-key":e.autosaveKey},on:{handleFormUpdateAddToReview:e.addReplyToReview,handleFormUpdate:e.saveReply,cancelForm:e.cancelReplyForm}})],1):e._e(),e._v(" "),e.isLoggedIn?e._e():n("note-signed-out-widget")],1):e._e()]}}],null,!1,2106683913)},[e._t("avatar-badge",null,{slot:"avatar-badge"})],2)],1)],1)],1)])])}),[],!1,null,null,null);t.a=_e.exports},fm5U:function(e,t,n){"use strict";var i=n("Lft7");n.n(i).a},g7k4:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"saveDraft",(function(){return M})),n.d(i,"addDraftToDiscussion",(function(){return N})),n.d(i,"createNewDraft",(function(){return $})),n.d(i,"deleteDraft",(function(){return H})),n.d(i,"fetchDrafts",(function(){return U})),n.d(i,"publishSingleDraft",(function(){return V})),n.d(i,"publishReview",(function(){return W})),n.d(i,"updateDiscussionsAfterPublish",(function(){return z})),n.d(i,"discardReview",(function(){return G})),n.d(i,"updateDraft",(function(){return K})),n.d(i,"scrollToDraft",(function(){return X})),n.d(i,"toggleReviewDropdown",(function(){return Z})),n.d(i,"openReviewDropdown",(function(){return Q})),n.d(i,"closeReviewDropdown",(function(){return Y})),n.d(i,"expandAllDiscussions",(function(){return J})),n.d(i,"toggleResolveDiscussion",(function(){return ee})),n.d(i,"default",(function(){return te}));var r={};n.r(r),n.d(r,"draftsCount",(function(){return se})),n.d(r,"getNotesData",(function(){return oe})),n.d(r,"hasDrafts",(function(){return ae})),n.d(r,"draftsPerDiscussionId",(function(){return le})),n.d(r,"draftsPerFileHashAndLine",(function(){return ce})),n.d(r,"shouldRenderDraftRow",(function(){return ue})),n.d(r,"shouldRenderParallelDraftRow",(function(){return de})),n.d(r,"hasParallelDraftLeft",(function(){return fe})),n.d(r,"hasParallelDraftRight",(function(){return pe})),n.d(r,"shouldRenderDraftRowInDiscussion",(function(){return he})),n.d(r,"draftForDiscussion",(function(){return me})),n.d(r,"draftForLine",(function(){return ge})),n.d(r,"draftsForFile",(function(){return be})),n.d(r,"isPublishingDraft",(function(){return ve})),n.d(r,"sortedDrafts",(function(){return _e})),n.d(r,"default",(function(){return ye}));var s={};n.r(s),n.d(s,"setBaseConfig",(function(){return Ne})),n.d(s,"fetchDiffFiles",(function(){return $e})),n.d(s,"fetchDiffFilesBatch",(function(){return He})),n.d(s,"fetchDiffFilesMeta",(function(){return Ue})),n.d(s,"fetchCoverageFiles",(function(){return Ve})),n.d(s,"setHighlightedRow",(function(){return We})),n.d(s,"assignDiscussionsToDiff",(function(){return ze})),n.d(s,"removeDiscussionsFromDiff",(function(){return Ge})),n.d(s,"toggleLineDiscussions",(function(){return Ke})),n.d(s,"renderFileForDiscussionId",(function(){return Xe})),n.d(s,"startRenderDiffsQueue",(function(){return Ze})),n.d(s,"setRenderIt",(function(){return Qe})),n.d(s,"setInlineDiffViewType",(function(){return Ye})),n.d(s,"setParallelDiffViewType",(function(){return Je})),n.d(s,"showCommentForm",(function(){return et})),n.d(s,"cancelCommentForm",(function(){return tt})),n.d(s,"loadMoreLines",(function(){return nt})),n.d(s,"scrollToLineIfNeededInline",(function(){return it})),n.d(s,"scrollToLineIfNeededParallel",(function(){return rt})),n.d(s,"loadCollapsedDiff",(function(){return st})),n.d(s,"expandAllFiles",(function(){return ot})),n.d(s,"toggleFileDiscussions",(function(){return at})),n.d(s,"toggleFileDiscussionWrappers",(function(){return lt})),n.d(s,"saveDiffDiscussion",(function(){return ct})),n.d(s,"toggleTreeOpen",(function(){return ut})),n.d(s,"scrollToFile",(function(){return dt})),n.d(s,"toggleShowTreeList",(function(){return ft})),n.d(s,"openDiffFileCommentForm",(function(){return pt})),n.d(s,"closeDiffFileCommentForm",(function(){return ht})),n.d(s,"setRenderTreeList",(function(){return mt})),n.d(s,"setShowWhitespace",(function(){return gt})),n.d(s,"toggleFileFinder",(function(){return bt})),n.d(s,"cacheTreeListWidth",(function(){return vt})),n.d(s,"receiveFullDiffError",(function(){return _t})),n.d(s,"setExpandedDiffLines",(function(){return yt})),n.d(s,"fetchFullDiff",(function(){return wt})),n.d(s,"toggleFullDiff",(function(){return Ot})),n.d(s,"switchToFullDiffFromRenamedFile",(function(){return jt})),n.d(s,"setFileCollapsed",(function(){return Ct})),n.d(s,"setSuggestPopoverDismissed",(function(){return Pt})),n.d(s,"changeCurrentCommit",(function(){return Dt})),n.d(s,"moveToNeighboringCommit",(function(){return St})),n.d(s,"default",(function(){return kt}));var o={};n.r(o),n.d(o,"selectedTargetIndex",(function(){return Ft})),n.d(o,"selectedSourceIndex",(function(){return Bt})),n.d(o,"diffCompareDropdownTargetVersions",(function(){return qt})),n.d(o,"diffCompareDropdownSourceVersions",(function(){return At})),n.d(o,"isParallelView",(function(){return Mt})),n.d(o,"isInlineView",(function(){return Nt})),n.d(o,"hasCollapsedFile",(function(){return $t})),n.d(o,"commitId",(function(){return Ht})),n.d(o,"diffHasAllExpandedDiscussions",(function(){return Ut})),n.d(o,"diffHasAllCollapsedDiscussions",(function(){return Vt})),n.d(o,"diffHasExpandedDiscussions",(function(){return Wt})),n.d(o,"diffHasDiscussions",(function(){return zt})),n.d(o,"getDiffFileDiscussions",(function(){return Gt})),n.d(o,"getDiffFileByHash",(function(){return Kt})),n.d(o,"flatBlobsList",(function(){return Xt})),n.d(o,"allBlobs",(function(){return Zt})),n.d(o,"getCommentFormForDiffFile",(function(){return Qt})),n.d(o,"fileLineCoverage",(function(){return Yt})),n.d(o,"currentDiffIndex",(function(){return Jt})),n.d(o,"default",(function(){return en}));var a={};n.r(a),n.d(a,"setEndpoint",(function(){return ki})),n.d(a,"requestArtifacts",(function(){return xi})),n.d(a,"clearEtagPoll",(function(){return Ei})),n.d(a,"stopPolling",(function(){return Ti})),n.d(a,"restartPolling",(function(){return Ii})),n.d(a,"fetchArtifacts",(function(){return Ri})),n.d(a,"receiveArtifactsSuccess",(function(){return Li})),n.d(a,"receiveArtifactsError",(function(){return Fi})),n.d(a,"default",(function(){return Bi}));var l={};n.r(l),n.d(l,"title",(function(){return Mi})),n.d(l,"default",(function(){return Ni}));var c={};n.r(c),n.d(c,"setEndpoint",(function(){return Wo})),n.d(c,"requestReports",(function(){return zo})),n.d(c,"clearEtagPoll",(function(){return Go})),n.d(c,"stopPolling",(function(){return Ko})),n.d(c,"restartPolling",(function(){return Xo})),n.d(c,"fetchReports",(function(){return Zo})),n.d(c,"receiveReportsSuccess",(function(){return Qo})),n.d(c,"receiveReportsError",(function(){return Yo})),n.d(c,"openModal",(function(){return Jo})),n.d(c,"setModalData",(function(){return ea})),n.d(c,"default",(function(){return ta}));var u={};n.r(u),n.d(u,"summaryStatus",(function(){return na})),n.d(u,"default",(function(){return ia}));var d={};n.r(d),n.d(d,"clearEtagPoll",(function(){return ga})),n.d(d,"stopPolling",(function(){return ba})),n.d(d,"restartPolling",(function(){return va})),n.d(d,"setEndpoint",(function(){return _a})),n.d(d,"fetchReport",(function(){return ya})),n.d(d,"receiveReportSuccess",(function(){return wa})),n.d(d,"receiveReportError",(function(){return Oa})),n.d(d,"default",(function(){return ja}));var f={};n.r(f),n.d(f,"groupedSummaryText",(function(){return Ca})),n.d(f,"summaryStatus",(function(){return Pa})),n.d(f,"shouldRenderIssuesList",(function(){return Da})),n.d(f,"unresolvedIssues",(function(){return Sa})),n.d(f,"resolvedIssues",(function(){return ka})),n.d(f,"newIssues",(function(){return xa})),n.d(f,"default",(function(){return Ea}));var p,h=n("jB52"),m=n("yi8e");n("va8A"),n("kO4A"),n("8pn6"),n("+kFb"),n("Z5ek"),n("jnfO"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){return b(b({},e),{},{isDraft:!0})},y=(v(p={},"ADD_NEW_DRAFT",(function(e,t){e.drafts.push(_(t))})),v(p,"DELETE_DRAFT",(function(e,t){e.drafts=e.drafts.filter((function(e){return e.id!==t}))})),v(p,"SET_BATCH_COMMENTS_DRAFTS",(function(e,t){e.drafts=t.map(_)})),v(p,"REQUEST_PUBLISH_DRAFT",(function(e,t){e.currentlyPublishingDrafts.push(t)})),v(p,"RECEIVE_PUBLISH_DRAFT_SUCCESS",(function(e,t){e.currentlyPublishingDrafts=e.currentlyPublishingDrafts.filter((function(e){return e!==t})),e.drafts=e.drafts.filter((function(e){return e.id!==t}))})),v(p,"RECEIVE_PUBLISH_DRAFT_ERROR",(function(e,t){e.currentlyPublishingDrafts=e.currentlyPublishingDrafts.filter((function(e){return e!==t}))})),v(p,"REQUEST_PUBLISH_REVIEW",(function(e){e.isPublishing=!0})),v(p,"RECEIVE_PUBLISH_REVIEW_SUCCESS",(function(e){e.isPublishing=!1,e.drafts=[]})),v(p,"RECEIVE_PUBLISH_REVIEW_ERROR",(function(e){e.isPublishing=!1})),v(p,"REQUEST_DISCARD_REVIEW",(function(e){e.isDiscarding=!0})),v(p,"RECEIVE_DISCARD_REVIEW_SUCCESS",(function(e){e.isDiscarding=!1,e.drafts=[]})),v(p,"RECEIVE_DISCARD_REVIEW_ERROR",(function(e){e.isDiscarding=!1})),v(p,"RECEIVE_DRAFT_UPDATE_SUCCESS",(function(e,t){var n=e.drafts.findIndex((function(e){return e.id===t.id}));n>=0&&e.drafts.splice(n,1,_(t))})),v(p,"OPEN_REVIEW_DROPDOWN",(function(e){e.showPreviewDropdown=!0})),v(p,"CLOSE_REVIEW_DROPDOWN",(function(e){e.showPreviewDropdown=!1})),v(p,"TOGGLE_RESOLVE_DISCUSSION",(function(e,t){e.drafts=e.drafts.map((function(e){return e.id===t?b(b({},e),{},{resolve_discussion:!e.resolve_discussion}):e}))})),p),w=(n("9U97"),n("XRO8")),O=n("/lV4"),j=n("NmEs"),C=n("2ibD");function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e,t){var n=D(D({},t),{},{draft_note:t.note});return delete n.note,C.a.post(e,n)},x=function(e,t){return C.a.delete("".concat(e,"/").concat(t))},E=function(e,t){return C.a.post(e,{id:t})},T=function(e,t){return C.a.post(e,t)},I=function(e){return C.a.get(e)},R=function(e){return C.a.post(e)},L=function(e){return C.a.delete(e)},F=function(e,t){var n=t.draftId,i=t.note,r=t.resolveDiscussion,s=t.position;return C.a.put("".concat(e,"/").concat(n),{draft_note:{note:i,resolve_discussion:r,position:s}})};function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e,t){return(0,e.dispatch)("saveNote",q(q({},t),{},{isDraft:!0}),{root:!0})},N=function(e,t){var n=e.commit,i=t.endpoint,r=t.data;return T(i,r).then((function(e){return e.data})).then((function(e){return n("ADD_NEW_DRAFT",e),e})).catch((function(){Object(w.a)(Object(O.a)("An error occurred adding a draft to the thread."))}))},$=function(e,t){var n=e.commit,i=t.endpoint,r=t.data;return k(i,r).then((function(e){return e.data})).then((function(e){return n("ADD_NEW_DRAFT",e),e})).catch((function(){Object(w.a)(Object(O.a)("An error occurred adding a new draft."))}))},H=function(e,t){var n=e.commit,i=e.getters;return x(i.getNotesData.draftsPath,t.id).then((function(){n("DELETE_DRAFT",t.id)})).catch((function(){return Object(w.a)(Object(O.a)("An error occurred while deleting the comment"))}))},U=function(e){var t=e.commit,n=e.getters;return I(n.getNotesData.draftsPath).then((function(e){return e.data})).then((function(e){return t("SET_BATCH_COMMENTS_DRAFTS",e)})).catch((function(){return Object(w.a)(Object(O.a)("An error occurred while fetching pending comments"))}))},V=function(e,t){var n=e.commit,i=e.dispatch,r=e.getters;n("REQUEST_PUBLISH_DRAFT",t),E(r.getNotesData.draftsPublishPath,t).then((function(){return i("updateDiscussionsAfterPublish")})).then((function(){return n("RECEIVE_PUBLISH_DRAFT_SUCCESS",t)})).catch((function(){return n("RECEIVE_PUBLISH_DRAFT_ERROR",t)}))},W=function(e){var t=e.commit,n=e.dispatch,i=e.getters;return t("REQUEST_PUBLISH_REVIEW"),R(i.getNotesData.draftsPublishPath).then((function(){return n("updateDiscussionsAfterPublish")})).then((function(){return t("RECEIVE_PUBLISH_REVIEW_SUCCESS")})).catch((function(){return t("RECEIVE_PUBLISH_REVIEW_ERROR")}))},z=function(e){var t=e.dispatch,n=e.getters,i=e.rootGetters;return t("fetchDiscussions",{path:n.getNotesData.discussionsPath},{root:!0}).then((function(){return t("diffs/assignDiscussionsToDiff",i.discussionsStructuredByLineCode,{root:!0})}))},G=function(e){var t=e.commit,n=e.getters;return t("REQUEST_DISCARD_REVIEW"),L(n.getNotesData.draftsDiscardPath).then((function(){return t("RECEIVE_DISCARD_REVIEW_SUCCESS")})).catch((function(){return t("RECEIVE_DISCARD_REVIEW_ERROR")}))},K=function(e,t){var n=e.commit,i=e.getters,r=t.note,s=t.noteText,o=t.resolveDiscussion,a=t.position,l=t.callback;return F(i.getNotesData.draftsPath,{draftId:r.id,note:s,resolveDiscussion:o,position:JSON.stringify(a)}).then((function(e){return e.data})).then((function(e){return n("RECEIVE_DRAFT_UPDATE_SUCCESS",e)})).then(l).catch((function(){return Object(w.a)(Object(O.a)("An error occurred while updating the comment"))}))},X=function(e,t){var n=e.dispatch,i=e.rootGetters,r=t.discussion_id&&i.getDiscussion(t.discussion_id),s=t.file_hash||r&&r.diff_discussion?"diffs":"show",o="diffs"===s?"diffs":"notes",a="note_".concat(t.id),l=document.querySelector("#".concat(o," #").concat(a));n("closeReviewDropdown"),window.location.hash=a,window.mrTabs.currentAction!==s&&window.mrTabs.tabShown(s),r&&n("expandDiscussion",{discussionId:r.id},{root:!0}),l&&setTimeout((function(){return Object(j.Q)(l.closest(".draft-note-component"))}))},Z=function(e){var t=e.dispatch;e.state.showPreviewDropdown?t("closeReviewDropdown"):t("openReviewDropdown")},Q=function(e){return(0,e.commit)("OPEN_REVIEW_DROPDOWN")},Y=function(e){return(0,e.commit)("CLOSE_REVIEW_DROPDOWN")},J=function(e){var t=e.dispatch;return e.state.drafts.filter((function(e){return e.discussion_id})).forEach((function(e){t("expandDiscussion",{discussionId:e.discussion_id},{root:!0})}))},ee=function(e,t){(0,e.commit)("TOGGLE_RESOLVE_DISCUSSION",t)},te=function(){},ne=(n("z4I3"),n("dj/k"),n("OZM5"),n("S6uq"),n("x/6R"),n("yaFd"),n("4ql4"),n("8Qi2"),n("MRnW"),n("GzNv"),n("tbvx"),n("orcL"),n("+FvQ"));function ie(e){return function(e){if(Array.isArray(e))return re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var se=function(e){return e.drafts.length},oe=function(e,t,n,i){return i.getNotesData},ae=function(e){return e.drafts.length>0},le=function(e){return e.drafts.reduce((function(e,t){return t.discussion_id&&(e[t.discussion_id]=t),e}),{})},ce=function(e){return e.drafts.reduce((function(e,t){return t.file_hash&&(e[t.file_hash]||(e[t.file_hash]={}),e[t.file_hash][t.line_code]=t),e}),{})},ue=function(e,t){return function(e,n){return Boolean(e in t.draftsPerFileHashAndLine&&t.draftsPerFileHashAndLine[e][n.line_code])}},de=function(e,t){return function(e,n){var i=t.draftsPerFileHashAndLine[e],r=[Object(ne.c)(n,"left"),Object(ne.c)(n,"right")],s=r[1];return!!i&&Boolean(i[r[0]]||i[s])}},fe=function(e,t){return function(e,n){var i=t.draftsPerFileHashAndLine[e],r=Object(ne.c)(n,"left");return!!i&&Boolean(i[r])}},pe=function(e,t){return function(e,n){var i=t.draftsPerFileHashAndLine[e],r=Object(ne.c)(n,"left");return!!i&&Boolean(i[r])}},he=function(e,t){return function(e){return void 0!==t.draftsPerDiscussionId[e]}},me=function(e,t){return function(e){return t.draftsPerDiscussionId[e]||{}}},ge=function(e,t){return function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.draftsPerFileHashAndLine[e],s=null!==i?Object(ne.c)(n,i):n.line_code;if(r){var o=r[s];if(o&&Object(ne.d)(n,i))return o}return{}}},be=function(e){return function(t){return e.drafts.filter((function(e){return e.file_hash===t}))}},ve=function(e){return function(t){return-1!==e.currentlyPublishingDrafts.indexOf(t)}},_e=function(e){return ie(e.drafts).sort((function(e,t){return e.id>t.id}))},ye=function(){},we=n("Ocj7"),Oe=(n("t3Gg"),n("EWC9"),n("jaBk"),n("Ag57"),n("IdsT"),n("2A3y"),n("S26F"),n("pBsb"),n("dHQd"),n("yoDG"),n("tWNI"),n("8d6S"),n("VwWG"),n("IYHS"),n("MViX"),n("GDOA"),n("a0mT"),n("ta8/"),n("IKCR"),n("nmTw"),n("W2kU"),n("58fc"),n("Rhav"),n("eppl"),n("06tH")),je=n.n(Oe),Ce=n("hqF9"),Pe=n("QwBj"),De=n("3twG"),Se=n("rrF/"),ke=n.n(Se),xe=n("J7NB"),Ee=n("04nr"),Te="SET_BASE_CONFIG",Ie="SET_DIFF_FILES",Re="SET_CURRENT_VIEW_DIFF_FILE_LINES",Le="SET_DIFF_FILE_VIEWER",Fe=n("pIt4"),Be=n("BAGK");function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ne=function(e,t){var n=e.commit,i=t.endpoint,r=t.endpointMetadata,s=t.endpointBatch,o=t.endpointCoverage,a=t.projectPath,l=t.dismissEndpoint,c=t.showSuggestPopover,u=t.useSingleDiffStyle;n(Te,{endpoint:i,endpointMetadata:r,endpointBatch:s,endpointCoverage:o,projectPath:a,dismissEndpoint:l,showSuggestPopover:c,useSingleDiffStyle:u})},$e=function(e){var t,n=e.state,i=e.commit,r=new ke.a,s={w:n.showWhitespace?"0":"1"};return n.useSingleDiffStyle&&(s.view=n.diffViewType),i("SET_LOADING",!0),r.addEventListener("message",(function(e){var t=e.data;i("SET_TREE_DATA",t),r.terminate()})),C.a.get(Object(De.n)(s,n.endpoint)).then((function(e){return i("SET_LOADING",!1),i("SET_MERGE_REQUEST_DIFFS",e.data.merge_request_diffs||[]),i("SET_DIFF_DATA",e.data),r.postMessage(n.diffFiles),t=e.data,h.default.nextTick()})).then((function(){return Object(j.s)(),t})).catch((function(){return r.terminate()}))},He=function(e){var t=e.commit,i=e.state,r={per_page:Fe.e,w:i.showWhitespace?"0":"1"};i.useSingleDiffStyle&&(r.view=i.diffViewType),t("SET_BATCH_LOADING",!0),t("SET_RETRIEVING_BATCHES",!0);return function e(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return C.a.get(Object(De.n)(Ae(Ae({},r),{},{page:s}),i.endpointBatch)).then((function(e){var r,s=e.data,o=s.pagination,a=s.diff_files;(t("SET_DIFF_DATA_BATCH",{diff_files:a}),t("SET_BATCH_LOADING",!1),o.next_page)||(t("SET_RETRIEVING_BATCHES",!1),(null===(r=gon.features)||void 0===r?void 0:r.codeNavigation)&&n.e(320).then(n.bind(null,"uOOt")).then((function(e){return e.default({blobs:i.diffFiles.map((function(e){return{path:e.new_path,codeNavigationPath:e.code_navigation_path}})),definitionPathPrefix:i.definitionPathPrefix})})));return o.next_page})).then((function(t){return t&&e(t)})).catch((function(){return t("SET_RETRIEVING_BATCHES",!1)}))}().then(j.s).catch((function(){return null}))},Ue=function(e){var t=e.commit,n=e.state,i=new ke.a,r={};return n.useSingleDiffStyle&&(r.view=n.diffViewType),t("SET_LOADING",!0),i.addEventListener("message",(function(e){var n=e.data;t("SET_TREE_DATA",n),i.terminate()})),C.a.get(Object(De.n)(r,n.endpointMetadata)).then((function(e){var r=e.data,s=Ae({},r);return delete s.diff_files,t("SET_LOADING",!1),t("SET_MERGE_REQUEST_DIFFS",r.merge_request_diffs||[]),t("SET_DIFF_DATA",s),i.postMessage(Object(Ee.m)(r,n.diffFiles)),r})).catch((function(){return i.terminate()}))},Ve=function(e){var t=e.commit,n=e.state,i=new Ce.a({resource:{getCoverageReports:function(e){return C.a.get(e)}},data:n.endpointCoverage,method:"getCoverageReports",successCallback:function(e){var n=e.status,r=e.data;n===Pe.a.OK&&(t("SET_COVERAGE_DATA",r),i.stop())},errorCallback:function(){return Object(w.a)(Object(O.a)("Something went wrong on our end. Please try again!"))}});i.makeRequest()},We=function(e,t){var n=e.commit,i=t.split("_")[0];n("SET_HIGHLIGHTED_ROW",t),n("UPDATE_CURRENT_DIFF_FILE_ID",i)},ze=function(e){var t=e.commit,n=e.state,i=e.rootState,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.notes.discussions,s=Object(Ee.g)(n.diffFiles,n.useSingleDiffStyle),o=Object(De.e)();r.filter((function(e){return e.diff_discussion})).forEach((function(e){t("SET_LINE_DISCUSSIONS_FOR_FILE",{discussion:e,diffPositionByLineCode:s,hash:o})})),h.default.nextTick((function(){xe.a.$emit("scrollToDiscussion")}))},Ge=function(e,t){(0,e.commit)("REMOVE_LINE_DISCUSSIONS_FOR_FILE",{fileHash:t.file_hash,lineCode:t.line_code,id:t.id})},Ke=function(e,t){(0,e.commit)("TOGGLE_LINE_DISCUSSIONS",t)},Xe=function(e,t){var n=e.commit,i=e.rootState,r=e.state,s=i.notes.discussions.find((function(e){return e.id===t}));if(s&&s.diff_file){var o=r.diffFiles.find((function(e){return e.file_hash===s.diff_file.file_hash}));o&&(o.renderIt||n("RENDER_FILE",o),o.viewer.collapsed?(xe.a.$emit("loadCollapsedDiff/".concat(o.file_hash)),Object(j.Q)(document.getElementById(o.file_hash))):xe.a.$emit("scrollToDiscussion"))}},Ze=function(e){var t=e.state,n=e.commit;return function e(){return new Promise((function(i){var r=t.diffFiles.find((function(e){return!e.renderIt&&e.viewer&&(!e.viewer.collapsed||e.viewer.name!==Be.r.text)}));r?(requestAnimationFrame((function(){n("RENDER_FILE",r)})),requestIdleCallback((function(){e().then(i).catch((function(){}))}),{timeout:1e3})):i()}))}()},Qe=function(e,t){return(0,e.commit)("RENDER_FILE",t)},Ye=function(e){(0,e.commit)("SET_DIFF_VIEW_TYPE",Fe.n),je.a.set(Fe.i,Fe.n);var t=Object(De.n)({view:Fe.n},window.location.href);Object(j.t)(t)},Je=function(e){(0,e.commit)("SET_DIFF_VIEW_TYPE",Fe.L),je.a.set(Fe.i,Fe.L);var t=Object(De.n)({view:Fe.L},window.location.href);Object(j.t)(t)},et=function(e,t){(0,e.commit)("TOGGLE_LINE_HAS_FORM",{lineCode:t.lineCode,fileHash:t.fileHash,hasForm:!0})},tt=function(e,t){(0,e.commit)("TOGGLE_LINE_HAS_FORM",{lineCode:t.lineCode,fileHash:t.fileHash,hasForm:!1})},nt=function(e,t){var n=e.commit,i=t.endpoint,r=t.params,s=t.lineNumbers,o=t.fileHash,a=t.isExpandDown,l=t.nextLineNumbers;return r.from_merge_request=!0,C.a.get(i,{params:r}).then((function(e){var t=e.data||[];n("ADD_CONTEXT_LINES",{lineNumbers:s,contextLines:t,params:r,fileHash:o,isExpandDown:a,nextLineNumbers:l})}))},it=function(e,t){var n=Object(De.e)();n&&t.line_code===n&&Object(j.s)()},rt=function(e,t){var n=Object(De.e)();n&&(t.left&&t.left.line_code===n||t.right&&t.right.line_code===n)&&Object(j.s)()},st=function(e,t){var n=e.commit,i=e.getters,r=e.state;return C.a.get(t.load_collapsed_diff_url,{params:{commit_id:i.commitId,w:r.showWhitespace?"0":"1"}}).then((function(e){n("ADD_COLLAPSED_DIFFS",{file:t,data:e.data})}))},ot=function(e){(0,e.commit)("EXPAND_ALL_FILES")},at=function(e,t){var n=e.getters,i=e.dispatch,r=n.getDiffFileDiscussions(t),s=n.diffHasAllExpandedDiscussions(t),o=n.diffHasAllCollapsedDiscussions(t);r.forEach((function(e){var t={discussionId:e.id};s?i("collapseDiscussion",t,{root:!0}):!o&&(s||o||e.expanded)||i("expandDiscussion",t,{root:!0})}))},lt=function(e,t){var n=e.commit,i=Object(Ee.c)(t),r=new Set,s=t.parallel_diff_lines;t.highlighted_diff_lines.concat(s.map((function(e){return e.left})),s.map((function(e){return e.right}))).filter((function(e){return Boolean(null==e?void 0:e.discussions.length)})).forEach((function(e){return r.add(e.line_code)})),r.size&&Array.from(r).forEach((function(e){n("TOGGLE_LINE_DISCUSSIONS",{fileHash:t.file_hash,expanded:!i,lineCode:e})}))},ct=function(e,t){var n=e.state,i=e.dispatch,r=t.note,s=t.formData,o=Object(Ee.i)(Ae({commit:n.commit,note:r},s));return i("saveNote",o,{root:!0}).then((function(e){return i("updateDiscussion",e.discussion,{root:!0})})).then((function(e){return i("assignDiscussionsToDiff",[e])})).then((function(){return i("updateResolvableDiscussionsCounts",null,{root:!0})})).then((function(){return i("closeDiffFileCommentForm",s.diffFile.file_hash)})).catch((function(){return Object(w.a)(Object(O.d)("MergeRequests|Saving the comment failed"))}))},ut=function(e,t){(0,e.commit)("TOGGLE_FOLDER_OPEN",t)},dt=function(e,t){var n=e.state,i=e.commit,r=n.treeEntries[t].fileHash;document.location.hash=r,i("UPDATE_CURRENT_DIFF_FILE_ID",r)},ft=function(e){var t=e.commit,n=e.state,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t("TOGGLE_SHOW_TREE_LIST"),i&&localStorage.setItem(Fe.D,n.showTreeList)},pt=function(e,t){var n=e.commit;n(e.getters.getCommentFormForDiffFile(t.fileHash)?"UPDATE_DIFF_FILE_COMMENT_FORM":"OPEN_DIFF_FILE_COMMENT_FORM",t)},ht=function(e,t){(0,e.commit)("CLOSE_DIFF_FILE_COMMENT_FORM",t)},mt=function(e,t){(0,e.commit)("SET_RENDER_TREE_LIST",t),localStorage.setItem(Fe.X,t)},gt=function(e,t){var n=e.commit,i=t.showWhitespace,r=t.pushState,s=void 0!==r&&r;n("SET_SHOW_WHITESPACE",i),localStorage.setItem(Fe.cb,i),s&&Object(j.t)(Object(De.n)({w:i?"0":"1"},window.location.href)),xe.a.$emit("refetchDiffData")},bt=function(e,t){(0,e.commit)("TOGGLE_FILE_FINDER_VISIBLE",t)},vt=function(e,t){localStorage.setItem(Fe.Y,t)},_t=function(e,t){(0,e.commit)("RECEIVE_FULL_DIFF_ERROR",t),Object(w.a)(Object(O.d)("MergeRequest|Error loading full diff. Please try again."))},yt=function(e,t){var n=e.commit,i=e.state,r=t.file,s=t.data,o={highlighted_diff_lines:Object(Ee.d)({diffLines:r.highlighted_diff_lines,typeKey:Fe.ab,oldLineKey:Fe.H,newLineKey:Fe.E,data:s,mapLine:function(e){var t=e.line,n=e.oldLine,i=e.newLine;return Object.assign(t,{old_line:n,new_line:i,line_code:"".concat(r.file_hash,"_").concat(n,"_").concat(i)})}}),parallel_diff_lines:Object(Ee.d)({diffLines:r.parallel_diff_lines,typeKey:[Fe.o,Fe.ab],oldLineKey:[Fe.o,Fe.H],newLineKey:[Fe.o,Fe.E],data:s,mapLine:function(e){var t=e.line,n=e.oldLine,i=e.newLine;return{left:Ae(Ae({},t),{},{old_line:n,line_code:"".concat(r.file_hash,"_").concat(n,"_").concat(i)}),right:Ae(Ae({},t),{},{new_line:i,line_code:"".concat(r.file_hash,"_").concat(i,"_").concat(n)})}}})},a=i.diffViewType===Fe.n?Fe.m:Fe.K,l=i.diffViewType===Fe.n?Fe.K:Fe.m;if(n("SET_HIDDEN_VIEW_DIFF_FILE_LINES",{filePath:r.file_path,lines:o[l]}),o[a].length>Fe.z){var c=Fe.N;n(Re,{filePath:r.file_path,lines:o[a].slice(0,c)}),n("TOGGLE_DIFF_FILE_RENDERING_MORE",r.file_path);Object(Ee.k)((function e(t){for(var i=c;t.timeRemaining()>=Fe.B&&c!==o[a].length&&c-i!==Fe.y;){var s=o[a][c];s&&(n("ADD_CURRENT_VIEW_DIFF_FILE_LINES",{filePath:r.file_path,line:s}),c+=1)}c!==o[a].length?Object(Ee.k)(e):n("TOGGLE_DIFF_FILE_RENDERING_MORE",r.file_path)}))}else n(Re,{filePath:r.file_path,lines:o[a]})},wt=function(e,t){var n=e.commit,i=e.dispatch;return C.a.get(t.context_lines_path,{params:{full:!0,from_merge_request:!0}}).then((function(e){var r=e.data;n("RECEIVE_FULL_DIFF_SUCCESS",{filePath:t.file_path}),i("setExpandedDiffLines",{file:t,data:r})})).catch((function(){return i("receiveFullDiffError",t.file_path)}))},Ot=function(e,t){var n=e.dispatch,i=e.commit,r=e.getters,s=e.state.diffFiles.find((function(e){return e.file_path===t}));i("REQUEST_FULL_DIFF",t),s.isShowingFullFile?n("loadCollapsedDiff",s).then((function(){return n("assignDiscussionsToDiff",r.getDiffFileDiscussions(s))})).catch((function(){return n("receiveFullDiffError",t)})):n("fetchFullDiff",s)};function jt(e,t){var n=e.commit,i=e.dispatch,r=e.state,s=t.diffFile;return C.a.get(s.context_lines_path,{params:{full:!0,from_merge_request:!0}}).then((function(e){var t=e.data.map((function(e,t){return Object(Ee.n)({diffViewType:r.diffViewType,line:e,diffFile:s,index:t})}));n(Le,{filePath:s.file_path,viewer:Ae(Ae({},s.alternate_viewer),{},{collapsed:!1})}),n(Re,{filePath:s.file_path,lines:t}),i("startRenderDiffsQueue")}))}var Ct=function(e,t){return(0,e.commit)("SET_FILE_COLLAPSED",{filePath:t.filePath,collapsed:t.collapsed})},Pt=function(e){var t=e.commit,n=e.state;return C.a.post(n.dismissEndpoint,{feature_name:"suggest_popover_dismissed"}).then((function(){t("SET_SHOW_SUGGEST_POPOVER")})).catch((function(){Object(w.a)(Object(O.d)("MergeRequest|Error dismissing suggestion popover. Please try again."))}))};function Dt(e,t){var n=e.dispatch,i=e.commit,r=e.state,s=t.commitId;if(!s)return Promise.reject(new Error("`commitId` is a required argument"));if(!r.commit)return Promise.reject(new Error("`state` must already contain a valid `commit`"));var o=new RegExp(r.commit.id,"g");return i(Ie,[]),i(Te,Ae(Ae({},r),{},{endpoint:r.endpoint.replace(o,s),endpointBatch:r.endpointBatch.replace(o,s),endpointMetadata:r.endpointMetadata.replace(o,s)})),n("fetchDiffFilesMeta")}function St(e,t){var n,i,r,s=e.dispatch,o=e.state,a=t.direction,l=null===(n=o.commit)||void 0===n?void 0:n.prev_commit_id,c=null===(i=o.commit)||void 0===i?void 0:i.next_commit_id,u=!o.isLoading&&c,d=!o.isLoading&&l;"next"===a&&u?r=c:"previous"===a&&d&&(r=l),r&&s("changeCurrentCommit",{commitId:r})}var kt=function(){};n("vHow"),n("y6Fo"),n("N0ZT");function xt(e){return function(e){if(Array.isArray(e))return Et(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Et(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){Rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lt,Ft=function(e){var t;return(null===(t=e.startVersion)||void 0===t?void 0:t.version_index)||Fe.f},Bt=function(e){return e.mergeRequestDiff.version_index},qt=function(e,t){var n=Object(j.H)(Object(j.o)("diff_head")),i=!e.startVersion&&!n,r=!e.startVersion&&n,s={versionName:e.targetBranchName,version_index:Fe.f,href:e.mergeRequestDiff.base_version_path,isBase:!0,selected:i},o={versionName:e.targetBranchName,version_index:Fe.g,href:e.mergeRequestDiff.head_version_path,isHead:!0,selected:r};return[].concat(xt(e.mergeRequestDiffs.slice(1).map((function(e){return It({href:e.compare_path,versionName:Object(O.e)(Object(O.a)("version %{versionIndex}"),{versionIndex:e.version_index}),selected:e.version_index===t.selectedTargetIndex},e)}))),[s,o])},At=function(e,t){return e.mergeRequestDiffs.map((function(e,n){return It(It({},e),{},{href:e.version_path,commitsText:Object(O.c)("%d commit,","%d commits,",e.commits_count),versionName:0===n?Object(O.a)("latest version"):Object(O.e)(Object(O.a)("version %{versionIndex}"),{versionIndex:e.version_index}),selected:e.version_index===t.selectedSourceIndex})}))},Mt=function(e){return e.diffViewType===Fe.L},Nt=function(e){return e.diffViewType===Fe.n},$t=function(e){return e.diffFiles.some((function(e){return e.viewer&&e.viewer.collapsed}))},Ht=function(e){return e.commit&&e.commit.id?e.commit.id:null},Ut=function(e,t){return function(e){var n=t.getDiffFileDiscussions(e);return n&&n.length&&n.every((function(e){return e.expanded}))||!1}},Vt=function(e,t){return function(e){var n=t.getDiffFileDiscussions(e);return n&&n.length&&n.every((function(e){return!e.expanded}))||!1}},Wt=function(e,t){return function(e){var n=t.getDiffFileDiscussions(e);return n&&n.length&&void 0!==n.find((function(e){return e.expanded}))||!1}},zt=function(e,t){return function(e){return t.getDiffFileDiscussions(e).length>0}},Gt=function(e,t,n,i){return function(e){return i.discussions.filter((function(t){return t.diff_discussion&&t.diff_file.file_hash===e.file_hash}))||[]}},Kt=function(e){return function(t){return e.diffFiles.find((function(e){return e.file_hash===t}))}},Xt=function(e){return Object.values(e.treeEntries).filter((function(e){return"blob"===e.type}))},Zt=function(e,t){return t.flatBlobsList.reduce((function(e,t){var n=t.parentPath;return n&&!e.some((function(e){return e.path===n}))&&e.push({path:n,isHeader:!0,tree:[]}),e.find((function(e){return e.path===n})).tree.push(t),e}),[])},Qt=function(e){return function(t){return e.commentForms.find((function(e){return e.fileHash===t}))}},Yt=function(e){return function(t,n){if(!e.coverageFiles.files)return{};var i=e.coverageFiles.files[t];if(!i)return{};var r=i[String(n)];return 0===r?{text:Object(O.a)("No test coverage"),class:"no-coverage"}:r>=0?{text:Object(O.c)("Test coverage: %d hit","Test coverage: %d hits",r),class:"coverage"}:{}}},Jt=function(e){return Math.max(0,e.diffFiles.findIndex((function(t){return t.file_hash===e.currentDiffFileId})))},en=function(){};n("TZoF");function tn(e){return function(e){if(Array.isArray(e))return sn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||rn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,s=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}return n}(e,t)||rn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rn(e,t){if(e){if("string"==typeof e)return sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sn(e,t):void 0}}function sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){ln(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cn(e,t){return Object.assign(e,{diffFiles:t})}var un=(ln(Lt={},Te,(function(e,t){var n=t.endpoint,i=t.endpointMetadata,r=t.endpointBatch,s=t.endpointCoverage,o=t.projectPath,a=t.dismissEndpoint,l=t.showSuggestPopover,c=t.useSingleDiffStyle;Object.assign(e,{endpoint:n,endpointMetadata:i,endpointBatch:r,endpointCoverage:s,projectPath:o,dismissEndpoint:a,showSuggestPopover:l,useSingleDiffStyle:c})})),ln(Lt,"SET_LOADING",(function(e,t){Object.assign(e,{isLoading:t})})),ln(Lt,"SET_BATCH_LOADING",(function(e,t){Object.assign(e,{isBatchLoading:t})})),ln(Lt,"SET_RETRIEVING_BATCHES",(function(e,t){Object.assign(e,{retrievingBatches:t})})),ln(Lt,Ie,(function(e,t){cn(e,t)})),ln(Lt,"SET_DIFF_DATA",(function(e,t){var n,i,r=e.diffFiles;(null===(n=gon)||void 0===n?void 0:null===(i=n.features)||void 0===i?void 0:i.diffsBatchLoad)&&-1===window.location.search.indexOf("diff_id")||!t.diff_files||(r=Object(Ee.m)(t,r)),Object.assign(e,an({},Object(j.g)(t))),cn(e,r)})),ln(Lt,"SET_DIFF_DATA_BATCH",(function(e,t){var n=Object(Ee.m)(t,e.diffFiles);Object.assign(e,an({},Object(j.g)(t))),cn(e,n)})),ln(Lt,"SET_COVERAGE_DATA",(function(e,t){Object.assign(e,{coverageFiles:t})})),ln(Lt,"RENDER_FILE",(function(e,t){Object.assign(t,{renderIt:!0})})),ln(Lt,"SET_MERGE_REQUEST_DIFFS",(function(e,t){Object.assign(e,{mergeRequestDiffs:t})})),ln(Lt,"SET_DIFF_VIEW_TYPE",(function(e,t){Object.assign(e,{diffViewType:t})})),ln(Lt,"TOGGLE_LINE_HAS_FORM",(function(e,t){var n=t.lineCode,i=t.fileHash,r=t.hasForm,s=e.diffFiles.find((function(e){return e.file_hash===i}));if(s&&(s.highlighted_diff_lines.length&&(s.highlighted_diff_lines.find((function(e){return e.line_code===n})).hasForm=r),s.parallel_diff_lines.length)){var o=s.parallel_diff_lines.find((function(e){var t=e.left,i=e.right;return t&&t.line_code===n||i&&i.line_code===n}));o.left&&o.left.line_code===n&&(o.left.hasForm=r),o.right&&o.right.line_code===n&&(o.right.hasForm=r)}})),ln(Lt,"ADD_CONTEXT_LINES",(function(e,t){var n=t.lineNumbers,i=t.contextLines,r=t.fileHash,s=t.isExpandDown,o=t.nextLineNumbers,a=t.params.bottom,l=Object(Ee.e)(e.diffFiles,r);Object(Ee.o)(l,n,a);var c=Object(Ee.b)(i,n,a,s,o).map((function(e){var t="match"===e.type?"".concat(r,"_").concat(e.meta_data.old_pos,"_").concat(e.meta_data.new_pos,"_match"):e.line_code||"".concat(r,"_").concat(e.old_line,"_").concat(e.new_line);return an(an({},e),{},{line_code:t,discussions:e.discussions||[],hasForm:!1})}));Object(Ee.a)({inlineLines:l.highlighted_diff_lines,parallelLines:l.parallel_diff_lines,diffViewType:e.diffViewType,contextLines:c,bottom:a,lineNumbers:n,isExpandDown:s})})),ln(Lt,"ADD_COLLAPSED_DIFFS",(function(e,t){var n=t.file,i=t.data,r=nn(Object(Ee.m)(i).filter((function(e){return e.file_hash===n.file_hash})),1)[0],s=e.diffFiles.find((function(e){return e.file_hash===n.file_hash}));Object.assign(s,an({},r))})),ln(Lt,"EXPAND_ALL_FILES",(function(e){e.diffFiles.forEach((function(e){Object.assign(e,{viewer:Object.assign(e.viewer,{collapsed:!1})})}))})),ln(Lt,"SET_LINE_DISCUSSIONS_FOR_FILE",(function(e,t){var n=t.discussion,i=t.diffPositionByLineCode,r=t.hash,s=e.latestDiff,o=[n.line_code].concat(tn(n.line_codes||[])),a=n.diff_file.file_hash,l=function(e){return o.some((function(t){return e.line_code===t&&Object(Ee.l)({discussion:n,diffPosition:i[e.line_code],latestDiff:s})}))},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};return an(an({},e),{},{discussions:t()?e.discussions&&e.discussions.filter((function(){return!e.discussions.some((function(e){var t=e.id;return n.id===t}))})).concat(l(e)?n:e.discussions):[]})},u=function(e){var t=e.discussions&&e.discussions.some((function(e){return e.notes&&e.notes.find((function(e){return r==="note_".concat(e.id)}))}));return an(an({},e),{},{discussionsExpanded:!(!e.discussions||!e.discussions.length)&&(e.discussions.some((function(e){return!e.resolved}))||t)})};e.diffFiles.forEach((function(e){if(e.file_hash===a&&(e.highlighted_diff_lines.length&&e.highlighted_diff_lines.forEach((function(e){Object.assign(e,u(l(e)?c(e):e))})),e.parallel_diff_lines.length&&e.parallel_diff_lines.forEach((function(e){var t=e.left&&l(e.left),n=e.right&&l(e.right);return(t||n)&&Object.assign(e,{left:e.left?u(c(e.left)):null,right:e.right?u(c(e.right,(function(){return!t}))):null}),e})),!e.parallel_diff_lines||!e.highlighted_diff_lines)){var t=(e.discussions||[]).filter((function(e){return e.id!==n.id})).concat(n);Object.assign(e,{discussions:t})}}))})),ln(Lt,"REMOVE_LINE_DISCUSSIONS_FOR_FILE",(function(e,t){var n=t.fileHash,i=t.lineCode,r=e.diffFiles.find((function(e){return e.file_hash===n}));r&&(Object(Ee.q)(r,i,(function(e){return Object.assign(e,{discussions:e.discussions.filter((function(e){return e.notes.length}))})})),r.discussions&&r.discussions.length&&(r.discussions=r.discussions.filter((function(e){return e.notes.length}))))})),ln(Lt,"TOGGLE_LINE_DISCUSSIONS",(function(e,t){var n=t.fileHash,i=t.lineCode,r=t.expanded,s=e.diffFiles.find((function(e){return e.file_hash===n}));Object(Ee.q)(s,i,(function(e){Object.assign(e,{discussionsExpanded:r})}))})),ln(Lt,"TOGGLE_FOLDER_OPEN",(function(e,t){e.treeEntries[t].opened=!e.treeEntries[t].opened})),ln(Lt,"TOGGLE_SHOW_TREE_LIST",(function(e){e.showTreeList=!e.showTreeList})),ln(Lt,"UPDATE_CURRENT_DIFF_FILE_ID",(function(e,t){e.currentDiffFileId=t})),ln(Lt,"OPEN_DIFF_FILE_COMMENT_FORM",(function(e,t){e.commentForms.push(an({},t))})),ln(Lt,"UPDATE_DIFF_FILE_COMMENT_FORM",(function(e,t){var n=t.fileHash;e.commentForms=e.commentForms.map((function(e){return e.fileHash===n?an({},t):e}))})),ln(Lt,"CLOSE_DIFF_FILE_COMMENT_FORM",(function(e,t){e.commentForms=e.commentForms.filter((function(e){return e.fileHash!==t}))})),ln(Lt,"SET_HIGHLIGHTED_ROW",(function(e,t){e.highlightedRow=t})),ln(Lt,"SET_TREE_DATA",(function(e,t){var n=t.treeEntries,i=t.tree;e.treeEntries=n,e.tree=i})),ln(Lt,"SET_RENDER_TREE_LIST",(function(e,t){e.renderTreeList=t})),ln(Lt,"SET_SHOW_WHITESPACE",(function(e,t){e.showWhitespace=t,e.diffFiles=[]})),ln(Lt,"TOGGLE_FILE_FINDER_VISIBLE",(function(e,t){e.fileFinderVisible=t})),ln(Lt,"REQUEST_FULL_DIFF",(function(e,t){Object(Ee.e)(e.diffFiles,t,"file_path").isLoadingFullFile=!0})),ln(Lt,"RECEIVE_FULL_DIFF_ERROR",(function(e,t){Object(Ee.e)(e.diffFiles,t,"file_path").isLoadingFullFile=!1})),ln(Lt,"RECEIVE_FULL_DIFF_SUCCESS",(function(e,t){var n=t.filePath,i=Object(Ee.e)(e.diffFiles,n,"file_path");i.isShowingFullFile=!0,i.isLoadingFullFile=!1})),ln(Lt,"SET_FILE_COLLAPSED",(function(e,t){var n=t.filePath,i=t.collapsed,r=e.diffFiles.find((function(e){return e.file_path===n}));r&&r.viewer&&(r.viewer.collapsed=i)})),ln(Lt,"SET_HIDDEN_VIEW_DIFF_FILE_LINES",(function(e,t){var n=t.filePath,i=t.lines;e.diffFiles.find((function(e){return e.file_path===n}))["inline"===e.diffViewType?"parallel_diff_lines":"highlighted_diff_lines"]=i})),ln(Lt,Re,(function(e,t){var n=t.filePath,i=t.lines;e.diffFiles.find((function(e){return e.file_path===n}))["inline"===e.diffViewType?"highlighted_diff_lines":"parallel_diff_lines"]=i})),ln(Lt,"ADD_CURRENT_VIEW_DIFF_FILE_LINES",(function(e,t){var n=t.filePath,i=t.line;e.diffFiles.find((function(e){return e.file_path===n}))["inline"===e.diffViewType?"highlighted_diff_lines":"parallel_diff_lines"].push(i)})),ln(Lt,"TOGGLE_DIFF_FILE_RENDERING_MORE",(function(e,t){var n=e.diffFiles.find((function(e){return e.file_path===t}));n.renderingLines=!n.renderingLines})),ln(Lt,Le,(function(e,t){var n=t.filePath,i=t.viewer;Object(Ee.e)(e.diffFiles,n,"file_path").viewer=i})),ln(Lt,"SET_SHOW_SUGGEST_POPOVER",(function(e){e.showSuggestPopover=!1})),Lt),dn=Object(De.f)("view")[0],fn=je.a.get(Fe.i),pn=Fe.n,hn="SET_ACTIVE_TAB",mn={setActiveTab:function(e,t){(0,e.commit)(hn,t)}},gn={isLoggedIn:function(e,t){return Boolean(t.getUserData.id)}};var bn,vn,_n,yn=(_n=function(e,t){Object.assign(e,{activeTab:t})},(vn=hn)in(bn={})?Object.defineProperty(bn,vn,{value:_n,enumerable:!0,configurable:!0,writable:!0}):bn[vn]=_n,bn);h.default.use(m.b);var wn=new m.b.Store({modules:{page:{state:{activeTab:null},actions:mn,getters:gn,mutations:yn},notes:Object(we.a)(),diffs:{namespaced:!0,state:{isLoading:!0,isBatchLoading:!1,retrievingBatches:!1,addedLines:null,removedLines:null,endpoint:"",basePath:"",commit:null,startVersion:null,diffFiles:[],coverageFiles:{},mergeRequestDiffs:[],mergeRequestDiff:null,diffViewType:dn||fn||pn,tree:[],treeEntries:{},showTreeList:!0,currentDiffFileId:"",projectPath:"",commentForms:[],highlightedRow:null,renderTreeList:!0,showWhitespace:!0,fileFinderVisible:!1,dismissEndpoint:"",showSuggestPopover:!0,useSingleDiffStyle:!1},getters:o,actions:s,mutations:un},batchComments:{namespaced:!0,state:{withBatchComments:!0,isDraftsFetched:!1,drafts:[],isPublishing:!1,currentlyPublishingDrafts:[],isDiscarding:!1,showPreviewDropdown:!1},mutations:y,actions:i,getters:r}}}),On=n("3a3M"),jn=n.n(On),Cn=n("cyZB"),Pn=n("t6Yz"),Dn=n.n(Pn),Sn=n("grn8"),kn={mixins:[Sn.a],mounted:function(){Mousetrap.bind("n",this.jumpToNextDiscussion),Mousetrap.bind("p",this.jumpToPreviousDiscussion)},beforeDestroy:function(){Mousetrap.unbind("n"),Mousetrap.unbind("p")},render:function(){return this.$slots.default}},xn=n("tBpV"),En=Object(xn.a)(kn,void 0,void 0,!1,null,null,null).exports,Tn=n("Q33P"),In=n.n(Tn),Rn=(n("FMw2"),n("QifN"),n("84rB")),Ln={archived:"archived",missingBranch:"missingBranch",nothingToMerge:"nothingToMerge",checking:"checking",conflicts:"conflicts",workInProgress:"workInProgress",pipelineFailed:"pipelineFailed",unresolvedDiscussions:"unresolvedDiscussions",pipelineBlocked:"pipelineBlocked",shaMismatch:"shaMismatch",autoMergeFailed:"autoMergeFailed",autoMergeEnabled:"autoMergeEnabled",notAllowedToMerge:"notAllowedToMerge",readyToMerge:"readyToMerge",rebase:"rebase",merged:"merged"},Fn={stateToComponentMap:{merged:"mr-widget-merged",closed:"mr-widget-closed",merging:"mr-widget-merging",conflicts:"mr-widget-conflicts",missingBranch:"mr-widget-missing-branch",workInProgress:"mr-widget-wip",readyToMerge:"mr-widget-ready-to-merge",nothingToMerge:"mr-widget-nothing-to-merge",notAllowedToMerge:"mr-widget-not-allowed",archived:"mr-widget-archived",checking:"mr-widget-checking",unresolvedDiscussions:"mr-widget-unresolved-discussions",pipelineBlocked:"mr-widget-pipeline-blocked",pipelineFailed:"mr-widget-pipeline-failed",autoMergeEnabled:"mr-widget-auto-merge-enabled",failedToMerge:"mr-widget-failed-to-merge",autoMergeFailed:"mr-widget-auto-merge-failed",shaMismatch:"sha-mismatch",rebase:"mr-widget-rebase"},statesToShowHelpWidget:["merging","conflicts","workInProgress","readyToMerge","checking","unresolvedDiscussions","pipelineFailed","pipelineBlocked","autoMergeFailed","rebase"]};function Bn(e){return e.project_archived?Ln.archived:e.branch_missing?Ln.missingBranch:e.commits_count?"unchecked"===this.mergeStatus||"checking"===this.mergeStatus?Ln.checking:e.has_conflicts?Ln.conflicts:e.work_in_progress?Ln.workInProgress:this.shouldBeRebased?Ln.rebase:this.onlyAllowMergeIfPipelineSucceeds&&this.isPipelineFailed?Ln.pipelineFailed:this.hasMergeableDiscussionsState?Ln.unresolvedDiscussions:this.isPipelineBlocked?Ln.pipelineBlocked:this.canMerge&&this.isSHAMismatch?Ln.shaMismatch:this.autoMergeEnabled?this.mergeError?Ln.autoMergeFailed:Ln.autoMergeEnabled:this.canMerge?this.canBeMerged?Ln.readyToMerge:null:Ln.notAllowedToMerge:Ln.nothingToMerge}var qn=n("bOix"),An="warning",Mn="danger",Nn="add_to_merge_train_when_pipeline_succeeds",$n=["merge_when_pipeline_succeeds",Nn,"merge_train"];function Hn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Un=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sha=t.diff_head_sha,this.gitlabLogo=t.gitlabLogo,this.setPaths(t),this.setData(t)}var t,n,i;return t=e,i=[{key:"buildMetrics",value:function(t){return t?{mergedBy:e.formatUserObject(t.merged_by),closedBy:e.formatUserObject(t.closed_by),mergedAt:Object(qn.d)(t.merged_at),closedAt:Object(qn.d)(t.closed_at),readableMergedAt:e.getReadableDate(t.merged_at),readableClosedAt:e.getReadableDate(t.closed_at)}:{}}},{key:"formatUserObject",value:function(e){return e?{name:e.name||"",username:e.username||"",webUrl:e.web_url||"",avatarUrl:e.avatar_url||""}:{}}},{key:"getReadableDate",value:function(e){return e?Object(Rn.format)(e):""}},{key:"getPreferredAutoMergeStrategy",value:function(e){if(void 0!==e)return e.includes(Nn)?Nn:e.includes("merge_train")?"merge_train":e.includes("merge_when_pipeline_succeeds")?"merge_when_pipeline_succeeds":void 0}}],(n=[{key:"setData",value:function(t,n){n&&(this.sha=t.diff_head_sha);var i=t.pipeline?t.pipeline.details.status:null;if(this.squash=t.squash,this.enableSquashBeforeMerge=this.enableSquashBeforeMerge||!0,this.iid=t.iid,this.title=t.title,this.targetBranch=t.target_branch,this.targetBranchSha=t.target_branch_sha,this.sourceBranch=t.source_branch,this.sourceBranchProtected=t.source_branch_protected,this.conflictsDocsPath=t.conflicts_docs_path,this.mergeRequestPipelinesHelpPath=t.merge_request_pipelines_docs_path,this.mergeTrainWhenPipelineSucceedsDocsPath=t.merge_train_when_pipeline_succeeds_docs_path,this.mergeStatus=t.merge_status,this.commitMessage=t.default_merge_commit_message,this.shortMergeCommitSha=t.short_merge_commit_sha,this.mergeCommitSha=t.merge_commit_sha,this.commitMessageWithDescription=t.default_merge_commit_message_with_description,this.commitsCount=t.commits_count,this.divergedCommitsCount=t.diverged_commits_count,this.pipeline=t.pipeline||{},this.pipelineCoverageDelta=t.pipeline_coverage_delta,this.mergePipeline=t.merge_pipeline||{},this.deployments=this.deployments||t.deployments||[],this.postMergeDeployments=this.postMergeDeployments||[],this.commits=t.commits_without_merge_commits||[],this.squashCommitMessage=t.default_squash_commit_message,this.rebaseInProgress=t.rebase_in_progress,this.mergeRequestDiffsPath=t.diffs_path,t.issues_links){var r=t.issues_links,s=r.closing,o=r.mentioned_but_not_closing,a=r.assign_to_closing;(s||o||a)&&(this.relatedLinks={closing:s,mentioned:o,assignToMe:a})}this.updatedAt=t.updated_at,this.metrics=e.buildMetrics(t.metrics),this.setToAutoMergeBy=e.formatUserObject(t.merge_user||{}),this.mergeUserId=t.merge_user_id,this.currentUserId=gon.current_user_id,this.mergeError=t.merge_error,this.sourceBranchRemoved=!t.source_branch_exists,this.shouldRemoveSourceBranch=t.remove_source_branch||!1,this.onlyAllowMergeIfPipelineSucceeds=t.only_allow_merge_if_pipeline_succeeds||!1,this.autoMergeEnabled=Boolean(t.auto_merge_enabled),this.autoMergeStrategy=t.auto_merge_strategy,this.availableAutoMergeStrategies=t.available_auto_merge_strategies,this.preferredAutoMergeStrategy=e.getPreferredAutoMergeStrategy(this.availableAutoMergeStrategies),this.ffOnlyEnabled=t.ff_only_enabled,this.shouldBeRebased=Boolean(t.should_be_rebased),this.isRemovingSourceBranch=this.isRemovingSourceBranch||!1,this.isOpen="opened"===t.state,this.hasMergeableDiscussionsState=!1===t.mergeable_discussions_state,this.isSHAMismatch=this.sha!==t.diff_head_sha,this.latestSHA=t.diff_head_sha,this.canBeMerged=t.can_be_merged||!1,this.isMergeAllowed=t.mergeable||!1,this.mergeOngoing=t.merge_ongoing,this.allowCollaboration=t.allow_collaboration,this.sourceProjectId=t.source_project_id,this.targetProjectId=t.target_project_id,this.hasCI=t.has_ci,this.ciStatus=t.ci_status,this.isPipelineFailed="failed"===this.ciStatus||"canceled"===this.ciStatus,this.isPipelinePassing="success"===this.ciStatus||"success-with-warnings"===this.ciStatus,this.isPipelineSkipped="skipped"===this.ciStatus,this.pipelineDetailedStatus=i,this.isPipelineActive=!!t.pipeline&&t.pipeline.active,this.isPipelineBlocked=!!i&&"manual"===i.group,this.ciStatusFaviconPath=i?i.favicon:null,this.terraformReportsPath=t.terraform_reports_path,this.testResultsPath=t.test_reports_path,this.accessibilityReportPath=t.accessibility_report_path,this.exposedArtifactsPath=t.exposed_artifacts_path,this.cancelAutoMergePath=t.cancel_auto_merge_path,this.canCancelAutomaticMerge=Boolean(t.cancel_auto_merge_path),this.newBlobPath=t.new_blob_path,this.sourceBranchPath=t.source_branch_path,this.sourceBranchLink=t.source_branch_with_namespace_link,this.rebasePath=t.rebase_path,this.targetBranchPath=t.target_branch_commits_path,this.targetBranchTreePath=t.target_branch_tree_path,this.conflictResolutionPath=t.conflict_resolution_path,this.removeWIPPath=t.remove_wip_path,this.createIssueToResolveDiscussionsPath=t.create_issue_to_resolve_discussions_path,this.mergePath=t.merge_path,this.canMerge=Boolean(t.merge_path),this.mergeCommitPath=t.merge_commit_path,this.canPushToSourceBranch=t.can_push_to_source_branch;var l=t.current_user;this.cherryPickInForkPath=l.cherry_pick_in_fork_path,this.revertInForkPath=l.revert_in_fork_path,this.canRemoveSourceBranch=l.can_remove_source_branch||!1,this.canCreateIssue=l.can_create_issue||!1,this.canCherryPickInCurrentMR=l.can_cherry_pick_on_current_merge_request||!1,this.canRevertInCurrentMR=l.can_revert_on_current_merge_request||!1,this.setState(t)}},{key:"setState",value:function(e){if(this.mergeOngoing)this.state="merging";else if(this.isOpen)this.state=Bn.call(this,e);else switch(e.state){case"merged":this.state="merged";break;case"closed":this.state="closed";break;default:this.state=null}}},{key:"setPaths",value:function(e){this.squashBeforeMergeHelpPath=e.squash_before_merge_help_path,this.troubleshootingDocsPath=e.troubleshooting_docs_path,this.pipelineMustSucceedDocsPath=e.pipeline_must_succeed_docs_path,this.mergeRequestBasicPath=e.merge_request_basic_path,this.mergeRequestWidgetPath=e.merge_request_widget_path,this.mergeRequestCachedWidgetPath=e.merge_request_cached_widget_path,this.emailPatchesPath=e.email_patches_path,this.plainDiffPath=e.plain_diff_path,this.mergeCheckPath=e.merge_check_path,this.mergeActionsContentPath=e.commit_change_content_path,this.targetProjectFullPath=e.target_project_full_path,this.sourceProjectFullPath=e.source_project_full_path,this.mergeRequestPipelinesHelpPath=e.merge_request_pipelines_docs_path,this.conflictsDocsPath=e.conflicts_docs_path,this.ciEnvironmentsStatusPath=e.ci_environments_status_path,this.securityApprovalsHelpPagePath=e.security_approvals_help_page_path,this.eligibleApproversDocsPath=e.eligible_approvers_docs_path,this.mergeImmediatelyDocsPath=e.merge_immediately_docs_path,this.mergeRequestAddCiConfigPath=e.merge_request_add_ci_config_path,this.pipelinesEmptySvgPath=e.pipelines_empty_svg_path,this.humanAccess=e.human_access,this.newPipelinePath=e.new_project_pipeline_path}},{key:"isNothingToMergeState",get:function(){return this.state===Ln.nothingToMerge}},{key:"isMergedState",get:function(){return this.state===Ln.merged}}])&&Hn(t.prototype,n),i&&Hn(t,i),e}();function Vn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Wn,zn,Gn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.endpoints=t}var t,n,i;return t=e,i=[{key:"executeInlineAction",value:function(e){return C.a.post(e)}},{key:"fetchMetrics",value:function(e){return C.a.get("".concat(e,".json"))}},{key:"fetchInitialData",value:function(){return Promise.all([C.a.get(window.gl.mrWidgetData.merge_request_cached_widget_path),C.a.get(window.gl.mrWidgetData.merge_request_widget_path)]).then(C.a.spread((function(e,t){return{data:Object.assign(e.data,t.data)}})))}}],(n=[{key:"merge",value:function(e){return C.a.post(this.endpoints.mergePath,e)}},{key:"cancelAutomaticMerge",value:function(){return C.a.post(this.endpoints.cancelAutoMergePath)}},{key:"removeWIP",value:function(){return C.a.post(this.endpoints.removeWIPPath)}},{key:"removeSourceBranch",value:function(){return C.a.delete(this.endpoints.sourceBranchPath)}},{key:"fetchDeployments",value:function(e){return C.a.get(this.endpoints.ciEnvironmentsStatusPath,{params:{environment_target:e}})}},{key:"poll",value:function(){return C.a.get(this.endpoints.mergeRequestBasicPath)}},{key:"checkStatus",value:function(){var e=C.a.get(this.endpoints.mergeRequestWidgetPath),t=C.a.get(this.endpoints.mergeRequestCachedWidgetPath);return C.a.all([e,t]).then(C.a.spread((function(e,t){return{data:Object.assign(e.data,t.data)}})))}},{key:"fetchMergeActionsContent",value:function(){return C.a.get(this.endpoints.mergeActionsContentPath)}},{key:"rebase",value:function(){return C.a.post(this.endpoints.rebasePath)}}])&&Vn(t.prototype,n),i&&Vn(t,i),e}(),Kn=n("ZeWX"),Xn=n("Kq6u"),Zn={components:{GlSkeletonLoader:n("4+8U").a}},Qn=Object(xn.a)(Zn,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"prepend-top-default"},[t("div",{staticClass:"mr-widget-heading p-3"},[t("gl-skeleton-loader",{attrs:{width:577,height:12}},[t("rect",{attrs:{width:"86",height:"12",rx:"2"}}),this._v(" "),t("rect",{attrs:{x:"96",width:"300",height:"12",rx:"2"}})])],1),this._v(" "),t("div",{staticClass:"mr-widget-heading mr-widget-workflow p-3"},[t("gl-skeleton-loader",{attrs:{width:577,height:72}},[t("rect",{attrs:{width:"120",height:"12",rx:"2"}}),this._v(" "),t("rect",{attrs:{y:"20",width:"300",height:"12",rx:"2"}}),this._v(" "),t("rect",{attrs:{y:"40",width:"60",height:"12",rx:"2"}}),this._v(" "),t("rect",{attrs:{y:"40",x:"68",width:"100",height:"12",rx:"2"}}),this._v(" "),t("rect",{attrs:{y:"60",width:"40",height:"12",rx:"2"}})])],1)])}),[],!1,null,null,null).exports,Yn=n("G3fq"),Jn=n.n(Yn),ei=n("len0"),ti=n("rK/1"),ni=n("Dfb/"),ii=n("rX0p"),ri={components:{Icon:ei.a},props:{name:{type:String,required:!0}}},si=Object(xn.a)(ri,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"circle-icon-container append-right-default align-self-start align-self-lg-center"},[t("icon",{attrs:{name:this.name,size:24}})],1)}),[],!1,null,null,null).exports,oi={name:"MRWidgetHeader",components:{Icon:ei.a,clipboardButton:ti.a,TooltipOnTruncate:ii.a,MrWidgetIcon:si},directives:{tooltip:ni.a},props:{mr:{type:Object,required:!0}},computed:{shouldShowCommitsBehindText:function(){return this.mr.divergedCommitsCount>0},commitsBehindText:function(){return Object(O.e)(Object(O.d)("mrWidget|The source branch is %{commitsBehindLinkStart}%{commitsBehind}%{commitsBehindLinkEnd} the target branch"),{commitsBehindLinkStart:'<a href="'.concat(Jn()(this.mr.targetBranchPath),'">'),commitsBehind:Object(O.c)("%d commit behind","%d commits behind",this.mr.divergedCommitsCount),commitsBehindLinkEnd:"</a>"},!1)},branchNameClipboardData:function(){return JSON.stringify({text:this.mr.sourceBranch,gfm:"`".concat(this.mr.sourceBranch,"`")})},webIdePath:function(){return this.mr.canPushToSourceBranch?Object(De.n)({target_project:this.mr.sourceProjectFullPath!==this.mr.targetProjectFullPath?this.mr.targetProjectFullPath:""},Object(De.A)("/".concat(this.mr.sourceProjectFullPath,"/merge_requests/").concat(this.mr.iid))):null},ideButtonTitle:function(){return this.mr.canPushToSourceBranch?"":Object(O.d)("mrWidget|You are not allowed to edit this project directly. Please fork to make changes.")}}},ai=Object(xn.a)(oi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex mr-source-target append-bottom-default"},[n("mr-widget-icon",{attrs:{name:"git-merge"}}),e._v(" "),n("div",{staticClass:"git-merge-container d-flex"},[n("div",{staticClass:"normal"},[n("strong",[e._v("\n        "+e._s(e.s__("mrWidget|Request to merge"))+"\n        "),n("tooltip-on-truncate",{staticClass:"label-branch label-truncate js-source-branch",attrs:{title:e.mr.sourceBranch,"truncate-target":"child"},domProps:{innerHTML:e._s(e.mr.sourceBranchLink)}}),n("clipboard-button",{attrs:{text:e.branchNameClipboardData,title:e.__("Copy branch name"),"css-class":"btn-default btn-transparent btn-clipboard"}}),e._v("\n        "+e._s(e.s__("mrWidget|into"))+"\n        "),n("tooltip-on-truncate",{staticClass:"label-branch label-truncate",attrs:{title:e.mr.targetBranch,"truncate-target":"child"}},[n("a",{staticClass:"js-target-branch",attrs:{href:e.mr.targetBranchTreePath}},[e._v(" "+e._s(e.mr.targetBranch)+" ")])])],1),e._v(" "),e.shouldShowCommitsBehindText?n("div",{staticClass:"diverged-commits-count",domProps:{innerHTML:e._s(e.commitsBehindText)}}):e._e()]),e._v(" "),n("div",{staticClass:"branch-actions d-flex"},[e.mr.isOpen?[e.mr.sourceBranchRemoved?e._e():n("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"btn btn-default js-web-ide d-none d-md-inline-block gl-mr-3",class:{disabled:!e.mr.canPushToSourceBranch},attrs:{href:e.webIdePath,title:e.ideButtonTitle,"data-placement":"bottom",tabindex:"0",role:"button","data-qa-selector":"open_in_web_ide_button"}},[e._v("\n          "+e._s(e.s__("mrWidget|Open in Web IDE"))+"\n        ")]),e._v(" "),n("button",{staticClass:"btn btn-default js-check-out-branch gl-mr-3",attrs:{disabled:e.mr.sourceBranchRemoved,"data-target":"#modal_merge_info","data-toggle":"modal",type:"button"}},[e._v("\n          "+e._s(e.s__("mrWidget|Check out branch"))+"\n        ")])]:e._e(),e._v(" "),n("span",{staticClass:"dropdown"},[n("button",{staticClass:"btn dropdown-toggle qa-dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-label":e.__("Download as"),"aria-haspopup":"true","aria-expanded":"false"}},[n("icon",{attrs:{name:"download"}}),e._v(" "),n("i",{staticClass:"fa fa-caret-down",attrs:{"aria-hidden":"true"}})],1),e._v(" "),n("ul",{staticClass:"dropdown-menu dropdown-menu-right"},[n("li",[n("a",{staticClass:"js-download-email-patches qa-download-email-patches",attrs:{href:e.mr.emailPatchesPath,download:""}},[e._v("\n              "+e._s(e.s__("mrWidget|Email patches"))+"\n            ")])]),e._v(" "),n("li",[n("a",{staticClass:"js-download-plain-diff qa-download-plain-diff",attrs:{href:e.mr.plainDiffPath,download:""}},[e._v("\n              "+e._s(e.s__("mrWidget|Plain diff"))+"\n            ")])])])])],2)])],1)}),[],!1,null,null,null).exports,li=n("MV2A"),ci=n("30su"),ui=n("A7K0"),di=n("GTGS"),fi=n("4ZIW").a.mixin(),pi={name:"MRWidgetPipelineTour",dismissTrackValue:20,showTrackValue:10,trackEvent:"click_button",components:{GlPopover:ui.a,GlDeprecatedButton:di.a,Icon:ei.a},mixins:[fi],props:{pipelinePath:{type:String,required:!0},pipelineSvgPath:{type:String,required:!0},humanAccess:{type:String,required:!0},popoverTarget:{type:String,required:!0},popoverContainer:{type:String,required:!0},trackLabel:{type:String,required:!0}},data:function(){return{popoverDismissed:Object(j.H)(je.a.get("suggest_pipeline_dismissed")),tracking:{label:this.trackLabel,property:this.humanAccess}}},mounted:function(){this.trackOnShow()},methods:{trackOnShow:function(){this.popoverDismissed||this.track()},dismissPopover:function(){this.popoverDismissed=!0,je.a.set("suggest_pipeline_dismissed",this.popoverDismissed,{expires:365})}}},hi=Object(xn.a)(pi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.popoverDismissed?e._e():n("gl-popover",{attrs:{show:"",target:e.popoverTarget,container:e.popoverContainer,placement:"rightbottom"},scopedSlots:e._u([{key:"title",fn:function(){return[n("button",{staticClass:"btn-blank float-right mt-1",attrs:{type:"button","aria-label":e.__("Close"),"data-track-property":e.humanAccess,"data-track-value":e.$options.dismissTrackValue,"data-track-event":e.$options.trackEvent,"data-track-label":e.trackLabel},on:{click:e.dismissPopover}},[n("icon",{attrs:{name:"close","aria-hidden":"true"}})],1),e._v("\n    "+e._s(e.s__("mrWidget|Are you adding technical debt or code vulnerabilities?"))+"\n  ")]},proxy:!0}],null,!1,2613083748)},[e._v(" "),n("div",{staticClass:"svg-content svg-150 pt-1"},[n("img",{attrs:{src:e.pipelineSvgPath}})]),e._v(" "),n("p",[e._v("\n    "+e._s(e.s__("mrWidget|Detect issues before deployment with a CI pipeline that continuously tests your code. We created a quick guide that will show you how to create one. Make your code more secure and more robust in just a minute."))+"\n  ")]),e._v(" "),n("gl-deprecated-button",{ref:"ok",staticClass:"mt-2 mb-0",attrs:{category:"primary",variant:"info",block:"",href:e.pipelinePath,"data-track-property":e.humanAccess,"data-track-value":e.$options.showTrackValue,"data-track-event":e.$options.trackEvent,"data-track-label":e.trackLabel}},[e._v("\n    "+e._s(e.__("Show me how"))+"\n  ")]),e._v(" "),n("gl-deprecated-button",{ref:"no-thanks",staticClass:"mt-2 mb-0",attrs:{category:"secondary",variant:"info",block:"","data-track-property":e.humanAccess,"data-track-value":e.$options.dismissTrackValue,"data-track-event":e.$options.trackEvent,"data-track-label":e.trackLabel},on:{click:e.dismissPopover}},[e._v("\n    "+e._s(e.__("No thanks, don't show this again"))+"\n  ")])],1)}),[],!1,null,null,null).exports,mi={name:"MRWidgetSuggestPipeline",iconName:"status_notfound",popoverTarget:"suggest-popover",popoverContainer:"suggest-pipeline",trackLabel:"no_pipeline_noticed",linkTrackValue:30,linkTrackEvent:"click_link",components:{GlLink:li.a,GlSprintf:ci.a,MrWidgetIcon:si,PipelineTourState:hi},props:{pipelinePath:{type:String,required:!0},pipelineSvgPath:{type:String,required:!0},humanAccess:{type:String,required:!0}}},gi=Object(xn.a)(mi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex mr-pipeline-suggest append-bottom-default",attrs:{id:e.$options.popoverContainer}},[n("mr-widget-icon",{attrs:{name:e.$options.iconName}}),e._v(" "),n("div",{attrs:{id:e.$options.popoverTarget}},[n("gl-sprintf",{attrs:{message:e.s__("mrWidget|%{prefixToLinkStart}No pipeline%{prefixToLinkEnd}\n        %{addPipelineLinkStart}Add the .gitlab-ci.yml file%{addPipelineLinkEnd}\n        to create one.")},scopedSlots:e._u([{key:"prefixToLink",fn:function(t){var i=t.content;return[n("strong",[e._v("\n          "+e._s(i)+"\n        ")])]}},{key:"addPipelineLink",fn:function(t){var i=t.content;return[n("gl-link",{staticClass:"ml-2 js-add-pipeline-path",attrs:{href:e.pipelinePath,"data-track-property":e.humanAccess,"data-track-value":e.$options.linkTrackValue,"data-track-event":e.$options.linkTrackEvent,"data-track-label":e.$options.trackLabel}},[e._v("\n          "+e._s(i)+"\n        ")])]}}])}),e._v(" "),n("pipeline-tour-state",{attrs:{"pipeline-path":e.pipelinePath,"pipeline-svg-path":e.pipelineSvgPath,"human-access":e.humanAccess,"popover-target":e.$options.popoverTarget,"popover-container":e.$options.popoverContainer,"track-label":e.$options.trackLabel}})],1)],1)}),[],!1,null,null,null).exports,bi={name:"MRWidgetMergeHelp",props:{missingBranch:{type:String,required:!1,default:""}},computed:{missingBranchInfo:function(){return Object(O.e)(Object(O.d)("mrWidget|If the %{branch} branch exists in your local repository, you can merge this merge request manually using the"),{branch:this.missingBranch})}}},vi=Object(xn.a)(bi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"mr-widget-help font-italic"},[e.missingBranch?[e._v("\n    "+e._s(e.missingBranchInfo)+"\n  ")]:[e._v("\n    "+e._s(e.s__("mrWidget|You can merge this merge request manually using the"))+"\n  ")],e._v(" "),n("button",{staticClass:"btn-link btn-blank js-open-modal-help",attrs:{type:"button","data-toggle":"modal","data-target":"#modal_merge_info"}},[e._v("\n    "+e._s(e.s__("mrWidget|command line"))+"\n  ")])],2)}),[],!1,null,null,null).exports,_i=n("6npM"),yi=n.n(_i),wi={components:{GlLink:li.a},props:{artifacts:{type:Array,required:!0}}},Oi=Object(xn.a)(wi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"table m-0"},[n("thead",{staticClass:"thead-white text-nowrap"},[n("tr",{staticClass:"d-none d-sm-table-row"},[n("th",{staticClass:"w-0"}),e._v(" "),n("th",[e._v(e._s(e.__("Artifact")))]),e._v(" "),n("th",{staticClass:"w-50"}),e._v(" "),n("th",[e._v(e._s(e.__("Job")))])])]),e._v(" "),n("tbody",e._l(e.artifacts,(function(t){return n("tr",{key:t.text},[n("td",{staticClass:"w-0"}),e._v(" "),n("td",[n("gl-link",{attrs:{href:t.url,target:"_blank"}},[e._v(e._s(t.text))])],1),e._v(" "),n("td",{staticClass:"w-0"}),e._v(" "),n("td",[n("gl-link",{attrs:{href:t.job_path}},[e._v(e._s(t.job_name))])],1)])})),0)])}),[],!1,null,null,null).exports,ji=n("FkSe"),Ci={components:{GlDeprecatedButton:di.a,GlLoadingIcon:ji.a,Icon:ei.a},props:{title:{type:String,required:!0},isLoading:{type:Boolean,required:!1,default:!1},hasError:{type:Boolean,required:!1,default:!1}},data:function(){return{isCollapsed:!0}},computed:{arrowIconName:function(){return this.isCollapsed?"angle-right":"angle-down"},ariaLabel:function(){return this.isCollapsed?Object(O.a)("Expand"):Object(O.a)("Collapse")}},methods:{toggleCollapsed:function(){this.isCollapsed=!this.isCollapsed}}},Pi=Object(xn.a)(Ci,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"mr-widget-extension d-flex align-items-center pl-3"},[e.hasError?n("div",{staticClass:"ci-widget media"},[n("div",{staticClass:"media-body"},[n("span",{staticClass:"gl-font-sm mr-widget-margin-left gl-line-height-24 js-error-state"},[e._v(e._s(e.title))])])]):[n("gl-deprecated-button",{staticClass:"btn-blank btn s32 square append-right-default",attrs:{"aria-label":e.ariaLabel,disabled:e.isLoading},on:{click:e.toggleCollapsed}},[e.isLoading?n("gl-loading-icon"):n("icon",{staticClass:"js-icon",attrs:{name:e.arrowIconName}})],1),e._v(" "),n("gl-deprecated-button",{staticClass:"js-title",class:{"border-0":e.isLoading},attrs:{variant:"link",disabled:e.isLoading},on:{click:e.toggleCollapsed}},[e.isCollapsed?[e._v(e._s(e.title))]:[e._v(e._s(e.__("Collapse")))]],2)]],2),e._v(" "),e.isCollapsed?e._e():n("div",{staticClass:"border-top js-slot-container"},[e._t("default")],2)])}),[],!1,null,null,null).exports,Di=n("99pJ"),Si=n.n(Di),ki=function(e,t){return(0,e.commit)("SET_ENDPOINT",t)},xi=function(e){return(0,e.commit)("REQUEST_ARTIFACTS")},Ei=function(){Wn=null},Ti=function(){Wn&&Wn.stop()},Ii=function(){Wn&&Wn.restart()},Ri=function(e){var t=e.state,n=e.dispatch;n("requestArtifacts"),Wn=new Ce.a({resource:{getArtifacts:function(e){return C.a.get(e)}},data:t.endpoint,method:"getArtifacts",successCallback:function(e){var t=e.data,i=e.status;n("receiveArtifactsSuccess",{data:t,status:i})},errorCallback:function(){return n("receiveArtifactsError")}}),Si.a.hidden()?C.a.get(t.endpoint).then((function(e){var t=e.data,i=e.status;return n("receiveArtifactsSuccess",{data:t,status:i})})).catch((function(){return n("receiveArtifactsError")})):Wn.makeRequest(),Si.a.change((function(){Si.a.hidden()?n("stopPolling"):n("restartPolling")}))},Li=function(e,t){var n=e.commit;t.status===Pe.a.OK&&n("RECEIVE_ARTIFACTS_SUCCESS",t.data)},Fi=function(e){return(0,e.commit)("RECEIVE_ARTIFACTS_ERROR")},Bi=function(){};function qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ai=(qi(zn={},"SET_ENDPOINT",(function(e,t){e.endpoint=t})),qi(zn,"REQUEST_ARTIFACTS",(function(e){e.isLoading=!0})),qi(zn,"RECEIVE_ARTIFACTS_SUCCESS",(function(e,t){e.hasError=!1,e.isLoading=!1,e.artifacts=t})),qi(zn,"RECEIVE_ARTIFACTS_ERROR",(function(e){e.isLoading=!1,e.hasError=!0,e.artifacts=[]})),zn),Mi=function(e){return e.isLoading?Object(O.d)("BuildArtifacts|Loading artifacts"):e.hasError?Object(O.d)("BuildArtifacts|An error occurred while fetching the artifacts"):Object(O.c)("View exposed artifact","View %d exposed artifacts",e.artifacts.length)},Ni=function(){};h.default.use(m.b);function $i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Hi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$i(Object(n),!0).forEach((function(t){Ui(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vi,Wi={store:new m.b.Store({actions:a,mutations:Ai,getters:l,state:{endpoint:null,isLoading:!1,hasError:!1,artifacts:[]}}),components:{ArtifactsList:Oi,MrCollapsibleExtension:Pi},props:{endpoint:{type:String,required:!0}},computed:Hi(Hi({},Object(m.e)(["artifacts","isLoading","hasError"])),Object(m.d)(["title"])),created:function(){this.setEndpoint(this.endpoint),this.fetchArtifacts()},methods:Hi({},Object(m.c)(["setEndpoint","fetchArtifacts"]))},zi=Object(xn.a)(Wi,(function(){var e=this.$createElement,t=this._self._c||e;return t("mr-collapsible-extension",{attrs:{title:this.title,"is-loading":this.isLoading,"has-error":this.hasError}},[t("artifacts-list",{attrs:{artifacts:this.artifacts}})],1)}),[],!1,null,null,null).exports,Gi=(n("KcQl"),n("s1D3")),Ki=n("sHIo"),Xi=n("LLbv"),Zi={name:"DeploymentActionButton",components:{GlDeprecatedButton:di.a},directives:{GlTooltip:Xi.a},props:{actionsConfiguration:{type:Object,required:!0},actionInProgress:{type:String,required:!1,default:null},buttonTitle:{type:String,required:!1,default:""},computedDeploymentStatus:{type:String,required:!0},containerClasses:{type:String,required:!1,default:""}},computed:{isActionInProgress:function(){return Boolean("running"===this.computedDeploymentStatus||this.actionInProgress)},actionInProgressTooltip:function(){switch(this.actionInProgress){case this.actionsConfiguration.actionName:return this.actionsConfiguration.busyText;case null:return"";default:return Object(O.a)("Another action is currently in progress")}},isLoading:function(){return this.actionInProgress===this.actionsConfiguration.actionName}}},Qi=Object(xn.a)(Zi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"d-inline-block",attrs:{title:e.actionInProgressTooltip,tabindex:"0"}},[n("gl-deprecated-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],class:"btn btn-default btn-sm inline gl-ml-2 "+e.containerClasses,attrs:{title:e.buttonTitle,loading:e.isLoading,disabled:e.isActionInProgress},on:{click:function(t){return e.$emit("click")}}},[n("span",{staticClass:"d-inline-flex align-items-baseline"},[e._t("default")],2)])],1)}),[],!1,null,null,null).exports,Yi=(n("+xU6"),{name:"FilteredSearchDropdown",components:{Icon:ei.a,GlDeprecatedButton:di.a},props:{title:{type:String,required:!1,default:""},buttonType:{required:!1,validator:function(e){return-1!==["primary","default","secondary","success","info","warning","danger"].indexOf(e)},default:"default"},size:{required:!1,type:String,default:"sm"},items:{type:Array,required:!0},visibleItems:{type:Number,required:!1,default:5},filterKey:{type:String,required:!0},showCreateMode:{type:Boolean,required:!1,default:!1},createButtonText:{type:String,required:!1,default:Object(O.a)("Create")}},data:function(){return{filter:""}},computed:{className:function(){return"btn btn-".concat(this.buttonType," btn-").concat(this.size)},filteredResults:function(){var e=this;return""!==this.filter?this.items.filter((function(t){return t[e.filterKey]&&t[e.filterKey].toLowerCase().includes(e.filter.toLowerCase())})):this.items.slice(0,this.visibleItems)},computedCreateButtonText:function(){return"".concat(this.createButtonText," ").concat(this.filter)},shouldRenderCreateButton:function(){return this.showCreateMode&&0===this.filteredResults.length&&""!==this.filter}},mounted:function(){var e=this;jn()(this.$el).on("shown.bs.dropdown",(function(){e.$nextTick((function(){return e.$refs.searchInput.focus()}))})).on("hidden.bs.dropdown",(function(){e.filter=""}))}}),Ji=Object(xn.a)(Yi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown"},[n("div",{staticClass:"btn-group"},[e._t("mainAction",[n("button",{class:e.className,attrs:{type:"button"}},[e._v(e._s(e.title))])],{className:e.className}),e._v(" "),n("button",{staticClass:"dropdown-toggle dropdown-toggle-split",class:e.className,attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false","aria-label":e.__("Expand dropdown")}},[n("icon",{attrs:{name:"angle-down",size:12}})],1),e._v(" "),n("div",{staticClass:"dropdown-menu dropdown-menu-right"},[n("div",{staticClass:"dropdown-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.filter,expression:"filter"}],ref:"searchInput",staticClass:"js-filtered-dropdown-input dropdown-input-field",attrs:{type:"search",placeholder:e.__("Filter")},domProps:{value:e.filter},on:{input:function(t){t.target.composing||(e.filter=t.target.value)}}}),e._v(" "),n("icon",{staticClass:"dropdown-input-search",attrs:{name:"search"}})],1),e._v(" "),n("div",{staticClass:"dropdown-content"},[n("ul",e._l(e.filteredResults,(function(t,i){return n("li",{key:i,staticClass:"js-filtered-dropdown-result"},[e._t("result",[e._v(e._s(t[e.filterKey]))],{result:t})],2)})),0)]),e._v(" "),e.shouldRenderCreateButton?n("div",{staticClass:"dropdown-footer"},[e._t("footer",[n("gl-deprecated-button",{staticClass:"js-dropdown-create-button btn-transparent",on:{click:function(t){return e.$emit("createItem",e.filter)}}},[e._v(e._s(e.computedCreateButtonText))])],{filter:e.filter})],2):e._e()])],2)])}),[],!1,null,null,null).exports,er={components:{Icon:ei.a},directives:{GlTooltip:Xi.a},props:{cssClass:{type:String,required:!0},display:{type:Object,required:!0},link:{type:String,required:!0}}},tr=Object(xn.a)(er,(function(){var e=this.$createElement,t=this._self._c||e;return t("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],class:this.cssClass,attrs:{title:this.display.tooltip,href:this.link,target:"_blank",rel:"noopener noreferrer nofollow","data-track-event":"open_review_app","data-track-label":"review_app"}},[this._v("\n  "+this._s(this.display.text)+" "),t("icon",{staticClass:"fgray",attrs:{name:"external-link"}})],1)}),[],!1,null,null,null).exports,nr={name:"DeploymentViewButton",components:{FilteredSearchDropdown:Ji,GlLink:li.a,ReviewAppLink:tr,VisualReviewAppLink:function(){return n.e(14).then(n.bind(null,"4b03"))}},props:{appButtonText:{type:Object,required:!0},deployment:{type:Object,required:!0},showVisualReviewApp:{type:Boolean,required:!1,default:!1},visualReviewAppMeta:{type:Object,required:!1,default:function(){return{sourceProjectId:"",sourceProjectPath:"",mergeRequestId:"",appUrl:""}}}},computed:{deploymentExternalUrl:function(){return this.deployment.changes&&1===this.deployment.changes.length?this.deployment.changes[0].external_url:this.deployment.external_url},shouldRenderDropdown:function(){return this.deployment.changes&&this.deployment.changes.length>1}}};function ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rr={name:"DeploymentActions",components:{DeploymentActionButton:Qi,DeploymentViewButton:Object(xn.a)(nr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e.shouldRenderDropdown?n("filtered-search-dropdown",{staticClass:"js-mr-wigdet-deployment-dropdown inline",attrs:{items:e.deployment.changes,"main-action-link":e.deploymentExternalUrl,"filter-key":"path"},scopedSlots:e._u([{key:"mainAction",fn:function(t){return[n("review-app-link",{attrs:{display:e.appButtonText,link:e.deploymentExternalUrl,"css-class":"deploy-link js-deploy-url inline "+t.className}})]}},{key:"result",fn:function(t){return[n("gl-link",{staticClass:"js-deploy-url-menu-item menu-item",attrs:{href:t.result.external_url,target:"_blank",rel:"noopener noreferrer nofollow"}},[n("strong",{staticClass:"str-truncated-100 gl-mb-0 d-block"},[e._v("\n          "+e._s(t.result.path)+"\n        ")]),e._v(" "),n("p",{staticClass:"text-secondary str-truncated-100 gl-mb-0 d-block"},[e._v("\n          "+e._s(t.result.external_url)+"\n        ")])])]}}],null,!1,3507231273)}):n("review-app-link",{attrs:{display:e.appButtonText,link:e.deploymentExternalUrl,"css-class":"js-deploy-url deploy-link btn btn-default btn-sm inline"}}),e._v(" "),e.showVisualReviewApp?n("visual-review-app-link",{attrs:{"view-app-display":e.appButtonText,link:e.deploymentExternalUrl,"app-metadata":e.visualReviewAppMeta,changes:e.deployment.changes}}):e._e()],1)}),[],!1,null,null,null).exports,GlIcon:Gi.a},mixins:[Object(Ki.a)()],props:{computedDeploymentStatus:{type:String,required:!0},deployment:{type:Object,required:!0},showVisualReviewApp:{type:Boolean,required:!1,default:!1},visualReviewAppMeta:{type:Object,required:!1,default:function(){return{sourceProjectId:"",sourceProjectPath:"",mergeRequestId:"",appUrl:""}}}},data:function(){return{actionInProgress:null,constants:{STOPPING:"stopping",DEPLOYING:"deploying",REDEPLOYING:"redeploying"}}},computed:{appButtonText:function(){return{text:this.isCurrent?Object(O.d)("Review App|View app"):Object(O.d)("Review App|View latest app"),tooltip:this.isCurrent?"":Object(O.a)("View the latest successful deployment to this environment")}},canBeManuallyDeployed:function(){return"manual_deploy"===this.computedDeploymentStatus&&Boolean(this.playPath)},canBeManuallyRedeployed:function(){return"failed"===this.computedDeploymentStatus&&Boolean(this.redeployPath)},shouldShowManualButtons:function(){return this.glFeatures.deployFromFooter},hasExternalUrls:function(){return Boolean(this.deployment.external_url&&this.deployment.external_url_formatted)},isCurrent:function(){return"success"===this.computedDeploymentStatus},playPath:function(){var e,t;return null===(e=this.deployment.details)||void 0===e?void 0:null===(t=e.playable_build)||void 0===t?void 0:t.play_path},redeployPath:function(){var e,t;return null===(e=this.deployment.details)||void 0===e?void 0:null===(t=e.playable_build)||void 0===t?void 0:t.retry_path},stopUrl:function(){return this.deployment.stop_url}},actionsConfiguration:(Vi={},ir(Vi,"stopping",{actionName:"stopping",buttonText:Object(O.d)("MrDeploymentActions|Stop environment"),busyText:Object(O.a)("This environment is being deployed"),confirmMessage:Object(O.a)("Are you sure you want to stop this environment?"),errorMessage:Object(O.a)("Something went wrong while stopping this environment. Please try again.")}),ir(Vi,"deploying",{actionName:"deploying",buttonText:Object(O.d)("MrDeploymentActions|Deploy"),busyText:Object(O.a)("This environment is being deployed"),confirmMessage:Object(O.a)("Are you sure you want to deploy this environment?"),errorMessage:Object(O.a)("Something went wrong while deploying this environment. Please try again.")}),ir(Vi,"redeploying",{actionName:"redeploying",buttonText:Object(O.d)("MrDeploymentActions|Re-deploy"),busyText:Object(O.a)("This environment is being re-deployed"),confirmMessage:Object(O.a)("Are you sure you want to re-deploy this environment?"),errorMessage:Object(O.a)("Something went wrong while deploying this environment. Please try again.")}),Vi),methods:{executeAction:function(e,t){var n=this,i=t.actionName,r=t.confirmMessage,s=t.errorMessage;confirm(r)&&(this.actionInProgress=i,Gn.executeInlineAction(e).then((function(e){var t,n=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.redirect_url;n&&Object(De.z)(n)})).catch((function(){Object(w.a)(s)})).finally((function(){n.actionInProgress=null})))},stopEnvironment:function(){this.executeAction(this.stopUrl,this.$options.actionsConfiguration.stopping)},deployManually:function(){this.executeAction(this.playPath,this.$options.actionsConfiguration.deploying)},redeploy:function(){this.executeAction(this.redeployPath,this.$options.actionsConfiguration.redeploying)}}},sr=Object(xn.a)(rr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.shouldShowManualButtons&&e.canBeManuallyDeployed?n("deployment-action-button",{attrs:{"action-in-progress":e.actionInProgress,"actions-configuration":e.$options.actionsConfiguration[e.constants.DEPLOYING],"computed-deployment-status":e.computedDeploymentStatus,"container-classes":"js-manual-deploy-action"},on:{click:e.deployManually}},[n("gl-icon",{attrs:{name:"play"}}),e._v(" "),n("span",[e._v(e._s(e.$options.actionsConfiguration[e.constants.DEPLOYING].buttonText))])],1):e._e(),e._v(" "),e.shouldShowManualButtons&&e.canBeManuallyRedeployed?n("deployment-action-button",{attrs:{"action-in-progress":e.actionInProgress,"actions-configuration":e.$options.actionsConfiguration[e.constants.REDEPLOYING],"computed-deployment-status":e.computedDeploymentStatus,"container-classes":"js-manual-redeploy-action"},on:{click:e.redeploy}},[n("gl-icon",{attrs:{name:"repeat"}}),e._v(" "),n("span",[e._v(e._s(e.$options.actionsConfiguration[e.constants.REDEPLOYING].buttonText))])],1):e._e(),e._v(" "),e.hasExternalUrls?n("deployment-view-button",{attrs:{"app-button-text":e.appButtonText,deployment:e.deployment,"show-visual-review-app":e.showVisualReviewApp,"visual-review-app-meta":e.visualReviewAppMeta}}):e._e(),e._v(" "),e.stopUrl?n("deployment-action-button",{attrs:{"action-in-progress":e.actionInProgress,"computed-deployment-status":e.computedDeploymentStatus,"actions-configuration":e.$options.actionsConfiguration[e.constants.STOPPING],"button-title":e.$options.actionsConfiguration[e.constants.STOPPING].buttonText,"container-classes":"js-stop-env"},on:{click:e.stopEnvironment}},[n("gl-icon",{attrs:{name:"stop"}})],1):e._e()],1)}),[],!1,null,null,null).exports,or=n("5QKO"),ar=(n("MoW5"),n("SNRI")),lr=n("2FGo"),cr=n.n(lr),ur=n("Gx1T"),dr=n("sCiu"),fr=n("kPIO"),pr=n("waGw"),hr=n("hXLA"),mr=n("Pyw5"),gr=n.n(mr);function br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,s=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var _r=hr.d.variants,yr=hr.d.defaultVariant,wr=fr.n/2;const Or={components:{Chart:ur.a,ChartTooltip:dr.a},directives:{resizeObserver:pr.a},props:{data:{type:Array,required:!0},tooltipLabel:{type:String,required:!1,default:""},height:{type:Number,required:!1,default:50},variant:{type:String,required:!1,default:yr,validator:function(e){return Object.keys(_r).includes(e)}},showLastYValue:{type:Boolean,required:!1,default:!0}},data:function(){return{chartInstance:null,tooltip:{show:!1,title:"",content:"",position:{left:"0",top:"0"}}}},computed:{options:function(){var e={grid:{top:wr,bottom:wr,left:wr,right:wr},xAxis:{type:"category",show:!1,axisLabel:{show:!0},axisPointer:{show:!0,type:"none",label:{formatter:this.xAxisLabelFormatter}}},yAxis:{type:"value",show:!1,min:"datamin"}},t=cr()({},fr.b,e);return Object(fr.m)(t,this.series)},series:function(){var e=this.data;return{type:"line",symbol:"circle",hoverAnimation:!1,animation:!0,cursor:"auto",lineStyle:{color:this.variantColor},itemStyle:{color:this.variantColor},symbolSize:fr.n,markPoint:{symbol:"circle",cursor:"auto",animation:!1,symbolSize:fr.n,data:[{xAxis:e.length-1,yAxis:e[e.length-1][1]}]},data:e}},lastYValue:function(){return this.data.slice(-1)[0][1]},variantColor:function(){return _r[this.variant]}},methods:{onChartCreated:function(e){this.chartInstance=e,this.$emit("chartCreated",e)},handleResize:function(){this.chartInstance.resize()},hideTooltip:function(){this.tooltip.show=!1},formatTooltipText:function(e){var t=br(e,2),n=t[0],i=t[1];this.tooltip.title=n,this.tooltip.content=i},setTooltipPosition:function(e){var t=br(this.chartInstance.convertToPixel("grid",e),2),n=t[0],i=t[1];this.tooltip.position={left:"".concat(n,"px"),top:"".concat(i,"px")}},xAxisLabelFormatter:function(e){var t=e.seriesData,n=br(void 0===t?[]:t,1)[0],i=(void 0===n?{}:n).data;i&&(this.tooltip.show=!0,this.formatTooltipText(i),this.setTooltipPosition(i))}}};function jr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,s=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Pr,Dr={name:"MemoryGraph",components:{GlSparklineChart:gr()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"resize-observer",rawName:"v-resize-observer",value:e.handleResize,expression:"handleResize"}],staticClass:"d-flex align-items-center",on:{mouseleave:e.hideTooltip}},[e._t("default"),e._v(" "),n("div",{staticClass:"flex-grow-1 position-relative"},[n("chart",{attrs:{height:e.height,options:e.options},on:{created:e.onChartCreated}}),e._v(" "),e.chartInstance?n("chart-tooltip",{style:{pointerEvents:"none"},attrs:{show:e.tooltip.show,chart:e.chartInstance,top:e.tooltip.position.top,left:e.tooltip.position.left,placement:"top"}},[[n("div",{staticClass:"js-tooltip-title text-nowrap",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.tooltip.title))]),e._v(" "),n("div",{staticClass:"js-tooltip-content d-flex",attrs:{slot:"default"},slot:"default"},[e.tooltipLabel?n("span",{staticClass:"pr-4 mr-auto"},[e._v(e._s(e.tooltipLabel))]):e._e(),e._v(" "),n("strong",[e._v(e._s(e.tooltip.content))])])]],2):e._e()],1),e._v(" "),e.showLastYValue?n("span",{staticClass:"js-last-y-value d-inline-flex justify-content-center ml-3"},[e._v(e._s(e.lastYValue))]):e._e()],2)},staticRenderFns:[]},void 0,Or,void 0,!1,void 0,!1,void 0,void 0,void 0)},props:{metrics:{type:Array,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0}},computed:{chartData:function(){var e=this;return this.metrics.map((function(t){var n=jr(t,2),i=n[0],r=n[1];return[e.getFormattedDeploymentTime(i),e.getMemoryUsage(r)]}))}},methods:{getFormattedDeploymentTime:function(e){return Object(qn.d)(new Date(Object(qn.r)(e)),"mmm dd yyyy HH:MM:s")},getMemoryUsage:function(e){return Number(e).toFixed(2)}}},Sr={name:"MemoryUsage",components:{MemoryGraph:Object(xn.a)(Dr,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"memory-graph-container p-1",style:{width:this.width+"px"}},[t("gl-sparkline-chart",{attrs:{height:this.height,"tooltip-label":this.__("MB"),"show-last-y-value":!1,data:this.chartData}})],1)}),[],!1,null,null,null).exports},props:{metricsUrl:{type:String,required:!0},metricsMonitoringUrl:{type:String,required:!0}},data:function(){return{memoryFrom:0,memoryTo:0,memoryMetrics:[],deploymentTime:0,hasMetrics:!1,loadFailed:!1,loadingMetrics:!0,backOffRequestCounter:0}},computed:{shouldShowLoading:function(){return this.loadingMetrics&&!this.hasMetrics&&!this.loadFailed},shouldShowMemoryGraph:function(){return!this.loadingMetrics&&this.hasMetrics&&!this.loadFailed},shouldShowLoadFailure:function(){return!this.loadingMetrics&&!this.hasMetrics&&this.loadFailed},shouldShowMetricsUnavailable:function(){return!this.loadingMetrics&&!this.hasMetrics&&!this.loadFailed},memoryChangeMessage:function(){var e={memoryFrom:this.memoryFrom,memoryTo:this.memoryTo,metricsLinkStart:'<a href="'.concat(this.metricsMonitoringUrl,'">'),metricsLinkEnd:"</a>",emphasisStart:"<b>",emphasisEnd:"</b>"},t=Number(this.memoryTo),n=Number(this.memoryFrom);return t>n?Object(O.e)(Object(O.d)("mrWidget|%{metricsLinkStart} Memory %{metricsLinkEnd} usage %{emphasisStart} increased %{emphasisEnd} from %{memoryFrom}MB to %{memoryTo}MB"),e,!1):t<n?Object(O.e)(Object(O.d)("mrWidget|%{metricsLinkStart} Memory %{metricsLinkEnd} usage %{emphasisStart} decreased %{emphasisEnd} from %{memoryFrom}MB to %{memoryTo}MB"),e,!1):Object(O.e)(Object(O.d)("mrWidget|%{metricsLinkStart} Memory %{metricsLinkEnd} usage is %{emphasisStart} unchanged %{emphasisEnd} at %{memoryFrom}MB"),e,!1)}},mounted:function(){this.loadingMetrics=!0,this.loadMetrics()},methods:{getMegabytes:function(e){var t=Number(e).toFixed(2);return Object(ar.a)(t).toFixed(2)},computeGraphData:function(e,t){this.loadingMetrics=!1;var n=e.memory_before,i=e.memory_after,r=e.memory_values;n.length>0&&(this.memoryFrom=this.getMegabytes(n[0].value[1])),i.length>0&&(this.memoryTo=this.getMegabytes(i[0].value[1])),r.length>0&&(this.hasMetrics=!0,this.memoryMetrics=r[0].values,this.deploymentTime=t)},loadMetrics:function(){var e=this;Object(j.e)((function(t,n){Gn.fetchMetrics(e.metricsUrl).then((function(i){i.status===Pe.a.NO_CONTENT?(e.backOffRequestCounter+=1,e.backOffRequestCounter<3?t():n(i)):n(i)})).catch(n)})).then((function(e){return e.status===Pe.a.NO_CONTENT?e:e.data})).then((function(t){return e.computeGraphData(t.metrics,t.deployment_time),t})).catch((function(){e.loadFailed=!0,e.loadingMetrics=!1}))}}},kr=Object(xn.a)(Sr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-info-list clearfix mr-memory-usage js-mr-memory-usage"},[e.shouldShowLoading?n("p",{staticClass:"usage-info js-usage-info usage-info-loading"},[n("i",{staticClass:"fa fa-spinner fa-spin usage-info-load-spinner",attrs:{"aria-hidden":"true"}}),e._v(e._s(e.s__("mrWidget|Loading deployment statistics"))+"\n  ")]):e._e(),e._v(" "),e.shouldShowMemoryGraph?n("p",{staticClass:"usage-info js-usage-info",domProps:{innerHTML:e._s(e.memoryChangeMessage)}}):e._e(),e._v(" "),e.shouldShowLoadFailure?n("p",{staticClass:"usage-info js-usage-info usage-info-failed"},[e._v("\n    "+e._s(e.s__("mrWidget|Failed to load deployment statistics"))+"\n  ")]):e._e(),e._v(" "),e.shouldShowMetricsUnavailable?n("p",{staticClass:"usage-info js-usage-info usage-info-unavailable"},[e._v("\n    "+e._s(e.s__("mrWidget|Deployment statistics are not available currently"))+"\n  ")]):e._e(),e._v(" "),e.shouldShowMemoryGraph?n("memory-graph",{attrs:{metrics:e.memoryMetrics,height:25,width:110}}):e._e()],1)}),[],!1,null,null,null).exports;function xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Er={name:"DeploymentInfo",components:{GlLink:li.a,MemoryUsage:kr,TooltipOnTruncate:ii.a},directives:{GlTooltip:Xi.a},mixins:[or.a],props:{computedDeploymentStatus:{type:String,required:!0},deployment:{type:Object,required:!0},showMetrics:{type:Boolean,required:!0}},deployedTextMap:(Pr={},xr(Pr,"manual_deploy",Object(O.a)("Can be manually deployed to")),xr(Pr,"will_deploy",Object(O.a)("Will deploy to")),xr(Pr,"running",Object(O.a)("Deploying to")),xr(Pr,"success",Object(O.a)("Deployed to")),xr(Pr,"failed",Object(O.a)("Failed to deploy to")),xr(Pr,"canceled",Object(O.a)("Canceled deployment to")),Pr),computed:{deployTimeago:function(){return this.timeFormatted(this.deployment.deployed_at)},deployedText:function(){return this.$options.deployedTextMap[this.computedDeploymentStatus]},hasDeploymentTime:function(){return Boolean(this.deployment.deployed_at&&this.deployment.deployed_at_formatted)},hasDeploymentMeta:function(){return Boolean(this.deployment.url&&this.deployment.name)},hasMetrics:function(){return Boolean(this.deployment.metrics_url)},showMemoryUsage:function(){return this.hasMetrics&&this.showMetrics}}},Tr=Er,Ir=Object(xn.a)(Tr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"js-deployment-info deployment-info"},[e.hasDeploymentMeta?[n("span",[e._v(e._s(e.deployedText))]),e._v(" "),n("tooltip-on-truncate",{staticClass:"deploy-link label-truncate",attrs:{title:e.deployment.name,"truncate-target":"child"}},[n("gl-link",{staticClass:"js-deploy-meta gl-font-sm",attrs:{href:e.deployment.url,target:"_blank",rel:"noopener noreferrer nofollow"}},[e._v("\n        "+e._s(e.deployment.name)+"\n      ")])],1)]:e._e(),e._v(" "),e.hasDeploymentTime?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-deploy-time",attrs:{title:e.deployment.deployed_at_formatted}},[e._v("\n    "+e._s(e.deployTimeago)+"\n  ")]):e._e(),e._v(" "),e.showMemoryUsage?n("memory-usage",{attrs:{"metrics-url":e.deployment.metrics_url,"metrics-monitoring-url":e.deployment.metrics_monitoring_url}}):e._e()],2)}),[],!1,null,null,null),Rr=Ir.exports,Lr={name:"Deployment",components:{DeploymentActions:sr,DeploymentInfo:Rr},props:{deployment:{type:Object,required:!0},showMetrics:{type:Boolean,required:!0},showVisualReviewApp:{type:Boolean,required:!1,default:!1},visualReviewAppMeta:{type:Object,required:!1,default:function(){return{sourceProjectId:"",sourceProjectPath:"",mergeRequestId:"",appUrl:""}}}},computed:{computedDeploymentStatus:function(){return"created"===this.deployment.status?this.isManual?"manual_deploy":"will_deploy":this.deployment.status},isManual:function(){var e,t;return Boolean(null===(e=this.deployment.details)||void 0===e?void 0:null===(t=e.playable_build)||void 0===t?void 0:t.play_path)}}},Fr=Lr,Br=Object(xn.a)(Fr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"deploy-heading"},[n("div",{staticClass:"ci-widget media"},[n("div",{staticClass:"media-body"},[n("div",{staticClass:"deploy-body"},[n("deployment-info",{attrs:{"computed-deployment-status":e.computedDeploymentStatus,deployment:e.deployment,"show-metrics":e.showMetrics}}),e._v(" "),n("deployment-actions",{attrs:{deployment:e.deployment,"computed-deployment-status":e.computedDeploymentStatus,"show-visual-review-app":e.showVisualReviewApp,"visual-review-app-meta":e.visualReviewAppMeta}})],1)])])])}),[],!1,null,null,null).exports,qr=Object(xn.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mr-widget-heading"},[t("div",{staticClass:"mr-widget-content"},[this._t("default")],2),this._v(" "),this._t("footer")],2)}),[],!1,null,null,null).exports,Ar=(n("jslJ"),n("3A1N")),Mr=n("8zNS"),Nr={name:"MRWidgetPipeline",components:{PipelineStage:Ar.a,CiIcon:Mr.a,Icon:ei.a,TooltipOnTruncate:ii.a,GlLink:li.a,LinkedPipelinesMiniList:function(){return n.e(14).then(n.bind(null,"4b03"))}},directives:{GlTooltip:Xi.a},mixins:[{computed:{triggered:function(){return[]},triggeredBy:function(){return[]}},methods:{hasDownstream:function(){return!1}}}],props:{pipeline:{type:Object,required:!0},pipelineCoverageDelta:{type:String,required:!1},hasCi:{type:Boolean,required:!1},ciStatus:{type:String,required:!1},pipelineMustSucceed:{type:Boolean,required:!1},sourceBranchLink:{type:String,required:!1},sourceBranch:{type:String,required:!1},troubleshootingDocsPath:{type:String,required:!0}},computed:{hasPipeline:function(){return this.pipeline&&Object.keys(this.pipeline).length>0},hasCIError:function(){return this.hasCi&&!this.ciStatus||this.hasPipelineMustSucceedConflict},hasPipelineMustSucceedConflict:function(){return!this.hasCi&&this.pipelineMustSucceed},status:function(){return this.pipeline.details&&this.pipeline.details.status?this.pipeline.details.status:{}},hasStages:function(){return this.pipeline.details&&this.pipeline.details.stages&&this.pipeline.details.stages.length},hasCommitInfo:function(){return this.pipeline.commit&&Object.keys(this.pipeline.commit).length>0},errorText:function(){return this.hasPipelineMustSucceedConflict?Object(O.d)("Pipeline|No pipeline has been run for this commit."):Object(O.e)(Object(O.d)("Pipeline|Could not retrieve the pipeline status. For troubleshooting steps, read the %{linkStart}documentation%{linkEnd}."),{linkStart:'<a href="'.concat(this.troubleshootingDocsPath,'">'),linkEnd:"</a>"},!1)},isTriggeredByMergeRequest:function(){return Boolean(this.pipeline.merge_request)},isMergeRequestPipeline:function(){return Boolean(this.pipeline.flags&&this.pipeline.flags.merge_request_pipeline)},showSourceBranch:function(){return Boolean(this.pipeline.ref.branch)},coverageDeltaClass:function(){var e=this.pipelineCoverageDelta;return e&&parseFloat(e)>0?"text-success":e&&parseFloat(e)<0?"text-danger":""}}},$r={name:"MrWidgetPipelineContainer",components:{ArtifactsApp:zi,Deployment:Br,MrWidgetContainer:qr,MrWidgetPipeline:Object(xn.a)(Nr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ci-widget media js-ci-widget"},[!e.hasPipeline||e.hasCIError?[n("div",{staticClass:"add-border ci-status-icon ci-status-icon-failed ci-error js-ci-error"},[n("icon",{attrs:{size:24,name:"status_failed_borderless"}})],1),e._v(" "),n("div",{staticClass:"media-body prepend-left-default",domProps:{innerHTML:e._s(e.errorText)}})]:e.hasPipeline?[n("a",{staticClass:"align-self-start append-right-default",attrs:{href:e.status.details_path}},[n("ci-icon",{staticClass:"add-border",attrs:{status:e.status,size:24,borderless:!0}})],1),e._v(" "),n("div",{staticClass:"ci-widget-container d-flex"},[n("div",{staticClass:"ci-widget-content"},[n("div",{staticClass:"media-body"},[n("div",{staticClass:"font-weight-bold js-pipeline-info-container",attrs:{"data-qa-selector":"merge_request_pipeline_info_content"}},[e._v("\n            "+e._s(e.pipeline.details.name)+"\n            "),n("gl-link",{staticClass:"pipeline-id font-weight-normal pipeline-number",attrs:{href:e.pipeline.path,"data-qa-selector":"pipeline_link"}},[e._v("#"+e._s(e.pipeline.id))]),e._v("\n            "+e._s(e.pipeline.details.status.label)+"\n            "),e.hasCommitInfo?[e._v("\n              "+e._s(e.s__("Pipeline|for"))+"\n              "),n("gl-link",{staticClass:"commit-sha js-commit-link font-weight-normal",attrs:{href:e.pipeline.commit.commit_path}},[e._v(e._s(e.pipeline.commit.short_id))])]:e._e(),e._v(" "),e.showSourceBranch?[e._v("\n              "+e._s(e.s__("Pipeline|on"))+"\n              "),n("tooltip-on-truncate",{staticClass:"label-branch label-truncate font-weight-normal",attrs:{title:e.sourceBranch,"truncate-target":"child"},domProps:{innerHTML:e._s(e.sourceBranchLink)}})]:e._e()],2),e._v(" "),e.pipeline.coverage?n("div",{staticClass:"coverage"},[e._v("\n            "+e._s(e.s__("Pipeline|Coverage"))+" "+e._s(e.pipeline.coverage)+"%\n\n            "),e.pipelineCoverageDelta?n("span",{staticClass:"js-pipeline-coverage-delta",class:e.coverageDeltaClass},[e._v("\n              ("+e._s(e.pipelineCoverageDelta)+"%)\n            ")]):e._e()]):e._e()])]),e._v(" "),n("div",[n("span",{staticClass:"mr-widget-pipeline-graph"},[n("span",{staticClass:"stage-cell"},[e.triggeredBy.length?n("linked-pipelines-mini-list",{attrs:{"triggered-by":e.triggeredBy}}):e._e(),e._v(" "),e.hasStages?e._l(e.pipeline.details.stages,(function(t,i){return n("div",{key:i,staticClass:"stage-container dropdown js-mini-pipeline-graph mr-widget-pipeline-stages",class:{"has-downstream":e.hasDownstream(i)}},[n("pipeline-stage",{attrs:{stage:t}})],1)})):e._e()],2),e._v(" "),e.triggered.length?n("linked-pipelines-mini-list",{attrs:{triggered:e.triggered}}):e._e()],1)])])]:e._e()],2)}),[],!1,null,null,null).exports,MergeTrainPositionIndicator:function(){return n.e(14).then(n.bind(null,"4b03"))}},mixins:[Object(Ki.a)()],props:{mr:{type:Object,required:!0},isPostMerge:{type:Boolean,required:!1,default:!1}},computed:{branch:function(){return this.isPostMerge?this.mr.targetBranch:this.mr.sourceBranch},branchLink:function(){return this.isPostMerge?this.mr.targetBranch:this.mr.sourceBranchLink},deployments:function(){return this.isPostMerge?this.mr.postMergeDeployments:this.mr.deployments},deploymentClass:function(){return this.isPostMerge?"js-post-deployment":"js-pre-deployment"},hasDeploymentMetrics:function(){return this.isPostMerge},visualReviewAppMeta:function(){return{appUrl:this.mr.appUrl,mergeRequestId:this.mr.iid,sourceProjectId:this.mr.sourceProjectId,sourceProjectPath:this.mr.sourceProjectFullPath}},pipeline:function(){return this.isPostMerge?this.mr.mergePipeline:this.mr.pipeline},showVisualReviewAppLink:function(){return this.mr.visualReviewAppAvailable&&this.glFeatures.anonymousVisualReviewFeedback},showMergeTrainPositionIndicator:function(){return yi()(this.mr.mergeTrainIndex)}}},Hr=Object(xn.a)($r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mr-widget-container",{scopedSlots:e._u([{key:"footer",fn:function(){return[e.mr.exposedArtifactsPath?n("div",{staticClass:"js-exposed-artifacts"},[n("artifacts-app",{attrs:{endpoint:e.mr.exposedArtifactsPath}})],1):e._e(),e._v(" "),e.deployments.length?n("div",{staticClass:"mr-widget-extension"},e._l(e.deployments,(function(t){return n("deployment",{key:t.id,class:e.deploymentClass,attrs:{deployment:t,"show-metrics":e.hasDeploymentMetrics,"show-visual-review-app":e.showVisualReviewAppLink,"visual-review-app-meta":e.visualReviewAppMeta}})})),1):e._e(),e._v(" "),e.showMergeTrainPositionIndicator?n("merge-train-position-indicator",{staticClass:"mr-widget-extension",attrs:{"merge-train-index":e.mr.mergeTrainIndex}}):e._e()]},proxy:!0}])},[n("mr-widget-pipeline",{attrs:{pipeline:e.pipeline,"pipeline-coverage-delta":e.mr.pipelineCoverageDelta,"ci-status":e.mr.ciStatus,"has-ci":e.mr.hasCI,"pipeline-must-succeed":e.mr.onlyAllowMergeIfPipelineSucceeds,"source-branch":e.branch,"source-branch-link":e.branchLink,"troubleshooting-docs-path":e.mr.troubleshootingDocsPath}})],1)}),[],!1,null,null,null).exports,Ur={name:"MRWidgetRelatedLinks",props:{relatedLinks:{type:Object,required:!0,default:function(){return{}}},state:{type:String,required:!1,default:""}},computed:{closesText:function(){return"merged"===this.state?Object(O.d)("mrWidget|Closed"):"closed"===this.state?Object(O.d)("mrWidget|Did not close"):Object(O.d)("mrWidget|Closes")}}},Vr=Object(xn.a)(Ur,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"mr-info-list mr-links"},[e.relatedLinks.closing?n("p",[e._v(e._s(e.closesText)+" "),n("span",{domProps:{innerHTML:e._s(e.relatedLinks.closing)}})]):e._e(),e._v(" "),e.relatedLinks.mentioned?n("p",[e._v("\n    "+e._s(e.s__("mrWidget|Mentions"))+" "),n("span",{domProps:{innerHTML:e._s(e.relatedLinks.mentioned)}})]):e._e(),e._v(" "),e.relatedLinks.assignToMe?n("p",[n("span",{domProps:{innerHTML:e._s(e.relatedLinks.assignToMe)}})]):e._e()])}),[],!1,null,null,null).exports,Wr={name:"MrWidgetAlertMessage",components:{GlLink:li.a,Icon:ei.a},props:{type:{type:String,required:!1,default:Mn,validator:function(e){return[An,Mn].includes(e)}},helpPath:{type:String,required:!1,default:void 0}},computed:{messageClass:function(){return this.type===An?"warning_message":this.type===Mn?"danger_message":""}}},zr=Object(xn.a)(Wr,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"m-3 ml-7",class:this.messageClass},[this._t("default"),this._v(" "),this.helpPath?t("gl-link",{attrs:{href:this.helpPath,target:"_blank"}},[t("icon",{staticClass:"align-middle",attrs:{size:16,name:"question-o"}})],1):this._e()],2)}),[],!1,null,null,null).exports,Gr={name:"MrWidgetAuthor",directives:{tooltip:ni.a},props:{author:{type:Object,required:!0},showAuthorName:{type:Boolean,required:!1,default:!0},showAuthorTooltip:{type:Boolean,required:!1,default:!1}},computed:{authorUrl:function(){return this.author.webUrl||this.author.web_url},avatarUrl:function(){return this.author.avatarUrl||this.author.avatar_url}}},Kr=Object(xn.a)(Gr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"author-link inline",attrs:{href:e.authorUrl,"v-tooltip":e.showAuthorTooltip,title:e.author.name}},[n("img",{staticClass:"avatar avatar-inline s16",attrs:{src:e.avatarUrl}}),e._v(" "),e.showAuthorName?n("span",{staticClass:"author"},[e._v(" "+e._s(e.author.name)+" ")]):e._e()])}),[],!1,null,null,null).exports,Xr={name:"MrWidgetAuthorTime",components:{MrWidgetAuthor:Kr},directives:{tooltip:ni.a},props:{actionText:{type:String,required:!0},author:{type:Object,required:!0},dateTitle:{type:String,required:!0},dateReadable:{type:String,required:!0}}},Zr=Object(xn.a)(Xr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h4",{staticClass:"js-mr-widget-author"},[e._v("\n  "+e._s(e.actionText)+"\n  "),n("mr-widget-author",{attrs:{author:e.author}}),e._v(" "),n("time",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:e.dateTitle,"data-container":"body"}},[e._v(" "+e._s(e.dateReadable)+" ")])],1)}),[],!1,null,null,null).exports,Qr={components:{ciIcon:Mr.a,GlLoadingIcon:ji.a},props:{status:{type:String,required:!0},showDisabledButton:{type:Boolean,required:!1,default:!1}},computed:{isLoading:function(){return"loading"===this.status},statusObj:function(){return{group:this.status,icon:"status_".concat(this.status)}}}},Yr=Object(xn.a)(Qr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex align-self-start"},[n("div",{staticClass:"square s24 h-auto d-flex-center append-right-default"},[e.isLoading?n("div",{staticClass:"mr-widget-icon d-inline-flex"},[n("gl-loading-icon",{staticClass:"mr-loading-icon d-inline-flex",attrs:{size:"md"}})],1):n("ci-icon",{attrs:{status:e.statusObj,size:24}})],1),e._v(" "),e.showDisabledButton?n("button",{staticClass:"js-disabled-merge-button btn btn-success btn-sm",attrs:{type:"button",disabled:"true"}},[e._v("\n    "+e._s(e.s__("mrWidget|Merge"))+"\n  ")]):e._e()])}),[],!1,null,null,null).exports,Jr=n("SqD0"),es={name:"MRWidgetMerged",directives:{tooltip:ni.a},components:{MrWidgetAuthorTime:Zr,statusIcon:Yr,ClipboardButton:ti.a,GlLoadingIcon:ji.a},props:{mr:{type:Object,required:!0,default:function(){return{}}},service:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{isMakingRequest:!1}},computed:{shouldShowRemoveSourceBranch:function(){var e=this.mr,t=e.sourceBranchRemoved,n=e.isRemovingSourceBranch,i=e.canRemoveSourceBranch;return!t&&i&&!this.isMakingRequest&&!n},shouldShowSourceBranchRemoving:function(){var e=this.mr,t=e.sourceBranchRemoved,n=e.isRemovingSourceBranch;return!t&&(n||this.isMakingRequest)},shouldShowMergedButtons:function(){var e=this.mr,t=e.canRevertInCurrentMR,n=e.canCherryPickInCurrentMR,i=e.revertInForkPath,r=e.cherryPickInForkPath;return t||n||i||r},revertTitle:function(){return Object(O.d)("mrWidget|Revert this merge request in a new merge request")},cherryPickTitle:function(){return Object(O.d)("mrWidget|Cherry-pick this merge request in a new merge request")},revertLabel:function(){return Object(O.d)("mrWidget|Revert")},cherryPickLabel:function(){return Object(O.d)("mrWidget|Cherry-pick")}},methods:{removeSourceBranch:function(){var e=this;this.isMakingRequest=!0,this.service.removeSourceBranch().then((function(e){return e.data})).then((function(t){"Branch was deleted"===t.message&&Jr.a.$emit("MRWidgetUpdateRequested",(function(){e.isMakingRequest=!1}))})).catch((function(){e.isMakingRequest=!1,Object(w.a)(Object(O.a)("Something went wrong. Please try again."))}))}}},ts=Object(xn.a)(es,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media"},[n("status-icon",{attrs:{status:"success"}}),e._v(" "),n("div",{staticClass:"media-body"},[n("div",{staticClass:"space-children"},[n("mr-widget-author-time",{attrs:{"action-text":e.s__("mrWidget|Merged by"),author:e.mr.metrics.mergedBy,"date-title":e.mr.metrics.mergedAt,"date-readable":e.mr.metrics.readableMergedAt}}),e._v(" "),e.mr.canRevertInCurrentMR?n("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"btn btn-close btn-sm",attrs:{title:e.revertTitle,href:"#modal-revert-commit","data-toggle":"modal","data-container":"body"}},[e._v("\n        "+e._s(e.revertLabel)+"\n      ")]):e.mr.revertInForkPath?n("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"btn btn-close btn-sm",attrs:{href:e.mr.revertInForkPath,title:e.revertTitle,"data-method":"post"}},[e._v("\n        "+e._s(e.revertLabel)+"\n      ")]):e._e(),e._v(" "),e.mr.canCherryPickInCurrentMR?n("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"btn btn-default btn-sm",attrs:{title:e.cherryPickTitle,href:"#modal-cherry-pick-commit","data-toggle":"modal","data-container":"body"}},[e._v("\n        "+e._s(e.cherryPickLabel)+"\n      ")]):e.mr.cherryPickInForkPath?n("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"btn btn-default btn-sm",attrs:{href:e.mr.cherryPickInForkPath,title:e.cherryPickTitle,"data-method":"post"}},[e._v("\n        "+e._s(e.cherryPickLabel)+"\n      ")]):e._e()],1),e._v(" "),n("section",{staticClass:"mr-info-list",attrs:{"data-qa-selector":"merged_status_content"}},[n("p",[e._v("\n        "+e._s(e.s__("mrWidget|The changes were merged into"))+"\n        "),n("span",{staticClass:"label-branch"},[n("a",{attrs:{href:e.mr.targetBranchPath}},[e._v(e._s(e.mr.targetBranch))])]),e._v(" "),e.mr.mergeCommitSha?[e._v("\n          with\n          "),n("a",{staticClass:"commit-sha js-mr-merged-commit-sha",attrs:{href:e.mr.mergeCommitPath},domProps:{textContent:e._s(e.mr.shortMergeCommitSha)}}),e._v(" "),n("clipboard-button",{attrs:{title:e.__("Copy commit SHA"),text:e.mr.mergeCommitSha,"css-class":"btn-default btn-transparent btn-clipboard js-mr-merged-copy-sha"}})]:e._e()],2),e._v(" "),e.mr.sourceBranchRemoved?n("p",[e._v("\n        "+e._s(e.s__("mrWidget|The source branch has been deleted"))+"\n      ")]):e._e(),e._v(" "),e.shouldShowRemoveSourceBranch?n("p",{staticClass:"space-children"},[n("span",[e._v(e._s(e.s__("mrWidget|You can delete the source branch now")))]),e._v(" "),n("button",{staticClass:"btn btn-sm btn-default js-remove-branch-button",attrs:{disabled:e.isMakingRequest,type:"button"},on:{click:e.removeSourceBranch}},[e._v("\n          "+e._s(e.s__("mrWidget|Delete source branch"))+"\n        ")])]):e._e(),e._v(" "),e.shouldShowSourceBranchRemoving?n("p",[n("gl-loading-icon",{attrs:{inline:!0}}),e._v(" "),n("span",[e._v(" "+e._s(e.s__("mrWidget|The source branch is being deleted"))+" ")])],1):e._e()])])],1)}),[],!1,null,null,null).exports,ns={name:"MRWidgetClosed",components:{MrWidgetAuthorTime:Zr,statusIcon:Yr},props:{mr:{type:Object,required:!0,default:function(){return{}}}}},is=Object(xn.a)(ns,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media"},[n("status-icon",{attrs:{status:"warning"}}),e._v(" "),n("div",{staticClass:"media-body"},[n("mr-widget-author-time",{attrs:{"action-text":e.s__("mrWidget|Closed by"),author:e.mr.metrics.closedBy,"date-title":e.mr.metrics.closedAt,"date-readable":e.mr.metrics.readableClosedAt}}),e._v(" "),n("section",{staticClass:"mr-info-list"},[n("p",[e._v("\n        "+e._s(e.s__("mrWidget|The changes were not merged into"))+"\n        "),n("a",{staticClass:"label-branch",attrs:{href:e.mr.targetBranchPath}},[e._v(" "+e._s(e.mr.targetBranch)+" ")])])])],1)],1)}),[],!1,null,null,null).exports,rs={name:"MRWidgetMerging",components:{statusIcon:Yr},props:{mr:{type:Object,required:!0,default:function(){return{}}}}},ss=Object(xn.a)(rs,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body mr-state-locked media"},[n("status-icon",{attrs:{status:"loading"}}),e._v(" "),n("div",{staticClass:"media-body"},[n("h4",[e._v(e._s(e.s__("mrWidget|This merge request is in the process of being merged")))]),e._v(" "),n("section",{staticClass:"mr-info-list"},[n("p",[e._v("\n        "+e._s(e.s__("mrWidget|The changes will be merged into"))+"\n        "),n("span",{staticClass:"label-branch"},[n("a",{attrs:{href:e.mr.targetBranchPath}},[e._v(e._s(e.mr.targetBranch))])])])])])],1)}),[],!1,null,null,null).exports,os=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.interval,i=void 0===n?2e3:n,r=t.timeout,s=void 0===r?6e4:r,o=Date.now();return new Promise((function(t,n){var r=function(e){return e instanceof Error?n(e):t(e)};e((function t(){0===s||Date.now()-o<s?setTimeout(e.bind(null,t,r),i):n(new Error("SIMPLE_POLL_TIMEOUT"))}),r)}))},as={name:"MRWidgetRebase",components:{statusIcon:Yr,GlLoadingIcon:ji.a},props:{mr:{type:Object,required:!0},service:{type:Object,required:!0}},data:function(){return{isMakingRequest:!1,rebasingError:null}},computed:{status:function(){return this.mr.rebaseInProgress||this.isMakingRequest?"loading":this.mr.canPushToSourceBranch||this.mr.rebaseInProgress?"success":"warning"},showDisabledButton:function(){return["failed","loading"].includes(this.status)},fastForwardMergeText:function(){return Object(O.e)(Object(O.a)("Fast-forward merge is not possible. Rebase the source branch onto %{targetBranch} to allow this merge request to be merged."),{targetBranch:'<span class="label-branch">'.concat(Jn()(this.mr.targetBranch),"</span>")},!1)}},methods:{rebase:function(){var e=this;this.isMakingRequest=!0,this.rebasingError=null,this.service.rebase().then((function(){os(e.checkRebaseStatus)})).catch((function(t){e.isMakingRequest=!1,t.response&&t.response.data&&t.response.data.merge_error?e.rebasingError=t.response.data.merge_error:Object(w.a)(Object(O.a)("Something went wrong. Please try again."))}))},checkRebaseStatus:function(e,t){var n=this;this.service.poll().then((function(e){return e.data})).then((function(i){i.rebase_in_progress?e():(n.isMakingRequest=!1,i.merge_error&&i.merge_error.length&&(n.rebasingError=i.merge_error,Object(w.a)(Object(O.a)("Something went wrong. Please try again."))),Jr.a.$emit("MRWidgetRebaseSuccess"),t())})).catch((function(){n.isMakingRequest=!1,Object(w.a)(Object(O.a)("Something went wrong. Please try again.")),t()}))}}},ls=Object(xn.a)(as,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media"},[n("status-icon",{attrs:{status:e.status,"show-disabled-button":e.showDisabledButton}}),e._v(" "),n("div",{staticClass:"rebase-state-find-class-convention media media-body space-children"},[e.mr.rebaseInProgress||e.isMakingRequest?[n("span",{staticClass:"bold"},[e._v(e._s(e.__("Rebase in progress")))])]:e._e(),e._v(" "),e.mr.rebaseInProgress||e.mr.canPushToSourceBranch?e._e():[n("span",{staticClass:"bold",domProps:{innerHTML:e._s(e.fastForwardMergeText)}})],e._v(" "),e.mr.rebaseInProgress||!e.mr.canPushToSourceBranch||e.isMakingRequest?e._e():[n("div",{staticClass:"accept-merge-holder clearfix js-toggle-container accept-action media space-children"},[n("button",{staticClass:"btn btn-sm btn-reopen btn-success qa-mr-rebase-button",attrs:{disabled:e.isMakingRequest,type:"button"},on:{click:e.rebase}},[e.isMakingRequest?n("gl-loading-icon"):e._e(),e._v(e._s(e.__("Rebase"))+"\n        ")],1),e._v(" "),e.rebasingError?n("span",{staticClass:"bold danger"},[e._v(e._s(e.rebasingError))]):n("span",{staticClass:"bold"},[e._v(e._s(e.__("Fast-forward merge is not possible. Rebase the source branch onto the target branch.")))])])]],2)],1)}),[],!1,null,null,null).exports,cs={name:"WorkInProgress",components:{StatusIcon:Yr,GlDeprecatedButton:di.a},directives:{tooltip:ni.a},props:{mr:{type:Object,required:!0},service:{type:Object,required:!0}},data:function(){return{isMakingRequest:!1}},computed:{wipInfoTooltip:function(){return Object(O.d)("mrWidget|When this merge request is ready, remove the WIP: prefix from the title to allow it to be merged")}},methods:{handleRemoveWIP:function(){var e=this;this.isMakingRequest=!0,this.service.removeWIP().then((function(e){return e.data})).then((function(t){Jr.a.$emit("UpdateWidgetData",t),Object(w.a)(Object(O.a)("The merge request can now be merged."),"notice"),jn()(".merge-request .detail-page-description .title").text(e.mr.title)})).catch((function(){e.isMakingRequest=!1,Object(w.a)(Object(O.a)("Something went wrong. Please try again."))}))}}},us=Object(xn.a)(cs,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media"},[n("status-icon",{attrs:{"show-disabled-button":Boolean(e.mr.removeWIPPath),status:"warning"}}),e._v(" "),n("div",{staticClass:"media-body space-children"},[n("span",{staticClass:"bold"},[e._v("\n      "+e._s(e.__("This is a Work in Progress"))+"\n      "),n("i",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"fa fa-question-circle",attrs:{title:e.wipInfoTooltip,"aria-label":e.wipInfoTooltip}})]),e._v(" "),e.mr.removeWIPPath?n("gl-deprecated-button",{staticClass:"js-remove-wip",attrs:{size:"sm",variant:"default",disabled:e.isMakingRequest,loading:e.isMakingRequest},on:{click:e.handleRemoveWIP}},[e._v("\n      "+e._s(e.s__("mrWidget|Resolve WIP status"))+"\n    ")]):e._e()],1)],1)}),[],!1,null,null,null).exports,ds={name:"MRWidgetArchived",components:{statusIcon:Yr}},fs=Object(xn.a)(ds,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media"},[n("div",{staticClass:"space-children"},[n("status-icon",{attrs:{status:"warning"}}),e._v(" "),n("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button",disabled:"true"}},[e._v("\n      "+e._s(e.s__("mrWidget|Merge"))+"\n    ")])],1),e._v(" "),n("div",{staticClass:"media-body"},[n("span",{staticClass:"bold"},[e._v("\n      "+e._s(e.s__("mrWidget|This project is archived, write access has been disabled"))+"\n    ")])])])}),[],!1,null,null,null).exports,ps=n("qcwA"),hs={name:"MRWidgetConflicts",components:{StatusIcon:Yr},props:{mr:{type:Object,required:!0,default:function(){return{}}}},computed:{popoverTitle:function(){return Object(O.d)("mrWidget|This feature merges changes from the target branch to the source branch. You cannot use this feature since the source branch is protected.")},showResolveButton:function(){return this.mr.conflictResolutionPath&&this.mr.canPushToSourceBranch},showPopover:function(){return this.showResolveButton&&this.mr.sourceBranchProtected}},mounted:function(){if(this.showPopover){var e=jn()(this.$refs.popover);e.popover({html:!0,trigger:"focus",container:"body",placement:"top",template:'<div class="popover" role="tooltip"><div class="arrow"></div><p class="popover-header"></p><div class="popover-body"></div></div>',title:Object(O.d)("mrWidget|This feature merges changes from the target branch to the source branch. You cannot use this feature since the source branch is protected."),content:Object(O.e)(Object(O.d)("mrWidget|%{link_start}Learn more about resolving conflicts%{link_end}"),{link_start:'<a href="'.concat(Jn()(this.mr.conflictsDocsPath),'" target="_blank" rel="noopener noreferrer">'),link_end:"</a>"},!1)}).on("mouseenter",ps.b).on("mouseleave",Object(ps.a)(300)).on("show.bs.popover",(function(){window.addEventListener("scroll",ps.c.bind(e,!1),{once:!0})}))}}},ms=Object(xn.a)(hs,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media"},[n("status-icon",{attrs:{"show-disabled-button":!0,status:"warning"}}),e._v(" "),n("div",{staticClass:"media-body space-children"},[e.mr.shouldBeRebased?n("span",{staticClass:"bold"},[e._v("\n        "+e._s(e.s__("mrWidget|Fast-forward merge is not possible.\nTo merge this request, first rebase locally."))+"\n      ")]):[n("span",{staticClass:"bold"},[e._v("\n          "+e._s(e.s__("mrWidget|There are merge conflicts"))),e.mr.canMerge?e._e():n("span",[e._v(".")]),e._v(" "),e.mr.canMerge?e._e():n("span",[e._v("\n            "+e._s(e.s__("mrWidget|Resolve these conflicts or ask someone\n            with write access to this repository to merge it locally"))+"\n          ")])]),e._v(" "),e.showResolveButton?n("span",{ref:"popover"},[n("a",{staticClass:"js-resolve-conflicts-button btn btn-default btn-sm",attrs:{href:e.mr.conflictResolutionPath,disabled:e.mr.sourceBranchProtected}},[e._v("\n            "+e._s(e.s__("mrWidget|Resolve conflicts"))+"\n          ")])]):e._e(),e._v(" "),e.mr.canMerge?n("button",{staticClass:"js-merge-locally-button btn btn-default btn-sm",attrs:{"data-toggle":"modal","data-target":"#modal_merge_info"}},[e._v("\n          "+e._s(e.s__("mrWidget|Merge locally"))+"\n        ")]):e._e()]],2)],1)}),[],!1,null,null,null).exports,gs={name:"MRWidgetNothingToMerge",props:{mr:{type:Object,required:!0}},data:function(){return{emptyStateSVG:'<svg width="256" height="146" viewBox="0 0 256 146" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>illustration</title><defs><rect id="a" width="178.714" height="115.389" rx="10"/><mask id="d" x="0" y="0" width="178.714" height="115.389" fill="#fff"><use xlink:href="#a"/></mask><path d="M8.796 31.515c.395.047.8.072 1.207.072h23.065c5.536 0 10.003-4.475 10.003-9.994v-11.6C43.07 4.476 38.594 0 33.07 0H10.003C4.467 0 0 4.475 0 9.994v11.6c0 1.248.23 2.444.65 3.547H0v7.414c0 4.094 2.394 5.113 5.342 2.28l3.454-3.32z" id="b"/><mask id="e" x="0" y="0" width="43.071" height="36.437" fill="#fff"><use xlink:href="#b"/></mask><path d="M8.796 31.515c.395.047.8.072 1.207.072h23.065c5.536 0 10.003-4.475 10.003-9.994v-11.6C43.07 4.476 38.594 0 33.07 0H10.003C4.467 0 0 4.475 0 9.994v11.6c0 1.248.23 2.444.65 3.547H0v7.414c0 4.094 2.394 5.113 5.342 2.28l3.454-3.32z" id="c"/><mask id="f" x="0" y="0" width="43.071" height="36.437" fill="#fff"><use xlink:href="#c"/></mask></defs><g fill="none" fill-rule="evenodd"><g transform="translate(0 3.868)" fill="#F9F9F9"><rect x="19.286" width="77.143" height="14.182" rx="7.091"/><rect y="28.364" width="84.857" height="14.182" rx="7.091"/><rect x="133.714" y="42.546" width="122.143" height="14.182" rx="7.091"/><rect x="82.929" y="126.992" width="101.571" height="14.182" rx="7.091"/><rect x="42.429" y="99.273" width="101.571" height="14.182" rx="7.091"/><rect x="19.929" y="70.909" width="225" height="14.182" rx="7.091"/><path d="M98.37 14.182H13.488h13.81a7.098 7.098 0 0 1 7.094 7.09 7.09 7.09 0 0 1-7.094 7.092h-13.81 84.88-23.452a7.098 7.098 0 0 1-7.095-7.09 7.09 7.09 0 0 1 7.096-7.092h23.452zm162 42.545h-75.238 23.452a7.098 7.098 0 0 1 7.095 7.09 7.09 7.09 0 0 1-7.096 7.092h-23.452 75.237-23.453a7.098 7.098 0 0 1-7.095-7.09 7.09 7.09 0 0 1 7.095-7.093h23.452zM103.512 85.09H28.275h23.452a7.098 7.098 0 0 1 7.095 7.092 7.09 7.09 0 0 1-7.095 7.09H28.275h75.237H80.06a7.098 7.098 0 0 1-7.095-7.09 7.09 7.09 0 0 1 7.095-7.09h23.452zm48.215 28.365H76.49 90.3a7.098 7.098 0 0 1 7.093 7.09 7.09 7.09 0 0 1-7.094 7.092H76.49h75.237-33.096a7.098 7.098 0 0 1-7.094-7.09 7.09 7.09 0 0 1 7.095-7.092h33.097z"/></g><g transform="translate(38.57 12.248)"><use stroke="#EEE" mask="url(#d)" stroke-width="8" fill="#FFF" xlink:href="#a"/><path fill="#EEE" d="M2.57 18.694h174.215v2.58H2.57z"/><g transform="translate(21.857 38.678)"><rect fill="#B5A7DD" y=".645" width="3.857" height="1.289" rx=".645"/><rect fill="#EEE" x="9.643" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="46.286" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="25.071" y="14.182" width="9.643" height="2.579" rx="1.289"/><rect fill="#FC6D26" x="34.071" y="7.091" width="9.643" height="2.579" rx="1.289"/><rect fill="#FC6D26" opacity=".5" x="30.857" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="14.182" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="18.643" y="7.091" width="12.857" height="2.579" rx="1.289"/><rect fill="#FC6D26" x="21.857" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="7.091" width="6.429" height="2.579" rx="1.289"/><rect fill="#B5A7DD" y="7.736" width="3.857" height="1.289" rx=".645"/><rect fill="#B5A7DD" y="14.826" width="3.857" height="1.289" rx=".645"/></g><g transform="translate(21.857 59.95)"><rect fill="#B5A7DD" y=".645" width="3.857" height="1.289" rx=".645"/><rect fill="#FC6D26" x="9.643" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="46.286" width="9.643" height="2.579" rx="1.289"/><rect fill="#FC6D26" opacity=".5" x="25.071" y="14.182" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="34.071" y="7.091" width="9.643" height="2.579" rx="1.289"/><rect fill="#FC6D26" x="30.857" width="12.857" height="2.579" rx="1.289"/><rect fill="#FC6D26" x="9.643" y="14.182" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="18.643" y="7.091" width="12.857" height="2.579" rx="1.289"/><rect fill="#FC6D26" opacity=".5" x="21.857" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="7.091" width="6.429" height="2.579" rx="1.289"/><rect fill="#B5A7DD" y="7.736" width="3.857" height="1.289" rx=".645"/><rect fill="#B5A7DD" y="14.826" width="3.857" height="1.289" rx=".645"/></g><g transform="translate(21.857 81.223)"><rect fill="#B5A7DD" y=".645" width="3.857" height="1.289" rx=".645"/><rect fill="#EEE" x="9.643" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="46.286" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="25.071" y="14.182" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="34.071" y="7.091" width="9.643" height="2.579" rx="1.289"/><rect fill="#FC6D26" x="30.857" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="14.182" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="18.643" y="7.091" width="12.857" height="2.579" rx="1.289"/><rect fill="#FC6D26" opacity=".5" x="21.857" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="7.091" width="6.429" height="2.579" rx="1.289"/><rect fill="#B5A7DD" y="7.736" width="3.857" height="1.289" rx=".645"/><rect fill="#B5A7DD" y="14.826" width="3.857" height="1.289" rx=".645"/></g><g transform="translate(100.93 38.033)"><rect fill="#FDE5D8" y=".645" width="3.857" height="1.289" rx=".645"/><rect fill="#EEE" x="9.643" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="46.286" width="9.643" height="2.579" rx="1.289"/><rect fill="#6B4FBB" opacity=".5" x="25.071" y="14.182" width="9.643" height="2.579" rx="1.289"/><rect fill="#6B4FBB" x="34.071" y="7.091" width="9.643" height="2.579" rx="1.289"/><rect fill="#6B4FBB" opacity=".5" x="30.857" width="12.857" height="2.579" rx="1.289"/><rect fill="#6B4FBB" x="9.643" y="14.182" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="18.643" y="7.091" width="12.857" height="2.579" rx="1.289"/><rect fill="#6B4FBB" x="21.857" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="7.091" width="6.429" height="2.579" rx="1.289"/><rect fill="#FDE5D8" y="7.736" width="3.857" height="1.289" rx=".645"/><rect fill="#FDE5D8" y="14.826" width="3.857" height="1.289" rx=".645"/><rect fill="#FDE5D8" y="21.917" width="3.857" height="1.289" rx=".645"/><rect fill="#EEE" x="9.643" y="21.273" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="37.286" y="14.182" width="9.643" height="2.579" rx="1.289"/><rect fill="#6B4FBB" opacity=".5" x="25.071" y="35.455" width="9.643" height="2.579" rx="1.289"/><rect fill="#6B4FBB" x="18.643" y="28.364" width="9.643" height="2.579" rx="1.289"/><rect fill="#6B4FBB" x="30.857" y="21.273" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="35.455" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="21.857" y="21.273" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="28.364" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="30.857" y="28.364" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="39.857" y="28.364" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="49.5" y="14.182" width="6.429" height="2.579" rx="1.289"/><rect fill="#FDE5D8" y="29.008" width="3.857" height="1.289" rx=".645"/><rect fill="#FDE5D8" y="36.099" width="3.857" height="1.289" rx=".645"/><rect fill="#FDE5D8" y="43.19" width="3.857" height="1.289" rx=".645"/><rect fill="#6B4FBB" x="9.643" y="42.546" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="25.071" y="56.727" width="9.643" height="2.579" rx="1.289"/><rect fill="#6B4FBB" opacity=".5" x="34.071" y="49.636" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="56.727" width="12.857" height="2.579" rx="1.289"/><rect fill="#6B4FBB" x="18.643" y="49.636" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="21.857" y="42.546" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="46.286" y="49.636" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="49.636" width="6.429" height="2.579" rx="1.289"/><rect fill="#FDE5D8" y="50.281" width="3.857" height="1.289" rx=".645"/><rect fill="#FDE5D8" y="57.372" width="3.857" height="1.289" rx=".645"/></g></g><g transform="translate(196.07)"><use stroke="#FDE5D8" mask="url(#e)" stroke-width="8" fill="#FFF" xlink:href="#b"/><rect fill="#FDB692" x="9" y="9.025" width="18.643" height="1.934" rx=".967"/><rect fill="#FDB692" x="9" y="14.826" width="25.071" height="1.934" rx=".967"/><rect fill="#FDB692" x="9" y="20.628" width="18.643" height="1.934" rx=".967"/></g><g transform="translate(189 41.256)"><ellipse stroke="#FC6D26" stroke-width="3" fill="#FFF7F4" cx="10.286" cy="9.669" rx="9.643" ry="9.669"/><path d="M.023 9.002a8.352 8.352 0 0 0 7.94-4.308M9 .644c0-.21-.008-.416-.023-.62" stroke="#FC6D26" stroke-width="2"/><path d="M5.045 2.008A10.266 10.266 0 0 0 13.5 6.446c2.112 0 4.076-.638 5.71-1.733" stroke="#FC6D26" stroke-width="2"/><ellipse fill="#FC6D26" cx="6.75" cy="11.281" rx=".964" ry=".967"/><ellipse fill="#FC6D26" cx="13.821" cy="11.281" rx=".964" ry=".967"/></g><g transform="translate(46.93 96.05)"><ellipse stroke="#6B4FBB" stroke-width="3" fill="#F4F1FA" cx="9.643" cy="10.314" rx="9.643" ry="9.669"/><path d="M12.86 4.51h-.005L11.25 2.58 9.645 4.51H9.64L8.036 2.58 6.43 4.51h-.002L4.82 2.58 3.215 4.512h-1.75A9.646 9.646 0 0 1 9.642 0c3.447 0 6.47 1.8 8.176 4.508h-1.75l-1.605-1.93L12.86 4.51z" fill="#6B4FBB"/><ellipse fill="#6B4FBB" cx="6.107" cy="11.281" rx=".964" ry=".967"/><ellipse fill="#6B4FBB" cx="13.179" cy="11.281" rx=".964" ry=".967"/></g><g transform="matrix(-1 0 0 1 56.57 54.794)"><use stroke="#E2DCF2" mask="url(#f)" stroke-width="8" fill="#FFF" xlink:href="#c"/><rect fill="#6B4FBB" opacity=".5" x="15.429" y="9.025" width="18.643" height="1.934" rx=".967"/><rect fill="#6B4FBB" opacity=".5" x="21.857" y="14.826" width="12.214" height="1.934" rx=".967"/><rect fill="#6B4FBB" opacity=".5" x="21.857" y="20.628" width="12.214" height="1.934" rx=".967"/></g></g></svg>\n'}}},bs=Object(xn.a)(gs,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body mr-widget-empty-state"},[n("div",{staticClass:"row"},[n("div",{staticClass:"artwork col-md-5 order-md-last col-12 text-center d-flex justify-content-center align-items-center"},[n("span",{domProps:{innerHTML:e._s(e.emptyStateSVG)}})]),e._v(" "),n("div",{staticClass:"text col-md-7 order-md-first col-12"},[n("span",[e._v(e._s(e.s__("mrWidgetNothingToMerge|Merge requests are a place to propose changes you have made to a project and discuss those changes with others.")))]),e._v(" "),n("p",[e._v("\n        "+e._s(e.s__("mrWidgetNothingToMerge|Interested parties can even contribute by pushing commits if they want to."))+"\n      ")]),e._v(" "),n("p",[e._v("\n        "+e._s(e.s__("mrWidgetNothingToMerge|Currently there are no changes in this merge request's source branch. Please push new commits or use a different branch."))+"\n      ")]),e._v(" "),n("div",[e.mr.newBlobPath?n("a",{staticClass:"btn btn-inverted btn-success",attrs:{href:e.mr.newBlobPath}},[e._v(e._s(e.__("Create file")))]):e._e()])])])])}),[],!1,null,null,null).exports,vs={name:"MRWidgetMissingBranch",directives:{tooltip:ni.a},components:{statusIcon:Yr},props:{mr:{type:Object,required:!0}},computed:{missingBranchName:function(){return this.mr.sourceBranchRemoved?"source":"target"},missingBranchNameMessage:function(){return Object(O.e)(Object(O.d)("mrWidget| Please restore it or use a different %{missingBranchName} branch"),{missingBranchName:this.missingBranchName})},message:function(){return Object(O.e)(Object(O.d)("mrWidget|If the %{missingBranchName} branch exists in your local repository, you can merge this merge request manually using the command line"),{missingBranchName:this.missingBranchName})}}},_s=Object(xn.a)(vs,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media"},[n("status-icon",{attrs:{"show-disabled-button":!0,status:"warning"}}),e._v(" "),n("div",{staticClass:"media-body space-children"},[n("span",{staticClass:"bold js-branch-text"},[n("span",{staticClass:"capitalize"},[e._v(" "+e._s(e.missingBranchName)+" ")]),e._v("\n      "+e._s(e.s__("mrWidget|branch does not exist."))+" "+e._s(e.missingBranchNameMessage)+"\n      "),n("i",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"fa fa-question-circle",attrs:{title:e.message,"aria-label":e.message}})])])],1)}),[],!1,null,null,null).exports,ys={name:"MRWidgetNotAllowed",components:{StatusIcon:Yr}},ws=Object(xn.a)(ys,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mr-widget-body media"},[t("status-icon",{attrs:{"show-disabled-button":!0,status:"success"}}),this._v(" "),t("div",{staticClass:"media-body space-children"},[t("span",{staticClass:"bold"},[this._v("\n        "+this._s(this.s__("mrWidget|Ready to be merged automatically.\nAsk someone with write access to this repository to merge this request"))+"\n      ")])])],1)}),[],!1,null,null,null).exports,Os=Object(O.a)("You can only merge once the items above are resolved."),js=Object(O.a)("Pipelines must succeed for merge requests to be eligible to merge. Please enable pipelines for this project to continue. For more information, see the %{linkStart}documentation.%{linkEnd}"),Cs={computed:{isMergeButtonDisabled:function(){var e=this.commitMessage;return Boolean(!e.length||!this.shouldShowMergeControls||this.isMakingRequest||this.mr.preventMerge)},mergeDisabledText:function(){return Os},pipelineMustSucceedConflictText:function(){return js},autoMergeText:function(){return Object(O.a)("Merge when pipeline succeeds")},shouldShowMergeImmediatelyDropdown:function(){return this.mr.isPipelineActive&&!this.mr.onlyAllowMergeIfPipelineSucceeds},isMergeImmediatelyDangerous:function(){return!1}}},Ps=n("1pLT"),Ds=n("s4z4"),Ss={components:{Icon:ei.a},directives:{tooltip:ni.a},props:{value:{type:Boolean,required:!0},helpPath:{type:String,required:!1,default:""},isDisabled:{type:Boolean,required:!1,default:!1}}},ks=Object(xn.a)(Ss,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"inline"},[n("label",[n("input",{staticClass:"qa-squash-checkbox js-squash-checkbox",attrs:{disabled:e.isDisabled,type:"checkbox",name:"squash"},domProps:{checked:e.value},on:{change:function(t){return e.$emit("input",t.target.checked)}}}),e._v("\n    "+e._s(e.__("Squash commits"))+"\n  ")]),e._v(" "),e.helpPath?n("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{href:e.helpPath,"data-title":"About this feature","data-placement":"bottom",target:"_blank",rel:"noopener noreferrer nofollow","data-container":"body"}},[n("icon",{attrs:{name:"question"}})],1):e._e()])}),[],!1,null,null,null).exports,xs={components:{Icon:ei.a,GlDeprecatedButton:di.a},props:{isSquashEnabled:{type:Boolean,required:!0},isFastForwardEnabled:{type:Boolean,required:!0},commitsCount:{type:Number,required:!1,default:0},targetBranch:{type:String,required:!0}},data:function(){return{expanded:!1}},computed:{collapseIcon:function(){return this.expanded?"chevron-down":"chevron-right"},commitsCountMessage:function(){return Object(O.c)(Object(O.a)("%d commit"),Object(O.a)("%d commits"),this.isSquashEnabled?1:this.commitsCount)},modifyLinkMessage:function(){return this.isFastForwardEnabled?Object(O.a)("Modify commit message"):this.isSquashEnabled?Object(O.a)("Modify commit messages"):Object(O.a)("Modify merge commit")},ariaLabel:function(){return this.expanded?Object(O.a)("Collapse"):Object(O.a)("Expand")},message:function(){var e=this.isFastForwardEnabled?Object(O.d)("mrWidgetCommitsAdded|%{commitCount} will be added to %{targetBranch}."):Object(O.d)("mrWidgetCommitsAdded|%{commitCount} and %{mergeCommitCount} will be added to %{targetBranch}.");return Object(O.e)(e,{commitCount:'<strong class="commits-count-message">'.concat(this.commitsCountMessage,"</strong>"),mergeCommitCount:"<strong>".concat(Object(O.d)("mrWidgetCommitsAdded|1 merge commit"),"</strong>"),targetBranch:'<span class="label-branch">'.concat(Jn()(this.targetBranch),"</span>")},!1)}},methods:{toggle:function(){this.expanded=!this.expanded}}},Es=Object(xn.a)(xs,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"js-mr-widget-commits-count mr-widget-extension clickable d-flex align-items-center px-3 py-2",on:{click:function(t){return e.toggle()}}},[n("gl-deprecated-button",{staticClass:"commit-edit-toggle square s24 append-right-default",attrs:{"aria-label":e.ariaLabel,variant:"blank"},on:{click:function(t){return t.stopPropagation(),e.toggle()}}},[n("icon",{attrs:{name:e.collapseIcon,size:16}})],1),e._v(" "),e.expanded?n("span",[e._v(e._s(e.__("Collapse")))]):n("span",[n("span",{staticClass:"vertical-align-middle",domProps:{innerHTML:e._s(e.message)}}),e._v(" "),n("gl-deprecated-button",{staticClass:"modify-message-button",attrs:{variant:"link"}},[e._v("\n        "+e._s(e.modifyLinkMessage)+"\n      ")])],1)],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}]},[e._t("default")],2)])}),[],!1,null,null,null).exports,Ts={props:{value:{type:String,required:!0},label:{type:String,required:!0},inputId:{type:String,required:!0}}},Is=Object(xn.a)(Ts,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[n("div",{staticClass:"commit-message-editor"},[n("div",{staticClass:"d-flex flex-wrap align-items-center justify-content-between"},[n("label",{staticClass:"col-form-label",attrs:{for:e.inputId}},[n("strong",[e._v(e._s(e.label))])]),e._v(" "),e._t("header")],2),e._v(" "),n("textarea",{staticClass:"form-control js-gfm-input append-bottom-default commit-message-edit",attrs:{id:e.inputId,dir:"auto",required:"required",rows:"7"},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),e._v(" "),e._t("checkbox")],2)])}),[],!1,null,null,null).exports,Rs=n("Yyc1"),Ls=n("wP8z"),Fs={components:{GlDropdown:Rs.a,GlDropdownItem:Ls.a},props:{commits:{type:Array,required:!0,default:function(){return[]}}}},Bs={name:"ReadyToMerge",components:{statusIcon:Yr,SquashBeforeMerge:ks,CommitsHeader:Es,CommitEdit:Is,CommitMessageDropdown:Object(xn.a)(Fs,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("gl-dropdown",{staticClass:"mr-commit-dropdown",attrs:{right:"",text:"Use an existing commit message",variant:"link"}},e._l(e.commits,(function(t){return n("gl-dropdown-item",{key:t.short_id,staticClass:"text-nowrap text-truncate",on:{click:function(n){return e.$emit("input",t.message)}}},[n("span",{staticClass:"monospace mr-2"},[e._v(e._s(t.short_id))]),e._v(" "+e._s(t.title)+"\n    ")])})),1)],1)}),[],!1,null,null,null).exports,GlIcon:Gi.a,GlSprintf:ci.a,GlLink:li.a,GlDeprecatedButton:di.a,MergeImmediatelyConfirmationDialog:function(){return n.e(14).then(n.bind(null,"4b03"))}},mixins:[Cs],props:{mr:{type:Object,required:!0},service:{type:Object,required:!0}},data:function(){return{removeSourceBranch:this.mr.shouldRemoveSourceBranch,isMakingRequest:!1,isMergingImmediately:!1,commitMessage:this.mr.commitMessage,squashBeforeMerge:this.mr.squash,successSvg:'<svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M0 7a7 7 0 1 1 14 0A7 7 0 0 1 0 7z"/><path d="M13 7A6 6 0 1 0 1 7a6 6 0 0 0 12 0z" fill="#FFF"/><path d="M6.278 7.697L5.045 6.464a.296.296 0 0 0-.42-.002l-.613.614a.298.298 0 0 0 .002.42l1.91 1.909a.5.5 0 0 0 .703.005l.265-.265L9.997 6.04a.291.291 0 0 0-.009-.408l-.614-.614a.29.29 0 0 0-.408-.009L6.278 7.697z"/></g></svg>\n',warningSvg:'<svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M0 7a7 7 0 1 1 14 0A7 7 0 0 1 0 7z"/><path d="M13 7A6 6 0 1 0 1 7a6 6 0 0 0 12 0z" fill="#FFF"/><path d="M6 3.5c0-.3.2-.5.5-.5h1c.3 0 .5.2.5.5v4c0 .3-.2.5-.5.5h-1c-.3 0-.5-.2-.5-.5v-4m0 6c0-.3.2-.5.5-.5h1c.3 0 .5.2.5.5v1c0 .3-.2.5-.5.5h-1c-.3 0-.5-.2-.5-.5v-1"/></g></svg>\n',squashCommitMessage:this.mr.squashCommitMessage}},computed:{isAutoMergeAvailable:function(){return!In()(this.mr.availableAutoMergeStrategies)},status:function(){var e=this.mr,t=e.pipeline,n=e.isPipelineFailed,i=e.hasCI,r=e.ciStatus;return i&&!r||this.hasPipelineMustSucceedConflict?"failed":this.isAutoMergeAvailable?"pending":t&&n?"failed":"success"},mergeButtonVariant:function(){return"failed"===this.status?"danger":"pending"===this.status?"info":"success"},iconClass:function(){return"failed"!==this.status&&this.commitMessage.length&&this.mr.isMergeAllowed&&!this.mr.preventMerge?"success":"warning"},mergeButtonText:function(){return this.isMergingImmediately?Object(O.a)("Merge in progress"):this.isAutoMergeAvailable?this.autoMergeText:Object(O.a)("Merge")},hasPipelineMustSucceedConflict:function(){return!this.mr.hasCI&&this.mr.onlyAllowMergeIfPipelineSucceeds},isRemoveSourceBranchButtonDisabled:function(){return this.isMergeButtonDisabled},shouldShowSquashBeforeMerge:function(){var e=this.mr,t=e.commitsCount;return e.enableSquashBeforeMerge&&t>1},shouldShowMergeControls:function(){return this.mr.isMergeAllowed||this.isAutoMergeAvailable},shouldShowSquashEdit:function(){return this.squashBeforeMerge&&this.shouldShowSquashBeforeMerge},shouldShowMergeEdit:function(){return!this.mr.ffOnlyEnabled},shaMismatchLink:function(){var e=this.mr.mergeRequestDiffsPath;return Object(O.e)(Object(O.a)("New changes were added. %{linkStart}Reload the page to review them%{linkEnd}"),{linkStart:'<a href="'.concat(e,'">'),linkEnd:"</a>"},!1)}},methods:{updateMergeCommitMessage:function(e){var t=this.mr,n=t.commitMessageWithDescription,i=t.commitMessage;this.commitMessage=e?n:i},handleMergeButtonClick:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n&&(this.isMergingImmediately=!0);var i={sha:this.mr.latestSHA||this.mr.sha,commit_message:this.commitMessage,auto_merge_strategy:e?this.mr.preferredAutoMergeStrategy:void 0,should_remove_source_branch:!0===this.removeSourceBranch,squash:this.squashBeforeMerge};this.shouldShowSquashBeforeMerge&&(i.squash_commit_message=this.squashCommitMessage),this.isMakingRequest=!0,this.service.merge(i).then((function(e){return e.data})).then((function(e){var n="failed"===e.status||"hook_validation_error"===e.status;$n.includes(e.status)?Jr.a.$emit("MRWidgetUpdateRequested"):"success"===e.status?t.initiateMergePolling():n&&Jr.a.$emit("FailedToMerge",e.merge_error)})).catch((function(){t.isMakingRequest=!1,new w.a(Object(O.a)("Something went wrong. Please try again."))}))},handleMergeImmediatelyButtonClick:function(){this.isMergeImmediatelyDangerous?this.$refs.confirmationDialog.show():this.handleMergeButtonClick(!1,!0)},onMergeImmediatelyConfirmation:function(){this.handleMergeButtonClick(!1,!0)},initiateMergePolling:function(){var e=this;os((function(t,n){e.handleMergePolling(t,n)}),{timeout:0})},handleMergePolling:function(e,t){var n=this;this.service.poll().then((function(e){return e.data})).then((function(i){"merged"===i.state?(Jr.a.$emit("MRWidgetUpdateRequested"),Jr.a.$emit("FetchActionsContent"),Ps.a.setStatusBoxToMerged(),Ps.a.hideCloseButton(),Ps.a.decreaseCounter(),t(),Object(Ds.b)(),n.removeSourceBranch&&i.source_branch_exists&&n.initiateRemoveSourceBranchPolling()):i.merge_error?(Jr.a.$emit("FailedToMerge",i.merge_error),t()):e()})).catch((function(){new w.a(Object(O.a)("Something went wrong while merging this merge request. Please try again.")),t()}))},initiateRemoveSourceBranchPolling:function(){var e=this;Jr.a.$emit("SetBranchRemoveFlag",[!0]),os((function(t,n){e.handleRemoveBranchPolling(t,n)}))},handleRemoveBranchPolling:function(e,t){this.service.poll().then((function(e){return e.data})).then((function(n){n.source_branch_exists?e():(Jr.a.$emit("MRWidgetUpdateRequested",(function(){Jr.a.$emit("SetBranchRemoveFlag",[!1])})),t())})).catch((function(){new w.a(Object(O.a)("Something went wrong while deleting the source branch. Please try again."))}))}}},qs=Object(xn.a)(Bs,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"mr-widget-body media"},[n("status-icon",{attrs:{status:e.iconClass}}),e._v(" "),n("div",{staticClass:"media-body"},[n("div",{staticClass:"mr-widget-body-controls media space-children"},[n("span",{staticClass:"btn-group"},[n("gl-deprecated-button",{staticClass:"qa-merge-button accept-merge-request",attrs:{size:"sm",variant:e.mergeButtonVariant,disabled:e.isMergeButtonDisabled,loading:e.isMakingRequest},on:{click:function(t){return e.handleMergeButtonClick(e.isAutoMergeAvailable)}}},[e._v("\n            "+e._s(e.mergeButtonText)+"\n          ")]),e._v(" "),e.shouldShowMergeImmediatelyDropdown?n("button",{staticClass:"btn btn-sm btn-info dropdown-toggle js-merge-moment",attrs:{disabled:e.isMergeButtonDisabled,type:"button","data-toggle":"dropdown","data-qa-selector":"merge_moment_dropdown","aria-label":e.__("Select merge moment")}},[n("i",{staticClass:"fa fa-chevron-down",attrs:{"aria-hidden":"true"}})]):e._e(),e._v(" "),e.shouldShowMergeImmediatelyDropdown?n("ul",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{role:"menu"}},[n("li",[n("a",{staticClass:"auto_merge_enabled qa-merge-when-pipeline-succeeds-option",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.handleMergeButtonClick(!0)}}},[n("span",{staticClass:"media"},[n("span",{staticClass:"merge-opt-icon",attrs:{"aria-hidden":"true"},domProps:{innerHTML:e._s(e.successSvg)}}),e._v(" "),n("span",{staticClass:"media-body merge-opt-title"},[e._v(e._s(e.autoMergeText))])])])]),e._v(" "),n("li",[n("merge-immediately-confirmation-dialog",{ref:"confirmationDialog",attrs:{"docs-url":e.mr.mergeImmediatelyDocsPath},on:{mergeImmediately:e.onMergeImmediatelyConfirmation}}),e._v(" "),n("a",{staticClass:"accept-merge-request js-merge-immediately-button",attrs:{"data-qa-selector":"merge_immediately_option",href:"#"},on:{click:function(t){return t.preventDefault(),e.handleMergeImmediatelyButtonClick(t)}}},[n("span",{staticClass:"media"},[n("span",{staticClass:"merge-opt-icon",attrs:{"aria-hidden":"true"},domProps:{innerHTML:e._s(e.warningSvg)}}),e._v(" "),n("span",{staticClass:"media-body merge-opt-title"},[e._v(e._s(e.__("Merge immediately")))])])])],1)]):e._e()],1),e._v(" "),n("div",{staticClass:"media-body-wrap space-children"},[e.shouldShowMergeControls?[e.mr.canRemoveSourceBranch?n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.removeSourceBranch,expression:"removeSourceBranch"}],staticClass:"js-remove-source-branch-checkbox",attrs:{id:"remove-source-branch-input",disabled:e.isRemoveSourceBranchButtonDisabled,type:"checkbox"},domProps:{checked:Array.isArray(e.removeSourceBranch)?e._i(e.removeSourceBranch,null)>-1:e.removeSourceBranch},on:{change:function(t){var n=e.removeSourceBranch,i=t.target,r=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&(e.removeSourceBranch=n.concat([null])):s>-1&&(e.removeSourceBranch=n.slice(0,s).concat(n.slice(s+1)))}else e.removeSourceBranch=r}}}),e._v("\n              "+e._s(e.__("Delete source branch"))+"\n            ")]):e._e(),e._v(" "),e.shouldShowSquashBeforeMerge?n("squash-before-merge",{attrs:{"help-path":e.mr.squashBeforeMergeHelpPath,"is-disabled":e.isMergeButtonDisabled},model:{value:e.squashBeforeMerge,callback:function(t){e.squashBeforeMerge=t},expression:"squashBeforeMerge"}}):e._e()]:[n("div",{staticClass:"bold js-resolve-mr-widget-items-message"},[e.hasPipelineMustSucceedConflict?n("gl-sprintf",{attrs:{message:e.pipelineMustSucceedConflictText},scopedSlots:e._u([{key:"link",fn:function(t){var i=t.content;return[n("gl-link",{attrs:{href:e.mr.pipelineMustSucceedDocsPath,target:"_blank"}},[e._v("\n                    "+e._s(i)+"\n                  ")])]}}],null,!1,1122991284)}):n("gl-sprintf",{attrs:{message:e.mergeDisabledText}})],1)]],2)]),e._v(" "),e.mr.isSHAMismatch?n("div",{staticClass:"d-flex align-items-center mt-2 js-sha-mismatch"},[n("gl-icon",{staticClass:"text-warning mr-1",attrs:{name:"warning-solid"}}),e._v(" "),n("span",{staticClass:"text-warning",domProps:{innerHTML:e._s(e.shaMismatchLink)}})],1):e._e()])],1),e._v(" "),e.shouldShowMergeControls?[e.mr.ffOnlyEnabled?n("div",{staticClass:"mr-fast-forward-message"},[e._v("\n      "+e._s(e.__("Fast-forward merge without a merge commit"))+"\n    ")]):e._e(),e._v(" "),e.shouldShowSquashEdit||e.shouldShowMergeEdit?n("commits-header",{class:{"border-bottom":e.mr.mergeError},attrs:{"is-squash-enabled":e.squashBeforeMerge,"commits-count":e.mr.commitsCount,"target-branch":e.mr.targetBranch,"is-fast-forward-enabled":e.mr.ffOnlyEnabled}},[n("ul",{staticClass:"border-top content-list commits-list flex-list"},[e.shouldShowSquashEdit?n("commit-edit",{attrs:{label:e.__("Squash commit message"),"input-id":"squash-message-edit",squash:""},model:{value:e.squashCommitMessage,callback:function(t){e.squashCommitMessage=t},expression:"squashCommitMessage"}},[n("commit-message-dropdown",{attrs:{slot:"header",commits:e.mr.commits},slot:"header",model:{value:e.squashCommitMessage,callback:function(t){e.squashCommitMessage=t},expression:"squashCommitMessage"}})],1):e._e(),e._v(" "),e.shouldShowMergeEdit?n("commit-edit",{attrs:{label:e.__("Merge commit message"),"input-id":"merge-message-edit"},model:{value:e.commitMessage,callback:function(t){e.commitMessage=t},expression:"commitMessage"}},[n("label",{attrs:{slot:"checkbox"},slot:"checkbox"},[n("input",{attrs:{id:"include-description",type:"checkbox"},on:{change:function(t){return e.updateMergeCommitMessage(t.target.checked)}}}),e._v("\n            "+e._s(e.__("Include merge request description"))+"\n          ")])]):e._e()],1)]):e._e()]:e._e()],2)}),[],!1,null,null,null).exports,As={name:"UnresolvedDiscussions",components:{statusIcon:Yr},props:{mr:{type:Object,required:!0}}},Ms=Object(xn.a)(As,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media"},[n("status-icon",{attrs:{"show-disabled-button":!0,status:"warning"}}),e._v(" "),n("div",{staticClass:"media-body space-children"},[n("span",{staticClass:"bold"},[e._v("\n      "+e._s(e.s__("mrWidget|There are unresolved threads. Please resolve these threads"))+"\n    ")]),e._v(" "),e.mr.createIssueToResolveDiscussionsPath?n("a",{staticClass:"btn btn-default btn-sm js-create-issue",attrs:{href:e.mr.createIssueToResolveDiscussionsPath}},[e._v("\n      "+e._s(e.s__("mrWidget|Create an issue to resolve them later"))+"\n    ")]):e._e()])],1)}),[],!1,null,null,null).exports,Ns={name:"MRWidgetPipelineBlocked",components:{StatusIcon:Yr}},$s=Object(xn.a)(Ns,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mr-widget-body media"},[t("status-icon",{attrs:{"show-disabled-button":!0,status:"warning"}}),this._v(" "),t("div",{staticClass:"media-body space-children"},[t("span",{staticClass:"bold"},[this._v("\n        "+this._s(this.s__("mrWidget|Pipeline blocked.\nThe pipeline for this merge request requires a manual action to proceed"))+"\n      ")])])],1)}),[],!1,null,null,null).exports,Hs={name:"PipelineFailed",components:{statusIcon:Yr}},Us=Object(xn.a)(Hs,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mr-widget-body media"},[t("status-icon",{attrs:{"show-disabled-button":!0,status:"warning"}}),this._v(" "),t("div",{staticClass:"media-body space-children"},[t("span",{staticClass:"bold"},[this._v("\n        "+this._s(this.s__("mrWidget|The pipeline for this merge request failed.\nPlease retry the job or push a new commit to fix the failure"))+"\n      ")])])],1)}),[],!1,null,null,null).exports,Vs=(n("+xeR"),n("0AwG")),Ws={name:"MRWidgetFailedToMerge",components:{statusIcon:Yr},props:{mr:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{timer:10,isRefreshing:!1,intervalId:null}},computed:{mergeError:function(){return this.mr.mergeError?Object(Vs.n)(this.mr.mergeError," ").trim():""},timerText:function(){return Object(O.c)("Refreshing in a second to show the updated status...","Refreshing in %d seconds to show the updated status...",this.timer)}},mounted:function(){this.intervalId=setInterval(this.updateTimer,1e3)},created:function(){Jr.a.$emit("DisablePolling")},beforeDestroy:function(){this.intervalId&&clearInterval(this.intervalId)},methods:{refresh:function(){this.isRefreshing=!0,Jr.a.$emit("MRWidgetUpdateRequested"),Jr.a.$emit("EnablePolling")},updateTimer:function(){this.timer-=1,0===this.timer&&this.refresh()}}},zs=Object(xn.a)(Ws,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media"},[e.isRefreshing?[n("status-icon",{attrs:{status:"loading"}}),e._v(" "),n("span",{staticClass:"media-body bold js-refresh-label"},[e._v(" "+e._s(e.s__("mrWidget|Refreshing now"))+" ")])]:[n("status-icon",{attrs:{"show-disabled-button":!0,status:"warning"}}),e._v(" "),n("div",{staticClass:"media-body space-children"},[n("span",{staticClass:"bold"},[e.mr.mergeError?n("span",{staticClass:"has-error-message"},[e._v(" "+e._s(e.mergeError)+" ")]):n("span",[e._v(" "+e._s(e.s__("mrWidget|Merge failed."))+" ")]),e._v(" "),n("span",{class:{"has-custom-error":e.mr.mergeError}},[e._v(" "+e._s(e.timerText)+" ")])]),e._v(" "),n("button",{staticClass:"btn btn-default btn-sm js-refresh-button",attrs:{"data-qa-selector":"merge_request_error_content",type:"button"},on:{click:e.refresh}},[e._v("\n        "+e._s(e.s__("mrWidget|Refresh now"))+"\n      ")])])]],2)}),[],!1,null,null,null).exports,Gs={name:"MRWidgetAutoMergeEnabled",components:{MrWidgetAuthor:Kr,statusIcon:Yr},mixins:[{computed:{statusTextBeforeAuthor:function(){return Object(O.d)("mrWidget|Set by")},statusTextAfterAuthor:function(){return Object(O.d)("mrWidget|to be merged automatically when the pipeline succeeds")},cancelButtonText:function(){return Object(O.d)("mrWidget|Cancel automatic merge")}}}],props:{mr:{type:Object,required:!0,default:function(){return{}}},service:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{isCancellingAutoMerge:!1,isRemovingSourceBranch:!1}},computed:{canRemoveSourceBranch:function(){var e=this.mr,t=e.shouldRemoveSourceBranch,n=e.canRemoveSourceBranch,i=e.mergeUserId,r=e.currentUserId;return!t&&n&&i===r}},methods:{cancelAutomaticMerge:function(){var e=this;this.isCancellingAutoMerge=!0,this.service.cancelAutomaticMerge().then((function(e){return e.data})).then((function(e){Jr.a.$emit("UpdateWidgetData",e)})).catch((function(){e.isCancellingAutoMerge=!1,Object(w.a)(Object(O.a)("Something went wrong. Please try again."))}))},removeSourceBranch:function(){var e=this,t={sha:this.mr.sha,auto_merge_strategy:this.mr.autoMergeStrategy,should_remove_source_branch:!0};this.isRemovingSourceBranch=!0,this.service.merge(t).then((function(e){return e.data})).then((function(e){$n.includes(e.status)&&Jr.a.$emit("MRWidgetUpdateRequested")})).catch((function(){e.isRemovingSourceBranch=!1,Object(w.a)(Object(O.a)("Something went wrong. Please try again."))}))}}},Ks=Object(xn.a)(Gs,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media"},[n("status-icon",{attrs:{status:"success"}}),e._v(" "),n("div",{staticClass:"media-body"},[n("h4",{staticClass:"d-flex align-items-start"},[n("span",{staticClass:"append-right-10"},[n("span",{staticClass:"js-status-text-before-author"},[e._v(e._s(e.statusTextBeforeAuthor))]),e._v(" "),n("mr-widget-author",{attrs:{author:e.mr.setToAutoMergeBy}}),e._v(" "),n("span",{staticClass:"js-status-text-after-author"},[e._v(e._s(e.statusTextAfterAuthor))])],1),e._v(" "),e.mr.canCancelAutomaticMerge?n("a",{staticClass:"btn btn-sm btn-default js-cancel-auto-merge",attrs:{disabled:e.isCancellingAutoMerge,role:"button",href:"#"},on:{click:function(t){return t.preventDefault(),e.cancelAutomaticMerge(t)}}},[e.isCancellingAutoMerge?n("i",{staticClass:"fa fa-spinner fa-spin",attrs:{"aria-hidden":"true"}}):e._e(),e._v("\n        "+e._s(e.cancelButtonText)+"\n      ")]):e._e()]),e._v(" "),n("section",{staticClass:"mr-info-list"},[n("p",[e._v("\n        "+e._s(e.s__("mrWidget|The changes will be merged into"))+"\n        "),n("a",{staticClass:"label-branch",attrs:{href:e.mr.targetBranchPath}},[e._v(e._s(e.mr.targetBranch))])]),e._v(" "),e.mr.shouldRemoveSourceBranch?n("p",[e._v("\n        "+e._s(e.s__("mrWidget|The source branch will be deleted"))+"\n      ")]):n("p",{staticClass:"d-flex align-items-start"},[n("span",{staticClass:"append-right-10"},[e._v(e._s(e.s__("mrWidget|The source branch will not be deleted")))]),e._v(" "),e.canRemoveSourceBranch?n("a",{staticClass:"btn btn-sm btn-default js-remove-source-branch",attrs:{disabled:e.isRemovingSourceBranch,role:"button",href:"#"},on:{click:function(t){return t.preventDefault(),e.removeSourceBranch(t)}}},[e.isRemovingSourceBranch?n("i",{staticClass:"fa fa-spinner fa-spin",attrs:{"aria-hidden":"true"}}):e._e(),e._v("\n          "+e._s(e.s__("mrWidget|Delete source branch"))+"\n        ")]):e._e()])])])],1)}),[],!1,null,null,null).exports,Xs={name:"MRWidgetAutoMergeFailed",components:{statusIcon:Yr,GlLoadingIcon:ji.a},props:{mr:{type:Object,required:!0}},data:function(){return{isRefreshing:!1}},methods:{refreshWidget:function(){var e=this;this.isRefreshing=!0,Jr.a.$emit("MRWidgetUpdateRequested",(function(){e.isRefreshing=!1}))}}},Zs=Object(xn.a)(Xs,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media"},[n("status-icon",{attrs:{status:"warning"}}),e._v(" "),n("div",{staticClass:"media-body space-children"},[n("span",{staticClass:"bold"},[e.mr.mergeError?[e._v(e._s(e.mr.mergeError))]:e._e(),e._v("\n      "+e._s(e.s__("mrWidget|This merge request failed to be merged automatically"))+"\n    ")],2),e._v(" "),n("button",{staticClass:"btn btn-sm btn-default",attrs:{disabled:e.isRefreshing,type:"button"},on:{click:e.refreshWidget}},[e.isRefreshing?n("gl-loading-icon",{attrs:{inline:!0}}):e._e(),e._v("\n      "+e._s(e.s__("mrWidget|Refresh"))+"\n    ")],1)])],1)}),[],!1,null,null,null).exports,Qs={name:"MRWidgetChecking",components:{statusIcon:Yr}},Ys=Object(xn.a)(Qs,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mr-widget-body media"},[t("status-icon",{attrs:{"show-disabled-button":!0,status:"loading"}}),this._v(" "),t("div",{staticClass:"media-body space-children"},[t("span",{staticClass:"bold"},[this._v(" "+this._s(this.s__("mrWidget|Checking ability to merge automaticallyâ¦"))+" ")])])],1)}),[],!1,null,null,null).exports;function Js(e,t,n){var i=new Notification(e,t);return setTimeout((function(){return i.close()}),8e3),i.onclick=n||i.close}var eo={notificationGranted:Js,notifyPermissions:function(){if("Notification"in window)return Notification.requestPermission()},notifyMe:function(e,t,n,i){var r={body:t,icon:n};if("Notification"in window){if("granted"===Notification.permission)return Js(e,r,i);if("denied"!==Notification.permission)return Notification.requestPermission((function(t){if("granted"===t)return Js(e,r,i)}))}else;}},to={directives:{tooltip:ni.a},created:function(){this.removesBranchText=Object(O.a)("<strong>Deletes</strong> source branch"),this.tooltipTitle=Object(O.a)("A user with write access to the source branch selected this option")}},no=Object(xn.a)(to,(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"mr-info-list mr-links gl-mb-0"},[t("span",{staticClass:"status-text",domProps:{innerHTML:this._s(this.removesBranchText)}}),this._v(" "),t("i",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"fa fa-question-circle",attrs:{title:this.tooltipTitle,"aria-label":this.tooltipTitle}})])}],!1,null,null,null).exports,io={name:"MRWidgetTerraformPlan",components:{GlIcon:Gi.a,GlLink:li.a,GlLoadingIcon:ji.a,GlSprintf:ci.a},props:{endpoint:{type:String,required:!0}},data:function(){return{loading:!0,plans:{}}},computed:{addNum:function(){return Number(this.plan.create)},changeNum:function(){return Number(this.plan.update)},deleteNum:function(){return Number(this.plan.delete)},logUrl:function(){return this.plan.job_path},plan:function(){var e,t=Object.keys(this.plans)[0];return null!==(e=this.plans[t])&&void 0!==e?e:{}},validPlanValues:function(){return this.addNum+this.changeNum+this.deleteNum>=0}},created:function(){this.fetchPlans()},methods:{fetchPlans:function(){var e=this;this.loading=!0;var t=new Ce.a({resource:{fetchPlans:function(){return C.a.get(e.endpoint)}},data:this.endpoint,method:"fetchPlans",successCallback:function(n){var i=n.data;e.plans=i,Object.keys(e.plan).length&&(e.loading=!1,t.stop())},errorCallback:function(){e.plans={},e.loading=!1,Object(w.a)(Object(O.a)("An error occurred while loading terraform report"))}});t.makeRequest()}}},ro=Object(xn.a)(io,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"mr-widget-section"},[n("div",{staticClass:"mr-widget-body media d-flex flex-row"},[n("span",{staticClass:"append-right-default align-self-start align-self-lg-center"},[n("gl-icon",{attrs:{name:"status_warning",size:24}})],1),e._v(" "),n("div",{staticClass:"d-flex flex-fill flex-column flex-md-row"},[n("div",{staticClass:"terraform-mr-plan-text normal d-flex flex-column flex-lg-row"},[n("p",{staticClass:"m-0 pr-1"},[e._v(e._s(e.__("A terraform report was generated in your pipelines.")))]),e._v(" "),e.loading?n("gl-loading-icon",{attrs:{size:"md"}}):e.validPlanValues?n("p",{staticClass:"m-0"},[n("gl-sprintf",{attrs:{message:e.__("Reported Resource Changes: %{addNum} to add, %{changeNum} to change, %{deleteNum} to delete")},scopedSlots:e._u([{key:"addNum",fn:function(){return[n("strong",[e._v(e._s(e.addNum))])]},proxy:!0},{key:"changeNum",fn:function(){return[n("strong",[e._v(e._s(e.changeNum))])]},proxy:!0},{key:"deleteNum",fn:function(){return[n("strong",[e._v(e._s(e.deleteNum))])]},proxy:!0}])})],1):n("p",{staticClass:"m-0"},[e._v(e._s(e.__("Changes are unknown")))])],1),e._v(" "),n("div",{staticClass:"terraform-mr-plan-actions"},[e.logUrl?n("gl-link",{staticClass:"btn btn-sm js-terraform-report-link",attrs:{href:e.logUrl,target:"_blank","data-track-event":"click_terraform_mr_plan_button","data-track-label":"mr_widget_terraform_mr_plan_button","data-track-property":"terraform_mr_plan_button",rel:"noopener"}},[e._v("\n          "+e._s(e.__("View full log"))+"\n          "),n("gl-icon",{attrs:{name:"external-link"}})],1):e._e()],1)])])])}),[],!1,null,null,null).exports;function so(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ao={name:"TestIssueBody",props:{issue:{type:Object,required:!0},status:{type:String,required:!0},isNew:{type:Boolean,required:!1,default:!1}},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?so(Object(n),!0).forEach((function(t){oo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):so(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(m.c)(["openModal"]))},lo=Object(xn.a)(ao,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"report-block-list-issue-description prepend-top-5 append-bottom-5"},[n("div",{staticClass:"report-block-list-issue-description-text",attrs:{"data-testid":"test-issue-body-description"}},[n("button",{staticClass:"btn-link btn-blank text-left break-link vulnerability-name-button",attrs:{type:"button"},on:{click:function(t){return e.openModal({issue:e.issue})}}},[e.isNew?n("div",{staticClass:"badge badge-danger append-right-5"},[e._v(e._s(e.s__("New")))]):e._e(),e._v("\n      "+e._s(e.issue.name)+"\n    ")])])])}),[],!1,null,null,null).exports,co={name:"AccessibilityIssueBody",components:{GlLink:li.a},props:{issue:{type:Object,required:!0},isNew:{type:Boolean,required:!1,default:!1}},computed:{parsedTECHSCode:function(){var e;return null===(e=this.issue.code)||void 0===e?void 0:e.split(".")[4]},learnMoreUrl:function(){return"https://www.w3.org/TR/WCAG20-TECHS/".concat(this.parsedTECHSCode||"Overview",".html")}}},uo=Object(xn.a)(co,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"report-block-list-issue-description prepend-top-5 append-bottom-5"},[n("div",{ref:"accessibility-issue-description",staticClass:"report-block-list-issue-description-text"},[e.isNew?n("div",{ref:"accessibility-issue-is-new-badge",staticClass:"badge badge-danger append-right-5"},[e._v("\n      "+e._s(e.s__("AccessibilityReport|New"))+"\n    ")]):e._e(),e._v(" "),n("div",[e._v("\n      "+e._s(e.sprintf(e.s__("AccessibilityReport|The accessibility scanning found an error of the following type: %{code}"),{code:e.issue.code}))+"\n      "),n("gl-link",{ref:"accessibility-issue-learn-more",attrs:{href:e.learnMoreUrl,target:"_blank"}},[e._v(e._s(e.s__("AccessibilityReport|Learn More")))])],1),e._v("\n    "+e._s(e.sprintf(e.s__("AccessibilityReport|Message: %{message}"),{message:e.issue.message}))+"\n  ")])])}),[],!1,null,null,null).exports,fo={AccessibilityIssueBody:uo,TestIssueBody:lo},po={AccessibilityIssueBody:uo.name,TestIssueBody:lo.name},ho=n("pDM+");function mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function go(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bo={name:"HelpPopover",components:{Icon:ei.a},props:{options:{type:Object,required:!1,default:function(){return{}}}},mounted:function(){var e=jn()(this.$el);e.popover(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mo(Object(n),!0).forEach((function(t){go(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({html:!0,trigger:"focus",container:"body",placement:"top",template:'<div class="popover" role="tooltip"><div class="arrow"></div><p class="popover-header"></p><div class="popover-body"></div></div>'},this.options)).on("mouseenter",ps.b).on("mouseleave",Object(ps.a)(300)).on("inserted.bs.popover",ho.b).on("show.bs.popover",(function(){window.addEventListener("scroll",ps.c.bind(e,!1),{once:!0})}))}},vo=Object(xn.a)(bo,(function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"btn btn-blank btn-transparent btn-help",attrs:{type:"button",tabindex:"0"}},[t("icon",{attrs:{name:"question"}})],1)}),[],!1,null,null,null).exports,_o={codeBock:"codeBlock",link:"link",seconds:"seconds",text:"text"},yo="LOADING",wo="ERROR",Oo="SUCCESS",jo={name:"IssueStatusIcon",components:{Icon:ei.a},props:{status:{type:String,required:!0},statusIconSize:{type:Number,required:!1,default:24}},computed:{iconName:function(){return this.isStatusFailed?"status_failed_borderless":this.isStatusSuccess?"status_success_borderless":"dash"},isStatusFailed:function(){return"failed"===this.status},isStatusSuccess:function(){return"success"===this.status},isStatusNeutral:function(){return"neutral"===this.status}}};function Co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Po(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Do={name:"ReportItem",components:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Co(Object(n),!0).forEach((function(t){Po(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Co(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({IssueStatusIcon:Object(xn.a)(jo,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"report-block-list-icon",class:{failed:this.isStatusFailed,success:this.isStatusSuccess,neutral:this.isStatusNeutral}},[t("icon",{attrs:{name:this.iconName,size:this.statusIconSize,"data-qa-selector":"status_"+this.status+"_icon"}})],1)}),[],!1,null,null,null).exports},fo),props:{issue:{type:Object,required:!0},component:{type:String,required:!1,default:"",validator:function(e){return""===e||Object.values(po).includes(e)}},status:{type:String,required:!0},statusIconSize:{type:Number,required:!1,default:24},isNew:{type:Boolean,required:!1,default:!1},showReportSectionStatusIcon:{type:Boolean,required:!1,default:!0}}},So=Object(xn.a)(Do,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"report-block-list-issue align-items-center",class:{"is-dismissed":e.issue.isDismissed},attrs:{"data-qa-selector":"report_item_row"}},[e.showReportSectionStatusIcon?n("issue-status-icon",{staticClass:"append-right-default",attrs:{status:e.status,"status-icon-size":e.statusIconSize}}):e._e(),e._v(" "),e.component?n(e.component,{tag:"component",attrs:{issue:e.issue,status:e.status,"is-new":e.isNew}}):e._e()],1)}),[],!1,null,null,null).exports,ko=n("5/PK");function xo(e){return function(e){if(Array.isArray(e))return Eo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Eo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Eo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var To,Io,Ro=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return{status:n.status||e,isNew:t,issue:n}}},Lo={components:{SmartVirtualList:ko.a,ReportItem:So},typicalReportItemHeight:32,maxShownReportItems:20,props:{newIssues:{type:Array,required:!1,default:function(){return[]}},unresolvedIssues:{type:Array,required:!1,default:function(){return[]}},resolvedIssues:{type:Array,required:!1,default:function(){return[]}},neutralIssues:{type:Array,required:!1,default:function(){return[]}},component:{type:String,required:!1,default:""},showReportSectionStatusIcon:{type:Boolean,required:!1,default:!0},issuesUlElementClass:{type:String,required:!1,default:""},issueItemClass:{type:String,required:!1,default:null}},computed:{issuesWithState:function(){return[].concat(xo(this.newIssues.map(Ro("failed",!0))),xo(this.unresolvedIssues.map(Ro("failed"))),xo(this.neutralIssues.map(Ro("neutral"))),xo(this.resolvedIssues.map(Ro("success"))))},wclass:function(){return"report-block-list ".concat(this.issuesUlElementClass)}}},Fo=Object(xn.a)(Lo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("smart-virtual-list",{staticClass:"report-block-container",attrs:{length:e.issuesWithState.length,remain:e.$options.maxShownReportItems,size:e.$options.typicalReportItemHeight,wtag:"ul",wclass:e.wclass}},e._l(e.issuesWithState,(function(t,i){return n("report-item",{key:i,class:e.issueItemClass,attrs:{issue:t.issue,status:t.status,component:e.component,"is-new":t.isNew,"show-report-section-status-icon":e.showReportSectionStatusIcon}})})),1)}),[],!1,null,null,null).exports,Bo={name:"ReportSection",components:{IssuesList:Fo,StatusIcon:Yr,Popover:vo},props:{alwaysOpen:{type:Boolean,required:!1,default:!1},component:{type:String,required:!1,default:""},status:{type:String,required:!0},loadingText:{type:String,required:!1,default:""},errorText:{type:String,required:!1,default:""},successText:{type:String,required:!1,default:""},unresolvedIssues:{type:Array,required:!1,default:function(){return[]}},resolvedIssues:{type:Array,required:!1,default:function(){return[]}},neutralIssues:{type:Array,required:!1,default:function(){return[]}},infoText:{type:[String,Boolean],required:!1,default:!1},hasIssues:{type:Boolean,required:!0},popoverOptions:{type:Object,default:function(){return{}},required:!1},showReportSectionStatusIcon:{type:Boolean,required:!1,default:!0},issuesUlElementClass:{type:String,required:!1,default:void 0},issuesListContainerClass:{type:String,required:!1,default:void 0},issueItemClass:{type:String,required:!1,default:void 0}},data:function(){return{isCollapsed:!0}},computed:{collapseText:function(){return this.isCollapsed?Object(O.a)("Expand"):Object(O.a)("Collapse")},isLoading:function(){return this.status===yo},loadingFailed:function(){return this.status===wo},isSuccess:function(){return this.status===Oo},isCollapsible:function(){return!this.alwaysOpen&&this.hasIssues},isExpanded:function(){return this.alwaysOpen||!this.isCollapsed},statusIconName:function(){return this.isLoading?"loading":this.loadingFailed||this.unresolvedIssues.length||this.neutralIssues.length?"warning":"success"},headerText:function(){return this.isLoading?this.loadingText:this.isSuccess?this.successText:this.loadingFailed?this.errorText:""},hasPopover:function(){return Object.keys(this.popoverOptions).length>0},slotName:function(){return this.isSuccess?"success":this.isLoading?"loading":"error"}},methods:{toggleCollapsed:function(){this.isCollapsed=!this.isCollapsed}}},qo=Object(xn.a)(Bo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"media-section"},[n("div",{staticClass:"media"},[n("status-icon",{staticClass:"align-self-center",attrs:{status:e.statusIconName,size:24}}),e._v(" "),n("div",{staticClass:"media-body d-flex flex-align-self-center align-items-center"},[n("div",{staticClass:"js-code-text code-text",attrs:{"data-testid":"report-section-code-text"}},[n("div",[e._v("\n          "+e._s(e.headerText)+"\n          "),e._t(e.slotName),e._v(" "),e.hasPopover?n("popover",{staticClass:"prepend-left-5",attrs:{options:e.popoverOptions}}):e._e()],2),e._v(" "),e._t("subHeading")],2),e._v(" "),e._t("actionButtons"),e._v(" "),e.isCollapsible?n("button",{staticClass:"js-collapse-btn btn float-right btn-sm align-self-center qa-expand-report-button",attrs:{type:"button"},on:{click:e.toggleCollapsed}},[e._v("\n        "+e._s(e.collapseText)+"\n      ")]):e._e()],2)],1),e._v(" "),e.hasIssues?n("div",{directives:[{name:"show",rawName:"v-show",value:e.isExpanded,expression:"isExpanded"}],staticClass:"js-report-section-container"},[e._t("body",[n("issues-list",{class:e.issuesListContainerClass,attrs:{"unresolved-issues":e.unresolvedIssues,"resolved-issues":e.resolvedIssues,"neutral-issues":e.neutralIssues,component:e.component,"show-report-section-status-icon":e.showReportSectionStatusIcon,"issues-ul-element-class":e.issuesUlElementClass,"issue-item-class":e.issueItemClass}})])],2):e._e()])}),[],!1,null,null,null).exports,Ao={name:"ReportSummaryRow",components:{CiIcon:Mr.a,Popover:vo,GlLoadingIcon:ji.a},props:{summary:{type:String,required:!0},statusIcon:{type:String,required:!0},popoverOptions:{type:Object,required:!1,default:null}},computed:{iconStatus:function(){return{group:this.statusIcon,icon:"status_".concat(this.statusIcon)}}}},Mo=Object(xn.a)(Ao,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"report-block-list-issue report-block-list-issue-parent align-items-center"},[n("div",{staticClass:"report-block-list-icon append-right-default"},["loading"===e.statusIcon?n("gl-loading-icon",{attrs:{"css-class":"report-block-list-loading-icon",size:"md"}}):n("ci-icon",{attrs:{status:e.iconStatus,size:24}})],1),e._v(" "),n("div",{staticClass:"report-block-list-issue-description"},[n("div",{staticClass:"report-block-list-issue-description-text",attrs:{"data-testid":"test-summary-row-description"}},[e._v("\n      "+e._s(e.summary)),e.popoverOptions?n("span",{staticClass:"text-nowrap"},[e._v("Â "),e.popoverOptions?n("popover",{staticClass:"align-top",attrs:{options:e.popoverOptions}}):e._e()],1):e._e()])]),e._v(" "),e.$slots.default?n("div",{staticClass:"text-right flex-fill d-flex justify-content-end flex-column flex-sm-row"},[e._t("default")],2):e._e()])}),[],!1,null,null,null).exports,No=n("Mifk"),$o={name:"CodeBlock",props:{code:{type:String,required:!0},maxHeight:{type:String,required:!1,default:"initial"}},computed:{styleObject:function(){var e=this.maxHeight;return"initial"!==e?{maxHeight:e,overflowY:"auto"}:null}}},Ho=Object(xn.a)($o,(function(){var e=this.$createElement,t=this._self._c||e;return t("pre",{staticClass:"code-block rounded",style:this.styleObject},[t("code",{staticClass:"d-block"},[this._v(this._s(this.code))])])}),[],!1,null,null,null).exports,Uo={components:{Modal:No.a,CodeBlock:Ho},props:{title:{type:String,required:!0},modalData:{type:Object,required:!0}},fieldTypes:_o},Vo=Object(xn.a)(Uo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("modal",{staticClass:"modal-security-report-dast modal-hide-footer",attrs:{id:"modal-mrwidget-reports","header-title-text":e.title}},[e._t("default",e._l(e.modalData,(function(t,i,r){return t.value?n("div",{key:r,staticClass:"row prepend-top-10 append-bottom-10"},[n("strong",{staticClass:"col-sm-3 text-right"},[e._v(" "+e._s(t.text)+": ")]),e._v(" "),n("div",{staticClass:"col-sm-9 text-secondary"},[t.type===e.$options.fieldTypes.codeBock?n("code-block",{attrs:{code:t.value}}):t.type===e.$options.fieldTypes.link?[n("a",{staticClass:"js-modal-link",attrs:{href:t.value,target:"_blank",rel:"noopener noreferrer"}},[e._v("\n            "+e._s(t.value)+"\n          ")])]:t.type===e.$options.fieldTypes.seconds?[e._v(e._s(e.sprintf(e.__("%{value} s"),{value:t.value})))]:t.type===e.$options.fieldTypes.text?[e._v("\n          "+e._s(t.value)+"\n        ")]:e._e()],2)]):e._e()}))),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"})],2)}),[],!1,null,null,null).exports,Wo=function(e,t){return(0,e.commit)("SET_ENDPOINT",t)},zo=function(e){return(0,e.commit)("REQUEST_REPORTS")},Go=function(){To=null},Ko=function(){To&&To.stop()},Xo=function(){To&&To.restart()},Zo=function(e){var t=e.state,n=e.dispatch;n("requestReports"),To=new Ce.a({resource:{getReports:function(e){return C.a.get(e)}},data:t.endpoint,method:"getReports",successCallback:function(e){var t=e.data,i=e.status;return n("receiveReportsSuccess",{data:t,status:i})},errorCallback:function(){return n("receiveReportsError")}}),Si.a.hidden()?C.a.get(t.endpoint).then((function(e){var t=e.data,i=e.status;return n("receiveReportsSuccess",{data:t,status:i})})).catch((function(){return n("receiveReportsError")})):To.makeRequest(),Si.a.change((function(){Si.a.hidden()?n("stopPolling"):n("restartPolling")}))},Qo=function(e,t){var n=e.commit;t.status===Pe.a.OK&&n("RECEIVE_REPORTS_SUCCESS",t.data)},Yo=function(e){return(0,e.commit)("RECEIVE_REPORTS_ERROR")},Jo=function(e,t){(0,e.dispatch)("setModalData",t),jn()("#modal-mrwidget-reports").modal("show")},ea=function(e,t){return(0,e.commit)("SET_ISSUE_MODAL_DATA",t)},ta=function(){},na=function(e){return e.isLoading?"LOADING":e.hasError||"failed"===e.status?"ERROR":"SUCCESS"},ia=function(){};function ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(n),!0).forEach((function(t){oa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ra(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aa=(oa(Io={},"SET_ENDPOINT",(function(e,t){e.endpoint=t})),oa(Io,"REQUEST_REPORTS",(function(e){e.isLoading=!0})),oa(Io,"RECEIVE_REPORTS_SUCCESS",(function(e,t){e.hasError=t.suites.some((function(e){return"error"===e.status})),e.isLoading=!1,e.summary.total=t.summary.total,e.summary.resolved=t.summary.resolved,e.summary.failed=t.summary.failed,e.summary.errored=t.summary.errored,e.status=t.status,e.reports=t.suites})),oa(Io,"RECEIVE_REPORTS_ERROR",(function(e){e.isLoading=!1,e.hasError=!0,e.reports=[],e.summary={total:0,resolved:0,failed:0,errored:0},e.status=null})),oa(Io,"SET_ISSUE_MODAL_DATA",(function(e,t){e.modal.title=t.issue.name,Object.keys(t.issue).forEach((function(n){Object.prototype.hasOwnProperty.call(e.modal.data,n)&&(e.modal.data[n]=sa(sa({},e.modal.data[n]),{},{value:t.issue[n]}))}))})),Io);n("7Kf6");h.default.use(m.b);var la=function(e){var t=e.failed,n=e.errored,i=e.resolved,r=e.total,s=(t||0)+(n||0),o=t?Object(O.c)("%d failed","%d failed",t):null,a=n?Object(O.c)("%d error","%d errors",n):null,l=t&&n?"".concat(o,", ").concat(a):o||a,c=i?Object(O.c)("%d fixed test result","%d fixed test results",i):null,u=r?Object(O.c)("out of %d total test","out of %d total tests",r):null,d=Object(O.d)("Reports|no changed test results");return s?d=i?Object(O.e)(Object(O.d)("Reports|%{combinedString} and %{resolvedString}"),{combinedString:l,resolvedString:c}):l:i&&(d=c),"".concat(d," ").concat(u)};function ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ca(Object(n),!0).forEach((function(t){da(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function da(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fa,pa,ha={name:"GroupedTestReportsApp",store:new m.b.Store({actions:c,mutations:aa,getters:u,state:{endpoint:null,isLoading:!1,hasError:!1,status:null,summary:{total:0,resolved:0,failed:0,errored:0},reports:[],modal:{title:null,data:{class:{value:null,text:Object(O.d)("Reports|Class"),type:_o.link},classname:{value:null,text:Object(O.d)("Reports|Classname"),type:_o.text},execution_time:{value:null,text:Object(O.d)("Reports|Execution time"),type:_o.seconds},failure:{value:null,text:Object(O.d)("Reports|Failure"),type:_o.codeBock},system_output:{value:null,text:Object(O.d)("Reports|System output"),type:_o.codeBock}}}}}),components:{ReportSection:qo,SummaryRow:Mo,IssuesList:Fo,Modal:Vo},props:{endpoint:{type:String,required:!0}},componentNames:po,computed:ua(ua(ua(ua({},Object(m.e)(["reports","isLoading","hasError","summary"])),Object(m.e)({modalTitle:function(e){return e.modal.title||""},modalData:function(e){return e.modal.data||{}}})),Object(m.d)(["summaryStatus"])),{},{groupedSummaryText:function(){return this.isLoading?Object(O.d)("Reports|Test summary results are being parsed"):this.hasError?Object(O.d)("Reports|Test summary failed loading results"):function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=la(t);return Object(O.e)(Object(O.a)("%{name} contained %{resultsString}"),{name:e,resultsString:n})}(Object(O.d)("Reports|Test summary"),this.summary)}}),created:function(){this.setEndpoint(this.endpoint),this.fetchReports()},methods:ua(ua({},Object(m.c)(["setEndpoint","fetchReports"])),{},{reportText:function(e){var t=e||{},n=t.name,i=t.summary;return"error"===e.status?Object(O.e)(Object(O.d)("Reports|An error occurred while loading %{name} results"),{name:n}):e.name?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=la(t);return Object(O.e)(Object(O.a)("%{name} found %{resultsString}"),{name:e,resultsString:n})}(n,i):Object(O.d)("Reports|An error occured while loading report")},getReportIcon:function(e){return"failed"===(t=e.status)?"warning":"success"===t?"success":"notfound";var t},shouldRenderIssuesList:function(e){return e.existing_failures.length>0||e.new_failures.length>0||e.resolved_failures.length>0||e.existing_errors.length>0||e.new_errors.length>0||e.resolved_errors.length>0},unresolvedIssues:function(e){return e.existing_failures.concat(e.existing_errors)},newIssues:function(e){return e.new_failures.concat(e.new_errors)},resolvedIssues:function(e){return e.resolved_failures.concat(e.resolved_errors)}})},ma=Object(xn.a)(ha,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("report-section",{staticClass:"mr-widget-section grouped-security-reports mr-report",attrs:{status:e.summaryStatus,"success-text":e.groupedSummaryText,"loading-text":e.groupedSummaryText,"error-text":e.groupedSummaryText,"has-issues":e.reports.length>0},scopedSlots:e._u([{key:"body",fn:function(){return[n("div",{staticClass:"mr-widget-grouped-section report-block"},[e._l(e.reports,(function(t,i){return[n("summary-row",{key:"summary-row-"+i,attrs:{summary:e.reportText(t),"status-icon":e.getReportIcon(t)}}),e._v(" "),e.shouldRenderIssuesList(t)?n("issues-list",{key:"issues-list-"+i,staticClass:"report-block-group-list",attrs:{"unresolved-issues":e.unresolvedIssues(t),"new-issues":e.newIssues(t),"resolved-issues":e.resolvedIssues(t),component:e.$options.componentNames.TestIssueBody}}):e._e()]})),e._v(" "),n("modal",{attrs:{title:e.modalTitle,"modal-data":e.modalData}})],2)]},proxy:!0}])})}),[],!1,null,null,null).exports,ga=function(){fa=null},ba=function(){fa&&fa.stop()},va=function(){fa&&fa.restart()},_a=function(e,t){return(0,e.commit)("SET_ENDPOINT",t)},ya=function(e){var t=e.state,n=e.dispatch;(0,e.commit)("REQUEST_REPORT"),fa=new Ce.a({resource:{getReport:function(e){return C.a.get(e)}},data:t.endpoint,method:"getReport",successCallback:function(e){var t=e.status,i=e.data;return n("receiveReportSuccess",{status:t,data:i})},errorCallback:function(){return n("receiveReportError")}}),Si.a.hidden()?C.a.get(t.endpoint).then((function(e){var t=e.status,i=e.data;return n("receiveReportSuccess",{status:t,data:i})})).catch((function(){return n("receiveReportError")})):fa.makeRequest(),Si.a.change((function(){!Si.a.hidden()&&t.isLoading?n("restartPolling"):n("stopPolling")}))},wa=function(e,t){var n=e.commit,i=e.dispatch,r=t.status,s=t.data;r===Pe.a.OK&&(n("RECEIVE_REPORT_SUCCESS",s),i("stopPolling"))},Oa=function(e){var t=e.commit,n=e.dispatch;t("RECEIVE_REPORT_ERROR"),n("stopPolling")},ja=function(){},Ca=function(e){var t,n;if(e.isLoading)return Object(O.d)("Reports|Accessibility scanning results are being parsed");if(e.hasError)return Object(O.d)("Reports|Accessibility scanning failed loading results");var i=(null===(t=e.report)||void 0===t?void 0:null===(n=t.summary)||void 0===n?void 0:n.errored)||0;return 0===i?Object(O.d)("Reports|Accessibility scanning detected no issues for the source branch only"):Object(O.c)("Reports|Accessibility scanning detected %d issue for the source branch only","Reports|Accessibility scanning detected %d issues for the source branch only",i)},Pa=function(e){return e.isLoading?"LOADING":e.hasError||"failed"===e.status?"ERROR":"SUCCESS"},Da=function(e){return Object.values(e.report).some((function(e){return Array.isArray(e)&&e.length>0}))},Sa=function(e){return e.report.existing_errors},ka=function(e){return e.report.resolved_errors},xa=function(e){return e.report.new_errors},Ea=function(){};function Ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ia=(Ta(pa={},"SET_ENDPOINT",(function(e,t){e.endpoint=t})),Ta(pa,"REQUEST_REPORT",(function(e){e.isLoading=!0})),Ta(pa,"RECEIVE_REPORT_SUCCESS",(function(e,t){e.hasError=!1,e.isLoading=!1,e.report=t})),Ta(pa,"RECEIVE_REPORT_ERROR",(function(e){e.isLoading=!1,e.hasError=!0,e.report={}})),pa),Ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{endpoint:e.endpoint||"",isLoading:e.isLoading||!1,hasError:e.hasError||!1,report:e.report||{}}};h.default.use(m.b);function La(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?La(Object(n),!0).forEach((function(t){Ba(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):La(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ba(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qa,Aa={name:"GroupedAccessibilityReportsApp",store:new m.b.Store({actions:d,getters:f,mutations:Ia,state:Ra(qa)}),components:{ReportSection:qo,IssuesList:Fo},props:{endpoint:{type:String,required:!0}},componentNames:po,computed:Fa({},Object(m.d)(["summaryStatus","groupedSummaryText","shouldRenderIssuesList","unresolvedIssues","resolvedIssues","newIssues"])),created:function(){this.setEndpoint(this.endpoint),this.fetchReport()},methods:Fa({},Object(m.c)(["fetchReport","setEndpoint"]))};function Ma(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,s=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Na(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Na(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Na(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function $a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$a(Object(n),!0).forEach((function(t){Ua(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ua(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Va={el:"#js-vue-mr-widget",name:"MRWidget",components:{Loading:Qn,"mr-widget-header":ai,"mr-widget-suggest-pipeline":gi,"mr-widget-merge-help":vi,MrWidgetPipelineContainer:Hr,Deployment:Br,"mr-widget-related-links":Vr,MrWidgetAlertMessage:zr,"mr-widget-merged":ts,"mr-widget-closed":is,"mr-widget-merging":ss,"mr-widget-failed-to-merge":zs,"mr-widget-wip":us,"mr-widget-archived":fs,"mr-widget-conflicts":ms,"mr-widget-nothing-to-merge":bs,"mr-widget-not-allowed":ws,"mr-widget-missing-branch":_s,"mr-widget-ready-to-merge":qs,"sha-mismatch":qs,"mr-widget-checking":Ys,"mr-widget-unresolved-discussions":Ms,"mr-widget-pipeline-blocked":$s,"mr-widget-pipeline-failed":Us,MrWidgetAutoMergeEnabled:Ks,"mr-widget-auto-merge-failed":Zs,"mr-widget-rebase":ls,SourceBranchRemovalStatus:no,GroupedTestReportsApp:ma,TerraformPlan:ro,GroupedAccessibilityReportsApp:Object(xn.a)(Aa,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("report-section",{staticClass:"mr-widget-section grouped-security-reports mr-report",attrs:{status:e.summaryStatus,"success-text":e.groupedSummaryText,"loading-text":e.groupedSummaryText,"error-text":e.groupedSummaryText,"has-issues":e.shouldRenderIssuesList},scopedSlots:e._u([{key:"body",fn:function(){return[n("div",{staticClass:"mr-widget-grouped-section report-block"},[e.shouldRenderIssuesList?n("issues-list",{staticClass:"report-block-group-list",attrs:{"unresolved-issues":e.unresolvedIssues,"new-issues":e.newIssues,"resolved-issues":e.resolvedIssues,component:e.$options.componentNames.AccessibilityIssueBody}}):e._e()],1)]},proxy:!0}])})}),[],!1,null,null,null).exports},props:{mrData:{type:Object,required:!1,default:null}},data:function(){var e=this.mrData&&new Un(this.mrData);return{mr:e,state:e&&e.state,service:e&&this.createService(e)}},computed:{componentName:function(){return Fn.stateToComponentMap[this.mr.state]},shouldRenderMergeHelp:function(){return Fn.statesToShowHelpWidget.indexOf(this.mr.state)>-1},hasPipelineMustSucceedConflict:function(){return!this.mr.hasCI&&this.mr.onlyAllowMergeIfPipelineSucceeds},shouldRenderPipelines:function(){return this.mr.hasCI||this.hasPipelineMustSucceedConflict},shouldSuggestPipelines:function(){var e;return(null===(e=gon.features)||void 0===e?void 0:e.suggestPipeline)&&!this.mr.hasCI&&this.mr.mergeRequestAddCiConfigPath},shouldRenderRelatedLinks:function(){return Boolean(this.mr.relatedLinks)&&!this.mr.isNothingToMergeState},shouldRenderSourceBranchRemovalStatus:function(){return!this.mr.canRemoveSourceBranch&&this.mr.shouldRemoveSourceBranch&&!this.mr.isNothingToMergeState&&!this.mr.isMergedState},shouldRenderCollaborationStatus:function(){return this.mr.allowCollaboration&&this.mr.isOpen},shouldRenderMergedPipeline:function(){return"merged"===this.mr.state&&!In()(this.mr.mergePipeline)},showMergePipelineForkWarning:function(){return Boolean(this.mr.mergePipelinesEnabled&&this.mr.sourceProjectId!==this.mr.targetProjectId)},mergeError:function(){var e=this.mr.mergeError;return e&&"."===e.slice(-1)&&(e=e.slice(0,-1)),Object(O.e)(Object(O.d)("mrWidget|Merge failed: %{mergeError}. Please try again."),{mergeError:e})},shouldShowAccessibilityReport:function(){return this.mr.accessibilityReportPath}},watch:{state:function(e,t){e!==t&&this.shouldRenderMergedPipeline&&this.initPostMergeDeploymentsPolling()}},mounted:function(){var e=this;Gn.fetchInitialData().then((function(t){var n=t.data;return e.initWidget(n)})).catch((function(){return Object(w.a)(Object(O.a)("Unable to load the merge request widget. Try reloading the page."))}))},beforeDestroy:function(){Jr.a.$off("mr.discussion.updated",this.checkStatus),this.pollingInterval&&this.pollingInterval.destroy(),this.deploymentsInterval&&this.deploymentsInterval.destroy(),this.postMergeDeploymentsInterval&&this.postMergeDeploymentsInterval.destroy()},methods:{initWidget:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mr?this.mr.setData(Ha(Ha({},window.gl.mrWidgetData),e)):this.mr=new Un(Ha(Ha({},window.gl.mrWidgetData),e)),this.state||(this.state=this.mr.state),this.service||(this.service=this.createService(this.mr)),this.setFaviconHelper(),this.initDeploymentsPolling(),this.shouldRenderMergedPipeline&&this.initPostMergeDeploymentsPolling(),this.initPolling(),this.bindEventHubListeners(),Jr.a.$on("mr.discussion.updated",this.checkStatus)},getServiceEndpoints:function(e){return{mergePath:e.mergePath,mergeCheckPath:e.mergeCheckPath,cancelAutoMergePath:e.cancelAutoMergePath,removeWIPPath:e.removeWIPPath,sourceBranchPath:e.sourceBranchPath,ciEnvironmentsStatusPath:e.ciEnvironmentsStatusPath,mergeRequestBasicPath:e.mergeRequestBasicPath,mergeRequestWidgetPath:e.mergeRequestWidgetPath,mergeRequestCachedWidgetPath:e.mergeRequestCachedWidgetPath,mergeActionsContentPath:e.mergeActionsContentPath,rebasePath:e.rebasePath}},createService:function(e){return new Gn(this.getServiceEndpoints(e))},checkStatus:function(e,t){var n=this;return this.service.checkStatus().then((function(i){var r=i.data;n.handleNotification(r),n.mr.setData(r,t),n.setFaviconHelper(),e&&e.call(null,r)})).catch((function(){return Object(w.a)(Object(O.a)("Something went wrong. Please try again."))}))},setFaviconHelper:function(){return this.mr.ciStatusFaviconPath?Object(j.U)(this.mr.ciStatusFaviconPath):Promise.resolve()},initPolling:function(){var e,t;this.pollingInterval=new Xn.a({callback:this.checkStatus,startingInterval:1e4,maxInterval:24e4,hiddenInterval:(null===(e=window.gon)||void 0===e?void 0:null===(t=e.features)||void 0===t?void 0:t.widgetVisibilityPolling)&&36e4,incrementByFactorOf:2})},initDeploymentsPolling:function(){this.deploymentsInterval=this.deploymentsPoll(this.fetchPreMergeDeployments)},initPostMergeDeploymentsPolling:function(){this.postMergeDeploymentsInterval=this.deploymentsPoll(this.fetchPostMergeDeployments)},deploymentsPoll:function(e){return new Xn.a({callback:e,startingInterval:3e4,maxInterval:24e4,incrementByFactorOf:4,immediateExecution:!0})},fetchDeployments:function(e){return this.service.fetchDeployments(e)},fetchPreMergeDeployments:function(){var e=this;return this.fetchDeployments().then((function(t){var n=t.data;n.length&&(e.mr.deployments=n)})).catch((function(){return e.throwDeploymentsError()}))},fetchPostMergeDeployments:function(){var e=this;return this.fetchDeployments("merge_commit").then((function(t){var n=t.data;n.length&&(e.mr.postMergeDeployments=n)})).catch((function(){return e.throwDeploymentsError()}))},throwDeploymentsError:function(){Object(w.a)(Object(O.a)("Something went wrong while fetching the environments for this merge request. Please try again."))},fetchActionsContent:function(){this.service.fetchMergeActionsContent().then((function(e){if(e.data){var t=document.createElement("div");t.innerHTML=e.data,document.body.appendChild(t),Kn.a.initRefSwitcher()}})).catch((function(){return Object(w.a)(Object(O.a)("Something went wrong. Please try again."))}))},handleNotification:function(e){if(e.ci_status!==this.mr.ciStatus&&e.pipeline){var t=e.pipeline.details.status.label,n=Object(O.e)(Object(O.a)("Pipeline %{label}"),{label:t}),i=Object(O.e)(Object(O.a)('Pipeline %{label} for "%{dataTitle}"'),{dataTitle:e.title,label:t});eo.notifyMe(n,i,this.mr.gitlabLogo)}},resumePolling:function(){this.pollingInterval.resume()},stopPolling:function(){this.pollingInterval.stopTimer()},bindEventHubListeners:function(){var e=this;Jr.a.$on("MRWidgetUpdateRequested",(function(t){e.checkStatus(t)})),Jr.a.$on("MRWidgetRebaseSuccess",(function(t){e.checkStatus(t,!0)})),Jr.a.$on("SetBranchRemoveFlag",(function(t){var n=Ma(t,1);e.mr.isRemovingSourceBranch=n[0]})),Jr.a.$on("FailedToMerge",(function(t){e.mr.state="failedToMerge",e.mr.mergeError=t})),Jr.a.$on("UpdateWidgetData",(function(t){e.mr.setData(t)})),Jr.a.$on("FetchActionsContent",(function(){e.fetchActionsContent()})),Jr.a.$on("EnablePolling",(function(){e.resumePolling()})),Jr.a.$on("DisablePolling",(function(){e.stopPolling()}))}}},Wa=Object(xn.a)(Va,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.mr?n("div",{staticClass:"mr-state-widget prepend-top-default"},[n("mr-widget-header",{attrs:{mr:e.mr}}),e._v(" "),e.shouldSuggestPipelines?n("mr-widget-suggest-pipeline",{staticClass:"mr-widget-workflow",attrs:{"pipeline-path":e.mr.mergeRequestAddCiConfigPath,"pipeline-svg-path":e.mr.pipelinesEmptySvgPath,"human-access":e.mr.humanAccess.toLowerCase()}}):e._e(),e._v(" "),e.shouldRenderPipelines?n("mr-widget-pipeline-container",{staticClass:"mr-widget-workflow",attrs:{mr:e.mr}}):e._e(),e._v(" "),n("div",{staticClass:"mr-section-container mr-widget-workflow"},[e.mr.testResultsPath?n("grouped-test-reports-app",{staticClass:"js-reports-container",attrs:{endpoint:e.mr.testResultsPath}}):e._e(),e._v(" "),e.mr.terraformReportsPath?n("terraform-plan",{attrs:{endpoint:e.mr.terraformReportsPath}}):e._e(),e._v(" "),e.shouldShowAccessibilityReport?n("grouped-accessibility-reports-app",{attrs:{endpoint:e.mr.accessibilityReportPath}}):e._e(),e._v(" "),n("div",{staticClass:"mr-widget-section"},[n(e.componentName,{tag:"component",attrs:{mr:e.mr,service:e.service}}),e._v(" "),n("div",{staticClass:"mr-widget-info"},[e.shouldRenderCollaborationStatus?n("section",{staticClass:"mr-info-list mr-links"},[n("p",[e._v("\n            "+e._s(e.s__("mrWidget|Allows commits from members who can merge to the target branch"))+"\n          ")])]):e._e(),e._v(" "),e.shouldRenderRelatedLinks?n("mr-widget-related-links",{attrs:{state:e.mr.state,"related-links":e.mr.relatedLinks}}):e._e(),e._v(" "),e.showMergePipelineForkWarning?n("mr-widget-alert-message",{attrs:{type:"warning","help-path":e.mr.mergeRequestPipelinesHelpPath}},[e._v("\n          "+e._s(e.s__("mrWidget|Fork merge requests do not create merge request pipelines which validate a post merge result"))+"\n        ")]):e._e(),e._v(" "),e.mr.mergeError?n("mr-widget-alert-message",{attrs:{type:"danger"}},[e._v("\n          "+e._s(e.mergeError)+"\n        ")]):e._e(),e._v(" "),e.shouldRenderSourceBranchRemovalStatus?n("source-branch-removal-status"):e._e()],1)],1),e._v(" "),e.shouldRenderMergeHelp?n("div",{staticClass:"mr-widget-footer"},[n("mr-widget-merge-help")],1):e._e()],1),e._v(" "),e.shouldRenderMergedPipeline?n("mr-widget-pipeline-container",{staticClass:"js-post-merge-pipeline mr-widget-workflow",attrs:{mr:e.mr,"is-post-merge":!0}}):e._e()],1):n("loading")}),[],!1,null,null,null).exports,za=n("0KyK");h.default.use(za.a);function Ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ka(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(n),!0).forEach((function(t){Xa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Za=function(){new h.default({el:"#js-vue-mr-discussions",name:"MergeRequestDiscussions",components:{notesApp:Cn.a},store:wn,data:function(){var e=document.getElementById("js-vue-mr-discussions").dataset,t=JSON.parse(e.noteableData);return t.noteableType=e.noteableType,t.targetType=e.targetType,{noteableData:t,currentUserData:JSON.parse(e.currentUserData),notesData:JSON.parse(e.notesData),helpPagePath:e.helpPagePath}},computed:Ka(Ka(Ka({},Object(m.d)(["discussionTabCounter"])),Object(m.e)({activeTab:function(e){return e.page.activeTab}})),{},{isShowTabActive:function(){return"show"===this.activeTab}}),watch:{discussionTabCounter:function(){this.updateDiscussionTabCounter()},isShowTabActive:{handler:function(e){e&&function(){if(!gl.mrWidget){gl.mrWidgetData.gitlabLogo=gon.gitlab_logo;var e=new h.default(Wa);window.gl.mrWidget={checkStatus:e.checkStatus}}}()},immediate:!0}},created:function(){this.setActiveTab(window.mrTabs.getCurrentAction())},mounted:function(){this.notesCountBadge=jn()(".issuable-details").find(".notes-tab .badge"),jn()(document).on("visibilitychange",this.updateDiscussionTabCounter),window.mrTabs.eventHub.$on("MergeRequestTabChange",this.setActiveTab)},beforeDestroy:function(){jn()(document).off("visibilitychange",this.updateDiscussionTabCounter),window.mrTabs.eventHub.$off("MergeRequestTabChange",this.setActiveTab)},methods:Ka(Ka({},Object(m.c)(["setActiveTab"])),{},{updateDiscussionTabCounter:function(){this.notesCountBadge.text(this.discussionTabCounter)}}),render:function(e){return e(En,[e("notes-app",{props:{noteableData:this.noteableData,notesData:this.notesData,userData:this.currentUserData,shouldShow:this.isShowTabActive,helpPagePath:this.helpPagePath}})])}})},Qa=n("TwKd"),Ya=n("f8Rl");function Ja(e){var t;return(null==e?void 0:null===(t=e.highlighted_diff_lines)||void 0===t?void 0:t.length)>0}function el(e){var t;return(null==e?void 0:null===(t=e.parallel_diff_lines)||void 0===t?void 0:t.length)>0}var tl=n("Zvrg"),nl=n("Fsq/"),il={components:{Icon:ei.a,TimeAgo:nl.a},props:{versions:{type:Array,required:!0}},computed:{selectedVersionName:function(){var e;return(null===(e=this.versions.find((function(e){return e.selected})))||void 0===e?void 0:e.versionName)||""}}},rl=(n("YUKG"),Object(xn.a)(il,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"dropdown inline"},[n("a",{staticClass:"dropdown-menu-toggle btn btn-default w-100",attrs:{"data-toggle":"dropdown","aria-expanded":"false"}},[n("span",[e._v(" "+e._s(e.selectedVersionName)+" ")]),e._v(" "),n("icon",{staticClass:"position-absolute",attrs:{size:12,name:"angle-down"}})],1),e._v(" "),n("div",{staticClass:"dropdown-menu dropdown-select dropdown-menu-selectable"},[n("div",{staticClass:"dropdown-content"},[n("ul",e._l(e.versions,(function(t){return n("li",{key:t.id},[n("a",{class:{"is-active":t.selected},attrs:{href:t.href}},[n("div",[n("strong",[e._v("\n                "+e._s(t.versionName)+"\n                "),t.isHead?[e._v(e._s(e.s__("DiffsCompareBaseBranch|(HEAD)")))]:t.isBase?[e._v(e._s(e.s__("DiffsCompareBaseBranch|(base)")))]:e._e()],2)]),e._v(" "),n("div",[n("small",{staticClass:"commit-sha"},[e._v(" "+e._s(t.short_commit_sha)+" ")])]),e._v(" "),n("div",[n("small",[t.commitsText?[e._v("\n                  "+e._s(t.commitsText)+"\n                ")]:e._e(),e._v(" "),t.created_at?n("time-ago",{staticClass:"js-timeago",attrs:{time:t.created_at}}):e._e()],2)])])])})),0)])])])}),[],!1,null,null,null).exports);function sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ol(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sl(Object(n),!0).forEach((function(t){al(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function al(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ll={components:{GlDeprecatedButton:di.a,Icon:ei.a},computed:ol(ol({},Object(m.d)("diffs",["isInlineView","isParallelView"])),Object(m.e)("diffs",["renderTreeList","showWhitespace"])),methods:ol({},Object(m.c)("diffs",["setInlineDiffViewType","setParallelDiffViewType","setRenderTreeList","setShowWhitespace"]))},cl=Object(xn.a)(ll,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown"},[n("button",{staticClass:"btn btn-default js-show-diff-settings",attrs:{type:"button","data-toggle":"dropdown","data-display":"static"}},[n("icon",{attrs:{name:"settings"}}),e._v(" "),n("icon",{attrs:{name:"chevron-down"}})],1),e._v(" "),n("div",{staticClass:"dropdown-menu dropdown-menu-right p-2 pt-3 pb-3"},[n("div",[n("span",{staticClass:"bold d-block mb-1"},[e._v(e._s(e.__("File browser")))]),e._v(" "),n("div",{staticClass:"btn-group d-flex"},[n("gl-deprecated-button",{staticClass:"w-100 js-list-view",class:{active:!e.renderTreeList},on:{click:function(t){return e.setRenderTreeList(!1)}}},[e._v("\n          "+e._s(e.__("List view"))+"\n        ")]),e._v(" "),n("gl-deprecated-button",{staticClass:"w-100 js-tree-view",class:{active:e.renderTreeList},on:{click:function(t){return e.setRenderTreeList(!0)}}},[e._v("\n          "+e._s(e.__("Tree view"))+"\n        ")])],1)]),e._v(" "),n("div",{staticClass:"mt-2"},[n("span",{staticClass:"bold d-block mb-1"},[e._v(e._s(e.__("Compare changes")))]),e._v(" "),n("div",{staticClass:"btn-group d-flex js-diff-view-buttons"},[n("gl-deprecated-button",{staticClass:"w-100 js-inline-diff-button",class:{active:e.isInlineView},attrs:{id:"inline-diff-btn","data-view-type":"inline"},on:{click:e.setInlineDiffViewType}},[e._v("\n          "+e._s(e.__("Inline"))+"\n        ")]),e._v(" "),n("gl-deprecated-button",{staticClass:"w-100 js-parallel-diff-button",class:{active:e.isParallelView},attrs:{id:"parallel-diff-btn","data-view-type":"parallel"},on:{click:e.setParallelDiffViewType}},[e._v("\n          "+e._s(e.__("Side-by-side"))+"\n        ")])],1)]),e._v(" "),n("div",{staticClass:"mt-2"},[n("label",{staticClass:"mb-0"},[n("input",{attrs:{id:"show-whitespace",type:"checkbox"},domProps:{checked:e.showWhitespace},on:{change:function(t){return e.setShowWhitespace({showWhitespace:t.target.checked,pushState:!0})}}}),e._v("\n        "+e._s(e.__("Show whitespace changes"))+"\n      ")])])])])}),[],!1,null,null,null).exports,ul=n("l+kv");function dl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function fl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dl(Object(n),!0).forEach((function(t){pl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hl={components:{CompareDropdownLayout:rl,Icon:ei.a,GlLink:li.a,GlDeprecatedButton:di.a,GlSprintf:ci.a,SettingsDropdown:cl,DiffStats:ul.a},directives:{GlTooltip:Xi.a},props:{mergeRequestDiffs:{type:Array,required:!0},isLimitedContainer:{type:Boolean,required:!1,default:!1},diffFilesLength:{type:Number,required:!0}},computed:fl(fl(fl({},Object(m.d)("diffs",["hasCollapsedFile","diffCompareDropdownTargetVersions","diffCompareDropdownSourceVersions"])),Object(m.e)("diffs",["commit","showTreeList","startVersion","latestVersionPath","addedLines","removedLines"])),{},{showDropdowns:function(){return!this.commit&&this.mergeRequestDiffs.length},toggleFileBrowserTitle:function(){return this.showTreeList?Object(O.a)("Hide file browser"):Object(O.a)("Show file browser")}}),created:function(){this.CENTERED_LIMITED_CONTAINER_CLASSES=Fe.a},mounted:function(){Object(tl.a)(this.$el)},methods:fl({},Object(m.c)("diffs",["setInlineDiffViewType","setParallelDiffViewType","expandAllFiles","toggleShowTreeList"]))},ml=Object(xn.a)(hl,(function(){var e,t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"mr-version-controls border-top"},[i("div",{staticClass:"mr-version-menus-container content-block",class:(e={},e[t.CENTERED_LIMITED_CONTAINER_CLASSES]=t.isLimitedContainer,e)},[i("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-default gl-mr-3 js-toggle-tree-list",class:{active:t.showTreeList},attrs:{type:"button",title:t.toggleFileBrowserTitle},on:{click:t.toggleShowTreeList}},[i("icon",{attrs:{name:"file-tree"}})],1),t._v(" "),t.showDropdowns?i("gl-sprintf",{staticClass:"d-flex align-items-center compare-versions-container",attrs:{message:t.s__("MergeRequest|Compare %{target} and %{source}")},scopedSlots:t._u([{key:"target",fn:function(){return[i("compare-dropdown-layout",{staticClass:"mr-version-compare-dropdown",attrs:{versions:t.diffCompareDropdownTargetVersions}})]},proxy:!0},{key:"source",fn:function(){return[i("compare-dropdown-layout",{staticClass:"mr-version-dropdown",attrs:{versions:t.diffCompareDropdownSourceVersions}})]},proxy:!0}],null,!1,1508540931)}):t.commit?i("div",[t._v("\n      "+t._s(t.__("Viewing commit"))+"\n      "),i("gl-link",{staticClass:"monospace",attrs:{href:t.commit.commit_url}},[t._v(t._s(t.commit.short_id))])],1):t._e(),t._v(" "),i("div",{staticClass:"inline-parallel-buttons d-none d-md-flex ml-auto"},[i("diff-stats",{attrs:{"diff-files-length":t.diffFilesLength,"added-lines":t.addedLines,"removed-lines":t.removedLines}}),t._v(" "),t.commit||t.startVersion?i("gl-deprecated-button",{staticClass:"gl-mr-3 js-latest-version",attrs:{href:t.latestVersionPath}},[t._v("\n        "+t._s(t.__("Show latest version"))+"\n      ")]):t._e(),t._v(" "),i("gl-deprecated-button",{directives:[{name:"show",rawName:"v-show",value:t.hasCollapsedFile,expression:"hasCollapsedFile"}],staticClass:"gl-mr-3",on:{click:t.expandAllFiles}},[t._v("\n        "+t._s(t.__("Expand all"))+"\n      ")]),t._v(" "),i("settings-dropdown")],1)],1)])}),[],!1,null,null,null).exports,bl=n("Xa9V"),vl=n("IwtM");function _l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function yl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_l(Object(n),!0).forEach((function(t){wl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ol={computed:yl(yl({},Object(m.d)("batchComments",["shouldRenderDraftRow","shouldRenderParallelDraftRow","draftForLine","draftsForFile","hasParallelDraftLeft","hasParallelDraftRight"])),{},{imageDiscussions:function(){return this.diffFile.discussions.concat(this.draftsForFile(this.diffFile.file_hash))}})},jl=n("x/Tb"),Cl=Object(xn.a)({},(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"nothing-here-block"},[this._v("\n  "+this._s(this.__("This diff was suppressed by a .gitattributes entry."))+"\n")])}),[],!1,null,null,null).exports,Pl=Object(xn.a)({},(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"nothing-here-block"},[this._v("\n  "+this._s(this.__("No preview for this file type"))+"\n")])}),[],!1,null,null,null).exports,Dl=n("669a"),Sl=n("PTFM");function kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kl(Object(n),!0).forEach((function(t){El(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function El(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tl={components:{DraftNote:Sl.a},mixins:[Dl.a],props:{fileHash:{type:String,required:!0}},computed:xl(xl({},Object(m.d)("batchComments",["draftsForFile"])),{},{drafts:function(){return this.draftsForFile(this.fileHash)}})},Il=Object(xn.a)(Tl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.drafts,(function(t,i){return n("div",{key:t.id,staticClass:"discussion-notes diff-discussions position-relative"},[n("div",{staticClass:"notes"},[n("span",{staticClass:"d-block btn-transparent badge badge-pill is-draft js-diff-notes-index"},[e._v("\n        "+e._s(e.toggleText(t,i))+"\n      ")]),e._v(" "),n("draft-note",{attrs:{draft:t}})],1)])})),0)}),[],!1,null,null,null).exports,Rl={components:{DraftNote:Sl.a},props:{draft:{type:Object,required:!0},diffFile:{type:Object,required:!0},line:{type:Object,required:!1,default:null}}},Ll=Object(xn.a)(Rl,(function(){var e=this.$createElement,t=this._self._c||e;return t("tr",{staticClass:"notes_holder js-temp-notes-holder"},[t("td",{staticClass:"notes-content",attrs:{colspan:"4"}},[t("div",{staticClass:"content"},[t("draft-note",{attrs:{draft:this.draft,"diff-file":this.diffFile,line:this.line}})],1)])])}),[],!1,null,null,null).exports,Fl=n("+kWK"),Bl={components:{Icon:ei.a,UserAvatarImage:Fl.a},directives:{GlTooltip:Xi.a},props:{discussions:{type:Array,required:!0},discussionsExpanded:{type:Boolean,required:!1,default:!1}},computed:{allDiscussions:function(){return this.discussions.reduce((function(e,t){return e.concat(t.notes)}),[])},notesInGutter:function(){return this.allDiscussions.slice(0,Fe.d).map((function(e){return{note:e.note,author:e.author}}))},moreCount:function(){return this.allDiscussions.length-this.notesInGutter.length},moreText:function(){return 0===this.moreCount?"":Object(O.c)("%d more comment","%d more comments",this.moreCount)}},methods:{getTooltipText:function(e){var t=e.note;return t.length>Fe.q&&(t=Object(Vs.o)(t,Fe.q)),"".concat(e.author.name,": ").concat(t)}}};function ql(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Al(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ql(Object(n),!0).forEach((function(t){Ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ql(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ml(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nl={components:{DiffGutterAvatars:Object(xn.a)(Bl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"diff-comment-avatar-holders"},[e.discussionsExpanded?n("button",{staticClass:"diff-notes-collapse js-diff-comment-avatar js-diff-comment-button",attrs:{type:"button","aria-label":e.__("Show comments")},on:{click:function(t){return e.$emit("toggleLineDiscussions")}}},[n("icon",{attrs:{size:12,name:"collapse"}})],1):[e._l(e.notesInGutter,(function(t){return n("user-avatar-image",{key:t.id,staticClass:"diff-comment-avatar js-diff-comment-avatar",attrs:{"img-src":t.author.avatar_url,"tooltip-text":e.getTooltipText(t)},nativeOn:{click:function(t){return e.$emit("toggleLineDiscussions")}}})})),e._v(" "),e.moreText?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"diff-comments-more-count js-diff-comment-avatar js-diff-comment-plus",attrs:{title:e.moreText,"data-container":"body","data-placement":"top",role:"button"},on:{click:function(t){return e.$emit("toggleLineDiscussions")}}},[e._v("+"+e._s(e.moreCount))]):e._e()]],2)}),[],!1,null,null,null).exports,GlIcon:Gi.a},props:{line:{type:Object,required:!0},fileHash:{type:String,required:!0},contextLinesPath:{type:String,required:!0},isHighlighted:{type:Boolean,required:!0},showCommentButton:{type:Boolean,required:!1,default:!1},linePosition:{type:String,required:!1,default:""},lineType:{type:String,required:!1,default:""},isContentLine:{type:Boolean,required:!1,default:!1},isBottom:{type:Boolean,required:!1,default:!1},isHover:{type:Boolean,required:!1,default:!1}},computed:Al(Al({},Object(m.d)(["isLoggedIn"])),{},{lineCode:function(){return this.line.line_code||this.line.left&&this.line.left.line_code||this.line.right&&this.line.right.line_code},lineHref:function(){return"#".concat(this.line.line_code||"")},shouldShowCommentButton:function(){return this.isHover&&!this.isMatchLine&&!this.isContextLine&&!this.isMetaLine&&!this.hasDiscussions},hasDiscussions:function(){return this.line.discussions&&this.line.discussions.length>0},shouldShowAvatarsOnGutter:function(){return!(!this.line.type&&this.linePosition===Fe.u)&&(this.showCommentButton&&this.hasDiscussions)},shouldRenderCommentButton:function(){var e;return!(!this.isLoggedIn||!this.showCommentButton)&&(!Object(j.H)(Object(j.o)("diff_head"))||(null===(e=gon.features)||void 0===e?void 0:e.mergeRefHeadComments))},isMatchLine:function(){return this.line.type===Fe.w},isContextLine:function(){return this.line.type===Fe.c},isMetaLine:function(){var e=this.line.type;return e===Fe.J||e===Fe.G||e===Fe.j},classNameMap:function(){var e;return[this.line.type,(e={hll:this.isHighlighted},Ml(e,Fe.v,this.isMatchLine),Ml(e,Fe.s,this.isLoggedIn&&this.isHover&&!this.isMatchLine&&!this.isContextLine&&!this.isMetaLine),e)]},lineNumber:function(){return this.lineType===Fe.I?this.line.old_line:this.line.new_line}}),methods:Al(Al({},Object(m.c)("diffs",["showCommentForm","setHighlightedRow","toggleLineDiscussions"])),{},{handleCommentButton:function(){this.showCommentForm({lineCode:this.line.line_code,fileHash:this.fileHash})}})},$l=Object(xn.a)(Nl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",{ref:"td",class:e.classNameMap},[n("div",[e.shouldRenderCommentButton?n("button",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowCommentButton,expression:"shouldShowCommentButton"}],ref:"addDiffNoteButton",staticClass:"add-diff-note js-add-diff-note-button qa-diff-comment",attrs:{type:"button",title:"Add a comment to this line"},on:{click:e.handleCommentButton}},[n("gl-icon",{attrs:{size:12,name:"comment"}})],1):e._e(),e._v(" "),e.lineNumber?n("a",{ref:"lineNumberRef",attrs:{"data-linenumber":e.lineNumber,href:e.lineHref},on:{click:function(t){return e.setHighlightedRow(e.lineCode)}}}):e._e(),e._v(" "),e.shouldShowAvatarsOnGutter?n("diff-gutter-avatars",{attrs:{discussions:e.line.discussions,"discussions-expanded":e.line.discussionsExpanded},on:{toggleLineDiscussions:function(t){return e.toggleLineDiscussions({lineCode:e.lineCode,fileHash:e.fileHash,expanded:!e.line.discussionsExpanded})}}}):e._e()],1)])}),[],!1,null,null,null).exports;function Hl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ul(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hl(Object(n),!0).forEach((function(t){Vl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wl={components:{DiffTableCell:$l},directives:{GlTooltip:Xi.a},props:{fileHash:{type:String,required:!0},filePath:{type:String,required:!0},contextLinesPath:{type:String,required:!0},line:{type:Object,required:!0},isBottom:{type:Boolean,required:!1,default:!1}},data:function(){return{isHover:!1}},computed:Ul(Ul(Ul({},Object(m.d)("diffs",["fileLineCoverage"])),Object(m.e)({isHighlighted:function(e){return null!==this.line.line_code&&this.line.line_code===e.diffs.highlightedRow}})),{},{isContextLine:function(){return this.line.type===Fe.c},classNameMap:function(){return[this.line.type,Vl({},Fe.b,this.isContextLine)]},inlineRowId:function(){return this.line.line_code||"".concat(this.fileHash,"_").concat(this.line.old_line,"_").concat(this.line.new_line)},isMatchLine:function(){return this.line.type===Fe.w},coverageState:function(){return this.fileLineCoverage(this.filePath,this.line.new_line)}}),created:function(){this.newLineType=Fe.F,this.oldLineType=Fe.I,this.linePositionLeft=Fe.t,this.linePositionRight=Fe.u},mounted:function(){this.scrollToLineIfNeededInline(this.line)},methods:Ul(Ul({},Object(m.c)("diffs",["scrollToLineIfNeededInline"])),{},{handleMouseMove:function(e){this.isHover="mouseover"===e.type}})},zl=Object(xn.a)(Wl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isMatchLine?e._e():n("tr",{staticClass:"line_holder",class:e.classNameMap,attrs:{id:e.inlineRowId},on:{mouseover:e.handleMouseMove,mouseout:e.handleMouseMove}},[n("diff-table-cell",{staticClass:"diff-line-num old_line",attrs:{"file-hash":e.fileHash,"context-lines-path":e.contextLinesPath,line:e.line,"line-type":e.oldLineType,"is-bottom":e.isBottom,"is-hover":e.isHover,"show-comment-button":!0,"is-highlighted":e.isHighlighted}}),e._v(" "),n("diff-table-cell",{staticClass:"diff-line-num new_line qa-new-diff-line",attrs:{"file-hash":e.fileHash,"context-lines-path":e.contextLinesPath,line:e.line,"line-type":e.newLineType,"is-bottom":e.isBottom,"is-hover":e.isHover,"is-highlighted":e.isHighlighted}}),e._v(" "),n("td",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],staticClass:"line-coverage",class:[e.line.type,e.coverageState.class,{hll:e.isHighlighted}],attrs:{title:e.coverageState.text}}),e._v(" "),n("td",{staticClass:"line_content with-coverage",class:[e.line.type,{hll:e.isHighlighted}],domProps:{innerHTML:e._s(e.line.rich_text)}})],1)}),[],!1,null,null,null).exports;function Gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Kl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gl(Object(n),!0).forEach((function(t){Xl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zl={components:{noteableDiscussion:n("ffkl").a,Icon:ei.a},props:{discussions:{type:Array,required:!0},line:{type:Object,required:!1,default:null},shouldCollapseDiscussions:{type:Boolean,required:!1,default:!1},renderAvatarBadge:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""}},methods:Kl(Kl(Kl({},Object(m.c)(["toggleDiscussion"])),Object(m.c)("diffs",["removeDiscussionsFromDiff"])),{},{deleteNoteHandler:function(e){e.notes.length<=1&&this.removeDiscussionsFromDiff(e)},isExpanded:function(e){return!this.shouldCollapseDiscussions||e.expanded}})},Ql=Object(xn.a)(Zl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.discussions,(function(t,i){return n("div",{key:t.id,staticClass:"discussion-notes diff-discussions position-relative",class:{collapsed:!e.isExpanded(t)}},[n("ul",{staticClass:"notes",attrs:{"data-discussion-id":t.id}},[e.shouldCollapseDiscussions?[n("button",{staticClass:"js-diff-notes-toggle",class:{"diff-notes-collapse":t.expanded,"btn-transparent badge badge-pill":!t.expanded},attrs:{type:"button"},on:{click:function(n){return e.toggleDiscussion({discussionId:t.id})}}},[t.expanded?n("icon",{staticClass:"collapse-icon",attrs:{name:"collapse"}}):[e._v("\n            "+e._s(i+1)+"\n          ")]],2)]:e._e(),e._v(" "),n("noteable-discussion",{directives:[{name:"show",rawName:"v-show",value:e.isExpanded(t),expression:"isExpanded(discussion)"}],attrs:{discussion:t,"render-diff-file":!1,"discussions-by-diff-order":!0,line:e.line,"help-page-path":e.helpPagePath},on:{noteDeleted:e.deleteNoteHandler},scopedSlots:e._u([e.renderAvatarBadge?{key:"avatar-badge",fn:function(){return[n("span",{staticClass:"badge badge-pill"},[e._v("\n            "+e._s(i+1)+"\n          ")])]},proxy:!0}:null],null,!0)})],2)])})),0)}),[],!1,null,null,null).exports,Yl=n("OsT7"),Jl=n("D+Xo"),ec=n("ywIy"),tc=n("ZHzM"),nc=n("z3Iu");function ic(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function rc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ic(Object(n),!0).forEach((function(t){sc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ic(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oc={components:{noteForm:Yl.a,userAvatarLink:tc.a,MultilineCommentForm:Jl.a},mixins:[ec.a,vl.a,Object(Ki.a)()],props:{diffFileHash:{type:String,required:!0},line:{type:Object,required:!0},linePosition:{type:String,required:!1,default:""},noteTargetLine:{type:Object,required:!0},helpPagePath:{type:String,required:!1,default:""}},data:function(){return{commentLineStart:{lineCode:this.line.line_code,type:this.line.type}}},computed:rc(rc(rc(rc(rc({},Object(m.e)({noteableData:function(e){return e.notes.noteableData},diffViewType:function(e){return e.diffs.diffViewType}})),Object(m.e)("diffs",["showSuggestPopover"])),Object(m.d)("diffs",["getDiffFileByHash"])),Object(m.d)(["isLoggedIn","noteableType","getNoteableData","getNotesDataByProp","getUserData"])),{},{author:function(){return this.getUserData},formData:function(){return{noteableData:this.noteableData,noteableType:this.noteableType,noteTargetLine:this.noteTargetLine,diffViewType:this.diffViewType,diffFile:this.diffFile,linePosition:this.linePosition,lineRange:{start_line_code:this.commentLineStart.lineCode,start_line_type:this.commentLineStart.type,end_line_code:this.line.line_code,end_line_type:this.line.type}}},diffFile:function(){return this.getDiffFileByHash(this.diffFileHash)},commentLineOptions:function(){return Object(nc.a)(this.diffFile.highlighted_diff_lines,this.line.line_code)}}),mounted:function(){if(this.isLoggedIn){var e=[this.noteableData.diff_head_sha,Fe.h,this.noteableData.source_project_id,this.line.line_code];this.initAutoSave(this.noteableData,e)}},methods:rc(rc({},Object(m.c)("diffs",["cancelCommentForm","saveDiffDiscussion","setSuggestPopoverDismissed"])),{},{handleCancelCommentForm:function(e,t){var n=this;if(e&&t){var i=Object(O.d)("Notes|Are you sure you want to cancel creating this comment?");if(!window.confirm(i))return}this.cancelCommentForm({lineCode:this.line.line_code,fileHash:this.diffFileHash}),this.$nextTick((function(){n.resetAutoSave()}))},handleSaveNote:function(e){var t=this;return this.saveDiffDiscussion({note:e,formData:this.formData}).then((function(){return t.handleCancelCommentForm()}))}})},ac=Object(xn.a)(oc,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content discussion-form discussion-form-container discussion-notes"},[e.glFeatures.multilineComments?n("div",{staticClass:"gl-mb-3 gl-text-gray-700 gl-border-gray-200 gl-border-b-solid gl-border-b-1 gl-pb-3"},[n("multiline-comment-form",{attrs:{line:e.line,"comment-line-options":e.commentLineOptions},model:{value:e.commentLineStart,callback:function(t){e.commentLineStart=t},expression:"commentLineStart"}})],1):e._e(),e._v(" "),e.author?n("user-avatar-link",{staticClass:"d-none d-sm-block",attrs:{"link-href":e.author.path,"img-src":e.author.avatar_url,"img-alt":e.author.name,"img-size":40}}):e._e(),e._v(" "),n("note-form",{ref:"noteForm",staticClass:"diff-comment-form prepend-top-10",attrs:{"is-editing":!0,"line-code":e.line.line_code,line:e.line,"help-page-path":e.helpPagePath,"diff-file":e.diffFile,"show-suggest-popover":e.showSuggestPopover,"save-button-title":"Comment"},on:{handleFormUpdateAddToReview:e.addToReview,cancelForm:e.handleCancelCommentForm,handleFormUpdate:e.handleSaveNote,handleSuggestDismissed:e.setSuggestPopoverDismissed}})],1)}),[],!1,null,null,null).exports,lc=n("bX/R"),cc=n("h/fo");function uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fc={name:"DiffDiscussionReply",components:{NoteSignedOutWidget:lc.a,ReplyPlaceholder:cc.a,UserAvatarLink:tc.a},props:{hasForm:{type:Boolean,required:!1,default:!1},renderReplyPlaceholder:{type:Boolean,required:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uc(Object(n),!0).forEach((function(t){dc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(m.d)({currentUser:"getUserData",userCanReply:"userCanReply"}))},pc=Object(xn.a)(fc,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"discussion-reply-holder d-flex clearfix"},[e.userCanReply?[e.hasForm?e._t("form"):e.renderReplyPlaceholder?[n("user-avatar-link",{staticClass:"d-none d-sm-block",attrs:{"link-href":e.currentUser.path,"img-src":e.currentUser.avatar_url,"img-alt":e.currentUser.name,"img-size":40}}),e._v(" "),n("reply-placeholder",{attrs:{"button-text":e.__("Start a new discussion...")},on:{onClick:function(t){return e.$emit("showNewDiscussionForm")}}})]:e._e()]:n("note-signed-out-widget")],2)}),[],!1,null,null,null).exports;function hc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function mc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gc={components:{DiffDiscussions:Ql,DiffLineNoteForm:ac,DiffDiscussionReply:pc},props:{line:{type:Object,required:!0},diffFileHash:{type:String,required:!0},helpPagePath:{type:String,required:!1,default:""},hasDraft:{type:Boolean,required:!1,default:!1}},computed:{className:function(){return this.line.discussions.length?"":"js-temp-notes-holder"},shouldRender:function(){return!!this.line.hasForm||!(!this.line.discussions||!this.line.discussions.length)&&this.line.discussionsExpanded}},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hc(Object(n),!0).forEach((function(t){mc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(m.c)("diffs",["showCommentForm"]))},bc=Object(xn.a)(gc,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("tr",{staticClass:"notes_holder",class:e.className},[n("td",{staticClass:"notes-content",attrs:{colspan:"4"}},[n("div",{staticClass:"content"},[e.line.discussions.length?n("diff-discussions",{attrs:{line:e.line,discussions:e.line.discussions,"help-page-path":e.helpPagePath}}):e._e(),e._v(" "),e.hasDraft?e._e():n("diff-discussion-reply",{attrs:{"has-form":e.line.hasForm,"render-reply-placeholder":Boolean(e.line.discussions.length)},on:{showNewDiscussionForm:function(t){return e.showCommentForm({lineCode:e.line.line_code,fileHash:e.diffFileHash})}},scopedSlots:e._u([{key:"form",fn:function(){return[n("diff-line-note-form",{attrs:{"diff-file-hash":e.diffFileHash,line:e.line,"note-target-line":e.line,"help-page-path":e.helpPagePath}})]},proxy:!0}],null,!1,2653881549)})],1)])]):e._e()}),[],!1,null,null,null).exports;function vc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vc(Object(n),!0).forEach((function(t){yc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wc={directives:{tooltip:ni.a},components:{Icon:ei.a},props:{fileHash:{type:String,required:!0},contextLinesPath:{type:String,required:!0},line:{type:Object,required:!0},isTop:{type:Boolean,required:!1,default:!1},isBottom:{type:Boolean,required:!1,default:!1},colspan:{type:Number,required:!1,default:4}},computed:_c(_c({},Object(m.e)({diffViewType:function(e){return e.diffs.diffViewType},diffFiles:function(e){return e.diffs.diffFiles}})),{},{canExpandUp:function(){return!this.isBottom},canExpandDown:function(){return this.isBottom||!this.isTop}}),created:function(){this.EXPAND_DOWN=2,this.EXPAND_UP=1},methods:_c(_c({},Object(m.c)("diffs",["loadMoreLines"])),{},{getPrevLineNumber:function(e,t){var n,i,r,s,o,a=Ee.e(this.diffFiles,this.fileHash),l=(yc(n={},Fe.n,a.highlighted_diff_lines),yc(n,Fe.L,a.parallel_diff_lines),n),c=Ee.j(this.diffViewType,a,{oldLineNumber:e,newLineNumber:t});return i=this.diffViewType,r=l[this.diffViewType][c-2],(o=(yc(s={},Fe.n,(function(e){return null==e?void 0:e.new_line})),yc(s,Fe.L,(function(e){var t;return null===(t=(null==e?void 0:e.right)||(null==e?void 0:e.left))||void 0===t?void 0:t.new_line})),s)[i])&&o(r)||0},callLoadMoreLines:function(e,t,n,i){var r=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.loadMoreLines({endpoint:e,params:t,lineNumbers:n,fileHash:i,isExpandDown:s,nextLineNumbers:o}).then((function(){r.isRequesting=!1})).catch((function(){Object(w.a)(Object(O.d)("Diffs|Something went wrong while fetching diff lines.")),r.isRequesting=!1}))},handleExpandLines:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.isRequesting){this.isRequesting=!0;var t=this.contextLinesPath,n=this.fileHash,i=this.diffViewType,r=this.line.meta_data.old_pos||0,s=this.line.meta_data.new_pos||0,o=s-r,a={endpoint:t,fileHash:n,view:i,oldLineNumber:r,newLineNumber:s,offset:o};1===e?this.handleExpandUpLines(a):2===e?this.handleExpandDownLines(a):this.handleExpandAllLines(a)}},handleExpandUpLines:function(e){var t=e.endpoint,n=e.fileHash,i=e.view,r=e.oldLineNumber,s=e.newLineNumber,o=e.offset,a=this.isBottom,l=s-1,c=l,u=l-Fe.bb,d=!0,f=this.getPrevLineNumber(r,s);u<=f+1&&(u=f+1,d=!1);var p={since:u,to:c,bottom:a,offset:o,unfold:d,view:i},h={oldLineNumber:r,newLineNumber:s};this.callLoadMoreLines(t,p,h,n)},handleExpandDownLines:function(e){var t=e.endpoint,n=e.fileHash,i=e.view,r=e.oldLineNumber,s=e.newLineNumber,o=e.offset,a={old_line:r,new_line:s},l=!0,c=!1,u=r,d=s,f=s+1,p=f,h=f+Fe.bb;if(!this.isBottom){var m=this.getPrevLineNumber(u,d);c=!0,u=m-o,d=m,p=f=m+1,(h=f+Fe.bb)>=s&&(h=s-1,l=!1)}var g={since:p,to:h,bottom:!0,offset:o,unfold:l,view:i},b={oldLineNumber:u,newLineNumber:d};this.callLoadMoreLines(t,g,b,n,c,a)},handleExpandAllLines:function(e){var t,n,i=e.endpoint,r=e.fileHash,s=e.view,o=e.oldLineNumber,a=e.newLineNumber,l=e.offset,c=this.isBottom;if(this.isTop)t=1,n=a-1;else if(c)t=a+1,n=-1;else{t=this.getPrevLineNumber(o,a)+1,n=a-1}var u={since:t,to:n,bottom:c,offset:l,unfold:!1,view:s},d={oldLineNumber:o,newLineNumber:a};this.callLoadMoreLines(i,u,d,r)}})},Oc=Object(xn.a)(wc,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",{staticClass:"text-center",attrs:{colspan:e.colspan}},[n("div",{staticClass:"content js-line-expansion-content"},[e.canExpandUp?n("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"cursor-pointer js-unfold unfold-icon d-inline-block pt-2 pb-2",attrs:{"data-placement":"top","data-container":"body",title:e.__("Expand up")},on:{click:function(t){return e.handleExpandLines(e.EXPAND_UP)}}},[n("icon",{attrs:{size:12,name:"expand-up","aria-hidden":"true"}})],1):e._e(),e._v(" "),n("a",{staticClass:"mx-2 cursor-pointer js-unfold-all",on:{click:function(t){return e.handleExpandLines()}}},[n("span",[e._v(e._s(e.s__("Diffs|Show unchanged lines")))])]),e._v(" "),e.canExpandDown?n("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"cursor-pointer js-unfold-down has-tooltip unfold-icon d-inline-block pt-2 pb-2",attrs:{"data-placement":"top","data-container":"body",title:e.__("Expand down")},on:{click:function(t){return e.handleExpandLines(e.EXPAND_DOWN)}}},[n("icon",{attrs:{size:12,name:"expand-down","aria-hidden":"true"}})],1):e._e()])])}),[],!1,null,null,null).exports,jc={components:{DiffExpansionCell:Oc},props:{fileHash:{type:String,required:!0},contextLinesPath:{type:String,required:!0},line:{type:Object,required:!0},isTop:{type:Boolean,required:!1,default:!1},isBottom:{type:Boolean,required:!1,default:!1}},computed:{isMatchLine:function(){return this.line.type===Fe.w}}};function Cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cc(Object(n),!0).forEach((function(t){Dc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sc={components:{inlineDiffCommentRow:bc,inlineDiffTableRow:zl,InlineDraftCommentRow:Ll,inlineDiffExpansionRow:Object(xn.a)(jc,(function(){var e=this.$createElement,t=this._self._c||e;return this.isMatchLine?t("tr",{staticClass:"line_expansion match"},[t("diff-expansion-cell",{attrs:{"file-hash":this.fileHash,"context-lines-path":this.contextLinesPath,line:this.line,"is-top":this.isTop,"is-bottom":this.isBottom}})],1):this._e()}),[],!1,null,null,null).exports},mixins:[Ol],props:{diffFile:{type:Object,required:!0},diffLines:{type:Array,required:!0},helpPagePath:{type:String,required:!1,default:""}},computed:Pc(Pc({},Object(m.d)("diffs",["commitId"])),{},{diffLinesLength:function(){return this.diffLines.length}}),userColorScheme:window.gon.user_color_scheme},kc=Object(xn.a)(Sc,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"code diff-wrap-lines js-syntax-highlight text-file js-diff-inline-view",class:e.$options.userColorScheme,attrs:{"data-commit-id":e.commitId}},[e._m(0),e._v(" "),n("tbody",[e._l(e.diffLines,(function(t,i){return[n("inline-diff-expansion-row",{key:"expand-"+i,attrs:{"file-hash":e.diffFile.file_hash,"context-lines-path":e.diffFile.context_lines_path,line:t,"is-top":0===i,"is-bottom":i+1===e.diffLinesLength}}),e._v(" "),n("inline-diff-table-row",{key:""+(t.line_code||i),attrs:{"file-hash":e.diffFile.file_hash,"file-path":e.diffFile.file_path,"context-lines-path":e.diffFile.context_lines_path,line:t,"is-bottom":i+1===e.diffLinesLength}}),e._v(" "),n("inline-diff-comment-row",{key:"icr-"+(t.line_code||i),attrs:{"diff-file-hash":e.diffFile.file_hash,line:t,"help-page-path":e.helpPagePath,"has-draft":e.shouldRenderDraftRow(e.diffFile.file_hash,t)||!1}}),e._v(" "),e.shouldRenderDraftRow(e.diffFile.file_hash,t)?n("inline-draft-comment-row",{key:"draft_"+i,attrs:{draft:e.draftForLine(e.diffFile.file_hash,t),"diff-file":e.diffFile,line:t}}):e._e()]}))],2)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("colgroup",[t("col",{staticStyle:{width:"50px"}}),this._v(" "),t("col",{staticStyle:{width:"50px"}}),this._v(" "),t("col",{staticStyle:{width:"8px"}}),this._v(" "),t("col")])}],!1,null,null,null).exports;function xc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xc(Object(n),!0).forEach((function(t){Tc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ic={components:{DraftNote:Sl.a},props:{line:{type:Object,required:!0},diffFileContentSha:{type:String,required:!0}},computed:Ec(Ec({},Object(m.d)("batchComments",["draftForLine"])),{},{className:function(){return this.leftDraft>0||this.rightDraft>0?"":"js-temp-notes-holder"},leftDraft:function(){return this.draftForLine(this.diffFileContentSha,this.line,"left")},rightDraft:function(){return this.draftForLine(this.diffFileContentSha,this.line,"right")}})},Rc=Object(xn.a)(Ic,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"notes_holder",class:e.className},[n("td",{staticClass:"notes_line old"}),e._v(" "),n("td",{staticClass:"notes-content parallel old",attrs:{colspan:"2"}},[e.leftDraft.isDraft?n("div",{staticClass:"content"},[n("draft-note",{attrs:{draft:e.leftDraft}})],1):e._e()]),e._v(" "),n("td",{staticClass:"notes_line new"}),e._v(" "),n("td",{staticClass:"notes-content parallel new",attrs:{colspan:"2"}},[e.rightDraft.isDraft?n("div",{staticClass:"content"},[n("draft-note",{attrs:{draft:e.rightDraft}})],1):e._e()])])}),[],!1,null,null,null).exports;function Lc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,s=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Bc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function qc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bc(Object(n),!0).forEach((function(t){Ac(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ac(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mc={components:{DiffTableCell:$l},directives:{GlTooltip:Xi.a},props:{fileHash:{type:String,required:!0},filePath:{type:String,required:!0},contextLinesPath:{type:String,required:!0},line:{type:Object,required:!0},isBottom:{type:Boolean,required:!1,default:!1}},data:function(){return{isLeftHover:!1,isRightHover:!1}},computed:qc(qc(qc({},Object(m.d)("diffs",["fileLineCoverage"])),Object(m.e)({isHighlighted:function(e){var t=this.line.left&&this.line.left.line_code||this.line.right&&this.line.right.line_code;return!!t&&t===e.diffs.highlightedRow}})),{},{isContextLine:function(){return this.line.left&&this.line.left.type===Fe.c},classNameMap:function(){var e;return Ac(e={},Fe.b,this.isContextLine),Ac(e,Fe.L,!0),e},parallelViewLeftLineType:function(){return this.line.right&&this.line.right.type===Fe.G?Fe.J:[this.line.left?this.line.left.type:Fe.j,{hll:this.isHighlighted}]},isMatchLineLeft:function(){return this.line.left&&this.line.left.type===Fe.w},isMatchLineRight:function(){return this.line.right&&this.line.right.type===Fe.w},coverageState:function(){return this.fileLineCoverage(this.filePath,this.line.right.new_line)}}),created:function(){this.newLineType=Fe.F,this.oldLineType=Fe.I,this.parallelDiffViewType=Fe.L},mounted:function(){this.scrollToLineIfNeededParallel(this.line)},methods:qc(qc({},Object(m.c)("diffs",["scrollToLineIfNeededParallel"])),{},{handleMouseMove:function(e){var t="mouseover"===e.type,n=e.target.closest("td");Array.from(e.currentTarget.children).indexOf(n)>=3?this.isRightHover=t:this.isLeftHover=t},handleParallelLineMouseDown:function(e){var t=jn()(e.currentTarget),n=t.closest("table");n.removeClass("left-side-selected right-side-selected");var i=Lc(["left-side","right-side"].filter((function(e){return t.hasClass(e)})),1)[0];i&&n.addClass("".concat(i,"-selected"))}})},Nc=Object(xn.a)(Mc,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"line_holder",class:e.classNameMap,on:{mouseover:e.handleMouseMove,mouseout:e.handleMouseMove}},[e.line.left&&!e.isMatchLineLeft?[n("diff-table-cell",{staticClass:"diff-line-num old_line",attrs:{"file-hash":e.fileHash,"context-lines-path":e.contextLinesPath,line:e.line.left,"line-type":e.oldLineType,"is-bottom":e.isBottom,"is-hover":e.isLeftHover,"is-highlighted":e.isHighlighted,"show-comment-button":!0,"diff-view-type":e.parallelDiffViewType,"line-position":"left"}}),e._v(" "),n("td",{staticClass:"line-coverage left-side",class:e.parallelViewLeftLineType}),e._v(" "),n("td",{staticClass:"line_content with-coverage parallel left-side",class:e.parallelViewLeftLineType,attrs:{id:e.line.left.line_code},domProps:{innerHTML:e._s(e.line.left.rich_text)},on:{mousedown:e.handleParallelLineMouseDown}})]:[n("td",{staticClass:"diff-line-num old_line empty-cell"}),e._v(" "),n("td",{staticClass:"line-coverage left-side empty-cell"}),e._v(" "),n("td",{staticClass:"line_content with-coverage parallel left-side empty-cell"})],e._v(" "),e.line.right&&!e.isMatchLineRight?[n("diff-table-cell",{staticClass:"diff-line-num new_line",attrs:{"file-hash":e.fileHash,"context-lines-path":e.contextLinesPath,line:e.line.right,"line-type":e.newLineType,"is-bottom":e.isBottom,"is-hover":e.isRightHover,"is-highlighted":e.isHighlighted,"show-comment-button":!0,"diff-view-type":e.parallelDiffViewType,"line-position":"right"}}),e._v(" "),n("td",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],staticClass:"line-coverage right-side",class:[e.line.right.type,e.coverageState.class,{hll:e.isHighlighted}],attrs:{title:e.coverageState.text}}),e._v(" "),n("td",{staticClass:"line_content with-coverage parallel right-side",class:[e.line.right.type,{hll:e.isHighlighted}],attrs:{id:e.line.right.line_code},domProps:{innerHTML:e._s(e.line.right.rich_text)},on:{mousedown:e.handleParallelLineMouseDown}})]:[n("td",{staticClass:"diff-line-num old_line empty-cell"}),e._v(" "),n("td",{staticClass:"line-coverage right-side empty-cell"}),e._v(" "),n("td",{staticClass:"line_content with-coverage parallel right-side empty-cell"})]],2)}),[],!1,null,null,null).exports;function $c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Hc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$c(Object(n),!0).forEach((function(t){Uc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vc={components:{DiffDiscussions:Ql,DiffLineNoteForm:ac,DiffDiscussionReply:pc},props:{line:{type:Object,required:!0},diffFileHash:{type:String,required:!0},lineIndex:{type:Number,required:!0},helpPagePath:{type:String,required:!1,default:""},hasDraftLeft:{type:Boolean,required:!1,default:!1},hasDraftRight:{type:Boolean,required:!1,default:!1}},computed:{hasExpandedDiscussionOnLeft:function(){return!(!this.line.left||!this.line.left.discussions.length)&&this.line.left.discussionsExpanded},hasExpandedDiscussionOnRight:function(){return!(!this.line.right||!this.line.right.discussions.length)&&this.line.right.discussionsExpanded},hasAnyExpandedDiscussion:function(){return this.hasExpandedDiscussionOnLeft||this.hasExpandedDiscussionOnRight},shouldRenderDiscussionsOnLeft:function(){return this.line.left&&this.line.left.discussions&&this.line.left.discussions.length&&this.hasExpandedDiscussionOnLeft},shouldRenderDiscussionsOnRight:function(){return this.line.right&&this.line.right.discussions&&this.line.right.discussions.length&&this.hasExpandedDiscussionOnRight&&this.line.right.type},showRightSideCommentForm:function(){return this.line.right&&this.line.right.type&&this.line.right.hasForm},showLeftSideCommentForm:function(){return this.line.left&&this.line.left.hasForm},className:function(){return this.left&&this.line.left.discussions.length>0||this.right&&this.line.right.discussions.length>0?"":"js-temp-notes-holder"},shouldRender:function(){var e=this.line;if((e.left&&e.left.discussions&&e.left.discussions.length||e.right&&e.right.discussions&&e.right.discussions.length)&&(this.hasExpandedDiscussionOnLeft||this.hasExpandedDiscussionOnRight))return!0;var t=e.left&&e.left.hasForm,n=e.right&&e.right.hasForm;return t||n},shouldRenderReplyPlaceholderOnLeft:function(){return Boolean(this.line.left&&this.line.left.discussions&&this.line.left.discussions.length)},shouldRenderReplyPlaceholderOnRight:function(){return Boolean(this.line.right&&this.line.right.discussions&&this.line.right.discussions.length)}},methods:Hc(Hc({},Object(m.c)("diffs",["showCommentForm"])),{},{showNewDiscussionForm:function(){this.showCommentForm({lineCode:this.line.line_code,fileHash:this.diffFileHash})}})},Wc=Object(xn.a)(Vc,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("tr",{staticClass:"notes_holder",class:e.className},[n("td",{staticClass:"notes-content parallel old",attrs:{colspan:"3"}},[e.shouldRenderDiscussionsOnLeft?n("div",{staticClass:"content"},[n("diff-discussions",{attrs:{discussions:e.line.left.discussions,line:e.line.left,"help-page-path":e.helpPagePath}})],1):e._e(),e._v(" "),e.hasDraftLeft?e._e():n("diff-discussion-reply",{attrs:{"has-form":e.showLeftSideCommentForm,"render-reply-placeholder":e.shouldRenderReplyPlaceholderOnLeft},on:{showNewDiscussionForm:e.showNewDiscussionForm},scopedSlots:e._u([{key:"form",fn:function(){return[n("diff-line-note-form",{attrs:{"diff-file-hash":e.diffFileHash,line:e.line.left,"note-target-line":e.line.left,"help-page-path":e.helpPagePath,"line-position":"left"}})]},proxy:!0}],null,!1,3697375930)})],1),e._v(" "),n("td",{staticClass:"notes-content parallel new",attrs:{colspan:"3"}},[e.shouldRenderDiscussionsOnRight?n("div",{staticClass:"content"},[n("diff-discussions",{attrs:{discussions:e.line.right.discussions,line:e.line.right,"help-page-path":e.helpPagePath}})],1):e._e(),e._v(" "),e.hasDraftRight?e._e():n("diff-discussion-reply",{attrs:{"has-form":e.showRightSideCommentForm,"render-reply-placeholder":e.shouldRenderReplyPlaceholderOnRight},on:{showNewDiscussionForm:e.showNewDiscussionForm},scopedSlots:e._u([{key:"form",fn:function(){return[n("diff-line-note-form",{attrs:{"diff-file-hash":e.diffFileHash,line:e.line.right,"note-target-line":e.line.right,"line-position":"right"}})]},proxy:!0}],null,!1,1057604279)})],1)]):e._e()}),[],!1,null,null,null).exports,zc={components:{DiffExpansionCell:Oc},props:{fileHash:{type:String,required:!0},contextLinesPath:{type:String,required:!0},line:{type:Object,required:!0},isTop:{type:Boolean,required:!1,default:!1},isBottom:{type:Boolean,required:!1,default:!1}},computed:{isMatchLineLeft:function(){return this.line.left&&this.line.left.type===Fe.w},isMatchLineRight:function(){return this.line.right&&this.line.right.type===Fe.w}}};function Gc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Kc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gc(Object(n),!0).forEach((function(t){Xc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zc={components:{parallelDiffExpansionRow:Object(xn.a)(zc,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"line_expansion match"},[e.isMatchLineLeft||e.isMatchLineRight?[n("diff-expansion-cell",{attrs:{"file-hash":e.fileHash,"context-lines-path":e.contextLinesPath,line:e.line.left,"is-top":e.isTop,"is-bottom":e.isBottom,colspan:6}})]:e._e()],2)}),[],!1,null,null,null).exports,parallelDiffTableRow:Nc,parallelDiffCommentRow:Wc,ParallelDraftCommentRow:Rc},mixins:[Ol],props:{diffFile:{type:Object,required:!0},diffLines:{type:Array,required:!0},helpPagePath:{type:String,required:!1,default:""}},computed:Kc(Kc({},Object(m.d)("diffs",["commitId"])),{},{diffLinesLength:function(){return this.diffLines.length}}),userColorScheme:window.gon.user_color_scheme},Qc=Object(xn.a)(Zc,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"code diff-wrap-lines js-syntax-highlight text-file",class:e.$options.userColorScheme,attrs:{"data-commit-id":e.commitId}},[e._m(0),e._v(" "),n("tbody",[e._l(e.diffLines,(function(t,i){return[n("parallel-diff-expansion-row",{key:"expand-"+i,attrs:{"file-hash":e.diffFile.file_hash,"context-lines-path":e.diffFile.context_lines_path,line:t,"is-top":0===i,"is-bottom":i+1===e.diffLinesLength}}),e._v(" "),n("parallel-diff-table-row",{key:t.line_code,attrs:{"file-hash":e.diffFile.file_hash,"file-path":e.diffFile.file_path,"context-lines-path":e.diffFile.context_lines_path,line:t,"is-bottom":i+1===e.diffLinesLength}}),e._v(" "),n("parallel-diff-comment-row",{key:"dcr-"+(t.line_code||i),attrs:{line:t,"diff-file-hash":e.diffFile.file_hash,"line-index":i,"help-page-path":e.helpPagePath,"has-draft-left":e.hasParallelDraftLeft(e.diffFile.file_hash,t)||!1,"has-draft-right":e.hasParallelDraftRight(e.diffFile.file_hash,t)||!1}}),e._v(" "),e.shouldRenderParallelDraftRow(e.diffFile.file_hash,t)?n("parallel-draft-comment-row",{key:"drafts-"+i,attrs:{line:t,"diff-file-content-sha":e.diffFile.file_hash}}):e._e()]}))],2)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("colgroup",[t("col",{staticStyle:{width:"50px"}}),this._v(" "),t("col",{staticStyle:{width:"8px"}}),this._v(" "),t("col"),this._v(" "),t("col",{staticStyle:{width:"50px"}}),this._v(" "),t("col",{staticStyle:{width:"8px"}}),this._v(" "),t("col")])}],!1,null,null,null).exports,Yc=n("Ex4Z");function Jc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function eu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jc(Object(n),!0).forEach((function(t){tu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nu={components:{GlLoadingIcon:ji.a,InlineDiffView:kc,ParallelDiffView:Qc,DiffViewer:jl.a,NoteForm:Yl.a,DiffDiscussions:Ql,ImageDiffOverlay:Yc.a,NotDiffableViewer:Cl,NoPreviewViewer:Pl,userAvatarLink:tc.a,DiffFileDrafts:Il},mixins:[vl.a,Ol],props:{diffFile:{type:Object,required:!0},helpPagePath:{type:String,required:!1,default:""}},computed:eu(eu(eu(eu(eu({},Object(m.e)({projectPath:function(e){return e.diffs.projectPath}})),Object(m.d)("diffs",["isInlineView","isParallelView"])),Object(m.d)("diffs",["getCommentFormForDiffFile"])),Object(m.d)(["getNoteableData","noteableType","getUserData"])),{},{diffMode:function(){return Object(Ee.f)(this.diffFile)},diffViewerMode:function(){return this.diffFile.viewer.name},isTextFile:function(){return this.diffViewerMode===Be.r.text},noPreview:function(){return this.diffViewerMode===Be.r.no_preview},notDiffable:function(){return this.diffViewerMode===Be.r.not_diffable},diffFileCommentForm:function(){return this.getCommentFormForDiffFile(this.diffFileHash)},showNotesContainer:function(){return this.imageDiscussions.length||this.diffFileCommentForm},diffFileHash:function(){return this.diffFile.file_hash},author:function(){return this.getUserData}}),updated:function(){var e,t,n=this;(null===(e=window.gon)||void 0===e?void 0:null===(t=e.features)||void 0===t?void 0:t.codeNavigation)&&this.$nextTick((function(){xe.a.$emit("showBlobInteractionZones",n.diffFile.new_path)}))},methods:eu(eu({},Object(m.c)("diffs",["saveDiffDiscussion","closeDiffFileCommentForm"])),{},{handleSaveNote:function(e){this.saveDiffDiscussion({note:e,formData:{noteableData:this.getNoteableData,noteableType:this.noteableType,diffFile:this.diffFile,positionType:Fe.k,x:this.diffFileCommentForm.x,y:this.diffFileCommentForm.y,width:this.diffFileCommentForm.width,height:this.diffFileCommentForm.height}})}})},iu=Object(xn.a)(nu,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"diff-content"},[n("div",{staticClass:"diff-viewer"},[e.isTextFile?[e.isInlineView?n("inline-diff-view",{attrs:{"diff-file":e.diffFile,"diff-lines":e.diffFile.highlighted_diff_lines||[],"help-page-path":e.helpPagePath}}):e.isParallelView?n("parallel-diff-view",{attrs:{"diff-file":e.diffFile,"diff-lines":e.diffFile.parallel_diff_lines||[],"help-page-path":e.helpPagePath}}):e._e(),e._v(" "),e.diffFile.renderingLines?n("gl-loading-icon",{staticClass:"mt-3",attrs:{size:"md"}}):e._e()]:e.notDiffable?n("not-diffable-viewer"):e.noPreview?n("no-preview-viewer"):n("diff-viewer",{attrs:{"diff-file":e.diffFile,"diff-mode":e.diffMode,"diff-viewer-mode":e.diffViewerMode,"new-path":e.diffFile.new_path,"new-sha":e.diffFile.diff_refs.head_sha,"new-size":e.diffFile.new_size,"old-path":e.diffFile.old_path,"old-sha":e.diffFile.diff_refs.base_sha,"old-size":e.diffFile.old_size,"file-hash":e.diffFileHash,"project-path":e.projectPath,"a-mode":e.diffFile.a_mode,"b-mode":e.diffFile.b_mode}},[n("image-diff-overlay",{attrs:{slot:"image-overlay",discussions:e.imageDiscussions,"file-hash":e.diffFileHash,"can-comment":e.getNoteableData.current_user.can_create_note},slot:"image-overlay"}),e._v(" "),e.showNotesContainer?n("div",{staticClass:"note-container"},[e.diffFileCommentForm&&e.author?n("user-avatar-link",{staticClass:"d-none d-sm-block new-comment",attrs:{"link-href":e.author.path,"img-src":e.author.avatar_url,"img-alt":e.author.name,"img-size":40}}):e._e(),e._v(" "),e.diffFile.discussions.length?n("diff-discussions",{staticClass:"diff-file-discussions",attrs:{discussions:e.diffFile.discussions,"should-collapse-discussions":!0,"render-avatar-badge":!0}}):e._e(),e._v(" "),n("diff-file-drafts",{staticClass:"diff-file-discussions",attrs:{"file-hash":e.diffFileHash}}),e._v(" "),e.diffFileCommentForm?n("note-form",{ref:"noteForm",staticClass:"diff-comment-form new-note discussion-form discussion-form-container",attrs:{"is-editing":!1,"save-button-title":e.__("Comment")},on:{handleFormUpdateAddToReview:e.addToReview,handleFormUpdate:e.handleSaveNote,cancelForm:function(t){return e.closeDiffFileCommentForm(e.diffFileHash)}}}):e._e()],1):e._e()],1)],2)])}),[],!1,null,null,null).exports;function ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function su(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ru(Object(n),!0).forEach((function(t){ou(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ru(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ou(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var au={components:{DiffFileHeader:bl.a,DiffContent:iu,GlLoadingIcon:ji.a},props:{file:{type:Object,required:!0},canCurrentUserFork:{type:Boolean,required:!0},helpPagePath:{type:String,required:!1,default:""}},data:function(){return{isLoadingCollapsedDiff:!1,forkMessageVisible:!1,isCollapsed:this.file.viewer.collapsed||!1}},computed:su(su(su(su({},Object(m.e)("diffs",["currentDiffFileId"])),Object(m.d)(["isNotesFetched"])),Object(m.d)("diffs",["getDiffFileDiscussions"])),{},{viewBlobLink:function(){return Object(O.e)(Object(O.a)("You can %{linkStart}view the blob%{linkEnd} instead."),{linkStart:'<a href="'.concat(Jn()(this.file.view_path),'">'),linkEnd:"</a>"},!1)},showLoadingIcon:function(){return this.isLoadingCollapsedDiff||!this.file.renderIt&&!this.isCollapsed},hasDiff:function(){return Ja(e=this.file)||el(e)||!(null==e?void 0:null===(t=e.blob)||void 0===t?void 0:t.readable_text);var e,t},isFileTooLarge:function(){return this.file.viewer.error===Be.q.too_large},errorMessage:function(){return this.file.viewer.error_message},forkMessage:function(){return Object(O.e)(Object(O.a)("You're not allowed to %{tag_start}edit%{tag_end} files in this project directly. Please fork this project, make your changes there, and submit a merge request."),{tag_start:'<span class="js-file-fork-suggestion-section-action">',tag_end:"</span>"},!1)}}),watch:{isCollapsed:function(e,t){e||!t||this.hasDiff||this.handleLoadCollapsedDiff(),this.setFileCollapsed({filePath:this.file.file_path,collapsed:e})},"file.viewer.collapsed":function(e){this.isCollapsed=e}},created:function(){xe.a.$on("loadCollapsedDiff/".concat(this.file.file_hash),this.handleLoadCollapsedDiff)},methods:su(su({},Object(m.c)("diffs",["loadCollapsedDiff","assignDiscussionsToDiff","setRenderIt","setFileCollapsed"])),{},{handleToggle:function(){this.hasDiff?(this.isCollapsed=!this.isCollapsed,this.setRenderIt(this.file)):this.handleLoadCollapsedDiff()},handleLoadCollapsedDiff:function(){var e=this;this.isLoadingCollapsedDiff=!0,this.loadCollapsedDiff(this.file).then((function(){e.isLoadingCollapsedDiff=!1,e.isCollapsed=!1,e.setRenderIt(e.file)})).then((function(){requestIdleCallback((function(){e.assignDiscussionsToDiff(e.getDiffFileDiscussions(e.file))}),{timeout:1e3})})).catch((function(){e.isLoadingCollapsedDiff=!1,Object(w.a)(Object(O.a)("Something went wrong on our end. Please try again!"))}))},showForkMessage:function(){this.forkMessageVisible=!0},hideForkMessage:function(){this.forkMessageVisible=!1}})},lu=(n("fm5U"),Object(xn.a)(au,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"diff-file file-holder",class:{"is-active":e.currentDiffFileId===e.file.file_hash},attrs:{id:e.file.file_hash,"data-path":e.file.new_path}},[n("diff-file-header",{staticClass:"js-file-title file-title",attrs:{"can-current-user-fork":e.canCurrentUserFork,"diff-file":e.file,collapsible:!0,expanded:!e.isCollapsed,"add-merge-request-buttons":!0},on:{toggleFile:e.handleToggle,showForkMessage:e.showForkMessage}}),e._v(" "),e.forkMessageVisible?n("div",{staticClass:"js-file-fork-suggestion-section file-fork-suggestion"},[n("span",{staticClass:"file-fork-suggestion-note",domProps:{innerHTML:e._s(e.forkMessage)}}),e._v(" "),n("a",{staticClass:"js-fork-suggestion-button btn btn-grouped btn-inverted btn-success",attrs:{href:e.file.fork_path}},[e._v(e._s(e.__("Fork")))]),e._v(" "),n("button",{staticClass:"js-cancel-fork-suggestion-button btn btn-grouped",attrs:{type:"button"},on:{click:e.hideForkMessage}},[e._v("\n      "+e._s(e.__("Cancel"))+"\n    ")])]):e._e(),e._v(" "),e.showLoadingIcon?n("gl-loading-icon",{staticClass:"diff-content loading"}):[n("div",{attrs:{id:"diff-content-"+e.file.file_hash}},[e.errorMessage?n("div",{staticClass:"diff-viewer"},[n("div",{staticClass:"nothing-here-block",domProps:{innerHTML:e._s(e.errorMessage)}})]):[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isCollapsed,expression:"isCollapsed"}],staticClass:"nothing-here-block diff-collapsed"},[e._v("\n          "+e._s(e.__("This diff is collapsed."))+"\n          "),n("a",{staticClass:"click-to-expand js-click-to-expand",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.handleToggle(t)}}},[e._v(e._s(e.__("Click to expand it.")))])]),e._v(" "),n("diff-content",{directives:[{name:"show",rawName:"v-show",value:!e.isCollapsed&&!e.isFileTooLarge,expression:"!isCollapsed && !isFileTooLarge"}],attrs:{"diff-file":e.file,"help-page-path":e.helpPagePath}})]],2)]],2)}),[],!1,null,null,null).exports);function cu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function uu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cu(Object(n),!0).forEach((function(t){du(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function du(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fu={components:{GlDeprecatedButton:di.a},props:{changesEmptyStateIllustration:{type:String,required:!0}},computed:uu(uu({},Object(m.d)(["getNoteableData"])),{},{emptyStateText:function(){return Object(O.e)(Object(O.a)("No changes between %{ref_start}%{source_branch}%{ref_end} and %{ref_start}%{target_branch}%{ref_end}"),{ref_start:'<span class="ref-name">',ref_end:"</span>",source_branch:Jn()(this.getNoteableData.source_branch),target_branch:Jn()(this.getNoteableData.target_branch)},!1)}})},pu=Object(xn.a)(fu,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row empty-state"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"svg-content svg-250"},[n("img",{attrs:{src:e.changesEmptyStateIllustration}})])]),e._v(" "),n("div",{staticClass:"col-12"},[n("div",{staticClass:"text-content text-center"},[n("span",{domProps:{innerHTML:e._s(e.emptyStateText)}}),e._v(" "),n("div",{staticClass:"text-center"},[n("gl-deprecated-button",{attrs:{href:e.getNoteableData.new_blob_path,variant:"success"}},[e._v(e._s(e.__("Create commit")))])],1)])])])}),[],!1,null,null,null).exports,hu={props:{total:{type:String,required:!0},visible:{type:Number,required:!0},plainDiffPath:{type:String,required:!0},emailPatchPath:{type:String,required:!0}}},mu=Object(xn.a)(hu,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"alert alert-warning"},[n("h4",[e._v("\n    "+e._s(e.__("Too many changes to show."))+"\n    "),n("div",{staticClass:"pull-right"},[n("a",{staticClass:"btn btn-sm",attrs:{href:e.plainDiffPath}},[e._v(" "+e._s(e.__("Plain diff"))+" ")]),e._v(" "),n("a",{staticClass:"btn btn-sm",attrs:{href:e.emailPatchPath}},[e._v(" "+e._s(e.__("Email patch"))+" ")])])]),e._v(" "),n("p",[e._v("\n    To preserve performance only "),n("strong",[e._v(" "+e._s(e.visible)+" of "+e._s(e.total)+" ")]),e._v(" files are\n    displayed.\n  ")])])}),[],!1,null,null,null).exports,gu=n("1fc5"),bu=n("4lAS"),vu=n("ydqu"),_u=n("ONti");function yu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function wu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ou={components:{UserAvatarLink:tc.a,Icon:ei.a,ClipboardButton:ti.a,TimeAgoTooltip:nl.a,CommitPipelineStatus:vu.a,GlButtonGroup:gu.a,GlButton:bu.a,GlIcon:Gi.a},directives:{GlTooltip:Xi.a},mixins:[Object(Ki.a)()],props:{commit:{type:Object,required:!0}},computed:{author:function(){return this.commit.author||{}},authorName:function(){return this.author.name||this.commit.author_name},authorClass:function(){return this.author.name?"js-user-link":""},authorId:function(){return this.author.id?this.author.id:""},authorUrl:function(){return this.author.web_url||"mailto:".concat(this.commit.author_email)},authorAvatar:function(){return this.author.avatar_url||this.commit.author_gravatar_url},nextCommitUrl:function(){return this.commit.next_commit_id?Object(De.v)({commit_id:this.commit.next_commit_id}):""},previousCommitUrl:function(){return this.commit.prev_commit_id?Object(De.v)({commit_id:this.commit.prev_commit_id}):""},hasNeighborCommits:function(){return this.commit.next_commit_id||this.commit.prev_commit_id}},created:function(){var e=this;this.$nextTick((function(){Object(_u.a)(e.$el.querySelectorAll(".js-user-link"))}))},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yu(Object(n),!0).forEach((function(t){wu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(m.c)("diffs",["moveToNeighboringCommit"]))},ju={components:{CommitItem:Object(xn.a)(Ou,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"commit flex-row js-toggle-container"},[n("user-avatar-link",{staticClass:"avatar-cell d-none d-sm-block",attrs:{"link-href":e.authorUrl,"img-src":e.authorAvatar,"img-alt":e.authorName,"img-size":40}}),e._v(" "),n("div",{staticClass:"commit-detail flex-list"},[n("div",{staticClass:"commit-content qa-commit-content"},[n("a",{staticClass:"commit-row-message item-title",attrs:{href:e.commit.commit_url},domProps:{innerHTML:e._s(e.commit.title_html)}}),e._v(" "),n("span",{staticClass:"commit-row-message d-block d-sm-none"},[e._v("Â· "+e._s(e.commit.short_id))]),e._v(" "),e.commit.description_html?n("button",{staticClass:"text-expander js-toggle-button",attrs:{type:"button","aria-label":e.__("Toggle commit description")}},[n("icon",{attrs:{size:12,name:"ellipsis_h"}})],1):e._e(),e._v(" "),n("div",{staticClass:"committer"},[n("a",{class:e.authorClass,attrs:{href:e.authorUrl,"data-user-id":e.authorId},domProps:{textContent:e._s(e.authorName)}}),e._v("\n        "+e._s(e.s__("CommitWidget|authored"))+"\n        "),n("time-ago-tooltip",{attrs:{time:e.commit.authored_date}})],1),e._v(" "),e.commit.description_html?n("pre",{staticClass:"commit-row-description js-toggle-content gl-mb-3",domProps:{innerHTML:e._s(e.commit.description_html)}}):e._e()]),e._v(" "),n("div",{staticClass:"commit-actions flex-row d-none d-sm-flex"},[e.commit.signature_html?n("div",{domProps:{innerHTML:e._s(e.commit.signature_html)}}):e._e(),e._v(" "),e.commit.pipeline_status_path?n("commit-pipeline-status",{staticClass:"d-inline-flex",attrs:{endpoint:e.commit.pipeline_status_path}}):e._e(),e._v(" "),n("div",{staticClass:"commit-sha-group"},[n("div",{staticClass:"label label-monospace monospace",domProps:{textContent:e._s(e.commit.short_id)}}),e._v(" "),n("clipboard-button",{staticClass:"btn btn-default",attrs:{text:e.commit.id,title:e.__("Copy commit SHA")}})],1),e._v(" "),e.hasNeighborCommits&&e.glFeatures.mrCommitNeighborNav?n("div",{staticClass:"commit-nav-buttons ml-3"},[n("gl-button-group",[n("gl-button",{attrs:{href:e.previousCommitUrl,disabled:!e.commit.prev_commit_id},on:{click:function(t){return t.preventDefault(),e.moveToNeighboringCommit({direction:"previous"})}}},[e.commit.prev_commit_id?e._e():n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"h-100 w-100 position-absolute",attrs:{title:e.__("You're at the first commit")}}),e._v(" "),n("gl-icon",{attrs:{name:"chevron-left"}}),e._v("\n            "+e._s(e.__("Prev"))+"\n          ")],1),e._v(" "),n("gl-button",{attrs:{href:e.nextCommitUrl,disabled:!e.commit.next_commit_id},on:{click:function(t){return t.preventDefault(),e.moveToNeighboringCommit({direction:"next"})}}},[e.commit.next_commit_id?e._e():n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"h-100 w-100 position-absolute",attrs:{title:e.__("You're at the last commit")}}),e._v("\n            "+e._s(e.__("Next"))+"\n            "),n("gl-icon",{attrs:{name:"chevron-right"}})],1)],1)],1):e._e()],1)])],1)}),[],!1,null,null,null).exports},props:{commit:{type:Object,required:!0}}},Cu=Object(xn.a)(ju,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"info-well w-100"},[t("div",{staticClass:"well-segment"},[t("ul",{staticClass:"blob-commit-info"},[t("commit-item",{attrs:{commit:this.commit}})],1)])])}),[],!1,null,null,null).exports,Pu=n("wryt"),Du=n("OIsX"),Su={props:{file:{type:Object,required:!0}}},ku=(n("NSOW"),Object(xn.a)(Su,(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"file-row-stats"},[t("span",{staticClass:"cgreen"},[this._v(" +"+this._s(this.file.addedLines)+" ")]),this._v(" "),t("span",{staticClass:"cred"},[this._v(" -"+this._s(this.file.removedLines)+" ")])])}],!1,null,null,null).exports),xu=n("rOrh"),Eu={name:"DiffFileRow",components:{FileRow:Du.a,FileRowStats:ku,ChangedFileIcon:xu.a},props:{file:{type:Object,required:!0},hideFileStats:{type:Boolean,required:!0}},computed:{showFileRowStats:function(){return!this.hideFileStats&&"blob"===this.file.type}}},Tu=Object(xn.a)(Eu,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("file-row",e._g(e._b({attrs:{file:e.file}},"file-row",e.$attrs,!1),e.$listeners),[e.showFileRowStats?n("file-row-stats",{staticClass:"mr-1",attrs:{file:e.file}}):e._e(),e._v(" "),n("changed-file-icon",{attrs:{file:e.file,size:16,"show-tooltip":!0}})],1)}),[],!1,null,null,null).exports;function Iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ru(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iu(Object(n),!0).forEach((function(t){Lu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fu={directives:{GlTooltip:Xi.a},components:{Icon:ei.a,FileTree:Pu.a},props:{hideFileStats:{type:Boolean,required:!0}},data:function(){return{search:""}},computed:Ru(Ru(Ru({},Object(m.e)("diffs",["tree","renderTreeList"])),Object(m.d)("diffs",["allBlobs"])),{},{filteredTreeList:function(){var e=this.search.toLowerCase().trim();return""===e?this.renderTreeList?this.tree:this.allBlobs:this.allBlobs.reduce((function(t,n){var i=n.tree.filter((function(t){return t.path.toLowerCase().indexOf(e)>=0}));return i.length?t.concat(Ru(Ru({},n),{},{tree:i})):t}),[])}}),methods:Ru(Ru({},Object(m.c)("diffs",["toggleTreeOpen","scrollToFile"])),{},{clearSearch:function(){this.search=""}}),searchPlaceholder:Object(O.e)(Object(O.d)("MergeRequest|Search files (%{modifier_key}P)"),{modifier_key:/Mac/i.test(navigator.userAgent)?"â":"Ctrl+"}),DiffFileRow:Tu};n("Kfmh");function Bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function qu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bu(Object(n),!0).forEach((function(t){Au(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Au(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mu={name:"DiffsApp",components:{CompareVersions:ml,DiffFile:lu,NoChanges:pu,HiddenFilesWarning:mu,CommitWidget:Cu,TreeList:Object(xn.a)(Fu,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree-list-holder d-flex flex-column"},[n("div",{staticClass:"gl-mb-3 position-relative tree-list-search d-flex"},[n("div",{staticClass:"flex-fill d-flex"},[n("icon",{staticClass:"position-absolute tree-list-icon",attrs:{name:"search"}}),e._v(" "),n("label",{staticClass:"sr-only",attrs:{for:"diff-tree-search"}},[e._v(e._s(e.$options.searchPlaceholder))]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control",attrs:{id:"diff-tree-search",placeholder:e.$options.searchPlaceholder,type:"search",name:"diff-tree-search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:e.search,expression:"search"}],staticClass:"position-absolute bg-transparent tree-list-icon tree-list-clear-icon border-0 p-0",attrs:{"aria-label":e.__("Clear search"),type:"button"},on:{click:e.clearSearch}},[n("icon",{attrs:{name:"close"}})],1)],1)]),e._v(" "),n("div",{staticClass:"tree-list-scroll",class:{"pt-0 tree-list-blobs":!e.renderTreeList}},[e.filteredTreeList.length?e._l(e.filteredTreeList,(function(t){return n("file-tree",{key:t.key,attrs:{file:t,level:0,"hide-file-stats":e.hideFileStats,"file-row-component":e.$options.DiffFileRow},on:{toggleTreeOpen:e.toggleTreeOpen,clickFile:e.scrollToFile}})})):n("p",{staticClass:"prepend-top-20 append-bottom-20 text-center"},[e._v("\n      "+e._s(e.s__("MergeRequest|No files found"))+"\n    ")])],2)])}),[],!1,null,null,null).exports,GlLoadingIcon:ji.a,PanelResizer:Ya.a},mixins:[Object(Ki.a)()],props:{endpoint:{type:String,required:!0},endpointMetadata:{type:String,required:!0},endpointBatch:{type:String,required:!0},endpointCoverage:{type:String,required:!1,default:""},projectPath:{type:String,required:!0},shouldShow:{type:Boolean,required:!1,default:!1},currentUser:{type:Object,required:!0},helpPagePath:{type:String,required:!1,default:""},changesEmptyStateIllustration:{type:String,required:!1,default:""},isFluidLayout:{type:Boolean,required:!1,default:!1},dismissEndpoint:{type:String,required:!1,default:""},showSuggestPopover:{type:Boolean,required:!1,default:!1}},data:function(){return{treeWidth:parseInt(localStorage.getItem(Fe.Y),10)||Fe.l,diffFilesLength:0}},computed:qu(qu(qu(qu(qu({},Object(m.e)({isLoading:function(e){return e.diffs.isLoading},isBatchLoading:function(e){return e.diffs.isBatchLoading},diffFiles:function(e){return e.diffs.diffFiles},diffViewType:function(e){return e.diffs.diffViewType},mergeRequestDiffs:function(e){return e.diffs.mergeRequestDiffs},mergeRequestDiff:function(e){return e.diffs.mergeRequestDiff},commit:function(e){return e.diffs.commit},renderOverflowWarning:function(e){return e.diffs.renderOverflowWarning},numTotalFiles:function(e){return e.diffs.realSize},numVisibleFiles:function(e){return e.diffs.size},plainDiffPath:function(e){return e.diffs.plainDiffPath},emailPatchPath:function(e){return e.diffs.emailPatchPath},retrievingBatches:function(e){return e.diffs.retrievingBatches}})),Object(m.e)("diffs",["showTreeList","isLoading","startVersion"])),Object(m.d)("diffs",["isParallelView","currentDiffIndex"])),Object(m.d)(["isNotesFetched","getNoteableData"])),{},{canCurrentUserFork:function(){return!0===this.currentUser.can_fork&&this.currentUser.can_create_merge_request},renderDiffFiles:function(){return this.diffFiles.length>0||this.startVersion&&this.startVersion.version_index===this.mergeRequestDiff.version_index},hideFileStats:function(){return this.treeWidth<=Fe.W},isLimitedContainer:function(){return!this.showTreeList&&!this.isParallelView&&!this.isFluidLayout}}),watch:{commit:function(e,t){var n,i=e&&!this.isLoading,r=t&&e.id!==t.id,s=(null===(n=window)||void 0===n?void 0:n.location)?String(window.location):"";i&&r&&(Object(De.w)({title:document.title,url:s.replace(t.id,e.id)}),this.refetchDiffData(),this.adjustView())},diffViewType:function(){(this.needsReload()||this.needsFirstLoad())&&this.refetchDiffData(),this.adjustView()},shouldShow:function(){this.isLoading&&this.fetchData(),this.adjustView()},isLoading:"adjustView",showTreeList:"adjustView"},mounted:function(){this.setBaseConfig({endpoint:this.endpoint,endpointMetadata:this.endpointMetadata,endpointBatch:this.endpointBatch,endpointCoverage:this.endpointCoverage,projectPath:this.projectPath,dismissEndpoint:this.dismissEndpoint,showSuggestPopover:this.showSuggestPopover,useSingleDiffStyle:this.glFeatures.singleMrDiffView}),this.shouldShow&&this.fetchData();var e=window&&window.location&&window.location.hash;e&&this.setHighlightedRow(e.slice(1))},created:function(){var e=this;this.adjustView(),xe.a.$once("fetchDiffData",this.fetchData),xe.a.$on("refetchDiffData",this.refetchDiffData),this.CENTERED_LIMITED_CONTAINER_CLASSES=Fe.a,this.unwatchDiscussions=this.$watch((function(){return"".concat(e.diffFiles.length,":").concat(e.$store.state.notes.discussions.length)}),(function(){return e.setDiscussions()})),this.unwatchRetrievingBatches=this.$watch((function(){return"".concat(e.retrievingBatches,":").concat(e.$store.state.notes.discussions.length)}),(function(){!e.retrievingBatches&&e.$store.state.notes.discussions.length&&(e.unwatchDiscussions(),e.unwatchRetrievingBatches())}))},beforeDestroy:function(){xe.a.$off("fetchDiffData",this.fetchData),xe.a.$off("refetchDiffData",this.refetchDiffData),this.removeEventListeners()},methods:qu(qu(qu({},Object(m.c)(["startTaskList"])),Object(m.c)("diffs",["moveToNeighboringCommit","setBaseConfig","fetchDiffFiles","fetchDiffFilesMeta","fetchDiffFilesBatch","fetchCoverageFiles","startRenderDiffsQueue","assignDiscussionsToDiff","setHighlightedRow","cacheTreeListWidth","scrollToFile","toggleShowTreeList"])),{},{refetchDiffData:function(){this.fetchData(!1)},startDiffRendering:function(){var e=this;requestIdleCallback((function(){e.startRenderDiffsQueue()}),{timeout:1e3})},needsReload:function(){return this.glFeatures.singleMrDiffView&&this.diffFiles.length&&(!el(e=this.diffFiles[0])||!Ja(e));var e},needsFirstLoad:function(){return this.glFeatures.singleMrDiffView&&!this.diffFiles.length},fetchData:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.glFeatures.diffsBatchLoad?(this.fetchDiffFilesMeta().then((function(n){var i=n.real_size;e.diffFilesLength=parseInt(i,10),t&&e.hideTreeListIfJustOneFile(),e.startDiffRendering()})).catch((function(){Object(w.a)(Object(O.a)("Something went wrong on our end. Please try again!"))})),this.fetchDiffFilesBatch().then((function(){e.setDiscussions()})).then((function(){return e.startDiffRendering()})).catch((function(){Object(w.a)(Object(O.a)("Something went wrong on our end. Please try again!"))}))):this.fetchDiffFiles().then((function(n){var i=n.real_size;e.diffFilesLength=parseInt(i,10),t&&e.hideTreeListIfJustOneFile(),requestIdleCallback((function(){e.setDiscussions(),e.startRenderDiffsQueue()}),{timeout:1e3})})).catch((function(){Object(w.a)(Object(O.a)("Something went wrong on our end. Please try again!"))})),this.endpointCoverage&&this.fetchCoverageFiles(),this.isNotesFetched||xe.a.$emit("fetchNotesData")},setDiscussions:function(){var e=this;requestIdleCallback((function(){return e.assignDiscussionsToDiff().then(e.$nextTick).then(e.startTaskList)}),{timeout:1e3})},adjustView:function(){var e=this;this.shouldShow?this.$nextTick((function(){e.setEventListeners()})):this.removeEventListeners()},setEventListeners:function(){var e=this;Dn.a.bind(["[","k","]","j"],(function(t,n){switch(n){case"[":case"k":e.jumpToFile(-1);break;case"]":case"j":e.jumpToFile(1)}})),this.commit&&this.glFeatures.mrCommitNeighborNav&&(Dn.a.bind("c",(function(){return e.moveToNeighboringCommit({direction:"next"})})),Dn.a.bind("x",(function(){return e.moveToNeighboringCommit({direction:"previous"})})))},removeEventListeners:function(){Dn.a.unbind(["[","k","]","j"]),Dn.a.unbind("c"),Dn.a.unbind("x")},jumpToFile:function(e){var t=this.currentDiffIndex+e;t>=0&&t<this.diffFiles.length&&this.scrollToFile(this.diffFiles[t].file_path)},hideTreeListIfJustOneFile:function(){var e=localStorage.getItem(Fe.D);(null===e&&this.diffFiles.length<=1||"false"===e)&&this.toggleShowTreeList(!1)}}),minTreeWidth:Fe.C,maxTreeWidth:Fe.A},Nu=Object(xn.a)(Mu,(function(){var e,t=this,n=t.$createElement,i=t._self._c||n;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.shouldShow,expression:"shouldShow"}]},[t.isLoading?i("div",{staticClass:"loading"},[i("gl-loading-icon",{attrs:{size:"lg"}})],1):i("div",{staticClass:"diffs tab-pane",class:{active:t.shouldShow},attrs:{id:"diffs"}},[i("compare-versions",{attrs:{"merge-request-diffs":t.mergeRequestDiffs,"is-limited-container":t.isLimitedContainer,"diff-files-length":t.diffFilesLength}}),t._v(" "),t.renderOverflowWarning?i("hidden-files-warning",{attrs:{visible:t.numVisibleFiles,total:t.numTotalFiles,"plain-diff-path":t.plainDiffPath,"email-patch-path":t.emailPatchPath}}):t._e(),t._v(" "),i("div",{staticClass:"files d-flex",attrs:{"data-can-create-note":t.getNoteableData.current_user.can_create_note}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showTreeList,expression:"showTreeList"}],staticClass:"diff-tree-list js-diff-tree-list mr-3",style:{width:t.treeWidth+"px"}},[i("panel-resizer",{attrs:{size:t.treeWidth,"start-size":t.treeWidth,"min-size":t.$options.minTreeWidth,"max-size":t.$options.maxTreeWidth,side:"right"},on:{"update:size":function(e){t.treeWidth=e},"resize-end":t.cacheTreeListWidth}}),t._v(" "),i("tree-list",{attrs:{"hide-file-stats":t.hideFileStats}})],1),t._v(" "),i("div",{staticClass:"diff-files-holder",class:(e={},e[t.CENTERED_LIMITED_CONTAINER_CLASSES]=t.isLimitedContainer,e)},[t.commit?i("commit-widget",{attrs:{commit:t.commit}}):t._e(),t._v(" "),t.isBatchLoading?i("div",{staticClass:"loading"},[i("gl-loading-icon",{attrs:{size:"lg"}})],1):t.renderDiffFiles?t._l(t.diffFiles,(function(e){return i("diff-file",{key:e.newPath,attrs:{file:e,"help-page-path":t.helpPagePath,"can-current-user-fork":t.canCurrentUserFork}})})):i("no-changes",{attrs:{"changes-empty-state-illustration":t.changesEmptyStateIllustration}})],2)])],1)])}),[],!1,null,null,null).exports;function $u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Hu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$u(Object(n),!0).forEach((function(t){Uu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Wu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vu(Object(n),!0).forEach((function(t){zu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gu={directives:{GlTooltip:Xi.a},components:{Icon:ei.a},mixins:[Sn.a],computed:Wu(Wu({},Object(m.d)(["getUserData","getNoteableData","resolvableDiscussionsCount","unresolvedDiscussionsCount","discussions"])),{},{isLoggedIn:function(){return this.getUserData.id},allResolved:function(){return 0===this.unresolvedDiscussionsCount},resolveAllDiscussionsIssuePath:function(){return this.getNoteableData.create_issue_to_resolve_discussions_path},toggeableDiscussions:function(){return this.discussions.filter((function(e){return!e.individual_note}))},allExpanded:function(){return this.toggeableDiscussions.every((function(e){return e.expanded}))}}),methods:Wu(Wu({},Object(m.c)(["setExpandDiscussions"])),{},{handleExpandDiscussions:function(){this.setExpandDiscussions({discussionIds:this.toggeableDiscussions.map((function(e){return e.id})),expanded:!this.allExpanded})}})},Ku=Object(xn.a)(Gu,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.resolvableDiscussionsCount>0?n("div",{ref:"discussionCounter",staticClass:"line-resolve-all-container full-width-mobile"},[n("div",{staticClass:"full-width-mobile d-flex d-sm-flex"},[n("div",{staticClass:"line-resolve-all"},[n("span",{class:{"line-resolve-btn is-active":e.allResolved,"line-resolve-text":!e.allResolved}},[e.allResolved?[n("icon",{attrs:{name:"check-circle-filled"}}),e._v("\n          "+e._s(e.__("All threads resolved"))+"\n        ")]:[e._v("\n          "+e._s(e.n__("%d unresolved thread","%d unresolved threads",e.unresolvedDiscussionsCount))+"\n        ")]],2)]),e._v(" "),e.resolveAllDiscussionsIssuePath&&!e.allResolved?n("div",{staticClass:"btn-group btn-group-sm",attrs:{role:"group"}},[n("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"new-issue-for-discussion btn btn-default discussion-create-issue-btn",attrs:{href:e.resolveAllDiscussionsIssuePath,title:e.s__("Resolve all threads in new issue")}},[n("icon",{attrs:{name:"issue-new"}})],1)]):e._e(),e._v(" "),e.isLoggedIn&&!e.allResolved?n("div",{staticClass:"btn-group btn-group-sm",attrs:{role:"group"}},[n("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"btn btn-default discussion-next-btn",attrs:{title:e.__("Jump to next unresolved thread"),"data-track-event":"click_button","data-track-label":"mr_next_unresolved_thread","data-track-property":"click_next_unresolved_thread_top"},on:{click:e.jumpToNextDiscussion}},[n("icon",{attrs:{name:"comment-next"}})],1)]):e._e(),e._v(" "),n("div",{staticClass:"btn-group btn-group-sm",attrs:{role:"group"}},[n("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"btn btn-default toggle-all-discussions-btn",attrs:{title:e.__("Toggle all threads")},on:{click:e.handleExpandDiscussions}},[n("icon",{attrs:{name:e.allExpanded?"angle-up":"angle-down"}})],1)])])]):e._e()}),[],!1,null,null,null).exports,Xu=n("TUEX"),Zu=n("/uU4"),Qu=n("53mm");function Yu(){Object(Qu.a)();var e,t,n=document.querySelector(".merge-request");new Ps.a({action:n.dataset.mrAction}),Za(),new h.default({el:"#js-vue-discussion-counter",name:"DiscussionCounter",components:{discussionCounter:Ku},store:wn,render:function(e){return e("discussion-counter")}}),Object(Xu.a)(wn),Object(Zu.a)(wn),e=wn,(t=document.getElementById("js-diff-file-finder"))&&new h.default({el:t,store:e,computed:Hu(Hu({},Object(m.e)("diffs",["fileFinderVisible","isLoading"])),Object(m.d)("diffs",["flatBlobsList"])),watch:{fileFinderVisible:function(e,t){!e||t||this.flatBlobsList.length||xe.a.$emit("fetchDiffData")}},methods:Hu(Hu({},Object(m.c)("diffs",["toggleFileFinder","scrollToFile"])),{},{openFile:function(e){window.mrTabs.tabShown("diffs"),this.scrollToFile(e.path)}}),render:function(e){return e(Qa.a,{props:{files:this.flatBlobsList,visible:this.fileFinderVisible,loading:this.isLoading,showDiffStats:!0,clearSearchOnClose:!1},on:{toggle:this.toggleFileFinder,click:this.openFile},class:["diff-file-finder"],style:{display:this.fileFinderVisible?"":"none"}})}}),new h.default({el:"#js-diffs-app",name:"MergeRequestDiffs",components:{diffsApp:Nu},store:e,data:function(){var e=document.querySelector(this.$options.el).dataset;return{endpoint:e.endpoint,endpointMetadata:e.endpointMetadata||"",endpointBatch:e.endpointBatch||"",endpointCoverage:e.endpointCoverage||"",projectPath:e.projectPath,helpPagePath:e.helpPagePath,currentUser:JSON.parse(e.currentUserData)||{},changesEmptyStateIllustration:e.changesEmptyStateIllustration,isFluidLayout:Object(j.H)(e.isFluidLayout),dismissEndpoint:e.dismissEndpoint,showSuggestPopover:Object(j.H)(e.showSuggestPopover),showWhitespaceDefault:Object(j.H)(e.showWhitespaceDefault)}},computed:Hu({},Object(m.e)({activeTab:function(e){return e.page.activeTab}})),created:function(){var e=Object(De.f)("w")[0],t=localStorage.getItem(Fe.X),n=null===t||Object(j.H)(t);this.setRenderTreeList(n),e||(e=this.showWhitespaceDefault?"0":"1"),this.setShowWhitespace({showWhitespace:"1"!==e})},methods:Hu({},Object(m.c)("diffs",["setRenderTreeList","setShowWhitespace"])),render:function(e){return e("diffs-app",{props:{endpoint:this.endpoint,endpointMetadata:this.endpointMetadata,endpointBatch:this.endpointBatch,endpointCoverage:this.endpointCoverage,currentUser:this.currentUser,projectPath:this.projectPath,helpPagePath:this.helpPagePath,shouldShow:"diffs"===this.activeTab,changesEmptyStateIllustration:this.changesEmptyStateIllustration,isFluidLayout:this.isFluidLayout,dismissEndpoint:this.dismissEndpoint,showSuggestPopover:this.showSuggestPopover,showWhitespaceDefault:this.showWhitespaceDefault}})}})}var Ju=n("1cpz"),ed=n("XqDB"),td=n("3c3Z"),nd=n("A3eJ"),id=n("WP4l"),rd=n("CUaz");function sd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function od(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sd(Object(n),!0).forEach((function(t){ad(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ad(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ld={components:{Icon:ei.a,GlSprintf:ci.a},mixins:[rd.a,Object(Ki.a)()],props:{draft:{type:Object,required:!0},isLast:{type:Boolean,required:!0}},computed:od(od(od({},Object(m.d)("diffs",["getDiffFileByHash"])),Object(m.d)(["getDiscussion"])),{},{iconName:function(){return this.isDiffDiscussion||this.draft.line_code?"doc-text":"comment"},discussion:function(){return this.getDiscussion(this.draft.discussion_id)},isDiffDiscussion:function(){return this.discussion&&this.discussion.diff_discussion},titleText:function(){var e=this.discussion?this.discussion.diff_file:this.draft;return e?e.file_path:Object(O.e)(Object(O.a)("%{authorsName}'s thread"),{authorsName:this.discussion.notes.find((function(e){return!e.system})).author.name})},linePosition:function(){if(this.draft.position&&this.draft.position.position_type===Fe.k)return"".concat(this.draft.position.x,"x ").concat(this.draft.position.y,"y");var e=this.discussion?this.discussion.position:this.draft.position;return(null==e?void 0:e.new_line)||(null==e?void 0:e.old_line)},content:function(){var e=document.createElement("div");return e.innerHTML=this.draft.note_html,e.textContent},showLinePosition:function(){return this.draft.file_hash||this.isDiffDiscussion},startLineNumber:function(){var e;return Object(nc.d)(null===(e=this.draft.position)||void 0===e?void 0:e.line_range)},endLineNumber:function(){var e;return Object(nc.b)(null===(e=this.draft.position)||void 0===e?void 0:e.line_range)}}),methods:od(od({},Object(m.c)("batchComments",["scrollToDraft"])),{},{getLineClasses:function(e){return Object(nc.c)(e)}}),showStaysResolved:!1},cd=Object(xn.a)(ld,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"review-preview-item menu-item",class:[e.componentClasses,{"is-last":e.isLast}],attrs:{type:"button"},on:{click:function(t){return e.scrollToDraft(e.draft)}}},[n("span",{staticClass:"review-preview-item-header"},[n("icon",{staticClass:"flex-shrink-0",attrs:{name:e.iconName}}),e._v(" "),n("span",{staticClass:"bold text-nowrap",class:{"gl-align-items-center":e.glFeatures.multilineComments}},[n("span",{staticClass:"review-preview-item-header-text block-truncated"},[e._v("\n        "+e._s(e.titleText)+"\n      ")]),e._v(" "),e.showLinePosition?[e.glFeatures.multilineComments?e.startLineNumber===e.endLineNumber?[e._v("\n          :"),n("span",{class:e.getLineClasses(e.startLineNumber)},[e._v(e._s(e.startLineNumber))])]:n("gl-sprintf",{attrs:{message:e.__(":%{startLine} to %{endLine}")},scopedSlots:e._u([{key:"startLine",fn:function(){return[n("span",{staticClass:"gl-mr-2",class:e.getLineClasses(e.startLineNumber)},[e._v(e._s(e.startLineNumber))])]},proxy:!0},{key:"endLine",fn:function(){return[n("span",{staticClass:"gl-ml-2",class:e.getLineClasses(e.endLineNumber)},[e._v(e._s(e.endLineNumber))])]},proxy:!0}],null,!1,1655010680)}):[e._v(":"+e._s(e.linePosition))]]:e._e()],2)],1),e._v(" "),n("span",{staticClass:"review-preview-item-content"},[n("p",[e._v(e._s(e.content))])]),e._v(" "),e.draft.discussion_id&&e.resolvedStatusMessage?n("span",{staticClass:"review-preview-item-footer draft-note-resolution p-0"},[n("icon",{staticClass:"gl-mr-3",attrs:{name:"status_success"}}),e._v(" "+e._s(e.resolvedStatusMessage)+"\n  ")],1):e._e()])}),[],!1,null,null,null).exports;function ud(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function dd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ud(Object(n),!0).forEach((function(t){fd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ud(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pd={components:{GlLoadingIcon:ji.a,Icon:ei.a,DraftsCount:nd.a,PublishButton:id.a,PreviewItem:cd},computed:dd(dd(dd(dd({},Object(m.d)(["isNotesFetched"])),Object(m.d)("batchComments",["draftsCount","sortedDrafts"])),Object(m.e)("batchComments",["showPreviewDropdown"])),{},{dropdownTitle:function(){return Object(O.e)(Object(O.c)("%{count} pending comment","%{count} pending comments",this.draftsCount),{count:this.draftsCount})}}),watch:{showPreviewDropdown:function(){var e=this;this.showPreviewDropdown&&this.$refs.dropdown&&this.$nextTick((function(){return e.$refs.dropdown.focus()}))}},mounted:function(){document.addEventListener("click",this.onClickDocument)},beforeDestroy:function(){document.removeEventListener("click",this.onClickDocument)},methods:dd(dd({},Object(m.c)("batchComments",["toggleReviewDropdown"])),{},{isLast:function(e){return e===this.sortedDrafts.length-1},onClickDocument:function(e){var t=e.target;this.showPreviewDropdown&&!t.closest(".review-preview-dropdown, .js-publish-draft-button")&&this.toggleReviewDropdown()}})},hd=Object(xn.a)(pd,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown float-right review-preview-dropdown",class:{show:e.showPreviewDropdown}},[n("button",{ref:"dropdown",staticClass:"btn btn-success review-preview-dropdown-toggle qa-review-preview-toggle",attrs:{type:"button"},on:{click:e.toggleReviewDropdown}},[e._v("\n    "+e._s(e.__("Finish review"))+"\n    "),n("drafts-count"),e._v(" "),n("icon",{attrs:{name:"angle-up"}})],1),e._v(" "),n("div",{staticClass:"dropdown-menu dropdown-menu-large dropdown-menu-right dropdown-open-top",class:{show:e.showPreviewDropdown}},[n("div",{staticClass:"dropdown-title"},[e._v("\n      "+e._s(e.dropdownTitle)+"\n      "),n("button",{staticClass:"dropdown-title-button dropdown-menu-close",attrs:{"aria-label":e.__("Close"),type:"button"},on:{click:e.toggleReviewDropdown}},[n("icon",{attrs:{name:"close"}})],1)]),e._v(" "),n("div",{staticClass:"dropdown-content"},[e.isNotesFetched?n("ul",e._l(e.sortedDrafts,(function(t,i){return n("li",{key:t.id},[n("preview-item",{attrs:{draft:t,"is-last":e.isLast(i)}})],1)})),0):n("gl-loading-icon",{staticClass:"prepend-top-default append-bottom-default",attrs:{size:"lg"}})],1),e._v(" "),n("div",{staticClass:"dropdown-footer"},[n("publish-button",{staticClass:"float-right gl-mr-3",attrs:{"show-count":!1,"should-publish":!0,label:e.__("Submit review")}})],1)])])}),[],!1,null,null,null).exports;function md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function gd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?md(Object(n),!0).forEach((function(t){bd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):md(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vd={components:{LoadingButton:td.a,GlModal:Ju.a,PreviewDropdown:hd},directives:{"gl-modal":ed.a},computed:gd(gd(gd({},Object(m.d)(["isNotesFetched"])),Object(m.e)("batchComments",["isDiscarding"])),Object(m.d)("batchComments",["draftsCount"])),watch:{isNotesFetched:function(){this.isNotesFetched&&this.expandAllDiscussions()}},methods:gd({},Object(m.c)("batchComments",["discardReview","expandAllDiscussions"])),modalId:"discard-draft-review",text:Object(O.e)(Object(O.d)("BatchComments|You're about to discard your review which will delete all of your pending comments.\n      The deleted comments %{strong_start}cannot%{strong_end} be restored."),{strong_start:"<strong>",strong_end:"</strong>"},!1)},_d=Object(xn.a)(vd,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.draftsCount>0,expression:"draftsCount > 0"}]},[n("nav",{staticClass:"review-bar-component"},[n("div",{staticClass:"review-bar-content qa-review-bar"},[n("preview-dropdown"),e._v(" "),n("loading-button",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:e.$options.modalId,expression:"$options.modalId"}],staticClass:"qa-discard-review float-right",attrs:{loading:e.isDiscarding,label:e.__("Discard review")}})],1)]),e._v(" "),n("gl-modal",{attrs:{title:e.s__("BatchComments|Discard review?"),"ok-title":e.s__("BatchComments|Delete all pending comments"),"modal-id":e.$options.modalId,"title-tag":"h4","ok-variant":"danger qa-modal-delete-pending-comments"},on:{ok:e.discardReview}},[n("p",{domProps:{innerHTML:e._s(e.$options.text)}})])],1)}),[],!1,null,null,null).exports;function yd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yd(Object(n),!0).forEach((function(t){Od(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Od(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jd=n("Gn8k"),Cd=n("Ylta"),Pd=n("OK+K"),Dd=n("TD9T"),Sd=n("UtYG"),kd=n("OZZk"),xd=n("U5ZW"),Ed={components:{GlPopover:ui.a,GlDeprecatedButton:di.a,GlLink:li.a,Icon:ei.a},props:{dismissEndpoint:{type:String,required:!0},featureId:{type:String,required:!0}},data:function(){return{showPopover:!1}},mounted:function(){var e=this;setTimeout((function(){e.showPopover=!0}),2e3)},methods:{onDismiss:function(){this.showPopover=!1,C.a.post(this.dismissEndpoint,{feature_name:this.featureId})}}},Td=Object(xn.a)(Ed,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-popover",{attrs:{target:"#diffs-tab",placement:"bottom",show:e.showPopover}},[n("p",{staticClass:"mb-2"},[e._v("\n    "+e._s(e.__("Now you can access the merge request navigation tabs at the top, where theyâre easier to find."))+"\n  ")]),e._v(" "),n("p",[n("gl-link",{attrs:{href:"https://gitlab.com/gitlab-org/gitlab/issues/36125",target:"_blank"}},[e._v("\n      "+e._s(e.__("More information and share feedback"))+"\n      "),n("icon",{attrs:{name:"external-link",size:10}})],1)],1),e._v(" "),n("gl-deprecated-button",{attrs:{variant:"primary",size:"sm","data-qa-selector":"dismiss_popover_button"},on:{click:e.onDismiss}},[e._v("\n    "+e._s(e.__("Got it"))+"\n  ")])],1)}),[],!1,null,null,null).exports,Id=function(){var e;new Cd.a,gon.features&&gon.features.vueIssuableSidebar?Object(kd.a)():Object(Pd.a)(),Object(Sd.a)(),new Dd.a(!0),Object(j.s)(),(e=jn()("#modal_merge_info"))&&(e.modal({modal:!0,show:!1}),jn()(".how_to_merge_link").on("click",e.show),jn()(".modal-header .close").on("click",e.hide)),Object(xd.a)();var t,n=document.querySelector(".js-tabs-feature-highlight");n&&(t=n,new h.default({el:t,render:function(e){return e(Td,{props:{dismissEndpoint:t.dataset.dismissEndpoint,featureId:t.dataset.featureId}})}}))};document.addEventListener("DOMContentLoaded",(function(){var e;Id(),gon.features&&!gon.features.vueIssuableSidebar&&Object(jd.a)(),Yu(),e=document.getElementById("js-review-bar"),new h.default({el:e,store:wn,mounted:function(){this.fetchDrafts()},methods:wd({},Object(m.c)("batchComments",["fetchDrafts"])),render:function(e){return e(_d)}})}))},gMZC:function(e,t,n){var i=n("k9pk")("curry",n("a7I8"));i.placeholder=n("gkan"),e.exports=i},geB2:function(e,t,n){"use strict";var i=n("FHWC");n.n(i).a},goKL:function(e,t,n){"use strict";n("MRnW"),n("jaBk"),n("KcQl");var i=n("99pJ"),r=n.n(i),s=n("FkSe"),o=n("/lV4"),a=n("XRO8"),l=n("hqF9"),c=n("D/do"),u={name:"PipelinesSvgState",props:{svgPath:{type:String,required:!0},message:{type:String,required:!0}}},d=n("tBpV"),f=Object(d.a)(u,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row empty-state"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"svg-content"},[t("img",{attrs:{src:this.svgPath}})])]),this._v(" "),t("div",{staticClass:"col-12 text-center"},[t("div",{staticClass:"text-content"},[t("h4",[this._v(this._s(this.message))])])])])}),[],!1,null,null,null).exports,p=n("LLbv"),h=(n("va8A"),n("z4I3"),n("dj/k"),n("9U97"),n("kO4A"),n("+kFb"),n("OZM5"),n("x/6R"),n("yaFd"),n("4ql4"),n("8Qi2"),n("+xU6"),n("zCcL"),n("zpLX"),n("BD5p"),n("jslJ"),n("GzNv"),n("tbvx"),n("Id6h"),n("orcL"),n("s5BM")),m=n("GTGS"),g=n("2ibD"),b=n("VuQQ"),v=n("len0"),_={directives:{GlTooltip:p.a},components:{Icon:v.a,GlCountdown:b.a,GlDeprecatedButton:m.a,GlLoadingIcon:s.a},props:{actions:{type:Array,required:!0}},data:function(){return{isLoading:!1}},methods:{onClickAction:function(e){var t=this;if(e.scheduled_at){var n=Object(o.e)(Object(o.d)("DelayedJobs|Are you sure you want to run %{jobName} immediately? Otherwise this job will run automatically after it's timer finishes."),{jobName:e.name});if(!window.confirm(n))return}this.isLoading=!0,g.a.post("".concat(e.path,".json")).then((function(){t.isLoading=!1,h.a.$emit("updateTable")})).catch((function(){t.isLoading=!1,Object(a.a)(Object(o.a)("An error occurred while making the request."))}))},isActionDisabled:function(e){return void 0!==e.playable&&!e.playable}}},y=Object(d.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"btn-group"},[n("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"dropdown-new btn btn-default js-pipeline-dropdown-manual-actions",attrs:{type:"button",disabled:e.isLoading,title:e.__("Manual job"),"data-toggle":"dropdown","aria-label":e.__("Manual job")}},[n("icon",{staticClass:"icon-play",attrs:{name:"play"}}),e._v(" "),n("i",{staticClass:"fa fa-caret-down",attrs:{"aria-hidden":"true"}}),e._v(" "),e.isLoading?n("gl-loading-icon"):e._e()],1),e._v(" "),n("ul",{staticClass:"dropdown-menu dropdown-menu-right"},e._l(e.actions,(function(t){return n("li",{key:t.path},[n("gl-deprecated-button",{staticClass:"js-pipeline-action-link no-btn btn d-flex align-items-center justify-content-between flex-wrap",class:{disabled:e.isActionDisabled(t)},attrs:{disabled:e.isActionDisabled(t)},on:{click:function(n){return e.onClickAction(t)}}},[e._v("\n        "+e._s(t.name)+"\n        "),t.scheduled_at?n("span",[n("icon",{attrs:{name:"clock"}}),e._v(" "),n("gl-countdown",{attrs:{"end-date-string":t.scheduled_at}})],1):e._e()])],1)})),0)])}),[],!1,null,null,null).exports,w=n("MV2A"),O={directives:{GlTooltip:p.a},components:{Icon:v.a,GlLink:w.a},props:{artifacts:{type:Array,required:!0}}},j=Object(d.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"btn-group",attrs:{role:"group"}},[n("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"dropdown-toggle build-artifacts btn btn-default js-pipeline-dropdown-download",attrs:{type:"button",title:e.__("Artifacts"),"data-toggle":"dropdown","aria-label":e.__("Artifacts")}},[n("icon",{attrs:{name:"download"}}),e._v(" "),n("i",{staticClass:"fa fa-caret-down",attrs:{"aria-hidden":"true"}})],1),e._v(" "),n("ul",{staticClass:"dropdown-menu dropdown-menu-right"},e._l(e.artifacts,(function(t,i){return n("li",{key:i},[n("gl-link",{attrs:{href:t.path,rel:"nofollow",download:""}},[e._v("Download "+e._s(t.name)+" artifact")])],1)})),0)])}),[],!1,null,null,null).exports,C=n("2Swe"),P=n("3A1N"),D=n("G3fq"),S=n.n(D),k=n("fY2I"),x=Object(o.e)(S()(Object(o.a)("This pipeline makes use of a predefined CI/CD configuration enabled by %{strongStart}Auto DevOps.%{strongEnd}")),{strongStart:"<b>",strongEnd:"</b>"},!1),E={components:{GlLink:w.a},directives:{GlTooltip:p.a,popover:k.a},props:{pipeline:{type:Object,required:!0},autoDevopsHelpPath:{type:String,required:!0}},computed:{user:function(){return this.pipeline.user},popoverOptions:function(){return{html:!0,trigger:"focus",placement:"top",title:'<div class="autodevops-title">\n            '.concat(x,"\n          </div>"),content:'<a\n            class="autodevops-link"\n            href="'.concat(this.autoDevopsHelpPath,'"\n            target="_blank"\n            rel="noopener noreferrer nofollow">\n            ').concat(S()(Object(o.a)("Learn more about Auto DevOps")),"\n          </a>")}}}},T=Object(d.a)(E,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-section section-10 d-none d-sm-none d-md-block pipeline-tags"},[n("gl-link",{staticClass:"js-pipeline-url-link js-onboarding-pipeline-item",attrs:{href:e.pipeline.path,"data-qa-selector":"pipeline_url_link"}},[n("span",{staticClass:"pipeline-id"},[e._v("#"+e._s(e.pipeline.id))])]),e._v(" "),n("div",{staticClass:"label-container"},[e.pipeline.flags.latest?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-pipeline-url-latest badge badge-success",attrs:{title:e.__("Latest pipeline for the most recent commit on this branch")}},[e._v("\n      "+e._s(e.__("latest"))+"\n    ")]):e._e(),e._v(" "),e.pipeline.flags.yaml_errors?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-pipeline-url-yaml badge badge-danger",attrs:{title:e.pipeline.yaml_errors}},[e._v("\n      "+e._s(e.__("yaml invalid"))+"\n    ")]):e._e(),e._v(" "),e.pipeline.flags.failure_reason?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-pipeline-url-failure badge badge-danger",attrs:{title:e.pipeline.failure_reason}},[e._v("\n      "+e._s(e.__("error"))+"\n    ")]):e._e(),e._v(" "),e.pipeline.flags.auto_devops?n("gl-link",{directives:[{name:"popover",rawName:"v-popover",value:e.popoverOptions,expression:"popoverOptions"}],staticClass:"js-pipeline-url-autodevops badge badge-info autodevops-badge",attrs:{tabindex:"0",role:"button"}},[e._v(e._s(e.__("Auto DevOps")))]):e._e(),e._v(" "),e.pipeline.flags.stuck?n("span",{staticClass:"js-pipeline-url-stuck badge badge-warning"},[e._v("\n      "+e._s(e.__("stuck"))+"\n    ")]):e._e(),e._v(" "),e.pipeline.flags.detached_merge_request_pipeline?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-pipeline-url-detached badge badge-info",attrs:{title:e.__("Pipelines for merge requests are configured. A detached pipeline runs in the context of the merge request, and not against the merged result. Learn more in the documentation for Pipelines for Merged Results.")}},[e._v("\n      "+e._s(e.__("detached"))+"\n    ")]):e._e()],1)],1)}),[],!1,null,null,null).exports,I={components:{UserAvatarLink:n("ZHzM").a},props:{pipeline:{type:Object,required:!0}},computed:{user:function(){return this.pipeline.user}}},R=Object(d.a)(I,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table-section section-10 d-none d-sm-none d-md-block pipeline-triggerer"},[this.user?t("user-avatar-link",{staticClass:"prepend-left-default js-pipeline-url-user",attrs:{"link-href":this.user.path,"img-src":this.user.avatar_url,"img-size":26,"tooltip-text":this.user.name}}):t("span",{staticClass:"prepend-left-default js-pipeline-url-api api"},[this._v("\n    "+this._s(this.s__("Pipelines|API"))+"\n  ")])],1)}),[],!1,null,null,null).exports,L=(n("bOix"),n("Dfb/")),F=n("5QKO"),B={directives:{tooltip:L.a},mixins:[F.a],props:{finishedTime:{type:String,required:!0},duration:{type:Number,required:!0}},data:function(){return{iconTimerSvg:'<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g fill="#8F8F8F" fill-rule="evenodd"><path d="M29.513 10.134A15.922 15.922 0 0 0 23 7.28V6h2.993C26.55 6 27 5.552 27 5V2a1 1 0 0 0-1.007-1H14.007C13.45 1 13 1.448 13 2v3a1 1 0 0 0 1.007 1H17v1.28C9.597 8.686 4 15.19 4 23c0 8.837 7.163 16 16 16s16-7.163 16-16c0-3.461-1.099-6.665-2.967-9.283l1.327-1.58a2.498 2.498 0 0 0-.303-3.53 2.499 2.499 0 0 0-3.528.315l-1.016 1.212zM20 34c6.075 0 11-4.925 11-11s-4.925-11-11-11S9 16.925 9 23s4.925 11 11 11z"/><path d="M19 21h-4.002c-.552 0-.998.452-.998 1.01v1.98c0 .567.447 1.01.998 1.01h7.004c.274 0 .521-.111.701-.291a.979.979 0 0 0 .297-.704v-8.01c0-.54-.452-.995-1.01-.995h-1.98a.997.997 0 0 0-1.01.995V21z"/></g></svg>\n'}},computed:{hasDuration:function(){return this.duration>0},hasFinishedTime:function(){return""!==this.finishedTime},durationFormatted:function(){var e=new Date(1e3*this.duration),t=e.getUTCHours(),n=e.getUTCMinutes(),i=e.getSeconds();return t<10&&(t="0".concat(t)),n<10&&(n="0".concat(n)),i<10&&(i="0".concat(i)),"".concat(t,":").concat(n,":").concat(i)}}},q=Object(d.a)(B,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-section section-15 pipelines-time-ago"},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v(e._s(e.s__("Pipeline|Duration")))]),e._v(" "),n("div",{staticClass:"table-mobile-content"},[e.hasDuration?n("p",{staticClass:"duration"},[n("span",{domProps:{innerHTML:e._s(e.iconTimerSvg)}}),e._v(" "+e._s(e.durationFormatted)+"\n    ")]):e._e(),e._v(" "),e.hasFinishedTime?n("p",{staticClass:"finished-at d-none d-sm-none d-md-block"},[n("i",{staticClass:"fa fa-calendar",attrs:{"aria-hidden":"true"}}),e._v(" "),n("time",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:e.tooltipTitle(e.finishedTime),"data-placement":"top","data-container":"body"}},[e._v("\n        "+e._s(e.timeFormatted(e.finishedTime))+"\n      ")])]):e._e()])])}),[],!1,null,null,null).exports,A=n("AN20"),M=n("3c3Z"),N=n("k4Ha");function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var z={components:{PipelinesActionsComponent:y,PipelinesArtifactsComponent:j,CommitComponent:A.a,PipelineStage:P.a,PipelineUrl:T,PipelineTriggerer:R,CiBadge:C.a,PipelinesTimeago:q,LoadingButton:M.a,Icon:v.a},props:{pipeline:{type:Object,required:!0},updateGraphDropdown:{type:Boolean,required:!1,default:!1},autoDevopsHelpPath:{type:String,required:!0},viewType:{type:String,required:!0},cancelingPipeline:{type:Number,required:!1,default:null}},pipelinesTable:N.i,data:function(){return{isRetrying:!1}},computed:{actions:function(){if(!this.pipeline||!this.pipeline.details)return[];var e=this.pipeline.details;return[].concat(V(e.manual_actions||[]),V(e.scheduled_actions||[]))},commitAuthor:function(){var e;return this.pipeline&&this.pipeline.commit?(this.pipeline.commit.author?this.pipeline.commit.author.avatar_url?e=this.pipeline.commit.author:this.pipeline.commit.author_gravatar_url&&(e=H(H({},this.pipeline.commit.author),{},{avatar_url:this.pipeline.commit.author_gravatar_url})):e={avatar_url:this.pipeline.commit.author_gravatar_url,path:"mailto:".concat(this.pipeline.commit.author_email),username:this.pipeline.commit.author_name},e):null},commitTag:function(){if(this.pipeline.ref&&this.pipeline.ref.tag)return this.pipeline.ref.tag},commitRef:function(){var e=this;if(this.pipeline.ref)return Object.keys(this.pipeline.ref).reduce((function(t,n){return"path"===n?t.ref_url=e.pipeline.ref[n]:t[n]=e.pipeline.ref[n],t}),{})},commitUrl:function(){if(this.pipeline.commit&&this.pipeline.commit.commit_path)return this.pipeline.commit.commit_path},commitShortSha:function(){if(this.pipeline.commit&&this.pipeline.commit.short_id)return this.pipeline.commit.short_id},commitTitle:function(){if(this.pipeline.commit&&this.pipeline.commit.title)return this.pipeline.commit.title},pipelineDuration:function(){return this.pipeline.details&&this.pipeline.details.duration?this.pipeline.details.duration:0},pipelineFinishedAt:function(){return this.pipeline.details&&this.pipeline.details.finished_at?this.pipeline.details.finished_at:""},pipelineStatus:function(){return this.pipeline.details&&this.pipeline.details.status?this.pipeline.details.status:{}},displayPipelineActions:function(){return this.pipeline.flags.retryable||this.pipeline.flags.cancelable||this.pipeline.details.manual_actions.length||this.pipeline.details.artifacts.length},isChildView:function(){return"child"===this.viewType},isCancelling:function(){return this.cancelingPipeline===this.pipeline.id}},watch:{pipeline:function(){this.isRetrying=!1}},methods:{handleCancelClick:function(){h.a.$emit("openConfirmationModal",{pipeline:this.pipeline,endpoint:this.pipeline.cancel_path})},handleRetryClick:function(){this.isRetrying=!0,h.a.$emit("retryPipeline",this.pipeline.retry_path)}}},G=Object(d.a)(z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"commit gl-responsive-table-row"},[n("div",{staticClass:"table-section section-10 commit-link"},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v(e._s(e.s__("Pipeline|Status")))]),e._v(" "),n("div",{staticClass:"table-mobile-content"},[n("ci-badge",{attrs:{status:e.pipelineStatus,"show-text":!e.isChildView,"data-qa-selector":"pipeline_commit_status"}})],1)]),e._v(" "),n("pipeline-url",{attrs:{pipeline:e.pipeline,"auto-devops-help-path":e.autoDevopsHelpPath}}),e._v(" "),n("pipeline-triggerer",{attrs:{pipeline:e.pipeline}}),e._v(" "),n("div",{staticClass:"table-section section-wrap section-20"},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v(e._s(e.s__("Pipeline|Commit")))]),e._v(" "),n("div",{staticClass:"table-mobile-content"},[n("commit-component",{attrs:{tag:e.commitTag,"commit-ref":e.commitRef,"commit-url":e.commitUrl,"merge-request-ref":e.pipeline.merge_request,"short-sha":e.commitShortSha,title:e.commitTitle,author:e.commitAuthor,"show-ref-info":!e.isChildView}})],1)]),e._v(" "),n("div",{staticClass:"table-section section-wrap section-15 stage-cell"},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v(e._s(e.s__("Pipeline|Stages")))]),e._v(" "),n("div",{staticClass:"table-mobile-content"},[e.pipeline.details.stages.length>0?e._l(e.pipeline.details.stages,(function(t,i){return n("div",{key:i,staticClass:"stage-container dropdown js-mini-pipeline-graph"},[n("pipeline-stage",{attrs:{type:e.$options.pipelinesTable,stage:t,"update-dropdown":e.updateGraphDropdown}})],1)})):e._e()],2)]),e._v(" "),n("pipelines-timeago",{attrs:{duration:e.pipelineDuration,"finished-time":e.pipelineFinishedAt}}),e._v(" "),e.displayPipelineActions?n("div",{staticClass:"table-section section-20 table-button-footer pipeline-actions"},[n("div",{staticClass:"btn-group table-action-buttons"},[e.actions.length>0?n("pipelines-actions-component",{attrs:{actions:e.actions}}):e._e(),e._v(" "),e.pipeline.details.artifacts.length?n("pipelines-artifacts-component",{staticClass:"d-md-block",attrs:{artifacts:e.pipeline.details.artifacts}}):e._e(),e._v(" "),e.pipeline.flags.retryable?n("loading-button",{attrs:{loading:e.isRetrying,disabled:e.isRetrying,"container-class":"js-pipelines-retry-button btn btn-default btn-retry","data-qa-selector":"pipeline_retry_button"},on:{click:e.handleRetryClick}},[n("icon",{attrs:{name:"repeat"}})],1):e._e(),e._v(" "),e.pipeline.flags.cancelable?n("loading-button",{attrs:{loading:e.isCancelling,disabled:e.isCancelling,"data-toggle":"modal","data-target":"#confirmation-modal","container-class":"js-pipelines-cancel-button btn btn-remove"},on:{click:e.handleCancelClick}},[n("icon",{attrs:{name:"close"}})],1):e._e()],1)]):e._e()],1)}),[],!1,null,null,null).exports,K=n("Q33P"),X=n.n(K),Z=n("Mifk"),Q=n("8zNS"),Y={components:{GlModal:Z.a,GlLink:w.a,CiIcon:Q.a},props:{pipeline:{type:Object,required:!0,deep:!0}},computed:{modalTitle:function(){return Object(o.e)(Object(o.d)("Pipeline|Stop pipeline #%{pipelineId}?"),{pipelineId:"".concat(this.pipeline.id)},!1)},modalText:function(){return Object(o.e)(Object(o.d)("Pipeline|Youâre about to stop pipeline %{pipelineId}."),{pipelineId:"<strong>#".concat(this.pipeline.id,"</strong>")},!1)},hasRef:function(){return!X()(this.pipeline.ref)}},methods:{emitSubmit:function(e){this.$emit("submit",e)}}},J={components:{PipelinesTableRowComponent:G,PipelineStopModal:Object(d.a)(Y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-modal",{attrs:{id:"confirmation-modal","header-title-text":e.modalTitle,"footer-primary-button-text":e.s__("Pipeline|Stop pipeline"),"footer-primary-button-variant":"danger"},on:{submit:function(t){return e.emitSubmit(t)}}},[n("p",{domProps:{innerHTML:e._s(e.modalText)}}),e._v(" "),e.pipeline?n("p",[e.pipeline.details?n("ci-icon",{staticClass:"vertical-align-middle",attrs:{status:e.pipeline.details.status}}):e._e(),e._v(" "),n("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.__("Pipeline")))]),e._v(" "),n("a",{staticClass:"js-pipeline-path link-commit qa-pipeline-path",attrs:{href:e.pipeline.path}},[e._v("#"+e._s(e.pipeline.id))]),e._v(" "),e.hasRef?[e._v("\n      "+e._s(e.__("from"))+"\n      "),n("a",{staticClass:"link-commit ref-name",attrs:{href:e.pipeline.ref.path}},[e._v(e._s(e.pipeline.ref.name))])]:e._e()],2):e._e(),e._v(" "),e.pipeline.commit?[n("p",[n("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.__("Commit")))]),e._v(" "),n("gl-link",{staticClass:"js-commit-sha commit-sha link-commit",attrs:{href:e.pipeline.commit.commit_path}},[e._v("\n        "+e._s(e.pipeline.commit.short_id)+"\n      ")])],1),e._v(" "),n("p",[e._v(e._s(e.pipeline.commit.title))])]:e._e()],2)}),[],!1,null,null,null).exports},directives:{GlTooltip:p.a},props:{pipelines:{type:Array,required:!0},updateGraphDropdown:{type:Boolean,required:!1,default:!1},autoDevopsHelpPath:{type:String,required:!0},viewType:{type:String,required:!0}},data:function(){return{pipelineId:0,pipeline:{},endpoint:"",cancelingPipeline:null}},watch:{pipelines:function(){this.cancelingPipeline=null}},created:function(){h.a.$on("openConfirmationModal",this.setModalData)},beforeDestroy:function(){h.a.$off("openConfirmationModal",this.setModalData)},methods:{setModalData:function(e){this.pipelineId=e.pipeline.id,this.pipeline=e.pipeline,this.endpoint=e.endpoint},onSubmit:function(){h.a.$emit("postAction",this.endpoint),this.cancelingPipeline=this.pipelineId}}},ee=Object(d.a)(J,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ci-table"},[n("div",{staticClass:"gl-responsive-table-row table-row-header",attrs:{role:"row"}},[n("div",{staticClass:"table-section section-10 js-pipeline-status",attrs:{role:"rowheader"}},[e._v("\n      "+e._s(e.s__("Pipeline|Status"))+"\n    ")]),e._v(" "),n("div",{staticClass:"table-section section-10 js-pipeline-info pipeline-info",attrs:{role:"rowheader"}},[e._v("\n      "+e._s(e.s__("Pipeline|Pipeline"))+"\n    ")]),e._v(" "),n("div",{staticClass:"table-section section-10 js-triggerer-info triggerer-info",attrs:{role:"rowheader"}},[e._v("\n      "+e._s(e.s__("Pipeline|Triggerer"))+"\n    ")]),e._v(" "),n("div",{staticClass:"table-section section-20 js-pipeline-commit pipeline-commit",attrs:{role:"rowheader"}},[e._v("\n      "+e._s(e.s__("Pipeline|Commit"))+"\n    ")]),e._v(" "),n("div",{staticClass:"table-section section-15 js-pipeline-stages pipeline-stages",attrs:{role:"rowheader"}},[e._v("\n      "+e._s(e.s__("Pipeline|Stages"))+"\n    ")])]),e._v(" "),e._l(e.pipelines,(function(t){return n("pipelines-table-row-component",{key:t.id,attrs:{pipeline:t,"update-graph-dropdown":e.updateGraphDropdown,"auto-devops-help-path":e.autoDevopsHelpPath,"view-type":e.viewType,"canceling-pipeline":e.cancelingPipeline}})})),e._v(" "),n("pipeline-stop-modal",{attrs:{pipeline:e.pipeline},on:{submit:e.onSubmit}})],2)}),[],!1,null,null,null).exports;t.a={components:{PipelinesTableComponent:ee,SvgBlankState:f,EmptyState:c.a,GlLoadingIcon:s.a},data:function(){return{isLoading:!1,hasError:!1,isMakingRequest:!1,updateGraphDropdown:!1,hasMadeRequest:!1}},computed:{shouldRenderPagination:function(){return!this.isLoading}},beforeMount:function(){var e=this;this.poll=new l.a({resource:this.service,method:"getPipelines",data:this.requestData?this.requestData:void 0,successCallback:this.successCallback,errorCallback:this.errorCallback,notificationCallback:this.setIsMakingRequest}),r.a.hidden()?this.fetchPipelines():(this.isLoading=!0,this.poll.makeRequest()),r.a.change((function(){r.a.hidden()?e.poll.stop():e.poll.restart()})),h.a.$on("postAction",this.postAction),h.a.$on("retryPipeline",this.postAction),h.a.$on("clickedDropdown",this.updateTable),h.a.$on("updateTable",this.updateTable),h.a.$on("refreshPipelinesTable",this.fetchPipelines),h.a.$on("runMergeRequestPipeline",this.runMergeRequestPipeline)},beforeDestroy:function(){h.a.$off("postAction",this.postAction),h.a.$off("retryPipeline",this.postAction),h.a.$off("clickedDropdown",this.updateTable),h.a.$off("updateTable",this.updateTable),h.a.$off("refreshPipelinesTable",this.fetchPipelines),h.a.$off("runMergeRequestPipeline",this.runMergeRequestPipeline)},destroyed:function(){this.poll.stop()},methods:{updateContent:function(e){var t=this;return this.updateInternalState(e),this.service.getPipelines(this.requestData).then((function(e){t.isLoading=!1,t.successCallback(e),t.poll.enable({data:t.requestData,response:e})})).catch((function(){t.isLoading=!1,t.errorCallback(),t.poll.restart({data:t.requestData})}))},updateTable:function(){return this.isMakingRequest&&this.service.cancelationSource.cancel(N.b),this.poll.stop(),this.poll.restart()},fetchPipelines:function(){this.isMakingRequest||(this.isLoading=!0,this.getPipelines())},getPipelines:function(){var e=this;return this.service.getPipelines(this.requestData).then((function(t){return e.successCallback(t)})).catch((function(t){return e.errorCallback(t)}))},setCommonData:function(e){this.store.storePipelines(e),this.isLoading=!1,this.updateGraphDropdown=!0,this.hasMadeRequest=!0,this.hasError&&(this.hasError=!1)},errorCallback:function(e){this.hasMadeRequest=!0,this.isLoading=!1,e&&e.message&&e.message!==N.b&&(this.hasError=!0,this.updateGraphDropdown=!1)},setIsMakingRequest:function(e){this.isMakingRequest=e,e&&(this.updateGraphDropdown=!1)},postAction:function(e){var t=this;this.service.postAction(e).then((function(){return t.updateTable()})).catch((function(){return Object(a.a)(Object(o.a)("An error occurred while making the request."))}))},runMergeRequestPipeline:function(e){var t=this;this.store.toggleIsRunningPipeline(!0),this.service.runMRPipeline(e).then((function(){return t.updateTable()})).catch((function(){Object(a.a)(Object(o.a)("An error occurred while trying to run a new pipeline for this Merge Request."))})).finally((function(){return t.store.toggleIsRunningPipeline(!1)}))}}}},grn8:function(e,t,n){"use strict";n("va8A"),n("kO4A"),n("+kFb"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h");var i=n("yi8e"),r=n("NmEs"),s=n("J7NB");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=document.querySelector(e);return!!t&&(Object(r.R)(t),!0)}function u(e,t){var n=e.expandDiscussion,i='div.discussion[data-discussion-id="'.concat(t,'"]');return n({discussionId:t}),c(i)}function d(e,t){var n=t.id,i=t.diff_discussion;if(n){var r=window.mrTabs.currentAction;"diffs"===r&&i?function(e,t){var n=e.expandDiscussion,i='ul.notes[data-discussion-id="'.concat(t,'"]');s.a.$once("scrollToDiscussion",(function(){return c(i)})),n({discussionId:t})}(e,n):"show"===r?u(e,n):function(e,t){window.mrTabs.eventHub.$once("MergeRequestTabChange",(function(){setTimeout((function(){return u(e,t)}),0)})),window.mrTabs.tabShown("show")}(e,n)}}function f(e,t){var n=t(arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.currentDiscussionId,"diffs"===window.mrTabs.currentAction),i=e.getDiscussion(n);d(e,i),e.setCurrentDiscussionId(n)}t.a={computed:a(a({},Object(i.d)(["nextUnresolvedDiscussionId","previousUnresolvedDiscussionId","getDiscussion"])),Object(i.e)({currentDiscussionId:function(e){return e.notes.currentDiscussionId}})),methods:a(a({},Object(i.c)(["expandDiscussion","setCurrentDiscussionId"])),{},{jumpToNextDiscussion:function(){f(this,this.nextUnresolvedDiscussionId)},jumpToPreviousDiscussion:function(){f(this,this.previousUnresolvedDiscussionId)},jumpToNextRelativeDiscussion:function(e){f(this,this.nextUnresolvedDiscussionId,e)}})}},gvRd:function(e,t,n){"use strict";n("va8A"),n("kO4A"),n("+kFb"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h");var i=n("3a3M"),r=n.n(i),s=n("yi8e"),o=n("GTGS"),a=n("TBBL"),l=n("LLbv"),c=n("TNeE"),u=n("len0"),d=n("sHIo"),f=n("OgyL"),p=n("NmEs"),h=n("lzIs");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={name:"SystemNote",components:{Icon:u.a,noteHeader:c.a,TimelineEntryItem:f.a,GlDeprecatedButton:o.a,GlSkeletonLoading:a.a},directives:{GlTooltip:l.a},mixins:[{computed:{canSeeDescriptionVersion:function(){},displayDeleteButton:function(){},shouldShowDescriptionVersion:function(){},descriptionVersionToggleIcon:function(){}},methods:{toggleDescriptionVersion:function(){},deleteDescriptionVersion:function(){}}},Object(d.a)()],props:{note:{type:Object,required:!0}},data:function(){return{expanded:!1}},computed:g(g(g({},Object(s.d)(["targetNoteHash","descriptionVersions"])),Object(s.e)(["isLoadingDescriptionVersion"])),{},{noteAnchorId:function(){return"note_".concat(this.note.id)},isTargetNote:function(){return this.targetNoteHash===this.noteAnchorId},iconHtml:function(){return Object(p.V)(this.note.system_note_icon_name)},toggleIcon:function(){return this.expanded?"chevron-up":"chevron-down"},actionTextHtml:function(){return r()(this.note.note_html).unwrap().html()},hasMoreCommits:function(){return r()(this.note.note_html).filter("ul").children().length>3},descriptionVersion:function(){return this.descriptionVersions[this.note.description_version_id]}}),mounted:function(){Object(h.a)(this.$el.querySelectorAll(".gfm-merge_request"))},methods:g({},Object(s.c)(["fetchDescriptionVersion","softDeleteDescriptionVersion"]))},_=n("tBpV"),y=Object(_.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("timeline-entry-item",{staticClass:"note system-note note-wrapper",class:{target:e.isTargetNote,"pr-0":e.shouldShowDescriptionVersion},attrs:{id:e.noteAnchorId}},[n("div",{staticClass:"timeline-icon",domProps:{innerHTML:e._s(e.iconHtml)}}),e._v(" "),n("div",{staticClass:"timeline-content"},[n("div",{staticClass:"note-header"},[n("note-header",{attrs:{author:e.note.author,"created-at":e.note.created_at,"note-id":e.note.id}},[n("span",{domProps:{innerHTML:e._s(e.actionTextHtml)}}),e._v(" "),e.canSeeDescriptionVersion?n("template",{slot:"extra-controls"},[e._v("\n          Â·\n          "),n("button",{staticClass:"btn-blank btn-link",attrs:{type:"button"},on:{click:e.toggleDescriptionVersion}},[e._v("\n            "+e._s(e.__("Compare with previous version"))+"\n            "),n("icon",{staticClass:"append-left-5",attrs:{name:e.descriptionVersionToggleIcon,size:12}})],1)]):e._e()],2)],1),e._v(" "),n("div",{staticClass:"note-body"},[n("div",{staticClass:"note-text md",class:{"system-note-commit-list":e.hasMoreCommits,"hide-shade":e.expanded},domProps:{innerHTML:e._s(e.note.note_html)}}),e._v(" "),e.hasMoreCommits?n("div",{staticClass:"flex-list"},[n("div",{staticClass:"system-note-commit-list-toggler flex-row",on:{click:function(t){e.expanded=!e.expanded}}},[n("icon",{staticClass:"append-right-5",attrs:{name:e.toggleIcon,size:8}}),e._v(" "),n("span",[e._v(e._s(e.__("Toggle commit list")))])],1)]):e._e(),e._v(" "),e.shouldShowDescriptionVersion?n("div",{staticClass:"description-version pt-2"},[e.isLoadingDescriptionVersion?n("pre",{staticClass:"loading-state"},[e._v("          "),n("gl-skeleton-loading"),e._v("\n        ")],1):n("pre",{staticClass:"wrapper mt-2",domProps:{innerHTML:e._s(e.descriptionVersion)}}),e._v(" "),e.displayDeleteButton?n("gl-deprecated-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],ref:"deleteDescriptionVersionButton",staticClass:"btn-transparent delete-description-history",attrs:{title:e.__("Remove description history")},on:{click:e.deleteDescriptionVersion}},[n("icon",{attrs:{name:"remove"}})],1):e._e()],1):e._e()])])])}),[],!1,null,null,null);t.a=y.exports},"h/fo":function(e,t,n){"use strict";var i={name:"ReplyPlaceholder",props:{buttonText:{type:String,required:!0}}},r=n("tBpV"),s=Object(r.a)(i,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{ref:"button",staticClass:"js-vue-discussion-reply btn btn-text-field",attrs:{type:"button",title:e.s__("MergeRequests|Add a reply")},on:{click:function(t){return e.$emit("onClick")}}},[e._v("\n  "+e._s(e.buttonText)+"\n")])}),[],!1,null,null,null);t.a=s.exports},hXLA:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return r}));var i=n("Qog8"),r="gitlab",s=["#dbdbdb","#b7c6ff","#748eff","#445cf2","#232fcf"],o=["#5772ff","#b24800","#0094b6","#366800","#950943","#3547de","#6f3500","#006887","#1a4500","#570028","#1e23a8","#421e00","#003f57","#487900","#b31756","#445cf2","#944100","#0080a1","#275600","#7a0033","#232fcf","#5c2b00","#004d67","#0f3300","#d84280","#11118a","#d14e00","#00293d","#608b2f","#c52c6b"],a=function(e){return o[e%o.length]},l={variants:{gray900:"#303030"},defaultVariant:"gray900"},c={axisLabel:{margin:8,show:!0,color:"#5e5e5e",textStyle:{color:"#5e5e5e"}},axisLine:{show:!1},axisPointer:{lineStyle:{color:"#5e5e5e"},label:{show:!1}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{color:"#bfbfbf"}},nameGap:30,nameTextStyle:{fontStyle:"bold"},splitLine:{lineStyle:{color:["#bfbfbf"]}},splitArea:{show:!1,areaStyle:{color:[Object(i.d)("#f0f0f0",.3),Object(i.d)("#999",.3)]}}},u={color:o,backgroundColor:"transparent",textStyle:{color:"#303030"},markLine:{silent:!0,symbol:"none",label:{show:!1},lineStyle:{color:"#dd2b0e",width:1,type:"dashed"}},markArea:{silent:!0,itemStyle:{color:Object(i.d)("#dd2b0e",.1)}},dataZoom:{borderColor:"transparent",filterMode:"none",dataBackground:{lineStyle:{color:"#dbdbdb",opacity:1},areaStyle:{color:"#dbdbdb",opacity:1}},fillerColor:Object(i.d)("#999",.2),handleColor:"#525252",handleSize:"50%",labelFormatter:function(){return null},textStyle:{color:"#5e5e5e"}},toolbox:{top:"-5",left:"center",itemSize:14,iconStyle:{color:"#bfbfbf",borderWidth:0,emphasis:{borderWidth:0,color:"#525252"}},itemGap:8,feature:{dataZoom:{title:{zoom:"Click to zoom in on a portion of the graph",back:"Remove selection"}},restore:{title:"Remove all selections and return chart to default state"},saveAsImage:{title:"Save chart as an image",name:"graph"}}},markPoint:{label:{normal:{textStyle:{color:"#f0f0f0"}},emphasis:{textStyle:{color:"#f0f0f0"}}}},line:{itemStyle:{normal:{borderWidth:1}},lineStyle:{normal:{width:2}},symbolSize:"6",symbol:"circle",showSymbol:!1,smooth:!1},categoryAxis:c,valueAxis:c,logAxis:c,timeAxis:c};t.b=u},hqzR:function(e,t,n){e.exports=n("SmUC")},ib6H:function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n.file-row-stats {\n  font-size: 12px;\n}\n",""])},jJDv:function(e,t,n){var i=n("90g9"),r=n("nHTl"),s=n("QwWC"),o=n("P/Kr");e.exports=function(e,t){return(o(e)?i:s)(e,r(t,3))}},jslJ:function(e,t,n){var i=n("jl4x"),r=n("OhKz"),s=n("aSVa"),o=n("Gw9p").UNSUPPORTED_Y;i&&("g"!=/./g.flags||o)&&r.f(RegExp.prototype,"flags",{configurable:!0,get:s})},jsqw:function(e,t,n){var i=n("z4D1");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("qic4").default)("2823db4d",i,!0,{})},juKp:function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n.dropdown {\n  min-width: 0;\n  max-height: 170px;\n}\n",""])},kPIO:function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return $})),n.d(t,"g",(function(){return H})),n.d(t,"h",(function(){return M})),n.d(t,"i",(function(){return B})),n.d(t,"j",(function(){return S})),n.d(t,"k",(function(){return k})),n.d(t,"l",(function(){return L})),n.d(t,"m",(function(){return R})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return j}));var i=n("2FGo"),r=n.n(i),s=n("nU2c"),o=n.n(s),a=n("P/Kr"),l=n.n(a),c=n("eVUo"),u=n("/CIc"),d=n("HnlB"),f=n("WkA6");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,s=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}return n}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var y=.2,w=12,O=400,j=["canvas","svg"],C={name:"Value",type:"value",nameLocation:"center"},P=r()({},C,{boundaryGap:!1,splitLine:{show:!1}}),D=r()({},C,{nameGap:50,axisLabel:{formatter:function(e){return Object(u.b)(e,2)}}}),S={top:16,bottom:44,left:64,right:32},k={symbol:"circle",type:"line",width:2},x={min:0,pos:3,max:100,show:!1},E=6,T=[">","&gt;"],I=["<","&lt;"],R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.series,i=void 0===n?[]:n;return m(m({},e),{},{series:[].concat(b(o()(t)),b(o()(i)))})},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return m(m({},e),t&&{yAxis:[e.yAxis,x]})},F=function(e){return(e&&l()(e)?e.length:Boolean(e))?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filterMode,n=void 0===t?"none":t,i=["lg","xl"],r=i.includes(c.b.getBreakpointSize()),s="none"===n?.01:null;return{grid:{bottom:81},xAxis:{nameGap:67},dataZoom:[{type:"slider",bottom:22,filterMode:n,minSpan:s},{type:"inside",filterMode:n,minSpan:s,disabled:r}]}}({filterMode:"weakFilter"}):[]},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.restoreIconPath,n=void 0===t?"":t,i=e.saveImageIconPath,r=void 0===i?"":i,s=e.zoomIconPath,o=void 0===s?"":s,a=e.backIconPath,l=void 0===a?"":a,c={toolbox:{feature:{}}};return n.length&&(c.toolbox.feature.restore={icon:n}),r.length&&(c.toolbox.feature.saveAsImage={icon:n}),o.length&&l.length&&(c.toolbox.feature.dataZoom={icon:{zoom:o,back:l}}),c},q=function(e){var t=e.min,n=e.max,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yAxis";return[p({},i,t),p({},i,n)]},A=function(e){var t=e.min,n=e.max,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yAxis";return p({},i,t||n)};function M(e){if(!e.length)return{};var t=e.reduce((function(e,t){var n=t.threshold,i=t.operator;return T.includes(i)?e.areas.push(q({min:n,max:1/0})):I.includes(i)&&e.areas.push(q({min:Number.NEGATIVE_INFINITY,max:n})),e.lines.push(A({max:n})),e}),{lines:[],areas:[]});return{markLine:{data:t.lines},markArea:{data:t.areas,zlevel:-1}}}var N=function(e){if(!e.length)return{};var t=function(e){return e.reduce((function(e,t){return Object(d.a)(t.min,t.max)?(e.lines.push(A(t,"xAxis")),e.points.push({name:"annotations",xAxis:(n=t).min,yAxis:0,tooltipData:n.tooltipData}),e):(e.areas.push(q(t,"xAxis")),e);var n}),{areas:[],lines:[],points:[]})}(e),n=t.lines,i=t.points;return{markLine:{lineStyle:{color:"#1f75cb"},silent:!0,data:n},markPoint:{itemStyle:{color:"#1f75cb"},symbol:f.l,symbolSize:"8",symbolOffset:[0," 60%"],data:i}}},$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.length?r()({name:f.b,yAxisIndex:t,type:"scatter",data:[]},N(e)):null},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.seriesData.length,i=e.seriesData.reduce((function(e,i){var r=g(i.value||[],2),s=r[0],o=r[1],a=1===n&&t?t:i.seriesName,l=1===n?"":i.color;return e.tooltipContent[a]={value:o,color:l},e.xLabels.includes(s)||e.xLabels.push(s),e}),{xLabels:[],tooltipContent:{}}),r=i.xLabels,s=i.tooltipContent;return{xLabels:r,tooltipContent:s}},U={grid:S,xAxis:P,yAxis:D};t.b=U},"l+kv":function(e,t,n){"use strict";n("+xU6");var i=n("6npM"),r=n.n(i),s=n("len0"),o=n("/lV4"),a={components:{Icon:s.a},props:{addedLines:{type:Number,required:!0},removedLines:{type:Number,required:!0},diffFilesLength:{type:Number,required:!1,default:null}},computed:{filesText:function(){return Object(o.c)("file","files",this.diffFilesLength)},isCompareVersionsHeader:function(){return Boolean(this.diffFilesLength)},hasDiffFiles:function(){return r()(this.diffFilesLength)&&this.diffFilesLength>=0}}},l=n("tBpV"),c=Object(l.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"diff-stats",class:{"is-compare-versions-header d-none d-lg-inline-flex":e.isCompareVersionsHeader,"d-inline-flex":!e.isCompareVersionsHeader}},[e.hasDiffFiles?n("div",{staticClass:"diff-stats-group"},[n("icon",{staticClass:"diff-stats-icon text-secondary",attrs:{name:"doc-code"}}),e._v(" "),n("span",{staticClass:"text-secondary bold"},[e._v(e._s(e.diffFilesLength)+" "+e._s(e.filesText))])],1):e._e(),e._v(" "),n("div",{staticClass:"diff-stats-group cgreen d-flex align-items-center",class:{bold:e.isCompareVersionsHeader}},[n("span",[e._v("+")]),e._v(" "),n("span",{staticClass:"js-file-addition-line"},[e._v(e._s(e.addedLines))])]),e._v(" "),n("div",{staticClass:"diff-stats-group cred d-flex align-items-center",class:{bold:e.isCompareVersionsHeader}},[n("span",[e._v("-")]),e._v(" "),n("span",{staticClass:"js-file-deletion-line"},[e._v(e._s(e.removedLines))])])])}),[],!1,null,null,null);t.a=c.exports},mG8k:function(e,t,n){var i=n("NDsS"),r=n("6wZT");e.exports=function(e,t,n,s){var o=e.length;for((n=i(n))<0&&(n=-n>o?0:o+n),(s=void 0===s||s>o?o:i(s))<0&&(s+=o),s=n>s?0:r(s);n<s;)e[n++]=t;return e}},n5sF:function(e,t,n){var i=n("zx4+");e.exports=function(e,t,n,r){for(var s=e.length,o=r?s:-1;(r?o--:++o<s)&&t(e[o],o,e););return n?i(e,r?0:o,r?o+1:s):i(e,r?o+1:0,r?s:o)}},nU2c:function(e,t,n){var i=n("P/Kr");e.exports=function(){if(!arguments.length)return[];var e=arguments[0];return i(e)?e:[e]}},nmTw:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("OuD2"),o=n("70tN"),a=n("AgLN"),l=n("FUyg"),c=n("eclS"),u=n("ayhe"),d=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{map:function(e){var t=o(this),n=u(t),i=l(e,arguments.length>1?arguments[1]:void 0,3),r=new(c(t,s("Set"))),f=a(r.add);return d(n,(function(e){f.call(r,i(e,e,t))}),void 0,!1,!0),r}})},o34M:function(e,t,n){"use strict";var i=n("70tN"),r=n("AgLN");e.exports=function(){for(var e=i(this),t=r(e.add),n=0,s=arguments.length;n<s;n++)t.call(e,arguments[n]);return e}},olcB:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("va8A"),n("kO4A"),n("+kFb"),n("S6uq"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h");var i=n("2ibD"),r=n("qPgm"),s=n("71Sp");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),-1===t.indexOf(".json")?this.endpoint="".concat(t,".json"):this.endpoint=t}var t,n,o;return t=e,(n=[{key:"getPipelines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scope,n=e.page,r=i.a.CancelToken,o=a({scope:t,page:n},Object(s.a)(e));return this.cancelationSource=r.source(),i.a.get(this.endpoint,{params:o,cancelToken:this.cancelationSource.token})}},{key:"postAction",value:function(e){return i.a.post("".concat(e,".json"))}},{key:"runMRPipeline",value:function(e){var t=e.projectId,n=e.mergeRequestId;return r.a.postMergeRequestPipeline(t,{mergeRequestId:n})}}])&&c(t.prototype,n),o&&c(t,o),e}()},"q79+":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("/Szx"),r=n("o/E4"),s=n("EQ0+"),o=n("1m+M");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=Object(o.b)(),d=i.a.extend({name:"BDropdownItem",mixins:[s.a],inheritAttrs:!1,inject:{bvDropdown:{default:null}},props:l(l({},u),{},{linkClass:{type:[String,Array,Object],default:null},variant:{type:String,default:null}}),methods:{closeDropdown:function(){var e=this;Object(r.u)((function(){e.bvDropdown&&e.bvDropdown.hide(!0)}))},onClick:function(e){this.$emit("click",e),this.closeDropdown()}},render:function(e){return e("li",{attrs:{role:"presentation"}},[e(o.a,{props:this.$props,staticClass:"dropdown-item",class:[this.linkClass,c({},"text-".concat(this.variant),this.variant&&!(this.active||this.disabled))],attrs:l(l({},this.$attrs),{},{role:"menuitem"}),on:{click:this.onClick},ref:"item"},this.normalizeSlot("default"))])}})},qhd9:function(e,t){e.exports=function(e,t,n,i){for(var r=-1,s=null==e?0:e.length;++r<s;){var o=e[r];t(i,o,n(o),e)}return i}},qic4:function(e,t,n){"use strict";function i(e,t){for(var n=[],i={},r=0;r<t.length;r++){var s=t[r],o=s[0],a={id:e+":"+r,css:s[1],media:s[2],sourceMap:s[3]};i[o]?i[o].parts.push(a):n.push(i[o]={id:o,parts:[a]})}return n}n.r(t),n.d(t,"default",(function(){return h}));var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s={},o=r&&(document.head||document.getElementsByTagName("head")[0]),a=null,l=0,c=!1,u=function(){},d=null,f="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e,t,n,r){c=n,d=r||{};var o=i(e,t);return m(o),function(t){for(var n=[],r=0;r<o.length;r++){var a=o[r];(l=s[a.id]).refs--,n.push(l)}t?m(o=i(e,t)):o=[];for(r=0;r<n.length;r++){var l;if(0===(l=n[r]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete s[l.id]}}}}function m(e){for(var t=0;t<e.length;t++){var n=e[t],i=s[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(b(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var o=[];for(r=0;r<n.parts.length;r++)o.push(b(n.parts[r]));s[n.id]={id:n.id,refs:1,parts:o}}}}function g(){var e=document.createElement("style");return e.type="text/css",o.appendChild(e),e}function b(e){var t,n,i=document.querySelector("style["+f+'~="'+e.id+'"]');if(i){if(c)return u;i.parentNode.removeChild(i)}if(p){var r=l++;i=a||(a=g()),t=y.bind(null,i,r,!1),n=y.bind(null,i,r,!0)}else i=g(),t=w.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}var v,_=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function y(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=_(t,r);else{var s=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function w(e,t){var n=t.css,i=t.media,r=t.sourceMap;if(i&&e.setAttribute("media",i),d.ssrId&&e.setAttribute(f,t.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},qykh:function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n.file-addition,\n.file-addition-solid {\n  color: #1aaa55;\n}\n.file-modified,\n.file-modified-solid {\n  color: #fc9403;\n}\n.file-deletion,\n.file-deletion-solid {\n  color: #db3b21;\n}\n",""])},"rK/1":function(e,t,n){"use strict";var i=n("LLbv"),r=n("GTGS"),s=n("s1D3"),o={name:"ClipboardButton",directives:{GlTooltip:i.a},components:{GlDeprecatedButton:r.a,GlIcon:s.a},props:{text:{type:String,required:!0},gfm:{type:String,required:!1,default:null},title:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},tooltipContainer:{type:[String,Boolean],required:!1,default:!1},cssClass:{type:String,required:!1,default:"btn-default"}},computed:{clipboardText:function(){return null!==this.gfm?JSON.stringify({text:this.text,gfm:this.gfm}):this.text}}},a=n("tBpV"),l=Object(a.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("gl-deprecated-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{placement:this.tooltipPlacement,container:this.tooltipContainer},expression:"{ placement: tooltipPlacement, container: tooltipContainer }"},{name:"gl-tooltip",rawName:"v-gl-tooltip.hover.blur",modifiers:{hover:!0,blur:!0}}],class:this.cssClass,attrs:{title:this.title,"data-clipboard-text":this.clipboardText}},[t("gl-icon",{attrs:{name:"copy-to-clipboard"}})],1)}),[],!1,null,null,null);t.a=l.exports},rOrh:function(e,t,n){"use strict";n("9U97"),n("+xU6");var i=n("LLbv"),r=n("len0"),s=n("8eeg"),o=n("/lV4"),a={components:{Icon:r.a},directives:{GlTooltip:i.a},props:{file:{type:Object,required:!0},showTooltip:{type:Boolean,required:!1,default:!1},showStagedIcon:{type:Boolean,required:!1,default:!0},size:{type:Number,required:!1,default:12},isCentered:{type:Boolean,required:!1,default:!0}},computed:{changedIcon:function(){var e=this.file.staged&&this.showStagedIcon?"-solid":"";return"".concat(Object(s.a)(this.file).icon).concat(e)},changedIconClass:function(){return"".concat(this.changedIcon," float-left d-block")},tooltipTitle:function(){if(this.showTooltip)return this.file.deleted?Object(o.a)("Deleted"):this.file.tempFile?Object(o.a)("Added"):this.file.changed?Object(o.a)("Modified"):void 0},showIcon:function(){return this.file.changed||this.file.tempFile||this.file.staged||this.file.deleted||this.file.prevPath}}},l=(n("geB2"),n("tBpV")),c=Object(l.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.right",modifiers:{right:!0}}],staticClass:"file-changed-icon d-inline-block",class:{"ml-auto":this.isCentered},attrs:{title:this.tooltipTitle}},[this.showIcon?t("icon",{class:this.changedIconClass,attrs:{name:this.changedIcon,size:this.size}}):this._e()],1)}),[],!1,null,null,null);t.a=c.exports},rc4H:function(e,t,n){var i=n("nHTl"),r=n("n5sF");e.exports=function(e,t){return e&&e.length?r(e,i(t,3),!1,!0):[]}},"rrF/":function(e,t,n){e.exports=function(){return new Worker(n.p+"tree_worker.6c08d1c2.worker.js")}},sCiu:function(e,t,n){"use strict";var i=n("S8W2"),r=n.n(i),s=n("A7K0"),o=n("Qog8"),a=n("Pyw5"),l=n.n(a);const c={components:{GlPopover:s.a},inheritAttrs:!1,props:{chart:{type:Object,required:!0,validator:function(e){return Object.is(e,r.a.getInstanceByDom(e.getDom()))}},id:{type:String,required:!1,default:function(){return Object(o.e)()}},top:{type:String,required:!1,default:null},bottom:{type:String,required:!1,default:null},left:{type:String,required:!1,default:null},right:{type:String,required:!1,default:null}},computed:{containerId:function(){return"".concat(this.chart.getDom().getAttribute("_echarts_instance_"),"-tooltip-").concat(this.id)},containerPosition:function(){var e=this;return["top","bottom","left","right"].reduce((function(t,n){var i=e[n];return i&&(t[n]=i),t}),{})}}};const u=l()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"gl-chart-tooltip",staticStyle:{width:"1px",height:"1px"},style:e.containerPosition,attrs:{id:e.containerId}}),e._v(" "),n("gl-popover",e._b({attrs:{target:e.containerId,container:e.containerId,triggers:""}},"gl-popover",e.$attrs,!1),[e._t("title",null,{slot:"title"}),e._v(" "),e._t("default")],2)],1)},staticRenderFns:[]},void 0,c,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=u},sHai:function(e,t,n){var i=n("qhd9"),r=n("6Oz9"),s=n("nHTl"),o=n("P/Kr");e.exports=function(e,t){return function(n,a){var l=o(n)?i:r,c=t?t():{};return l(n,e,s(a,2),c)}}},sZvX:function(e,t,n){"use strict";n("va8A"),n("kO4A"),n("+kFb"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h");var i=n("yi8e"),r=n("OgyL");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a={name:"PlaceholderNote",components:{userAvatarLink:n("ZHzM").a,TimelineEntryItem:r.a},props:{note:{type:Object,required:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(i.d)(["getUserData"]))},l=n("tBpV"),c=Object(l.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("timeline-entry-item",{staticClass:"note note-wrapper being-posted fade-in-half"},[n("div",{staticClass:"timeline-icon"},[n("user-avatar-link",{attrs:{"link-href":e.getUserData.path,"img-src":e.getUserData.avatar_url,"img-size":40}})],1),e._v(" "),n("div",{ref:"note",staticClass:"timeline-content",class:{discussion:!e.note.individual_note}},[n("div",{staticClass:"note-header"},[n("div",{staticClass:"note-header-info"},[n("a",{attrs:{href:e.getUserData.path}},[n("span",{staticClass:"d-none d-sm-inline-block bold"},[e._v(e._s(e.getUserData.name))]),e._v(" "),n("span",{staticClass:"note-headline-light"},[e._v("@"+e._s(e.getUserData.username))])])])]),e._v(" "),n("div",{staticClass:"note-body"},[n("div",{staticClass:"note-text md"},[n("p",[e._v(e._s(e.note.body))])])])])])}),[],!1,null,null,null);t.a=c.exports},srX6:function(e,t,n){var i=n("2v8U");e.exports=function(e,t){var n=[];return i(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}},tWNI:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("OuD2"),o=n("70tN"),a=n("AgLN"),l=n("eclS"),c=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{difference:function(e){var t=o(this),n=new(l(t,s("Set")))(t),i=a(n.delete);return c(e,(function(e){i.call(n,e)})),n}})},"ta8/":function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("70tN"),o=n("AgLN"),a=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:function(e){var t=s(this),n=o(t.has);return!a(e,(function(e){if(!1===n.call(t,e))return a.stop()})).stopped}})},uJ4d:function(e,t,n){var i=n("8EXu");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("qic4").default)("59004eb2",i,!0,{})},uSmA:function(e,t,n){var i=n("aOyP");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("qic4").default)("34301397",i,!0,{})},uwHt:function(e,t,n){var i=n("Rk7e")(!0);e.exports=i},"v6X+":function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n@keyframes shadow-fade {\nfrom {\n    box-shadow: 0 0 4px #919191;\n}\nto {\n    box-shadow: 0 0 0 #dfdfdf;\n}\n}\n.diff-file.is-active {\n  box-shadow: 0 0 0 #dfdfdf;\n  animation: shadow-fade 1.2s 0.1s 1;\n}\n",""])},wP8z:function(e,t,n){"use strict";var i=n("q79+"),r=n("SU48"),s=n("Pyw5");const o={inheritAttrs:!1,computed:{bootstrapComponent:function(){return this.$attrs.href?i.a:r.a}}};const a=n.n(s)()({render:function(){var e=this.$createElement;return(this._self._c||e)(this.bootstrapComponent,this._g(this._b({tag:"component"},"component",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,o,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=a},waGw:function(e,t,n){"use strict";var i=n("BwV9"),r=n("KFC0"),s=n.n(r),o=new i.a((function(e){e.forEach((function(e){e.target.glResizeHandler(e)}))})),a={bind:function(e,t){var n=t.value;if(!s()(n))throw TypeError("directive value must be a function");e.glResizeHandler=n,o.observe(e)},unbind:function(e){e.glResizeHandler&&(delete e.glResizeHandler,o.unobserve(e))}};t.a=a},wryt:function(e,t,n){"use strict";n("+xU6");var i={name:"FileTree",props:{fileRowComponent:{type:Object,required:!0},level:{type:Number,required:!0},file:{type:Object,required:!0}},computed:{childFilesLevel:function(){return this.file.isHeader?0:this.level+1}}},r=n("tBpV"),s=Object(r.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n(e.fileRowComponent,e._g(e._b({tag:"component",attrs:{level:e.level,file:e.file}},"component",e.$attrs,!1),e.$listeners)),e._v(" "),e.file.opened||e.file.isHeader?e._l(e.file.tree,(function(t){return n("file-tree",e._g(e._b({key:t.key,attrs:{"file-row-component":e.fileRowComponent,level:e.childFilesLevel,file:t}},"file-tree",e.$attrs,!1),e.$listeners))})):e._e()],2)}),[],!1,null,null,null);t.a=s.exports},"x/Tb":function(e,t,n){"use strict";n("9U97"),n("S6uq"),n("+xU6");var i=n("BAGK"),r=n("JCWm"),s={components:{ImageViewer:r.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0},newSize:{type:Number,required:!1,default:0},oldSize:{type:Number,required:!1,default:0}}},o=n("tBpV"),a=Object(o.a)(s,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"two-up view d-flex"},[t("image-viewer",{staticClass:"wrap w-50",attrs:{path:this.oldPath,"file-size":this.oldSize,"render-info":!0,"inner-css-classes":"frame deleted"}}),this._v(" "),t("image-viewer",{staticClass:"wrap w-50",attrs:{path:this.newPath,"file-size":this.newSize,"render-info":!0,"inner-css-classes":["frame","added"]}},[this._t("image-overlay",null,{slot:"image-overlay"})],2)],1)}),[],!1,null,null,null).exports,l=n("h7kv"),c=n.n(l);function u(e){return e?"".concat(e,"px"):""}var d={components:{ImageViewer:r.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0}},data:function(){return{dragging:!1,swipeOldImgInfo:null,swipeNewImgInfo:null,swipeMaxWidth:void 0,swipeMaxHeight:void 0,swipeBarPos:1,swipeWrapWidth:0}},computed:{swipeMaxPixelWidth:function(){return u(this.swipeMaxWidth)},swipeMaxPixelHeight:function(){return u(this.swipeMaxHeight)},swipeWrapPixelWidth:function(){return u(this.swipeWrapWidth)},swipeBarPixelPos:function(){return u(this.swipeBarPos)}},beforeDestroy:function(){window.removeEventListener("resize",this.resizeThrottled,!1),document.body.removeEventListener("mouseup",this.stopDrag),document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchend",this.stopDrag),document.body.removeEventListener("touchmove",this.dragMove)},mounted:function(){window.addEventListener("resize",this.resize,!1)},methods:{dragMove:function(e){if(this.dragging){var t=(e.pageX||e.touches[0].pageX)-this.$refs.swipeFrame.getBoundingClientRect().left,n=this.$refs.swipeFrame.clientWidth;t<=0?t=0:t>n&&(t=n),this.swipeWrapWidth=t/n*100,this.swipeBarPos=t}},startDrag:function(){this.dragging=!0,document.body.addEventListener("mousemove",this.dragMove),document.body.addEventListener("touchmove",this.dragMove)},stopDrag:function(){this.dragging=!1,document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},prepareSwipe:function(){this.swipeOldImgInfo&&this.swipeNewImgInfo&&this.swipeOldImgInfo.renderedWidth>0&&(this.swipeMaxWidth=Math.max(this.swipeOldImgInfo.renderedWidth,this.swipeNewImgInfo.renderedWidth)+2,this.swipeMaxHeight=Math.max(this.swipeOldImgInfo.renderedHeight,this.swipeNewImgInfo.renderedHeight)+2,document.body.addEventListener("mouseup",this.stopDrag),document.body.addEventListener("touchend",this.stopDrag))},swipeNewImgLoaded:function(e){this.swipeNewImgInfo=e,this.prepareSwipe()},swipeOldImgLoaded:function(e){this.swipeOldImgInfo=e,this.prepareSwipe()},resize:c()((function(){this.swipeBarPos=0,this.swipeWrapWidth=0,this.prepareSwipe()}),400)}},f=Object(o.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"swipe view"},[n("div",{ref:"swipeFrame",staticClass:"swipe-frame",style:{width:e.swipeMaxPixelWidth,height:e.swipeMaxPixelHeight,"user-select":e.dragging?"none":null}},[n("image-viewer",{key:"swipeOldImg",ref:"swipeOldImg",staticClass:"frame deleted",attrs:{"render-info":!1,path:e.oldPath},on:{imgLoaded:e.swipeOldImgLoaded}}),e._v(" "),n("div",{ref:"swipeWrap",staticClass:"swipe-wrap",style:{width:e.swipeWrapWidth+"%"}},[n("image-viewer",{key:"swipeNewImg",staticClass:"frame added",style:{width:e.swipeMaxPixelWidth},attrs:{"render-info":!1,path:e.newPath},on:{imgLoaded:e.swipeNewImgLoaded}},[e._t("image-overlay",null,{slot:"image-overlay"})],2)],1),e._v(" "),n("span",{ref:"swipeBar",staticClass:"swipe-bar",style:{left:e.swipeBarPixelPos},on:{mousedown:e.startDrag,mouseup:e.stopDrag,touchstart:e.startDrag,touchend:e.stopDrag}},[n("span",{staticClass:"top-handle"}),e._v(" "),n("span",{staticClass:"bottom-handle"})])],1)])}),[],!1,null,null,null).exports,p={components:{ImageViewer:r.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0}},data:function(){return{onionMaxWidth:void 0,onionMaxHeight:void 0,onionOldImgInfo:null,onionNewImgInfo:null,onionDraggerPos:0,onionOpacity:1,dragging:!1}},computed:{onionMaxPixelWidth:function(){return u(this.onionMaxWidth)},onionMaxPixelHeight:function(){return u(this.onionMaxHeight)},onionDraggerPixelPos:function(){return u(this.onionDraggerPos)}},beforeDestroy:function(){document.body.removeEventListener("mouseup",this.stopDrag),document.body.removeEventListener("touchend",this.stopDrag),document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},methods:{dragMove:function(e){if(this.dragging){var t=(e.pageX||e.touches[0].pageX)-this.$refs.dragTrack.getBoundingClientRect().left,n=this.$refs.dragTrack.clientWidth-this.$refs.dragger.clientWidth||100,i=t;i<0&&(i=0),i>n&&(i=n),this.onionOpacity=t/n,this.onionDraggerPos=i}},startDrag:function(){this.dragging=!0,document.body.style.userSelect="none",document.body.addEventListener("mousemove",this.dragMove),document.body.addEventListener("touchmove",this.dragMove)},stopDrag:function(){this.dragging=!1,document.body.style.userSelect="",document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},prepareOnionSkin:function(){this.onionOldImgInfo&&this.onionNewImgInfo&&(this.onionMaxWidth=Math.max(this.onionOldImgInfo.renderedWidth,this.onionNewImgInfo.renderedWidth),this.onionMaxHeight=Math.max(this.onionOldImgInfo.renderedHeight,this.onionNewImgInfo.renderedHeight),this.onionOpacity=1,this.onionDraggerPos=this.$refs.dragTrack.clientWidth-this.$refs.dragger.clientWidth||100,document.body.addEventListener("mouseup",this.stopDrag),document.body.addEventListener("touchend",this.stopDrag))},onionNewImgLoaded:function(e){this.onionNewImgInfo=e,this.prepareOnionSkin()},onionOldImgLoaded:function(e){this.onionOldImgInfo=e,this.prepareOnionSkin()}}},h=Object(o.a)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"onion-skin view"},[n("div",{staticClass:"onion-skin-frame",style:{width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight,"user-select":e.dragging?"none":null}},[n("div",{staticClass:"frame deleted",style:{width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight}},[n("image-viewer",{key:"onionOldImg",attrs:{"render-info":!1,path:e.oldPath},on:{imgLoaded:e.onionOldImgLoaded}})],1),e._v(" "),n("div",{ref:"addedFrame",staticClass:"added frame",style:{opacity:e.onionOpacity,width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight}},[n("image-viewer",{key:"onionNewImg",attrs:{"render-info":!1,path:e.newPath},on:{imgLoaded:e.onionNewImgLoaded}},[e._t("image-overlay",null,{slot:"image-overlay"})],2)],1),e._v(" "),n("div",{staticClass:"controls"},[n("div",{staticClass:"transparent"}),e._v(" "),n("div",{ref:"dragTrack",staticClass:"drag-track",on:{mousedown:e.startDrag,mouseup:e.stopDrag,touchstart:e.startDrag,touchend:e.stopDrag}},[n("div",{ref:"dragger",staticClass:"dragger",style:{left:e.onionDraggerPixelPos}})]),e._v(" "),n("div",{staticClass:"opaque"})])])])}),[],!1,null,null,null).exports,m={replaced:"replaced",new:"new",deleted:"deleted",renamed:"renamed"},g={twoup:"twoup",swipe:"swipe",onion:"onion"},b={components:{ImageViewer:r.a},props:{diffMode:{type:String,required:!0},newPath:{type:String,required:!0},oldPath:{type:String,required:!0},newSize:{type:Number,required:!1,default:0},oldSize:{type:Number,required:!1,default:0}},data:function(){return{mode:g.twoup}},computed:{imageViewComponent:function(){switch(this.mode){case g.twoup:return a;case g.swipe:return f;case g.onion:return h;default:return}},isNew:function(){return this.diffMode===m.new},isRenamed:function(){return this.diffMode===m.renamed},imagePath:function(){return this.isNew||this.isRenamed?this.newPath:this.oldPath}},methods:{changeMode:function(e){this.mode=e}},diffModes:m,imageViewMode:g},v=Object(o.a)(b,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"diff-file-container"},[e.diffMode===e.$options.diffModes.replaced?n("div",{staticClass:"diff-viewer"},[n("div",{staticClass:"image js-replaced-image"},[n(e.imageViewComponent,e._b({tag:"component"},"component",e.$props,!1),[e._t("image-overlay",null,{slot:"image-overlay"})],2)],1),e._v(" "),n("div",{staticClass:"view-modes"},[n("ul",{staticClass:"view-modes-menu"},[n("li",{class:{active:e.mode===e.$options.imageViewMode.twoup},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.twoup)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|2-up"))+"\n        ")]),e._v(" "),n("li",{class:{active:e.mode===e.$options.imageViewMode.swipe},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.swipe)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|Swipe"))+"\n        ")]),e._v(" "),n("li",{class:{active:e.mode===e.$options.imageViewMode.onion},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.onion)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|Onion skin"))+"\n        ")])])])]):n("div",{staticClass:"diff-viewer"},[n("div",{staticClass:"image"},[n("image-viewer",{attrs:{path:e.imagePath,"file-size":e.isNew?e.newSize:e.oldSize,"inner-css-classes":["frame",{added:e.isNew,deleted:e.diffMode===e.$options.diffModes.deleted}]}},[e.isNew||e.isRenamed?e._t("image-overlay",null,{slot:"image-overlay"}):e._e()],2)],1)])])}),[],!1,null,null,null).exports,_={components:{DownloadViewer:n("CdyC").a},props:{diffMode:{type:String,required:!0},newPath:{type:String,required:!0},oldPath:{type:String,required:!0},projectPath:{type:String,required:!1,default:""}},diffModes:m},y=Object(o.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"diff-file-container"},[n("div",{staticClass:"diff-viewer"},[e.diffMode===e.$options.diffModes.replaced?n("div",{staticClass:"two-up view row"},[n("div",{staticClass:"col-sm-6 deleted"},[n("download-viewer",{attrs:{path:e.oldPath,"project-path":e.projectPath}})],1),e._v(" "),n("div",{staticClass:"col-sm-6 added"},[n("download-viewer",{attrs:{path:e.newPath,"project-path":e.projectPath}})],1)]):e.diffMode===e.$options.diffModes.new?n("div",{staticClass:"added"},[n("download-viewer",{attrs:{path:e.newPath,"project-path":e.projectPath}})],1):n("div",{staticClass:"deleted"},[n("download-viewer",{attrs:{path:e.oldPath,"project-path":e.projectPath}})],1)])])}),[],!1,null,null,null).exports,w=(n("va8A"),n("kO4A"),n("+kFb"),n("8Qi2"),n("zCcL"),n("zpLX"),n("BD5p"),n("Id6h"),n("yi8e")),O=n("dsWN"),j=n("MV2A"),C=n("FkSe"),P=n("30su"),D=n("/lV4"),S=n("pIt4"),k=n("0AwG");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I={STATE_LOADING:S.Q,STATE_ERRORED:S.O,TRANSITIONS:S.M,uiText:{showLink:Object(D.a)("Show file contents"),commitLink:Object(D.a)("View file @ %{commitSha}"),description:Object(D.a)("File renamed with no changes."),loadError:Object(D.a)("Unable to load file contents. Try again later.")},components:{GlAlert:O.a,GlLink:j.a,GlLoadingIcon:C.a,GlSprintf:P.a},props:{diffFile:{type:Object,required:!0}},data:function(){return{state:S.P}},computed:{shortSha:function(){return Object(k.r)(this.diffFile.content_sha)},canLoadFullDiff:function(){return"text"===this.diffFile.alternate_viewer.name}},methods:E(E({},Object(w.c)("diffs",["switchToFullDiffFromRenamedFile"])),{},{transition:function(e){var t="".concat(this.state,":").concat(e);this.$options.TRANSITIONS[t]&&(this.state=this.$options.TRANSITIONS[t])},is:function(e){return this.state===e},switchToFull:function(){var e=this;this.transition(S.U),this.switchToFullDiffFromRenamedFile({diffFile:this.diffFile}).then((function(){e.transition(S.V)})).catch((function(){e.transition(S.T)}))},clickLink:function(e){this.canLoadFullDiff&&(e.preventDefault(),this.switchToFull())},dismissError:function(){this.transition(S.S)}})},R=Object(o.a)(I,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nothing-here-block"},[e.is(e.$options.STATE_LOADING)?n("gl-loading-icon"):[n("gl-alert",{directives:[{name:"show",rawName:"v-show",value:e.is(e.$options.STATE_ERRORED),expression:"is($options.STATE_ERRORED)"}],staticClass:"gl-mb-5 gl-text-left",attrs:{variant:"danger"},on:{dismiss:e.dismissError}},[e._v(e._s(e.$options.uiText.loadError))]),e._v(" "),n("span",{attrs:{"test-id":"plaintext"}},[e._v(e._s(e.$options.uiText.description))]),e._v(" "),n("gl-link",{attrs:{href:e.diffFile.view_path},on:{click:e.clickLink}},[e.canLoadFullDiff?n("span",[e._v(e._s(e.$options.uiText.showLink))]):n("gl-sprintf",{attrs:{message:e.$options.uiText.commitLink},scopedSlots:e._u([{key:"commitSha",fn:function(){return[e._v(e._s(e.shortSha))]},proxy:!0}])})],1)]],2)}),[],!1,null,null,null).exports,L={props:{aMode:{type:String,required:!1,default:null},bMode:{type:String,required:!1,default:null}},computed:{outputText:function(){return Object(D.e)(Object(D.a)("File mode changed from %{a_mode} to %{b_mode}"),{a_mode:this.aMode,b_mode:this.bMode})}}},F=Object(o.a)(L,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"nothing-here-block"},[this._v(this._s(this.outputText))])}),[],!1,null,null,null).exports,B={props:{diffFile:{type:Object,required:!0},diffMode:{type:String,required:!0},diffViewerMode:{type:String,required:!0},newPath:{type:String,required:!0},newSha:{type:String,required:!0},newSize:{type:Number,required:!1,default:0},oldPath:{type:String,required:!0},oldSha:{type:String,required:!0},oldSize:{type:Number,required:!1,default:0},projectPath:{type:String,required:!1,default:""},aMode:{type:String,required:!1,default:null},bMode:{type:String,required:!1,default:null}},computed:{viewer:function(){if(this.diffViewerMode===i.r.renamed)return R;if(this.diffMode===i.p.mode_changed)return F;if(!this.newPath)return null;switch(this.diffViewerMode){case i.r.image:return v;default:return y}},basePath:function(){return 0===this.projectPath.indexOf("/")?"":"".concat(gon.relative_url_root,"/")},fullOldPath:function(){return"".concat(this.basePath).concat(this.projectPath,"/-/raw/").concat(this.oldSha,"/").concat(this.oldPath)},fullNewPath:function(){return"".concat(this.basePath).concat(this.projectPath,"/-/raw/").concat(this.newSha,"/").concat(this.newPath)}}},q=Object(o.a)(B,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.viewer?n("div",{staticClass:"diff-file preview-container"},[n(e.viewer,{tag:"component",attrs:{"diff-file":e.diffFile,"diff-mode":e.diffMode,"new-path":e.fullNewPath,"old-path":e.fullOldPath,"old-size":e.oldSize,"new-size":e.newSize,"project-path":e.projectPath,"a-mode":e.aMode,"b-mode":e.bMode}},[e._t("image-overlay",null,{slot:"image-overlay"})],2),e._v(" "),e._t("default")],2):e._e()}),[],!1,null,null,null);t.a=q.exports},xzHw:function(e,t,n){var i=n("seaz"),r=n("srX6"),s=n("nHTl"),o=n("P/Kr");e.exports=function(e,t){return(o(e)?i:r)(e,s(t,3))}},ydqu:function(e,t,n){"use strict";var i=n("99pJ"),r=n.n(i),s=n("FkSe"),o=n("8zNS"),a=n("hqF9"),l=n("XRO8"),c=n("/lV4"),u=n("Dfb/"),d=n("2ibD");function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.endpoint=t}var t,n,i;return t=e,(n=[{key:"fetchData",value:function(){return d.a.get(this.endpoint)}}])&&f(t.prototype,n),i&&f(t,i),e}(),h={directives:{tooltip:u.a},components:{ciIcon:o.a,GlLoadingIcon:s.a},props:{endpoint:{type:String,required:!0}},data:function(){return{ciStatus:{},isLoading:!0}},computed:{statusTitle:function(){return Object(c.e)(Object(c.d)("PipelineStatusTooltip|Pipeline: %{ciStatus}"),{ciStatus:this.ciStatus.text})}},mounted:function(){this.service=new p(this.endpoint),this.initPolling()},beforeDestroy:function(){this.poll.stop()},methods:{successCallback:function(e){var t=e.data.pipelines;t.length>0&&(this.ciStatus=t[0].details.status),this.isLoading=!1},errorCallback:function(){this.ciStatus={text:Object(c.a)("not found"),icon:"status_notfound",group:"notfound"},this.isLoading=!1,Object(l.a)(Object(c.d)("Something went wrong on our end"))},initPolling:function(){var e=this;this.poll=new a.a({resource:this.service,method:"fetchData",successCallback:function(t){return e.successCallback(t)},errorCallback:this.errorCallback}),r.a.hidden()?this.fetchPipelineCommitData():(this.isLoading=!0,this.poll.makeRequest()),r.a.change((function(){r.a.hidden()?e.poll.stop():e.poll.restart()}))},fetchPipelineCommitData:function(){this.service.fetchData().then(this.successCallback).catch(this.errorCallback)}}},m=n("tBpV"),g=Object(m.a)(h,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ci-status-link"},[this.isLoading?t("gl-loading-icon",{attrs:{size:"lg",label:"Loading pipeline status"}}):t("a",{attrs:{href:this.ciStatus.details_path}},[t("ci-icon",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:this.statusTitle,"aria-label":this.statusTitle,status:this.ciStatus,size:24,"data-container":"body"}})],1)],1)}),[],!1,null,null,null);t.a=g.exports},yoDG:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("sieV");i({target:"Set",proto:!0,real:!0,forced:r},{deleteAll:function(){return s.apply(this,arguments)}})},ywIy:function(e,t,n){"use strict";n("9U97");var i=n("3a3M"),r=n.n(i),s=n("tRCE"),o=n("0AwG"),a=n("/lV4");t.a={methods:{initAutoSave:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[Object(a.d)("Autosave|Note"),Object(o.b)(e.noteable_type||e.noteableType),e.id];t&&(n=n.concat(t)),this.autosave=new s.a(r()(this.$refs.noteForm.$refs.textarea),n)},resetAutoSave:function(){this.autosave.reset()},setAutoSave:function(){this.autosave.save()},disposeAutoSave:function(){this.autosave.dispose()}}}},z0AR:function(e,t,n){var i=n("4ips"),r=n("jJDv");e.exports=function(e,t){return i(r(e,t),1)}},z3Iu:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u}));n("9U97"),n("8pn6"),n("Z5ek"),n("4ql4"),n("IdsT"),n("pBsb");var i=n("rc4H"),r=n.n(i);function s(e){return"new"===e?"+":"old"===e?"-":""}function o(e,t){if(!e||!t)return"";var n=e["".concat(t,"_line_code")]||"",i=e["".concat(t,"_line_type")]||"",r=n.split("_")||[],o="old"===i?r[1]:r[2];return o&&s(i)+o||""}function a(e){return o(e,"start")}function l(e){return o(e,"end")}function c(e){var t="string"==typeof e?e.charAt(0):s(null==e?void 0:e.type);return"+"!==t&&"-"!==t?"":["gl-px-1 gl-rounded-small gl-border-solid gl-border-1 gl-border-white",{"gl-bg-green-100 gl-text-green-800":"+"===t,"gl-bg-red-100 gl-text-red-800":"-"===t}]}function u(e,t){var n=e.findIndex((function(e){return e.line_code===t})),i=e.slice(0,n+1);return r()(i,(function(e){return"match"!==e.type})).map((function(e){return{value:{lineCode:e.line_code,type:e.type},text:"".concat(s(e.type)).concat(e.new_line||e.old_line)}}))}},z4D1:function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n.highlighted[data-v-06747bc5] {\n  color: #1f78d1;\n  font-weight: 600;\n}\n",""])},zkom:function(e,t,n){"use strict";var i={name:"PlaceholderSystemNote",components:{TimelineEntryItem:n("OgyL").a},props:{note:{type:Object,required:!0}}},r=n("tBpV"),s=Object(r.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("timeline-entry-item",{staticClass:"note system-note being-posted fade-in-half"},[t("div",{staticClass:"timeline-content"},[t("em",[this._v(this._s(this.note.body))])])])}),[],!1,null,null,null);t.a=s.exports},"zx4+":function(e,t){e.exports=function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(r);++i<r;)s[i]=e[i+t];return s}}},[[145,1,0,24,2,5,6,7,8,9,11,15,16,19,23,32,31,33,28,35,43]]]);
//# sourceMappingURL=pages.projects.merge_requests.show.a1fdc2c9.chunk.js.map