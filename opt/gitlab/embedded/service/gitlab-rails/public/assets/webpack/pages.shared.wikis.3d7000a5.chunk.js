(this.webpackJsonp=this.webpackJsonp||[]).push([[292],{197:function(e,t,n){n("HVBj"),e.exports=n("lFVp")},CX32:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n("va8A"),n("z4I3"),n("dj/k"),n("x/6R"),n("WQYg"),n("MRnW"),n("EfZm"),n("GzNv"),n("tbvx"),n("orcL");var r=n("t6Yz"),i=n.n(r),o=n("yQ8t");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(n,e);var t=c(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),e=t.call(this),i.a.bind("g p",(function(){return Object(o.a)(".shortcuts-project")})),i.a.bind("g v",(function(){return Object(o.a)(".shortcuts-project-activity")})),i.a.bind("g r",(function(){return Object(o.a)(".shortcuts-project-releases")})),i.a.bind("g f",(function(){return Object(o.a)(".shortcuts-tree")})),i.a.bind("g c",(function(){return Object(o.a)(".shortcuts-commits")})),i.a.bind("g j",(function(){return Object(o.a)(".shortcuts-builds")})),i.a.bind("g n",(function(){return Object(o.a)(".shortcuts-network")})),i.a.bind("g d",(function(){return Object(o.a)(".shortcuts-repository-charts")})),i.a.bind("g i",(function(){return Object(o.a)(".shortcuts-issues")})),i.a.bind("g b",(function(){return Object(o.a)(".shortcuts-issue-boards")})),i.a.bind("g m",(function(){return Object(o.a)(".shortcuts-merge_requests")})),i.a.bind("g w",(function(){return Object(o.a)(".shortcuts-wiki")})),i.a.bind("g s",(function(){return Object(o.a)(".shortcuts-snippets")})),i.a.bind("g k",(function(){return Object(o.a)(".shortcuts-kubernetes")})),i.a.bind("g e",(function(){return Object(o.a)(".shortcuts-environments")})),i.a.bind("g l",(function(){return Object(o.a)(".shortcuts-metrics")})),i.a.bind("i",(function(){return Object(o.a)(".shortcuts-new-issue")})),e}return n}(n("v+Mp").a)},XqDB:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("Mm9T"),i=n("o/E4"),o=n("QXXq"),a=n("BrvI"),u=n("7bmO"),c="__bv_modal_directive__",s=function(e){var t=e.modifiers,n=void 0===t?{}:t,r=e.arg,i=e.value;return Object(a.i)(i)?i:Object(a.i)(r)?r:Object(u.j)(n).reverse()[0]},l=function(e){return e&&Object(i.p)(e,".dropdown-menu > li, li.nav-item")&&Object(i.v)("a, button",e)||e},d=function(e){e&&"BUTTON"!==e.tagName&&(Object(i.k)(e,"role")||Object(i.x)(e,"role","button"),"A"===e.tagName||Object(i.k)(e,"tabindex")||Object(i.x)(e,"tabindex","0"))},f=function(e){var t=e[c]||{},n=t.trigger,r=t.handler;n&&r&&(Object(o.c)(n,"click",r,o.b),Object(o.c)(n,"keydown",r,o.b),Object(o.c)(e,"click",r,o.b),Object(o.c)(e,"keydown",r,o.b)),delete e[c]},b=function(e,t,n){var a=e[c]||{},u=s(t),b=l(e);u===a.target&&b===a.trigger||(f(e),function(e,t,n){var a=s(t),u=l(e);if(a&&u){var f=function(e){var t=e.currentTarget;if(!Object(i.m)(t)){var o=e.type,u=e.keyCode;"click"!==o&&("keydown"!==o||u!==r.a.ENTER&&u!==r.a.SPACE)||n.context.$root.$emit("bv::show::modal",a,t)}};e[c]={handler:f,target:a,trigger:u},d(u),Object(o.d)(u,"click",f,o.b),"BUTTON"!==u.tagName&&"button"===Object(i.e)(u,"role")&&Object(o.d)(u,"keydown",f,o.b)}}(e,t,n)),d(b)},p={inserted:b,updated:function(){},componentUpdated:b,unbind:f}},lFVp:function(e,t,n){"use strict";n.r(t);var r=n("3a3M"),i=n.n(r),o=n("jB52"),a=n("0KyK"),u=n("Qhxq"),c=(n("va8A"),n("z4I3"),n("dj/k"),n("x/6R"),n("WQYg"),n("MRnW"),n("EfZm"),n("GzNv"),n("tbvx"),n("orcL"),n("t6Yz")),s=n.n(c),l=n("CX32"),d=n("yQ8t");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(o,e);var t,n,r,i=m(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),e=i.call(this),s.a.bind("e",o.editWiki),e}return t=o,r=[{key:"editWiki",value:function(){Object(d.a)(".js-wiki-edit")}}],(n=null)&&b(t.prototype,n),r&&b(t,r),o}(l.a),v=(n("IdsT"),n("S26F"),n("eVUo")),k=n("/lV4");function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w={markdown:"[Link Title](page-slug)",rdoc:"{Link title}[link:page-slug]",asciidoc:"link:page-slug[Link title]",org:"[[page-slug]]"},O=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sidebarEl=document.querySelector(".js-wiki-sidebar"),this.sidebarExpanded=!1;for(var n=document.querySelectorAll(".js-sidebar-wiki-toggle"),r=0;r<n.length;r+=1)n[r].addEventListener("click",(function(e){return t.handleToggleSidebar(e)}));this.isNewWikiPage=Boolean(document.querySelector(".js-new-wiki-page")),this.editTitleInput=document.querySelector("form.wiki-form #wiki_title"),this.commitMessageInput=document.querySelector("form.wiki-form #wiki_message"),this.commitMessageI18n=this.isNewWikiPage?Object(k.d)("WikiPageCreate|Create %{pageTitle}"):Object(k.d)("WikiPageEdit|Update %{pageTitle}"),this.editTitleInput&&(this.editTitleInput.value&&this.setWikiCommitMessage(this.editTitleInput.value),this.editTitleInput.addEventListener("keyup",(function(e){return t.handleWikiTitleChange(e)}))),window.addEventListener("resize",(function(){return t.renderSidebar()})),this.renderSidebar();var i=document.querySelector("#wiki_format"),o=document.querySelector(".js-markup-link-example");i&&i.addEventListener("change",(function(e){o.innerHTML=w[e.target.value]}));var a=document.querySelector("form.wiki-form #wiki_content"),u=document.querySelector("form.wiki-form");a&&(a.addEventListener("input",(function(){window.onbeforeunload=function(){return""}})),u.addEventListener("submit",(function(){window.onbeforeunload=null})))}var t,n,r;return t=e,r=[{key:"sidebarCanCollapse",value:function(){var e=v.b.getBreakpointSize();return"xs"===e||"sm"===e}}],(n=[{key:"handleWikiTitleChange",value:function(e){this.setWikiCommitMessage(e.target.value)}},{key:"setWikiCommitMessage",value:function(e){var t=e;t&&(t=t.replace(/-+/g," "));var n=Object(k.e)(this.commitMessageI18n,{pageTitle:t},!1);this.commitMessageInput.value=n}},{key:"handleToggleSidebar",value:function(e){e.preventDefault(),this.sidebarExpanded=!this.sidebarExpanded,this.renderSidebar()}},{key:"renderSidebar",value:function(){if(this.sidebarEl){var t=this.sidebarEl.classList;this.sidebarExpanded||!e.sidebarCanCollapse()?t.contains("right-sidebar-expanded")||(t.remove("right-sidebar-collapsed"),t.add("right-sidebar-expanded")):t.contains("right-sidebar-expanded")&&(t.add("right-sidebar-collapsed"),t.remove("right-sidebar-expanded"))}}}])&&j(t.prototype,n),r&&j(t,r),e}(),_=n("Ylta"),S=n("FVJN"),T=n("G3fq"),E=n.n(T),x=n("1cpz"),C=n("XqDB"),W={components:{GlModal:x.a},directives:{"gl-modal":C.a},props:{deleteWikiUrl:{type:String,required:!0,default:""},pageTitle:{type:String,required:!0,default:""},csrfToken:{type:String,required:!0,default:""}},computed:{modalId:function(){return"delete-wiki-modal"},message:function(){return Object(k.d)("WikiPageConfirmDelete|Are you sure you want to delete this page?")},title:function(){return Object(k.e)(Object(k.d)("WikiPageConfirmDelete|Delete page %{pageTitle}?"),{pageTitle:E()(this.pageTitle)},!1)}},methods:{onSubmit:function(){window.onbeforeunload=null,this.$refs.form.submit()}}},P=n("tBpV"),q=Object(P.a)(W,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-inline-block"},[n("button",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:e.modalId,expression:"modalId"}],staticClass:"btn btn-danger",attrs:{type:"button"}},[e._v(e._s(e.__("Delete")))]),e._v(" "),n("gl-modal",{attrs:{title:e.title,"ok-title":e.s__("WikiPageConfirmDelete|Delete page"),"modal-id":e.modalId,"title-tag":"h4","ok-variant":"danger"},on:{ok:e.onSubmit}},[e._v("\n    "+e._s(e.message)+"\n    "),n("form",{ref:"form",staticClass:"js-requires-input",attrs:{action:e.deleteWikiUrl,method:"post"}},[n("input",{ref:"method",attrs:{type:"hidden",name:"_method",value:"delete"}}),e._v(" "),n("input",{attrs:{type:"hidden",name:"authenticity_token"},domProps:{value:e.csrfToken}})])])],1)}),[],!1,null,null,null).exports;t.default=function(){new O,new y,new _.a,new S.a(i()(".wiki-form"));var e=document.getElementById("delete-wiki-modal-wrapper");if(e){o.default.use(a.a);var t=e.dataset,n=t.deleteWikiUrl,r=t.pageTitle;new o.default({el:e,data:{deleteWikiUrl:""},render:function(e){return e(q,{props:{pageTitle:r,deleteWikiUrl:n,csrfToken:u.a.token}})}})}}}},[[197,1,0,2,5]]]);
//# sourceMappingURL=pages.shared.wikis.3d7000a5.chunk.js.map