(this.webpackJsonp=this.webpackJsonp||[]).push([[229],{134:function(t,e,n){n("HVBj"),n("gjpc"),t.exports=n("G37y")},"2Swe":function(t,e,n){"use strict";var i=n("LLbv"),r={components:{CiIcon:n("8zNS").a},directives:{GlTooltip:i.a},props:{status:{type:Object,required:!0},showText:{type:Boolean,required:!1,default:!0}},computed:{cssClass:function(){var t=this.status.group;return t?"ci-status ci-".concat(t," qa-status-badge"):"ci-status qa-status-badge"}}},a=n("tBpV"),o=Object(a.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],class:t.cssClass,attrs:{href:t.status.details_path,title:t.showText?"":t.status.text}},[n("ci-icon",{attrs:{status:t.status}}),t._v(" "),t.showText?[t._v("\n    "+t._s(t.status.text)+"\n  ")]:t._e()],2)}),[],!1,null,null,null);e.a=o.exports},"7WVv":function(t,e,n){n("ZfjD")({target:"Number",stat:!0},{isFinite:n("sBkv")})},"8pn6":function(t,e,n){"use strict";var i=n("ZfjD"),r=n("WG2a").findIndex,a=n("x5C5"),o=n("sRF7"),s=!0,l=o("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){s=!1})),i({target:"Array",proto:!0,forced:s||!l},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a("findIndex")},"99pJ":function(t,e,n){t.exports=n("NFDe")},CX32:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));n("va8A"),n("z4I3"),n("dj/k"),n("x/6R"),n("WQYg"),n("MRnW"),n("EfZm"),n("GzNv"),n("tbvx"),n("orcL");var i=n("t6Yz"),r=n.n(i),a=n("yQ8t");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var r=u(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(n,t);var e=l(n);function n(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),t=e.call(this),r.a.bind("g p",(function(){return Object(a.a)(".shortcuts-project")})),r.a.bind("g v",(function(){return Object(a.a)(".shortcuts-project-activity")})),r.a.bind("g r",(function(){return Object(a.a)(".shortcuts-project-releases")})),r.a.bind("g f",(function(){return Object(a.a)(".shortcuts-tree")})),r.a.bind("g c",(function(){return Object(a.a)(".shortcuts-commits")})),r.a.bind("g j",(function(){return Object(a.a)(".shortcuts-builds")})),r.a.bind("g n",(function(){return Object(a.a)(".shortcuts-network")})),r.a.bind("g d",(function(){return Object(a.a)(".shortcuts-repository-charts")})),r.a.bind("g i",(function(){return Object(a.a)(".shortcuts-issues")})),r.a.bind("g b",(function(){return Object(a.a)(".shortcuts-issue-boards")})),r.a.bind("g m",(function(){return Object(a.a)(".shortcuts-merge_requests")})),r.a.bind("g w",(function(){return Object(a.a)(".shortcuts-wiki")})),r.a.bind("g s",(function(){return Object(a.a)(".shortcuts-snippets")})),r.a.bind("g k",(function(){return Object(a.a)(".shortcuts-kubernetes")})),r.a.bind("g e",(function(){return Object(a.a)(".shortcuts-environments")})),r.a.bind("g l",(function(){return Object(a.a)(".shortcuts-metrics")})),r.a.bind("i",(function(){return Object(a.a)(".shortcuts-new-issue")})),t}return n}(n("v+Mp").a)},"Dfb/":function(t,e,n){"use strict";var i=n("3a3M"),r=n.n(i);n("yv3B");e.a={bind:function(t){var e=localStorage.getItem("gl-tooltip-delay"),n=e?JSON.parse(e):0;r()(t).tooltip({trigger:"hover",delay:n})},componentUpdated:function(t){r()(t).tooltip("_fixTitle");var e=r()(t).data("bs.tooltip"),n=e.getTipElement();e.setElementContent(r()(n.querySelectorAll(".tooltip-inner")),e.getTitle())},unbind:function(t){r()(t).tooltip("dispose")}}},"Fsq/":function(t,e,n){"use strict";var i=n("LLbv"),r=n("5QKO"),a=(n("bOix"),{directives:{GlTooltip:i.a},mixins:[r.a],props:{time:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},cssClass:{type:String,required:!1,default:""}}}),o=n("tBpV"),s=Object(o.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("time",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport",value:{placement:this.tooltipPlacement},expression:"{ placement: tooltipPlacement }",modifiers:{viewport:!0}}],class:this.cssClass,attrs:{title:this.tooltipTitle(this.time)},domProps:{textContent:this._s(this.timeFormatted(this.time))}})}),[],!1,null,null,null);e.a=s.exports},G37y:function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"init",(function(){return Qt})),n.d(i,"setJobEndpoint",(function(){return Kt})),n.d(i,"setTraceOptions",(function(){return Zt})),n.d(i,"hideSidebar",(function(){return Xt})),n.d(i,"showSidebar",(function(){return Yt})),n.d(i,"toggleSidebar",(function(){return te})),n.d(i,"clearEtagPoll",(function(){return ee})),n.d(i,"stopPolling",(function(){return ne})),n.d(i,"restartPolling",(function(){return ie})),n.d(i,"requestJob",(function(){return re})),n.d(i,"fetchJob",(function(){return ae})),n.d(i,"receiveJobSuccess",(function(){return oe})),n.d(i,"receiveJobError",(function(){return se})),n.d(i,"scrollTop",(function(){return le})),n.d(i,"scrollBottom",(function(){return ce})),n.d(i,"toggleScrollButtons",(function(){return ue})),n.d(i,"disableScrollBottom",(function(){return de})),n.d(i,"disableScrollTop",(function(){return pe})),n.d(i,"enableScrollBottom",(function(){return fe})),n.d(i,"enableScrollTop",(function(){return be})),n.d(i,"toggleScrollAnimation",(function(){return he})),n.d(i,"toggleScrollisInBottom",(function(){return me})),n.d(i,"requestTrace",(function(){return ve})),n.d(i,"fetchTrace",(function(){return ge})),n.d(i,"startPollingTrace",(function(){return _e})),n.d(i,"stopPollingTrace",(function(){return je})),n.d(i,"receiveTraceSuccess",(function(){return ye})),n.d(i,"receiveTraceError",(function(){return Se})),n.d(i,"toggleCollapsibleLine",(function(){return Oe})),n.d(i,"requestJobsForStage",(function(){return ke})),n.d(i,"fetchJobsForStage",(function(){return we})),n.d(i,"receiveJobsForStageSuccess",(function(){return Te})),n.d(i,"receiveJobsForStageError",(function(){return Ce})),n.d(i,"triggerManualJob",(function(){return Ee})),n.d(i,"default",(function(){return Le}));var r={};n.r(r),n.d(r,"headerTime",(function(){return xe})),n.d(r,"hasUnmetPrerequisitesFailure",(function(){return Ie})),n.d(r,"shouldRenderCalloutMessage",(function(){return Be})),n.d(r,"shouldRenderTriggeredLabel",(function(){return Ne})),n.d(r,"hasEnvironment",(function(){return qe})),n.d(r,"hasTrace",(function(){return De})),n.d(r,"emptyStateIllustration",(function(){return Ae})),n.d(r,"emptyStateAction",(function(){return Ve})),n.d(r,"shouldRenderSharedRunnerLimitWarning",(function(){return Me})),n.d(r,"isScrollingDown",(function(){return Je})),n.d(r,"hasRunnersForProject",(function(){return Ue})),n.d(r,"default",(function(){return Fe}));var a=n("jB52"),o=(n("va8A"),n("kO4A"),n("t3Gg"),n("+kFb"),n("8Qi2"),n("zCcL"),n("zpLX"),n("BD5p"),n("MRnW"),n("jaBk"),n("Id6h"),n("Q33P")),s=n.n(o),l=n("h7kv"),c=n.n(l),u=n("yi8e"),d=n("FkSe"),p=n("eVUo"),f=n("3a3M"),b=n.n(f),h=function(){var t=b()(document),e=t.scrollTop();return t.height()-e===b()(window).height()},m=n("Zvrg"),v=n("qKWp"),g=(n("FMw2"),["danger","success","info","warning"]),_={props:{category:{type:String,required:!1,default:g[0],validator:function(t){return g.includes(t)}},message:{type:String,required:!1,default:""}}},j=n("tBpV"),y=Object(j.a)(_,(function(){var t=this.$createElement;return(this._self._c||t)("div",{class:"bs-callout bs-callout-"+this.category,attrs:{role:"alert","aria-live":"assertive"}},[this._v("\n  "+this._s(this.message)+" "),this._t("default")],2)}),[],!1,null,null,null).exports,S=n("len0"),O=n("MV2A"),k=(n("9U97"),n("8pn6"),n("jnfO"),n("o4PY")),w=n.n(k),T=n("GTGS"),C=n("/lV4");function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){P(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var R={name:"ManualVariablesForm",components:{GlDeprecatedButton:T.a,Icon:S.a},props:{action:{type:Object,required:!1,default:null,validator:function(t){return null===t||Object.prototype.hasOwnProperty.call(t,"path")&&Object.prototype.hasOwnProperty.call(t,"method")&&Object.prototype.hasOwnProperty.call(t,"button_title")}},variablesSettingsUrl:{type:String,required:!0,default:""}},inputTypes:{key:"key",value:"value"},i18n:{keyPlaceholder:Object(C.d)("CiVariables|Input variable key"),valuePlaceholder:Object(C.d)("CiVariables|Input variable value")},data:function(){return{variables:[],key:"",secretValue:""}},computed:{helpText:function(){return Object(C.e)(Object(C.d)("CiVariables|Specify variable values to be used in this run. The values specified in %{linkStart}CI/CD settings%{linkEnd} will be used as default"),{linkStart:'<a href="'.concat(this.variablesSettingsUrl,'">'),linkEnd:"</a>"},!1)}},watch:{key:function(t){this.handleValueChange(t,this.$options.inputTypes.key)},secretValue:function(t){this.handleValueChange(t,this.$options.inputTypes.value)}},methods:L(L({},Object(u.c)(["triggerManualJob"])),{},{handleValueChange:function(t,e){""!==t&&(this.createNewVariable(e),this.resetForm())},createNewVariable:function(t){var e=this,n={key:this.key,secret_value:this.secretValue,id:w()()};return this.variables.push(n),this.$nextTick().then((function(){e.$refs["".concat(e.$options.inputTypes[t],"-").concat(n.id)][0].focus()}))},resetForm:function(){this.key="",this.secretValue=""},deleteVariable:function(t){this.variables.splice(this.variables.findIndex((function(e){return e.id===t})),1)}})},x=Object(j.a)(R,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"js-manual-vars-form col-12"},[n("label",[t._v(t._s(t.s__("CiVariables|Variables")))]),t._v(" "),n("div",{staticClass:"ci-table"},[n("div",{staticClass:"gl-responsive-table-row table-row-header pb-0 pt-0 border-0",attrs:{role:"row"}},[n("div",{staticClass:"table-section section-50",attrs:{role:"rowheader"}},[t._v(t._s(t.s__("CiVariables|Key")))]),t._v(" "),n("div",{staticClass:"table-section section-50",attrs:{role:"rowheader"}},[t._v(t._s(t.s__("CiVariables|Value")))])]),t._v(" "),t._l(t.variables,(function(e){return n("div",{key:e.id,staticClass:"gl-responsive-table-row"},[n("div",{staticClass:"table-section section-50"},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v(t._s(t.s__("Pipeline|Key")))]),t._v(" "),n("div",{staticClass:"table-mobile-content append-right-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.key,expression:"variable.key"}],ref:t.$options.inputTypes.key+"-"+e.id,refInFor:!0,staticClass:"ci-variable-body-item form-control",attrs:{placeholder:t.$options.i18n.keyPlaceholder},domProps:{value:e.key},on:{input:function(n){n.target.composing||t.$set(e,"key",n.target.value)}}})])]),t._v(" "),n("div",{staticClass:"table-section section-50"},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v(t._s(t.s__("Pipeline|Value")))]),t._v(" "),n("div",{staticClass:"table-mobile-content append-right-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.secret_value,expression:"variable.secret_value"}],ref:t.$options.inputTypes.value+"-"+e.id,refInFor:!0,staticClass:"ci-variable-body-item form-control",attrs:{placeholder:t.$options.i18n.valuePlaceholder},domProps:{value:e.secret_value},on:{input:function(n){n.target.composing||t.$set(e,"secret_value",n.target.value)}}})])]),t._v(" "),n("div",{staticClass:"table-section section-10"},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}}),t._v(" "),n("div",{staticClass:"table-mobile-content justify-content-end"},[n("gl-deprecated-button",{staticClass:"btn-transparent btn-blank w-25",on:{click:function(n){return t.deleteVariable(e.id)}}},[n("icon",{attrs:{name:"clear"}})],1)],1)])])})),t._v(" "),n("div",{staticClass:"gl-responsive-table-row"},[n("div",{staticClass:"table-section section-50"},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v(t._s(t.s__("Pipeline|Key")))]),t._v(" "),n("div",{staticClass:"table-mobile-content append-right-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.key,expression:"key"}],ref:"inputKey",staticClass:"js-input-key form-control",attrs:{placeholder:t.$options.i18n.keyPlaceholder},domProps:{value:t.key},on:{input:function(e){e.target.composing||(t.key=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"table-section section-50"},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v(t._s(t.s__("Pipeline|Value")))]),t._v(" "),n("div",{staticClass:"table-mobile-content append-right-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.secretValue,expression:"secretValue"}],ref:"inputSecretValue",staticClass:"ci-variable-body-item form-control",attrs:{placeholder:t.$options.i18n.valuePlaceholder},domProps:{value:t.secretValue},on:{input:function(e){e.target.composing||(t.secretValue=e.target.value)}}})])])])],2),t._v(" "),n("div",{staticClass:"d-flex prepend-top-default justify-content-center"},[n("p",{staticClass:"text-muted",domProps:{innerHTML:t._s(t.helpText)}})]),t._v(" "),n("div",{staticClass:"d-flex justify-content-center"},[n("gl-deprecated-button",{attrs:{variant:"primary"},on:{click:function(e){return t.triggerManualJob(t.variables)}}},[t._v("\n      "+t._s(t.action.button_title)+"\n    ")])],1)])}),[],!1,null,null,null).exports,I={components:{GlLink:O.a,ManualVariablesForm:x},props:{illustrationPath:{type:String,required:!0},illustrationSizeClass:{type:String,required:!0},title:{type:String,required:!0},content:{type:String,required:!1,default:null},playable:{type:Boolean,required:!0,default:!1},scheduled:{type:Boolean,required:!1,default:!1},variablesSettingsUrl:{type:String,required:!1,default:null},action:{type:Object,required:!1,default:null,validator:function(t){return null===t||Object.prototype.hasOwnProperty.call(t,"path")&&Object.prototype.hasOwnProperty.call(t,"method")&&Object.prototype.hasOwnProperty.call(t,"button_title")}}},computed:{shouldRenderManualVariables:function(){return this.playable&&!this.scheduled}}},B=Object(j.a)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row empty-state"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"svg-content",class:t.illustrationSizeClass},[n("img",{attrs:{src:t.illustrationPath}})])]),t._v(" "),n("div",{staticClass:"col-12"},[n("div",{staticClass:"text-content"},[n("h4",{staticClass:"js-job-empty-state-title text-center"},[t._v(t._s(t.title))]),t._v(" "),t.content?n("p",{staticClass:"js-job-empty-state-content"},[t._v(t._s(t.content))]):t._e()]),t._v(" "),t.shouldRenderManualVariables?n("manual-variables-form",{attrs:{action:t.action,"variables-settings-url":t.variablesSettingsUrl}}):t._e(),t._v(" "),n("div",{staticClass:"text-content"},[t.action&&!t.shouldRenderManualVariables?n("div",{staticClass:"text-center"},[n("gl-link",{staticClass:"js-job-empty-state-action btn btn-primary",attrs:{href:t.action.path,"data-method":t.action.method}},[t._v(t._s(t.action.button_title))])],1):t._e()])],1)])}),[],!1,null,null,null).exports,N=n("G3fq"),q=n.n(N),D=n("8zNS"),A={components:{CiIcon:D.a},props:{deploymentStatus:{type:Object,required:!0},deploymentCluster:{type:Object,required:!1,default:null},iconStatus:{type:Object,required:!0}},computed:{environment:function(){switch(this.deploymentStatus.status){case"last":return this.lastEnvironmentMessage();case"out_of_date":return this.outOfDateEnvironmentMessage();case"failed":return this.failedEnvironmentMessage();case"creating":return this.creatingEnvironmentMessage();default:return""}},environmentLink:function(){return this.hasEnvironment?Object(C.e)("%{startLink}%{name}%{endLink}",{startLink:'<a href="'.concat(this.deploymentStatus.environment.environment_path,'" class="js-environment-link">'),name:q()(this.deploymentStatus.environment.name),endLink:"</a>"},!1):""},hasLastDeployment:function(){return this.hasEnvironment&&this.deploymentStatus.environment.last_deployment},lastDeployment:function(){return this.hasLastDeployment?this.deploymentStatus.environment.last_deployment:{}},hasEnvironment:function(){return!s()(this.deploymentStatus.environment)},lastDeploymentPath:function(){return s()(this.lastDeployment.deployable)?"":this.lastDeployment.deployable.build_path},hasCluster:function(){return Boolean(this.deploymentCluster)&&Boolean(this.deploymentCluster.name)},clusterNameOrLink:function(){if(!this.hasCluster)return"";var t=this.deploymentCluster,e=t.name,n=t.path,i=q()(e),r=q()(n);return r?Object(C.e)("%{startLink}%{name}%{endLink}",{startLink:'<a href="'.concat(r,'" class="js-job-cluster-link">'),name:i,endLink:"</a>"},!1):i},kubernetesNamespace:function(){return this.hasCluster?this.deploymentCluster.kubernetes_namespace:null}},methods:{deploymentLink:function(t){return Object(C.e)("%{startLink}%{name}%{endLink}",{startLink:'<a href="'.concat(this.lastDeploymentPath,'" class="js-job-deployment-link">'),name:t,endLink:"</a>"},!1)},failedEnvironmentMessage:function(){var t=this.environmentLink;return Object(C.e)(Object(C.a)("The deployment of this job to %{environmentLink} did not succeed."),{environmentLink:t},!1)},lastEnvironmentMessage:function(){var t=this.environmentLink,e=this.clusterNameOrLink,n=this.hasCluster,i=this.kubernetesNamespace;return n?i?Object(C.e)(Object(C.a)("This job is deployed to %{environmentLink} using cluster %{clusterNameOrLink} and namespace %{kubernetesNamespace}."),{environmentLink:t,clusterNameOrLink:e,kubernetesNamespace:i},!1):Object(C.e)(Object(C.a)("This job is deployed to %{environmentLink} using cluster %{clusterNameOrLink}."),{environmentLink:t,clusterNameOrLink:e},!1):Object(C.e)(Object(C.a)("This job is deployed to %{environmentLink}."),{environmentLink:t},!1)},outOfDateEnvironmentMessage:function(){var t=this.hasLastDeployment,e=this.hasCluster,n=this.environmentLink,i=this.clusterNameOrLink,r=this.kubernetesNamespace;if(t){var a=this.deploymentLink(Object(C.a)("most recent deployment"));return e?r?Object(C.e)(Object(C.a)("This job is an out-of-date deployment to %{environmentLink} using cluster %{clusterNameOrLink} and namespace %{kubernetesNamespace}. View the %{deploymentLink}."),{environmentLink:n,clusterNameOrLink:i,kubernetesNamespace:r,deploymentLink:a},!1):Object(C.e)(Object(C.a)("This job is an out-of-date deployment to %{environmentLink} using cluster %{clusterNameOrLink}. View the %{deploymentLink}."),{environmentLink:n,clusterNameOrLink:i,deploymentLink:a},!1):Object(C.e)(Object(C.a)("This job is an out-of-date deployment to %{environmentLink}. View the %{deploymentLink}."),{environmentLink:n,deploymentLink:a},!1)}return e?r?Object(C.e)(Object(C.a)("This job is an out-of-date deployment to %{environmentLink} using cluster %{clusterNameOrLink} and namespace %{kubernetesNamespace}."),{environmentLink:n,clusterNameOrLink:i,kubernetesNamespace:r},!1):Object(C.e)(Object(C.a)("This job is an out-of-date deployment to %{environmentLink} using cluster %{clusterNameOrLink}."),{environmentLink:n,clusterNameOrLink:i},!1):Object(C.e)(Object(C.a)("This job is an out-of-date deployment to %{environmentLink}."),{environmentLink:n},!1)},creatingEnvironmentMessage:function(){var t=this.hasLastDeployment,e=this.hasCluster,n=this.environmentLink,i=this.clusterNameOrLink,r=this.kubernetesNamespace;if(t){var a=this.deploymentLink(Object(C.a)("latest deployment"));return e?r?Object(C.e)(Object(C.a)("This job is creating a deployment to %{environmentLink} using cluster %{clusterNameOrLink} and namespace %{kubernetesNamespace}. This will overwrite the %{deploymentLink}."),{environmentLink:n,clusterNameOrLink:i,kubernetesNamespace:r,deploymentLink:a},!1):Object(C.e)(Object(C.a)("This job is creating a deployment to %{environmentLink} using cluster %{clusterNameOrLink}. This will overwrite the %{deploymentLink}."),{environmentLink:n,clusterNameOrLink:i,deploymentLink:a},!1):Object(C.e)(Object(C.a)("This job is creating a deployment to %{environmentLink}. This will overwrite the %{deploymentLink}."),{environmentLink:n,deploymentLink:a},!1)}return e?r?Object(C.e)(Object(C.a)("This job is creating a deployment to %{environmentLink} using cluster %{clusterNameOrLink} and namespace %{kubernetesNamespace}."),{environmentLink:n,clusterNameOrLink:i,kubernetesNamespace:r},!1):Object(C.e)(Object(C.a)("This job is creating a deployment to %{environmentLink} using cluster %{clusterNameOrLink}."),{environmentLink:n,clusterNameOrLink:i},!1):Object(C.e)(Object(C.a)("This job is creating a deployment to %{environmentLink}."),{environmentLink:n},!1)}}},V=Object(j.a)(A,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"prepend-top-default append-bottom-default js-environment-container"},[e("div",{staticClass:"environment-information"},[e("ci-icon",{attrs:{status:this.iconStatus}}),this._v(" "),e("p",{staticClass:"inline gl-mb-0",domProps:{innerHTML:this._s(this.environment)}})],1)])}),[],!1,null,null,null).exports,M=n("Fsq/"),J={components:{TimeagoTooltip:M.a,GlLink:O.a},props:{user:{type:Object,required:!1,default:function(){return{}}},erasedAt:{type:String,required:!0}},computed:{isErasedByUser:function(){return!s()(this.user)}}},U=Object(j.a)(J,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"prepend-top-default js-build-erased"},[n("div",{staticClass:"erased alert alert-warning"},[t.isErasedByUser?[t._v("\n      "+t._s(t.s__("Job|Job has been erased by"))+"\n      "),n("gl-link",{attrs:{href:t.user.web_url}},[t._v(" "+t._s(t.user.username)+" ")])]:[t._v("\n      "+t._s(t.s__("Job|Job has been erased"))+"\n    ")],t._v(" "),n("timeago-tooltip",{attrs:{time:t.erasedAt}})],2)])}),[],!1,null,null,null).exports,F=(n("+xU6"),n("LLbv")),G=n("SNRI"),H={components:{Icon:S.a,GlLink:O.a,GlDeprecatedButton:T.a},directives:{GlTooltip:F.a},scrollDown:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path class="scroll-arrow" d="M8 10.4142L4.29289 6.70711C3.90237 6.31658 3.90237 5.68342 4.29289 5.2929C4.68342 4.90237 5.31658 4.90237 5.70711 5.2929L7 6.58579L7 1C7 0.447715 7.44772 0 8 0C8.55229 0 9 0.447715 9 1L9 6.58579L10.2929 5.2929C10.6834 4.90237 11.3166 4.90237 11.7071 5.2929C12.0976 5.68342 12.0976 6.31658 11.7071 6.70711L8 10.4142Z"/>\n<path class="scroll-dot" d="M8 16C9.10457 16 10 15.1046 10 14C10 12.8954 9.10457 12 8 12C6.89543 12 6 12.8954 6 14C6 15.1046 6.89543 16 8 16Z"/>\n</svg>\n',props:{erasePath:{type:String,required:!1,default:null},size:{type:Number,required:!0},rawPath:{type:String,required:!1,default:null},isScrollTopDisabled:{type:Boolean,required:!0},isScrollBottomDisabled:{type:Boolean,required:!0},isScrollingDown:{type:Boolean,required:!0},isTraceSizeVisible:{type:Boolean,required:!0}},computed:{jobLogSize:function(){return Object(C.e)(Object(C.a)("Showing last %{size} of log -"),{size:Object(G.b)(this.size)})}},mounted:function(){Object(m.a)(this.$el)},methods:{handleScrollToTop:function(){this.$emit("scrollJobLogTop")},handleScrollToBottom:function(){this.$emit("scrollJobLogBottom")}}},z=Object(j.a)(H,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"top-bar"},[n("div",{staticClass:"js-truncated-info truncated-info d-none d-sm-block float-left"},[t.isTraceSizeVisible?[t._v("\n      "+t._s(t.jobLogSize)+"\n      "),t.rawPath?n("gl-link",{staticClass:"js-raw-link text-plain text-underline prepend-left-5",attrs:{href:t.rawPath}},[t._v(t._s(t.s__("Job|Complete Raw")))]):t._e()]:t._e()],2),t._v(" "),n("div",{staticClass:"controllers float-right"},[t.rawPath?n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.body",modifiers:{body:!0}}],staticClass:"js-raw-link-controller controllers-buttons",attrs:{title:t.s__("Job|Show complete raw"),href:t.rawPath}},[n("icon",{attrs:{name:"doc-text"}})],1):t._e(),t._v(" "),t.erasePath?n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.body",modifiers:{body:!0}}],staticClass:"js-erase-link controllers-buttons",attrs:{title:t.s__("Job|Erase job log"),href:t.erasePath,"data-confirm":t.__("Are you sure you want to erase this build?"),"data-method":"post"}},[n("icon",{attrs:{name:"remove"}})],1):t._e(),t._v(" "),n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"controllers-buttons",attrs:{title:t.s__("Job|Scroll to top")}},[n("gl-deprecated-button",{staticClass:"js-scroll-top btn-scroll btn-transparent btn-blank",attrs:{disabled:t.isScrollTopDisabled,type:"button"},on:{click:t.handleScrollToTop}},[n("icon",{attrs:{name:"scroll_up"}})],1)],1),t._v(" "),n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"controllers-buttons",attrs:{title:t.s__("Job|Scroll to bottom")}},[n("gl-deprecated-button",{staticClass:"js-scroll-bottom btn-scroll btn-transparent btn-blank",class:{animate:t.isScrollingDown},attrs:{disabled:t.isScrollBottomDisabled},domProps:{innerHTML:t._s(t.$options.scrollDown)},on:{click:t.handleScrollToBottom}})],1)],1)])}),[],!1,null,null,null).exports,$={components:{GlLink:O.a},props:{hasNoRunnersForProject:{type:Boolean,required:!0},tags:{type:Array,required:!1,default:function(){return[]}},runnersPath:{type:String,required:!0}}},W=Object(j.a)($,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bs-callout bs-callout-warning"},[t.tags.length?n("p",{staticClass:"js-stuck-with-tags gl-mb-0"},[t._v("\n    "+t._s(t.s__("This job is stuck because you don't have\nany active runners online or available with any of these tags assigned to them:"))+"\n    "),t._l(t.tags,(function(e,i){return n("span",{key:i,staticClass:"badge badge-primary append-right-4"},[t._v("\n      "+t._s(e)+"\n    ")])}))],2):t.hasNoRunnersForProject?n("p",{staticClass:"js-stuck-no-runners gl-mb-0"},[t._v("\n    "+t._s(t.s__("Job|This job is stuck because the project\ndoesn't have any runners online assigned to it."))+"\n  ")]):n("p",{staticClass:"js-stuck-no-active-runner gl-mb-0"},[t._v("\n    "+t._s(t.s__("This job is stuck because you don't\nhave any active runners that can run this job."))+"\n  ")]),t._v("\n\n  "+t._s(t.__("Go to project"))+"\n  "),t.runnersPath?n("gl-link",{staticClass:"js-runners-path",attrs:{href:t.runnersPath}},[t._v("\n    "+t._s(t.__("CI settings"))+"\n  ")]):t._e()],1)}),[],!1,null,null,null).exports,Q={components:{GlLink:O.a},props:{helpPath:{type:String,required:!0}}},K=Object(j.a)(Q,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bs-callout bs-callout-danger"},[e("p",{staticClass:"js-failed-unmet-prerequisites gl-mb-0"},[this._v("\n    "+this._s(this.s__("Job|This job failed because the necessary resources were not successfully created."))+"\n\n    "),e("gl-link",{staticClass:"js-help-path",attrs:{href:this.helpPath}},[e("strong",[this._v(" "+this._s(this.__("More information"))+" ")])])],1)])}),[],!1,null,null,null).exports,Z=(n("z4I3"),n("5QKO")),X=n("bOix"),Y={name:"SidebarDetailRow",components:{GlLink:O.a},props:{title:{type:String,required:!1,default:""},value:{type:String,required:!0},helpUrl:{type:String,required:!1,default:""}},computed:{hasTitle:function(){return this.title.length>0},hasHelpURL:function(){return this.helpUrl.length>0}}},tt=Object(j.a)(Y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"build-detail-row"},[t.hasTitle?n("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.title)+":")]):t._e(),t._v(" "+t._s(t.value)+"\n  "),t.hasHelpURL?n("span",{staticClass:"help-button float-right"},[n("gl-link",{attrs:{href:t.helpUrl,target:"_blank",rel:"noopener noreferrer nofollow"}},[n("i",{staticClass:"fa fa-question-circle",attrs:{"aria-hidden":"true"}})])],1):t._e()])}),[],!1,null,null,null).exports,et={components:{TimeagoTooltip:M.a,GlLink:O.a},mixins:[Z.a],props:{artifact:{type:Object,required:!0}},computed:{isExpired:function(){var t;return(null===(t=this.artifact)||void 0===t?void 0:t.expired)&&!this.isLocked},isLocked:function(){var t;return null===(t=this.artifact)||void 0===t?void 0:t.locked},willExpire:function(){var t;return!1===(null===(t=this.artifact)||void 0===t?void 0:t.expired)&&!this.isLocked}}},nt=Object(j.a)(et,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block"},[n("div",{staticClass:"title font-weight-bold"},[t._v(t._s(t.s__("Job|Job artifacts")))]),t._v(" "),t.isExpired||t.willExpire?n("p",{staticClass:"build-detail-row",attrs:{"data-testid":"artifacts-remove-timeline"}},[t.isExpired?n("span",[t._v(t._s(t.s__("Job|The artifacts were removed")))]):t._e(),t._v(" "),t.willExpire?n("span",[t._v(t._s(t.s__("Job|The artifacts will be removed")))]):t._e(),t._v(" "),t.artifact.expire_at?n("timeago-tooltip",{attrs:{time:t.artifact.expire_at}}):t._e()],1):t.isLocked?n("p",{staticClass:"build-detail-row"},[n("span",{attrs:{"data-testid":"job-locked-message"}},[t._v(t._s(t.s__("Job|These artifacts are the latest. They will not be deleted (even if expired) until newer artifacts are available.")))])]):t._e(),t._v(" "),n("div",{staticClass:"btn-group d-flex prepend-top-10",attrs:{role:"group"}},[t.artifact.keep_path?n("gl-link",{staticClass:"btn btn-sm btn-default",attrs:{href:t.artifact.keep_path,"data-method":"post","data-testid":"keep-artifacts"}},[t._v(t._s(t.s__("Job|Keep")))]):t._e(),t._v(" "),t.artifact.download_path?n("gl-link",{staticClass:"btn btn-sm btn-default",attrs:{href:t.artifact.download_path,download:"",rel:"nofollow","data-testid":"download-artifacts"}},[t._v(t._s(t.s__("Job|Download")))]):t._e(),t._v(" "),t.artifact.browse_path?n("gl-link",{staticClass:"btn btn-sm btn-default",attrs:{href:t.artifact.browse_path,"data-testid":"browse-artifacts"}},[t._v(t._s(t.s__("Job|Browse")))]):t._e()],1)])}),[],!1,null,null,null).exports,it=(n("y6Fo"),{components:{GlDeprecatedButton:T.a},props:{trigger:{type:Object,required:!0}},data:function(){return{showVariableValues:!1}},computed:{hasVariables:function(){return this.trigger.variables&&this.trigger.variables.length>0},getToggleButtonText:function(){return this.showVariableValues?Object(C.a)("Hide values"):Object(C.a)("Reveal values")},hasValues:function(){return this.trigger.variables.some((function(t){return t.value}))}},methods:{toggleValues:function(){this.showVariableValues=!this.showVariableValues},getDisplayValue:function(t){return this.showVariableValues?t:"••••••"}}}),rt=Object(j.a)(it,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"build-widget block"},[t.trigger.short_token?n("p",{staticClass:"js-short-token",class:{"append-bottom-5":t.hasVariables,"gl-mb-0":!t.hasVariables}},[n("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.__("Trigger token:")))]),t._v(" "+t._s(t.trigger.short_token)+"\n  ")]):t._e(),t._v(" "),t.hasVariables?[n("p",{staticClass:"trigger-variables-btn-container d-flex"},[n("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.__("Trigger variables:")))]),t._v(" "),t.hasValues?n("gl-deprecated-button",{staticClass:"btn-sm group js-reveal-variables trigger-variables-btn",on:{click:t.toggleValues}},[t._v(t._s(t.getToggleButtonText))]):t._e()],1),t._v(" "),n("table",{staticClass:"js-build-variables trigger-build-variables"},t._l(t.trigger.variables,(function(e,i){return n("tr",{key:e.key+"-"+i},[n("td",{staticClass:"js-build-variable trigger-build-variable trigger-variables-table-cell"},[t._v("\n          "+t._s(e.key)+"\n        ")]),t._v(" "),n("td",{staticClass:"js-build-value trigger-build-value trigger-variables-table-cell"},[t._v("\n          "+t._s(t.getDisplayValue(e.value))+"\n        ")])])})),0)]:t._e()],2)}),[],!1,null,null,null).exports,at={components:{ClipboardButton:n("rK/1").a,GlLink:O.a},props:{commit:{type:Object,required:!0},mergeRequest:{type:Object,required:!1,default:null},isLastBlock:{type:Boolean,required:!0}}},ot=Object(j.a)(at,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"block-last":t.isLastBlock,block:!t.isLastBlock}},[n("p",{staticClass:"append-bottom-5"},[n("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.__("Commit")))]),t._v(" "),n("gl-link",{staticClass:"js-commit-sha commit-sha link-commit",attrs:{href:t.commit.commit_path}},[t._v("\n      "+t._s(t.commit.short_id)+"\n    ")]),t._v(" "),n("clipboard-button",{attrs:{text:t.commit.id,title:t.__("Copy commit SHA"),"css-class":"btn btn-clipboard btn-transparent"}}),t._v(" "),t.mergeRequest?n("span",[t._v("\n      in\n      "),n("gl-link",{staticClass:"js-link-commit link-commit",attrs:{href:t.mergeRequest.path}},[t._v("!"+t._s(t.mergeRequest.iid))])],1):t._e()],1),t._v(" "),n("p",{staticClass:"gl-mb-0"},[t._v(t._s(t.commit.title))])])}),[],!1,null,null,null).exports,st=(n("jslJ"),{components:{CiIcon:D.a,GlLink:O.a},props:{pipeline:{type:Object,required:!0},stages:{type:Array,required:!0},selectedStage:{type:String,required:!0}},computed:{hasRef:function(){return!s()(this.pipeline.ref)},isTriggeredByMergeRequest:function(){return Boolean(this.pipeline.merge_request)},isMergeRequestPipeline:function(){return Boolean(this.pipeline.flags&&this.pipeline.flags.merge_request_pipeline)}},methods:{onStageClick:function(t){this.$emit("requestSidebarStageDropdown",t)}}}),lt=Object(j.a)(st,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block-last dropdown"},[n("div",{staticClass:"js-pipeline-info"},[n("ci-icon",{staticClass:"vertical-align-middle",attrs:{status:t.pipeline.details.status}}),t._v(" "),n("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.s__("Job|Pipeline")))]),t._v(" "),n("gl-link",{staticClass:"js-pipeline-path link-commit qa-pipeline-path",attrs:{href:t.pipeline.path}},[t._v("#"+t._s(t.pipeline.id))]),t._v(" "),t.hasRef?[t._v("\n      "+t._s(t.s__("Job|for"))+"\n\n      "),t.isTriggeredByMergeRequest?[n("gl-link",{staticClass:"link-commit ref-name js-mr-link",attrs:{href:t.pipeline.merge_request.path}},[t._v("!"+t._s(t.pipeline.merge_request.iid))]),t._v("\n        "+t._s(t.s__("Job|with"))+"\n        "),n("gl-link",{staticClass:"link-commit ref-name js-source-branch-link",attrs:{href:t.pipeline.merge_request.source_branch_path}},[t._v(t._s(t.pipeline.merge_request.source_branch))]),t._v(" "),t.isMergeRequestPipeline?[t._v("\n          "+t._s(t.s__("Job|into"))+"\n          "),n("gl-link",{staticClass:"link-commit ref-name js-target-branch-link",attrs:{href:t.pipeline.merge_request.target_branch_path}},[t._v(t._s(t.pipeline.merge_request.target_branch))])]:t._e()]:n("gl-link",{staticClass:"link-commit ref-name",attrs:{href:t.pipeline.ref.path}},[t._v(t._s(t.pipeline.ref.name))])]:t._e()],2),t._v(" "),n("button",{staticClass:"js-selected-stage dropdown-menu-toggle gl-mt-3",attrs:{type:"button","data-toggle":"dropdown"}},[t._v("\n    "+t._s(t.selectedStage)+" "),n("i",{staticClass:"fa fa-chevron-down"})]),t._v(" "),n("ul",{staticClass:"dropdown-menu"},t._l(t.stages,(function(e){return n("li",{key:e.name},[n("button",{staticClass:"js-stage-item stage-item",attrs:{type:"button"},on:{click:function(n){return t.onStageClick(e)}}},[t._v("\n        "+t._s(e.name)+"\n      ")])])})),0)])}),[],!1,null,null,null).exports,ct=n("Dfb/"),ut=n("HXu9"),dt={components:{CiIcon:D.a,Icon:S.a,GlLink:O.a},directives:{tooltip:ct.a},mixins:[ut.a],props:{job:{type:Object,required:!0},isActive:{type:Boolean,required:!0}},computed:{tooltipText:function(){var t=this.job,e=t.name,n=t.status,i="".concat(e," - ").concat(n.tooltip);return this.isDelayedJob?Object(C.e)(i,{remainingTime:this.remainingTime}):i}}},pt={components:{JobContainerItem:Object(j.a)(dt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"build-job position-relative",class:{retried:t.job.retried,active:t.isActive}},[n("gl-link",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"js-job-link d-flex",attrs:{href:t.job.status.details_path,title:t.tooltipText,"data-boundary":"viewport"}},[t.isActive?n("icon",{staticClass:"js-arrow-right icon-arrow-right position-absolute d-block",attrs:{name:"arrow-right"}}):t._e(),t._v(" "),n("ci-icon",{attrs:{status:t.job.status}}),t._v(" "),n("span",{staticClass:"text-truncate w-100"},[t._v(t._s(t.job.name?t.job.name:t.job.id))]),t._v(" "),t.job.retried?n("icon",{staticClass:"js-retry-icon",attrs:{name:"retry"}}):t._e()],1)],1)}),[],!1,null,null,null).exports},props:{jobs:{type:Array,required:!0},jobId:{type:Number,required:!0}},methods:{isJobActive:function(t){return this.jobId===t}}},ft=Object(j.a)(pt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"js-jobs-container builds-container"},t._l(t.jobs,(function(e){return n("job-container-item",{key:e.id,attrs:{job:e,"is-active":t.isJobActive(e.id)}})})),1)}),[],!1,null,null,null).exports;function bt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bt(Object(n),!0).forEach((function(e){mt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vt={name:"JobSidebar",components:{ArtifactsBlock:nt,CommitBlock:ot,DetailRow:tt,Icon:S.a,TriggerBlock:rt,StagesDropdown:lt,JobsContainer:ft,GlLink:O.a,GlDeprecatedButton:T.a},mixins:[Z.a],props:{runnerHelpUrl:{type:String,required:!1,default:""}},computed:ht(ht({},Object(u.e)(["job","stages","jobs","selectedStage"])),{},{coverage:function(){return"".concat(this.job.coverage,"%")},duration:function(){return Object(X.u)(this.job.duration)},queued:function(){return Object(X.u)(this.job.queued)},runnerId:function(){return"".concat(this.job.runner.description," (#").concat(this.job.runner.id,")")},retryButtonClass:function(){var t="js-retry-button btn btn-retry";return t+=this.job.status&&this.job.recoverable?" btn-primary":" btn-inverted-secondary"},hasTimeout:function(){return null!=this.job.metadata&&null!==this.job.metadata.timeout_human_readable},timeout:function(){if(null==this.job.metadata)return"";var t=this.job.metadata.timeout_human_readable;return""!==this.job.metadata.timeout_source&&(t+=Object(C.e)(Object(C.a)(" (from %{timeoutSource})"),{timeoutSource:this.job.metadata.timeout_source})),t},renderBlock:function(){return this.job.duration||this.job.finished_at||this.job.erased_at||this.job.queued||this.hasTimeout||this.job.runner||this.job.coverage||this.job.tags.length},hasArtifact:function(){return!s()(this.job.artifact)},hasTriggers:function(){return!s()(this.job.trigger)},hasStages:function(){return this.job&&this.job.pipeline&&this.job.pipeline.stages&&this.job.pipeline.stages.length>0||!1},commit:function(){return this.job.pipeline&&this.job.pipeline.commit?this.job.pipeline.commit:{}}}),methods:ht({},Object(u.c)(["fetchJobsForStage","toggleSidebar"]))},gt=Object(j.a)(vt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",{staticClass:"right-sidebar build-sidebar",attrs:{"data-offset-top":"101","data-spy":"affix"}},[n("div",{staticClass:"sidebar-container"},[n("div",{staticClass:"blocks-container"},[n("div",{staticClass:"block d-flex flex-nowrap align-items-center"},[n("h4",{staticClass:"my-0 mr-2 text-break-word"},[t._v(t._s(t.job.name))]),t._v(" "),n("div",{staticClass:"flex-grow-1 flex-shrink-0 text-right"},[t.job.retry_path?n("gl-link",{class:t.retryButtonClass,attrs:{href:t.job.retry_path,"data-method":"post","data-qa-selector":"retry_button",rel:"nofollow"}},[t._v(t._s(t.__("Retry")))]):t._e(),t._v(" "),t.job.cancel_path?n("gl-link",{staticClass:"js-cancel-job btn btn-default",attrs:{href:t.job.cancel_path,"data-method":"post",rel:"nofollow"}},[t._v(t._s(t.__("Cancel")))]):t._e()],1),t._v(" "),n("gl-deprecated-button",{staticClass:"btn btn-blank gutter-toggle float-right d-block d-md-none js-sidebar-build-toggle",attrs:{"aria-label":t.__("Toggle Sidebar"),type:"button"},on:{click:t.toggleSidebar}},[n("i",{staticClass:"fa fa-angle-double-right",attrs:{"aria-hidden":"true","data-hidden":"true"}})])],1),t._v(" "),t.job.terminal_path||t.job.new_issue_path?n("div",{staticClass:"block retry-link"},[t.job.new_issue_path?n("gl-link",{staticClass:"js-new-issue btn btn-success btn-inverted float-left mr-2",attrs:{href:t.job.new_issue_path}},[t._v(t._s(t.__("New issue")))]):t._e(),t._v(" "),t.job.terminal_path?n("gl-link",{staticClass:"js-terminal-link btn btn-primary btn-inverted visible-md-block visible-lg-block float-left",attrs:{href:t.job.terminal_path,target:"_blank"}},[t._v("\n          "+t._s(t.__("Debug"))+" "),n("icon",{attrs:{name:"external-link",size:14}})],1):t._e()],1):t._e(),t._v(" "),t.renderBlock?n("div",{staticClass:"block"},[t.job.duration?n("detail-row",{staticClass:"js-job-duration",attrs:{value:t.duration,title:"Duration"}}):t._e(),t._v(" "),t.job.finished_at?n("detail-row",{staticClass:"js-job-finished",attrs:{value:t.timeFormatted(t.job.finished_at),title:"Finished"}}):t._e(),t._v(" "),t.job.erased_at?n("detail-row",{staticClass:"js-job-erased",attrs:{value:t.timeFormatted(t.job.erased_at),title:"Erased"}}):t._e(),t._v(" "),t.job.queued?n("detail-row",{staticClass:"js-job-queued",attrs:{value:t.queued,title:"Queued"}}):t._e(),t._v(" "),t.hasTimeout?n("detail-row",{staticClass:"js-job-timeout",attrs:{"help-url":t.runnerHelpUrl,value:t.timeout,title:"Timeout"}}):t._e(),t._v(" "),t.job.runner?n("detail-row",{staticClass:"js-job-runner",attrs:{value:t.runnerId,title:"Runner"}}):t._e(),t._v(" "),t.job.coverage?n("detail-row",{staticClass:"js-job-coverage",attrs:{value:t.coverage,title:"Coverage"}}):t._e(),t._v(" "),t.job.tags.length?n("p",{staticClass:"build-detail-row js-job-tags"},[n("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.__("Tags:")))]),t._v(" "),t._l(t.job.tags,(function(e,i){return n("span",{key:i,staticClass:"badge badge-primary mr-1"},[t._v(t._s(e))])}))],2):t._e()],1):t._e(),t._v(" "),t.hasArtifact?n("artifacts-block",{attrs:{artifact:t.job.artifact}}):t._e(),t._v(" "),t.hasTriggers?n("trigger-block",{attrs:{trigger:t.job.trigger}}):t._e(),t._v(" "),n("commit-block",{attrs:{"is-last-block":t.hasStages,commit:t.commit,"merge-request":t.job.merge_request}}),t._v(" "),n("stages-dropdown",{attrs:{stages:t.stages,pipeline:t.job.pipeline,"selected-stage":t.selectedStage},on:{requestSidebarStageDropdown:t.fetchJobsForStage}})],1),t._v(" "),t.jobs.length?n("jobs-container",{attrs:{jobs:t.jobs,"job-id":t.job.id}}):t._e()],1)])}),[],!1,null,null,null).exports;n("dj/k"),n("OZM5"),n("x/6R"),n("yaFd"),n("4ql4"),n("GzNv"),n("tbvx"),n("orcL");function _t(t){return function(t){if(Array.isArray(t))return jt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return jt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function yt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yt(Object(n),!0).forEach((function(e){Ot(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var kt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return St(St({},t),{},{lineNumber:e})},wt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return{isClosed:!1,isHeader:!0,line:kt(t,e),lines:[]}};function Tt(t,e){t.forEach((function(t){t.line&&t.line.section===e.section&&(t.line.section_duration=e.section_duration)}))}var Ct=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.length>0&&!0===e.isHeader&&!n.section_duration&&n.section===e.line.section},Et=function(t){var e,n=t[t.length-1],i=n.lines;return 0===(e=n.isHeader&&!i.length&&n.line?n.line.lineNumber:n.isHeader&&i.length?i[i.length-1].lineNumber:n.lineNumber)?1:e+1},Lt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.reduce((function(t,n,i){var r=e.length>0?Et(t):i,a=t[t.length-1];return n.section_header?t.push(wt(n,r)):Ct(t,a,n)?a.lines.push(kt(n,r)):n.section_duration?Tt(t,n):t.push(kt(n,r)),t}),_t(e))},Pt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=_t(e),i=n.length-1,r=n[i],a=t[0];if(r&&a)if(r.offset===a.offset||r.line&&r.line.offset===a.offset)n.splice(i);else if(r.lines&&r.lines.length){var o=r.lines.length-1,s=r.lines[o];s.offset===a.offset&&r.lines.splice(o)}return n},Rt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Pt(t,e);return Lt(t,n)},xt=function(){return gon&&gon.features&&gon.features.jobLogJson};function It(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?It(Object(n),!0).forEach((function(e){Nt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qt={name:"JobPageApp",components:{CiHeader:v.a,Callout:y,EmptyState:B,EnvironmentsBlock:V,ErasedBlock:U,Icon:S.a,Log:function(){return xt()?n.e(382).then(n.bind(null,"hNaJ")):n.e(381).then(n.bind(null,"aXUq"))},LogTopBar:z,StuckBlock:W,UnmetPrerequisitesBlock:K,Sidebar:gt,GlLoadingIcon:d.a,SharedRunner:function(){return n.e(14).then(n.bind(null,"4b03"))}},mixins:[ut.a],props:{runnerSettingsUrl:{type:String,required:!1,default:null},variablesSettingsUrl:{type:String,required:!1,default:null},runnerHelpUrl:{type:String,required:!1,default:null},deploymentHelpUrl:{type:String,required:!1,default:null},terminalPath:{type:String,required:!1,default:null},projectPath:{type:String,required:!0},subscriptionsMoreMinutesUrl:{type:String,required:!1,default:null}},computed:Bt(Bt(Bt({},Object(u.e)(["isLoading","job","isSidebarOpen","trace","isTraceComplete","traceSize","isTraceSizeVisible","isScrollBottomDisabled","isScrollTopDisabled","isScrolledToBottomBeforeReceivingTrace","hasError","selectedStage"])),Object(u.d)(["headerTime","hasUnmetPrerequisitesFailure","shouldRenderCalloutMessage","shouldRenderTriggeredLabel","hasEnvironment","shouldRenderSharedRunnerLimitWarning","hasTrace","emptyStateIllustration","isScrollingDown","emptyStateAction","hasRunnersForProject"])),{},{shouldRenderContent:function(){return!this.isLoading&&!this.hasError},emptyStateTitle:function(){var t=this.emptyStateIllustration,e=this.remainingTime,n=t.title;return this.isDelayedJob?Object(C.e)(n,{remainingTime:e}):n},shouldRenderHeaderCallout:function(){return this.shouldRenderCalloutMessage&&!this.hasUnmetPrerequisitesFailure}}),watch:{job:function(t,e){var n=this;if(s()(e)&&!s()(t.pipeline)){var i=(this.job.pipeline.details.stages||[]).find((function(t){return t&&t.name===n.selectedStage}));i&&this.fetchJobsForStage(i)}t.archived&&this.$nextTick((function(){n.$refs.sticky&&Object(m.a)(n.$refs.sticky)}))}},created:function(){this.throttled=c()(this.toggleScrollButtons,100),window.addEventListener("resize",this.onResize),window.addEventListener("scroll",this.updateScroll)},mounted:function(){this.updateSidebar()},beforeDestroy:function(){this.stopPollingTrace(),this.stopPolling(),window.removeEventListener("resize",this.onResize),window.removeEventListener("scroll",this.updateScroll)},methods:Bt(Bt({},Object(u.c)(["fetchJobsForStage","hideSidebar","showSidebar","toggleSidebar","scrollBottom","scrollTop","stopPollingTrace","stopPolling","toggleScrollButtons","toggleScrollAnimation"])),{},{onResize:function(){this.updateSidebar(),this.updateScroll()},updateSidebar:function(){var t=p.b.getBreakpointSize();"xs"===t||"sm"===t?this.hideSidebar():this.isSidebarOpen||this.showSidebar()},updateScroll:function(){h()?this.isScrollingDown&&this.toggleScrollAnimation(!0):this.toggleScrollAnimation(!1),this.throttled()}})},Dt=Object(j.a)(qt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isLoading?n("gl-loading-icon",{staticClass:"js-job-loading qa-loading-animation prepend-top-20",attrs:{size:"lg"}}):t.shouldRenderContent?[n("div",{staticClass:"js-job-content build-page"},[n("header",[n("div",{staticClass:"js-build-header build-header top-area"},[n("ci-header",{attrs:{status:t.job.status,"item-id":t.job.id,time:t.headerTime,user:t.job.user,"has-sidebar-button":!0,"should-render-triggered-label":t.shouldRenderTriggeredLabel,"item-name":t.__("Job")},on:{clickedSidebarButton:t.toggleSidebar}})],1),t._v(" "),t.shouldRenderHeaderCallout?n("callout",[n("div",{domProps:{innerHTML:t._s(t.job.callout_message)}})]):t._e()],1),t._v(" "),t.job.stuck?n("stuck-block",{staticClass:"js-job-stuck",attrs:{"has-no-runners-for-project":t.hasRunnersForProject,tags:t.job.tags,"runners-path":t.runnerSettingsUrl}}):t._e(),t._v(" "),t.hasUnmetPrerequisitesFailure?n("unmet-prerequisites-block",{staticClass:"js-job-failed",attrs:{"help-path":t.deploymentHelpUrl}}):t._e(),t._v(" "),t.shouldRenderSharedRunnerLimitWarning?n("shared-runner",{staticClass:"js-shared-runner-limit",attrs:{"quota-used":t.job.runners.quota.used,"quota-limit":t.job.runners.quota.limit,"runners-path":t.runnerHelpUrl,"project-path":t.projectPath,"subscriptions-more-minutes-url":t.subscriptionsMoreMinutesUrl}}):t._e(),t._v(" "),t.hasEnvironment?n("environments-block",{staticClass:"js-job-environment",attrs:{"deployment-status":t.job.deployment_status,"deployment-cluster":t.job.deployment_cluster,"icon-status":t.job.status}}):t._e(),t._v(" "),t.job.erased_at?n("erased-block",{staticClass:"js-job-erased-block",attrs:{user:t.job.erased_by,"erased-at":t.job.erased_at}}):t._e(),t._v(" "),t.job.archived?n("div",{ref:"sticky",staticClass:"js-archived-job prepend-top-default archived-job",class:{"sticky-top border-bottom-0":t.hasTrace}},[n("icon",{staticClass:"align-text-bottom",attrs:{name:"lock"}}),t._v("\n        "+t._s(t.__("This job is archived. Only the complete pipeline can be retried."))+"\n      ")],1):t._e(),t._v(" "),t.hasTrace?n("div",{staticClass:"build-trace-container position-relative",class:{"prepend-top-default":!t.job.archived}},[n("log-top-bar",{class:{"sidebar-expanded":t.isSidebarOpen,"sidebar-collapsed":!t.isSidebarOpen,"has-archived-block":t.job.archived},attrs:{"erase-path":t.job.erase_path,size:t.traceSize,"raw-path":t.job.raw_path,"is-scroll-bottom-disabled":t.isScrollBottomDisabled,"is-scroll-top-disabled":t.isScrollTopDisabled,"is-trace-size-visible":t.isTraceSizeVisible,"is-scrolling-down":t.isScrollingDown},on:{scrollJobLogTop:t.scrollTop,scrollJobLogBottom:t.scrollBottom}}),t._v(" "),n("log",{attrs:{trace:t.trace,"is-complete":t.isTraceComplete}})],1):t._e(),t._v(" "),t.hasTrace?t._e():n("empty-state",{staticClass:"js-job-empty-state",attrs:{"illustration-path":t.emptyStateIllustration.image,"illustration-size-class":t.emptyStateIllustration.size,title:t.emptyStateTitle,content:t.emptyStateIllustration.content,action:t.emptyStateAction,playable:t.job.playable,scheduled:t.job.scheduled,"variables-settings-url":t.variablesSettingsUrl}})],1)]:t._e(),t._v(" "),t.shouldRenderContent?n("sidebar",{staticClass:"js-job-sidebar",class:{"right-sidebar-expanded":t.isSidebarOpen,"right-sidebar-collapsed":!t.isSidebarOpen},attrs:{"runner-help-url":t.runnerHelpUrl}}):t._e()],2)}),[],!1,null,null,null).exports,At=(n("Z5ek"),n("99pJ")),Vt=n.n(At),Mt=n("2ibD"),Jt=n("hqF9"),Ut=n("NmEs"),Ft=n("XRO8");function Gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(n),!0).forEach((function(e){zt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $t,Wt,Qt=function(t,e){var n=t.dispatch,i=e.endpoint,r=e.logState,a=e.pagePath;return n("setJobEndpoint",i),n("setTraceOptions",{logState:r,pagePath:a}),Promise.all([n("fetchJob"),n("fetchTrace")])},Kt=function(t,e){return(0,t.commit)("SET_JOB_ENDPOINT",e)},Zt=function(t,e){return(0,t.commit)("SET_TRACE_OPTIONS",e)},Xt=function(t){return(0,t.commit)("HIDE_SIDEBAR")},Yt=function(t){return(0,t.commit)("SHOW_SIDEBAR")},te=function(t){var e=t.dispatch;t.state.isSidebarOpen?e("hideSidebar"):e("showSidebar")},ee=function(){$t=null},ne=function(){$t&&$t.stop()},ie=function(){$t&&$t.restart()},re=function(t){return(0,t.commit)("REQUEST_JOB")},ae=function(t){var e=t.state,n=t.dispatch;n("requestJob"),$t=new Jt.a({resource:{getJob:function(t){return Mt.a.get(t)}},data:e.jobEndpoint,method:"getJob",successCallback:function(t){var e=t.data;return n("receiveJobSuccess",e)},errorCallback:function(){return n("receiveJobError")}}),Vt.a.hidden()?Mt.a.get(e.jobEndpoint).then((function(t){var e=t.data;return n("receiveJobSuccess",e)})).catch((function(){return n("receiveJobError")})):$t.makeRequest(),Vt.a.change((function(){Vt.a.hidden()?n("stopPolling"):n("restartPolling")}))},oe=function(t){var e=t.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e("RECEIVE_JOB_SUCCESS",n),n.status&&n.status.favicon?Object(Ut.U)(n.status.favicon):Object(Ut.N)()},se=function(t){(0,t.commit)("RECEIVE_JOB_ERROR"),Object(Ft.a)(Object(C.a)("An error occurred while fetching the job.")),Object(Ut.N)()},le=function(t){var e=t.dispatch;b()(document).scrollTop(0),e("toggleScrollButtons")},ce=function(t){var e,n=t.dispatch;(e=b()(document)).scrollTop(e.height()),n("toggleScrollButtons")},ue=function(t){var e,n,i,r,a=t.dispatch;b()(document).height()>b()(window).height()?(e=b()(document),n=e.scrollTop(),i=e.height(),r=b()(window).height(),n>0&&i-n!==r?(a("enableScrollTop"),a("enableScrollBottom")):0===b()(document).scrollTop()?(a("disableScrollTop"),a("enableScrollBottom")):h()&&(a("disableScrollBottom"),a("enableScrollTop"))):(a("disableScrollBottom"),a("disableScrollTop"))},de=function(t){return(0,t.commit)("DISABLE_SCROLL_BOTTOM")},pe=function(t){return(0,t.commit)("DISABLE_SCROLL_TOP")},fe=function(t){return(0,t.commit)("ENABLE_SCROLL_BOTTOM")},be=function(t){return(0,t.commit)("ENABLE_SCROLL_TOP")},he=function(t,e){return(0,t.commit)("TOGGLE_SCROLL_ANIMATION",e)},me=function(t,e){(0,t.commit)("TOGGLE_IS_SCROLL_IN_BOTTOM",e)},ve=function(t){return(0,t.commit)("REQUEST_TRACE")},ge=function(t){var e=t.dispatch,n=t.state;return Mt.a.get("".concat(n.traceEndpoint,"/trace.json"),{params:{state:n.traceState}}).then((function(t){var i=t.data;e("toggleScrollisInBottom",h()),e("receiveTraceSuccess",i),i.complete?e("stopPollingTrace"):n.traceTimeout||e("startPollingTrace")})).catch((function(){return e("receiveTraceError")}))},_e=function(t){var e=t.dispatch,n=t.commit,i=setTimeout((function(){n("SET_TRACE_TIMEOUT",0),e("fetchTrace")}),4e3);n("SET_TRACE_TIMEOUT",i)},je=function(t){var e=t.state,n=t.commit;clearTimeout(e.traceTimeout),n("SET_TRACE_TIMEOUT",0),n("STOP_POLLING_TRACE")},ye=function(t,e){return(0,t.commit)("RECEIVE_TRACE_SUCCESS",e)},Se=function(t){(0,t.dispatch)("stopPollingTrace"),Object(Ft.a)(Object(C.a)("An error occurred while fetching the job log."))},Oe=function(t,e){return(0,t.commit)("TOGGLE_COLLAPSIBLE_LINE",e)},ke=function(t,e){return(0,t.commit)("REQUEST_JOBS_FOR_STAGE",e)},we=function(t){var e=t.dispatch,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e("requestJobsForStage",n),Mt.a.get(n.dropdown_path,{params:{retried:1}}).then((function(t){var n=t.data,i=n.retried.map((function(t){return Ht(Ht({},t),{},{retried:!0})})),r=n.latest_statuses.concat(i);e("receiveJobsForStageSuccess",r)})).catch((function(){return e("receiveJobsForStageError")}))},Te=function(t,e){return(0,t.commit)("RECEIVE_JOBS_FOR_STAGE_SUCCESS",e)},Ce=function(t){(0,t.commit)("RECEIVE_JOBS_FOR_STAGE_ERROR"),Object(Ft.a)(Object(C.a)("An error occurred while fetching the jobs."))},Ee=function(t,e){var n=t.state,i=e.map((function(t){var e=Ht({},t);return delete e.id,e}));Mt.a.post(n.job.status.action.path,{job_variables_attributes:i}).catch((function(){return Object(Ft.a)(Object(C.a)("An error occurred while triggering the job."))}))},Le=function(){},Pe=n("lx39"),Re=n.n(Pe),xe=function(t){return t.job.started?t.job.started:t.job.created_at},Ie=function(t){return t.job&&t.job.failure_reason&&"unmet_prerequisites"===t.job.failure_reason},Be=function(t){return!s()(t.job.status)&&!s()(t.job.callout_message)},Ne=function(t){return Re()(t.job.started)},qe=function(t){return!s()(t.job.deployment_status)},De=function(t){return t.job.has_trace||!s()(t.job.status)&&"running"===t.job.status.group},Ae=function(t){return t.job&&t.job.status&&t.job.status.illustration||{}},Ve=function(t){return t.job&&t.job.status&&t.job.status.action||null},Me=function(t){return!s()(t.job.runners)&&!s()(t.job.runners.quota)&&t.job.runners.quota.used>=t.job.runners.quota.limit},Je=function(t){return h()&&!t.isTraceComplete},Ue=function(t){return t.job.runners.available&&!t.job.runners.online},Fe=function(){};function Ge(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var He=(Ge(Wt={},"SET_JOB_ENDPOINT",(function(t,e){t.jobEndpoint=e})),Ge(Wt,"SET_TRACE_OPTIONS",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.traceEndpoint=e.pagePath,t.traceState=e.logState})),Ge(Wt,"HIDE_SIDEBAR",(function(t){t.isSidebarOpen=!1})),Ge(Wt,"SHOW_SIDEBAR",(function(t){t.isSidebarOpen=!0})),Ge(Wt,"RECEIVE_TRACE_SUCCESS",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.state&&(t.traceState=e.state),e.append?(xt()?t.trace=e.lines?Rt(e.lines,t.trace):t.trace:t.trace+=e.html,t.traceSize+=e.size):(xt()?t.trace=e.lines?Lt(e.lines):t.trace:t.trace=e.html||t.trace,t.traceSize=e.size||t.traceSize),t.traceSize<e.total?t.isTraceSizeVisible=!0:t.isTraceSizeVisible=!1,t.isTraceComplete=e.complete||t.isTraceComplete})),Ge(Wt,"SET_TRACE_TIMEOUT",(function(t,e){t.traceTimeout=e})),Ge(Wt,"STOP_POLLING_TRACE",(function(t){t.isTraceComplete=!0})),Ge(Wt,"TOGGLE_COLLAPSIBLE_LINE",(function(t,e){a.default.set(e,"isClosed",!e.isClosed)})),Ge(Wt,"REQUEST_JOB",(function(t){t.isLoading=!0})),Ge(Wt,"RECEIVE_JOB_SUCCESS",(function(t,e){t.hasError=!1,t.isLoading=!1,t.job=e,t.stages=e.pipeline&&e.pipeline.details&&e.pipeline.details.stages?e.pipeline.details.stages:[],""===t.selectedStage&&e.stage&&(t.selectedStage=e.stage)})),Ge(Wt,"RECEIVE_JOB_ERROR",(function(t){t.isLoading=!1,t.job={},t.hasError=!0})),Ge(Wt,"ENABLE_SCROLL_TOP",(function(t){t.isScrollTopDisabled=!1})),Ge(Wt,"DISABLE_SCROLL_TOP",(function(t){t.isScrollTopDisabled=!0})),Ge(Wt,"ENABLE_SCROLL_BOTTOM",(function(t){t.isScrollBottomDisabled=!1})),Ge(Wt,"DISABLE_SCROLL_BOTTOM",(function(t){t.isScrollBottomDisabled=!0})),Ge(Wt,"TOGGLE_SCROLL_ANIMATION",(function(t,e){t.isScrollingDown=e})),Ge(Wt,"TOGGLE_IS_SCROLL_IN_BOTTOM",(function(t,e){t.isScrolledToBottomBeforeReceivingTrace=e})),Ge(Wt,"REQUEST_JOBS_FOR_STAGE",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.isLoadingJobs=!0,t.selectedStage=e.name})),Ge(Wt,"RECEIVE_JOBS_FOR_STAGE_SUCCESS",(function(t,e){t.isLoadingJobs=!1,t.jobs=e})),Ge(Wt,"RECEIVE_JOBS_FOR_STAGE_ERROR",(function(t){t.isLoadingJobs=!1,t.jobs=[]})),Wt);a.default.use(u.b);document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("js-job-vue-app"),e=new u.b.Store({actions:i,mutations:He,getters:r,state:{jobEndpoint:null,traceEndpoint:null,isSidebarOpen:!0,isLoading:!1,hasError:!1,job:{},isScrollBottomDisabled:!0,isScrollTopDisabled:!0,isScrolledToBottomBeforeReceivingTrace:!0,trace:xt()?[]:"",isTraceComplete:!1,traceSize:0,isTraceSizeVisible:!1,traceTimeout:0,traceState:null,isLoadingJobs:!1,selectedStage:"",stages:[],jobs:[]}});return e.dispatch("init",t.dataset),new a.default({el:t,store:e,components:{JobApp:Dt},render:function(e){var n=t.dataset;return e("job-app",{props:{deploymentHelpUrl:n.deploymentHelpUrl,runnerHelpUrl:n.runnerHelpUrl,runnerSettingsUrl:n.runnerSettingsUrl,variablesSettingsUrl:n.variablesSettingsUrl,subscriptionsMoreMinutesUrl:n.subscriptionsMoreMinutesUrl,endpoint:n.endpoint,pagePath:n.pagePath,logState:n.logState,buildStatus:n.buildStatus,projectPath:n.projectPath}})}})}))},GuZl:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return a}));var i=1024,r="hidden",a={fixed:"fixed",anchored:"anchored",rolling:"rolling",open:"open",invalid:"invalid"}},HXu9:function(t,e,n){"use strict";var i=n("bOix");e.a={data:function(){return{remainingTime:Object(i.e)(0),remainingTimeIntervalId:null}},mounted:function(){this.startRemainingTimeInterval()},beforeDestroy:function(){this.remainingTimeIntervalId&&clearInterval(this.remainingTimeIntervalId)},computed:{isDelayedJob:function(){return this.job&&this.job.scheduled}},watch:{isDelayedJob:function(){this.startRemainingTimeInterval()}},methods:{startRemainingTimeInterval:function(){var t=this;this.remainingTimeIntervalId&&clearInterval(this.remainingTimeIntervalId),this.isDelayedJob&&(this.updateRemainingTime(),this.remainingTimeIntervalId=setInterval((function(){return t.updateRemainingTime()}),1e3))},updateRemainingTime:function(){var t=Object(i.b)(this.job.scheduled_at);this.remainingTime=Object(i.e)(t)}}}},MV2A:function(t,e,n){"use strict";var i=n("1m+M"),r=n("jB52"),a=function(t){try{var e=new URL(t,(n=window.location,i=n.protocol,r=n.host,"".concat(i,"//").concat(r)));return["http:","https:","mailto:","ftp:"].includes(e.protocol)}catch(t){return!1}var n,i,r},o=function(t){var e=t.href,n=t.target,i=t.rel,r=t.hostname;a(e)||(t.href="about:blank"),function(t,e){return"_blank"===t&&e!==window.location.hostname}(n,r)&&(t.rel=function(t){var e=t?t.trim().split(" "):[];return e.includes("noopener")||e.push("noopener"),e.includes("noreferrer")||e.push("noreferrer"),e.join(" ")}(i))},s={inserted:o,update:function(t){r.default.nextTick((function(){o(t)}))}},l=n("Pyw5"),c=n.n(l);const u={components:{BLink:i.a},directives:{SafeLink:s},props:{target:{type:String,required:!1,default:null}}};const d=c()({render:function(){var t=this.$createElement;return(this._self._c||t)("b-link",this._g(this._b({directives:[{name:"safe-link",rawName:"v-safe-link"}],staticClass:"gl-link",attrs:{target:this.target}},"b-link",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=d},MoW5:function(t,e,n){"use strict";var i=n("ZfjD"),r=n("u67S"),a=n("wSP0"),o=n("7PMs"),s=n("QmHw"),l=1..toFixed,c=Math.floor,u=function(t,e,n){return 0===e?n:e%2==1?u(t,e-1,n*t):u(t*t,e/2,n)};i({target:"Number",proto:!0,forced:l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){l.call({})}))},{toFixed:function(t){var e,n,i,s,l=a(this),d=r(t),p=[0,0,0,0,0,0],f="",b="0",h=function(t,e){for(var n=-1,i=e;++n<6;)i+=t*p[n],p[n]=i%1e7,i=c(i/1e7)},m=function(t){for(var e=6,n=0;--e>=0;)n+=p[e],p[e]=c(n/t),n=n%t*1e7},v=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==p[t]){var n=String(p[t]);e=""===e?n:e+o.call("0",7-n.length)+n}return e};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(f="-",l=-l),l>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(l*u(2,69,1))-69)<0?l*u(2,-e,1):l/u(2,e,1),n*=4503599627370496,(e=52-e)>0){for(h(0,n),i=d;i>=7;)h(1e7,0),i-=7;for(h(u(10,i,1),0),i=e-1;i>=23;)m(1<<23),i-=23;m(1<<i),h(1,1),m(2),b=v()}else h(0,n),h(1<<-e,0),b=v()+o.call("0",d);return b=d>0?f+((s=b.length)<=d?"0."+o.call("0",d-s)+b:b.slice(0,s-d)+"."+b.slice(s-d)):f+b}})},NFDe:function(t,e,n){!function(e){"use strict";var i=-1,r=function(t){return t.every=function(e,n,r){t._time(),r||(r=n,n=null);var a=i+=1;return t._timers[a]={visible:e,hidden:n,callback:r},t._run(a,!1),t.isSupported()&&t._listen(),a},t.stop=function(e){return!!t._timers[e]&&(t._stop(e),delete t._timers[e],!0)},t._timers={},t._time=function(){t._timed||(t._timed=!0,t._wasHidden=t.hidden(),t.change((function(){t._stopRun(),t._wasHidden=t.hidden()})))},t._run=function(n,i){var r,a=t._timers[n];if(t.hidden()){if(null===a.hidden)return;r=a.hidden}else r=a.visible;var o=function(){a.last=new Date,a.callback.call(e)};if(i){var s=new Date-a.last;r>s?a.delay=setTimeout((function(){a.id=setInterval(o,r),o()}),r-s):(a.id=setInterval(o,r),o())}else a.id=setInterval(o,r)},t._stop=function(e){var n=t._timers[e];clearInterval(n.id),clearTimeout(n.delay),delete n.id,delete n.delay},t._stopRun=function(e){var n=t.hidden(),i=t._wasHidden;if(n&&!i||!n&&i)for(var r in t._timers)t._stop(r),t._run(r,!n)},t};t.exports?t.exports=r(n("lNHW")):r(e.Visibility)}(window)},QwBj:function(t,e,n){"use strict";n.d(e,"b",(function(){return r}));var i={ABORTED:0,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTI_STATUS:207,ALREADY_REPORTED:208,IM_USED:226,MULTIPLE_CHOICES:300,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,CONFLICT:409,GONE:410,UNPROCESSABLE_ENTITY:422,SERVICE_UNAVAILABLE:503},r=[i.OK,i.CREATED,i.ACCEPTED,i.NON_AUTHORITATIVE_INFORMATION,i.NO_CONTENT,i.RESET_CONTENT,i.PARTIAL_CONTENT,i.MULTI_STATUS,i.ALREADY_REPORTED,i.IM_USED];e.a=i},SNRI:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s}));n("va8A"),n("z4I3"),n("dj/k"),n("9U97"),n("OZM5"),n("x/6R"),n("4ql4"),n("8Qi2"),n("+xU6"),n("7WVv"),n("L1PU"),n("MoW5"),n("MRnW"),n("IdsT"),n("GzNv"),n("tbvx"),n("pBsb"),n("orcL");var i=n("GuZl"),r=n("/lV4");function a(t){return t/(i.a*i.a)}function o(t){return t/(i.a*i.a*i.a)}function s(t){return t<i.a?Object(r.e)(Object(r.a)("%{size} bytes"),{size:t}):t<i.a*i.a?Object(r.e)(Object(r.a)("%{size} KiB"),{size:(e=t,e/i.a).toFixed(2)}):t<i.a*i.a*i.a?Object(r.e)(Object(r.a)("%{size} MiB"),{size:a(t).toFixed(2)}):Object(r.e)(Object(r.a)("%{size} GiB"),{size:o(t).toFixed(2)});var e}},V2jy:function(t,e,n){!function(e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r,a=!1,o=void 0!==e;o&&e.getComputedStyle?(r=n.createElement("div"),["","-webkit-","-moz-","-ms-"].some((function(t){try{r.style.position=t+"sticky"}catch(t){}return""!=r.style.position}))&&(a=!0)):a=!0;var s=!1,l="undefined"!=typeof ShadowRoot,c={top:null,left:null},u=[];function d(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function p(t){return parseFloat(t)||0}function f(t){for(var e=0;t;)e+=t.offsetTop,t=t.offsetParent;return e}var b=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!(e instanceof HTMLElement))throw new Error("First argument must be HTMLElement");if(u.some((function(t){return t._node===e})))throw new Error("Stickyfill is already applied to this node");this._node=e,this._stickyMode=null,this._active=!1,u.push(this),this.refresh()}return i(t,[{key:"refresh",value:function(){if(!a&&!this._removed){this._active&&this._deactivate();var t=this._node,i=getComputedStyle(t),r={position:i.position,top:i.top,display:i.display,marginTop:i.marginTop,marginBottom:i.marginBottom,marginLeft:i.marginLeft,marginRight:i.marginRight,cssFloat:i.cssFloat};if(!isNaN(parseFloat(r.top))&&"table-cell"!=r.display&&"none"!=r.display){this._active=!0;var o=t.style.position;"sticky"!=i.position&&"-webkit-sticky"!=i.position||(t.style.position="static");var s=t.parentNode,c=l&&s instanceof ShadowRoot?s.host:s,u=t.getBoundingClientRect(),b=c.getBoundingClientRect(),h=getComputedStyle(c);this._parent={node:c,styles:{position:c.style.position},offsetHeight:c.offsetHeight},this._offsetToWindow={left:u.left,right:n.documentElement.clientWidth-u.right},this._offsetToParent={top:u.top-b.top-p(h.borderTopWidth),left:u.left-b.left-p(h.borderLeftWidth),right:-u.right+b.right-p(h.borderRightWidth)},this._styles={position:o,top:t.style.top,bottom:t.style.bottom,left:t.style.left,right:t.style.right,width:t.style.width,marginTop:t.style.marginTop,marginLeft:t.style.marginLeft,marginRight:t.style.marginRight};var m=p(r.top);this._limits={start:u.top+e.pageYOffset-m,end:b.top+e.pageYOffset+c.offsetHeight-p(h.borderBottomWidth)-t.offsetHeight-m-p(r.marginBottom)};var v=h.position;"absolute"!=v&&"relative"!=v&&(c.style.position="relative"),this._recalcPosition();var g=this._clone={};g.node=n.createElement("div"),d(g.node.style,{width:u.right-u.left+"px",height:u.bottom-u.top+"px",marginTop:r.marginTop,marginBottom:r.marginBottom,marginLeft:r.marginLeft,marginRight:r.marginRight,cssFloat:r.cssFloat,padding:0,border:0,borderSpacing:0,fontSize:"1em",position:"static"}),s.insertBefore(g.node,t),g.docOffsetTop=f(g.node)}}}},{key:"_recalcPosition",value:function(){if(this._active&&!this._removed){var t=c.top<=this._limits.start?"start":c.top>=this._limits.end?"end":"middle";if(this._stickyMode!=t){switch(t){case"start":d(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:this._offsetToParent.top+"px",bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"middle":d(this._node.style,{position:"fixed",left:this._offsetToWindow.left+"px",right:this._offsetToWindow.right+"px",top:this._styles.top,bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"end":d(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:"auto",bottom:0,width:"auto",marginLeft:0,marginRight:0})}this._stickyMode=t}}}},{key:"_fastCheck",value:function(){this._active&&!this._removed&&(Math.abs(f(this._clone.node)-this._clone.docOffsetTop)>1||Math.abs(this._parent.node.offsetHeight-this._parent.offsetHeight)>1)&&this.refresh()}},{key:"_deactivate",value:function(){var t=this;this._active&&!this._removed&&(this._clone.node.parentNode.removeChild(this._clone.node),delete this._clone,d(this._node.style,this._styles),delete this._styles,u.some((function(e){return e!==t&&e._parent&&e._parent.node===t._parent.node}))||d(this._parent.node.style,this._parent.styles),delete this._parent,this._stickyMode=null,this._active=!1,delete this._offsetToWindow,delete this._offsetToParent,delete this._limits)}},{key:"remove",value:function(){var t=this;this._deactivate(),u.some((function(e,n){if(e._node===t._node)return u.splice(n,1),!0})),this._removed=!0}}]),t}(),h={stickies:u,Sticky:b,forceSticky:function(){a=!1,m(),this.refreshAll()},addOne:function(t){if(!(t instanceof HTMLElement)){if(!t.length||!t[0])return;t=t[0]}for(var e=0;e<u.length;e++)if(u[e]._node===t)return u[e];return new b(t)},add:function(t){if(t instanceof HTMLElement&&(t=[t]),t.length){for(var e=[],n=function(n){var i=t[n];return i instanceof HTMLElement?u.some((function(t){if(t._node===i)return e.push(t),!0}))?"continue":void e.push(new b(i)):(e.push(void 0),"continue")},i=0;i<t.length;i++)n(i);return e}},refreshAll:function(){u.forEach((function(t){return t.refresh()}))},removeOne:function(t){if(!(t instanceof HTMLElement)){if(!t.length||!t[0])return;t=t[0]}u.some((function(e){if(e._node===t)return e.remove(),!0}))},remove:function(t){if(t instanceof HTMLElement&&(t=[t]),t.length)for(var e=function(e){var n=t[e];u.some((function(t){if(t._node===n)return t.remove(),!0}))},n=0;n<t.length;n++)e(n)},removeAll:function(){for(;u.length;)u[0].remove()}};function m(){if(!s){s=!0,a(),e.addEventListener("scroll",a),e.addEventListener("resize",h.refreshAll),e.addEventListener("orientationchange",h.refreshAll);var t=void 0,i=void 0,r=void 0;"hidden"in n?(i="hidden",r="visibilitychange"):"webkitHidden"in n&&(i="webkitHidden",r="webkitvisibilitychange"),r?(n[i]||o(),n.addEventListener(r,(function(){n[i]?clearInterval(t):o()}))):o()}function a(){e.pageXOffset!=c.left?(c.top=e.pageYOffset,c.left=e.pageXOffset,h.refreshAll()):e.pageYOffset!=c.top&&(c.top=e.pageYOffset,c.left=e.pageXOffset,u.forEach((function(t){return t._recalcPosition()})))}function o(){t=setInterval((function(){u.forEach((function(t){return t._fastCheck()}))}),500)}}a||m(),t.exports?t.exports=h:o&&(e.Stickyfill=h)}(window,document)},ZeWX:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));n("t3Gg"),n("+xeR");var i=n("3a3M"),r=n.n(i),a=n("06tH"),o=n.n(a),s=n("/lV4"),l=n("3twG");n("kO4A"),n("OZM5"),n("x/6R"),n("Z5ek"),n("yaFd"),n("8Qi2"),n("EWC9"),n("MRnW"),n("tbvx"),n("orcL");var c=function(t){return t.reduce((function(t,e){var n=e.name,i=e.value;return Object.assign(t,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n,i))}),{})},u=n("2ibD"),d=n("XRO8"),p=n("k/Fq");function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var b=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=r()("ul.clone-options-dropdown"),n=r()("#project_clone"),i=r()(".js-git-clone-holder .js-clone-dropdown-label"),a=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),s=i.text().trim();s.length>0&&r()("a:contains('".concat(s,"')"),e).addClass("is-active"),r()("a",e).on("click",(function(t){t.preventDefault();var i=r()(t.currentTarget),o=i.attr("href"),s=i.data("cloneType");r()(".is-active",e).removeClass("is-active"),r()('a[data-clone-type="'.concat(s,'"]')).each((function(){var t=r()(this),e=t.find(".dropdown-menu-inner-title").text(),n=t.closest(".project-clone-holder").find(".js-clone-dropdown-label");t.toggleClass("is-active"),n.text(e)})),a?a.dataset.clipboardText=o:n.val(o),r()(".js-git-empty .js-clone").text(o)})),t.initRefSwitcher(),r()(".project-refs-select").on("change",(function(){return r()(this).parents("form").submit()})),r()(".hide-no-ssh-message").on("click",(function(t){return o.a.set("hide_no_ssh_message","false"),r()(this).parents(".no-ssh-key-message").remove(),t.preventDefault()})),r()(".hide-no-password-message").on("click",(function(t){return o.a.set("hide_no_password_message","false"),r()(this).parents(".no-password-message").remove(),t.preventDefault()})),r()(".hide-auto-devops-implicitly-enabled-banner").on("click",(function(t){var e=r()(this).data("project-id"),n="hide_auto_devops_implicitly_enabled_banner_".concat(e);return o.a.set(n,"false"),r()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),t.preventDefault()})),t.projectSelectDropdown()}var e,n,i;return e=t,i=[{key:"projectSelectDropdown",value:function(){Object(p.a)(),r()(".project-item-select").on("click",(function(e){return t.changeProject(r()(e.currentTarget).val())}))}},{key:"changeProject",value:function(t){return window.location=t}},{key:"initRefSwitcher",value:function(){var t=document.createElement("li"),e=document.createElement("a");return e.href="#",r()(".js-project-refs-dropdown").each((function(){var n,i,a,o=r()(this),p=o.data("selected"),f=o.data("fieldName"),b=Boolean(o.data("visit")),h=o.closest("form"),m=h.attr("action"),v=Object(l.n)((n=h[0],i=new FormData(n),a=Array.from(i.keys()).map((function(t){var e=i.getAll(t);return{name:t,value:1===(e=e.filter((function(t){return t}))).length?e[0]:e}})),c(a)),m);return o.glDropdown({data:function(t,e){u.a.get(o.data("refsUrl"),{params:{ref:o.data("ref"),search:t}}).then((function(t){var n=t.data;return e(n)})).catch((function(){return Object(d.a)(Object(s.a)("An error occurred while getting projects"))}))},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:o.data("inputFieldName"),fieldName:f,renderRow:function(n){var i,r,a,o=t.cloneNode(!1),s=e.cloneNode(!1);return n===p&&(s.className="is-active"),s.textContent=n,s.dataset.ref=n,n.length>0&&b&&(s.href=Object(l.n)((a=n,(r=f)in(i={})?Object.defineProperty(i,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[r]=a,i),v)),o.appendChild(s),o},id:function(t,e){return e.attr("data-ref")},toggleLabel:function(t,e){return e.text().trim()},clicked:function(t){var e=t.e;b||e.preventDefault()}})}))}}],(n=null)&&f(e.prototype,n),i&&f(e,i),t}()},Zvrg:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return s}));var i=n("V2jy"),r=n.n(i),a=function(t,e,n,i){var r=Math.floor(t.offsetTop-e);if(r<=n&&!t.classList.contains("is-stuck")){var a=i?function(){var t=document.createElement("div");return t.classList.add("sticky-placeholder"),t}():null,o=t.offsetHeight;t.classList.add("is-stuck"),i&&(t.parentNode.insertBefore(a,t.nextElementSibling),a.style.height="".concat(o-t.offsetHeight,"px"))}else r>n&&t.classList.contains("is-stuck")&&(t.classList.remove("is-stuck"),i&&t.nextElementSibling&&t.nextElementSibling.classList.contains("sticky-placeholder")&&t.nextElementSibling.remove())},o=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t&&"undefined"!=typeof CSS&&CSS.supports("(position: -webkit-sticky) or (position: sticky)")&&document.addEventListener("scroll",(function(){return a(t,window.scrollY,e,n)}),{passive:!0})},s=function(t){r.a.add(t)}},gjpc:function(t,e,n){"use strict";n.r(e);var i=n("ZeWX"),r=n("CX32");document.addEventListener("DOMContentLoaded",(function(){new i.a,new r.a}))},hqF9:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("S6uq");var i=n("QwBj"),r=n("NmEs");function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.options.data=e.data||{},this.options.notificationCallback=e.notificationCallback||function(){},this.intervalHeader="POLL-INTERVAL",this.timeoutID=null,this.canPoll=!0}var e,n,o;return e=t,(n=[{key:"checkConditions",value:function(t){var e=this,n=Object(r.F)(t.headers),a=parseInt(n[this.intervalHeader],10);a>0&&-1!==i.b.indexOf(t.status)&&this.canPoll&&(this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout((function(){e.makeRequest()}),a)),this.options.successCallback(t)}},{key:"makeRequest",value:function(){var t=this,e=this.options,n=e.resource,r=e.method,a=e.data,o=e.errorCallback,s=e.notificationCallback;return s(!0),n[r](a).then((function(e){t.checkConditions(e),s(!1)})).catch((function(t){s(!1),t.status!==i.a.ABORTED&&o(t)}))}},{key:"stop",value:function(){this.canPoll=!1,clearTimeout(this.timeoutID)}},{key:"enable",value:function(t){t&&t.data&&(this.options.data=t.data),this.canPoll=!0,t&&t.response&&this.checkConditions(t.response)}},{key:"restart",value:function(t){this.enable(t),this.makeRequest()}}])&&a(e.prototype,n),o&&a(e,o),t}()},jslJ:function(t,e,n){var i=n("jl4x"),r=n("OhKz"),a=n("aSVa"),o=n("Gw9p").UNSUPPORTED_Y;i&&("g"!=/./g.flags||o)&&r.f(RegExp.prototype,"flags",{configurable:!0,get:a})},"k/Fq":function(t,e,n){"use strict";n("9U97"),n("8Qi2"),n("MRnW"),n("jaBk");var i=n("3a3M"),r=n.n(i),a=n("qPgm"),o=(n("gyUR"),n("4ql4"),n("IdsT"),n("pBsb"),n("n7CP"));function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.projectSelectInput=r()(e),this.newItemBtn=r()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}var e,i,a;return e=t,(i=[{key:"bindEvents",value:function(){var t=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",(function(e){return t.openDropdown(e)})),this.newItemBtn.on("click",(function(e){t.getProjectFromLocalStorage()||(e.preventDefault(),t.openDropdown(e))})),this.projectSelectInput.on("change",(function(){return t.selectProject()}))}},{key:"initLocalStorage",value:function(){o.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}},{key:"openDropdown",value:function(t){n.e(311).then(n.t.bind(null,"p9g0",7)).then((function(){r()(t.currentTarget).siblings(".project-item-select").select2("open")})).catch((function(){}))}},{key:"selectProject",value:function(){var t=JSON.parse(this.projectSelectInput.val()),e={url:"".concat(t.url,"/").concat(this.projectSelectInput.data("relativePath")),name:t.name};this.setNewItemBtnAttributes(e),this.setProjectInLocalStorage(e)}},{key:"setBtnTextFromLocalStorage",value:function(){var t=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(t)}},{key:"setNewItemBtnAttributes",value:function(t){t?(this.newItemBtn.attr("href",t.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(t.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}},{key:"getProjectFromLocalStorage",value:function(){var t=localStorage.getItem(this.localStorageKey);return JSON.parse(t)}},{key:"setProjectInLocalStorage",value:function(t){var e=JSON.stringify(t);localStorage.setItem(this.localStorageKey,e)}},{key:"deriveTextVariants",value:function(){var t=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:t,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}])&&s(e.prototype,i),a&&s(e,a),t}(),c=n("/lV4"),u=function(){r()(".ajax-project-select").each((function(t,e){var n,i=this,o=r()(e).data("simpleFilter")||!1,s=r()(e).data("select2");return this.groupId=r()(e).data("groupId"),this.userId=r()(e).data("userId"),this.includeGroups=r()(e).data("includeGroups"),this.allProjects=r()(e).data("allProjects")||!1,this.orderBy=r()(e).data("orderBy")||"id",this.withIssuesEnabled=r()(e).data("withIssuesEnabled"),this.withMergeRequestsEnabled=r()(e).data("withMergeRequestsEnabled"),this.withShared=void 0===r()(e).data("withShared")||r()(e).data("withShared"),this.includeProjectsInSubgroups=r()(e).data("includeProjectsInSubgroups")||!1,this.allowClear=r()(e).data("allowClear")||!1,n=Object(c.d)("ProjectSelect|Search for project"),this.includeGroups&&(n+=Object(c.d)("ProjectSelect| or group")),r()(e).select2({placeholder:n,minimumInputLength:0,query:function(t){var e,n=function(e){var n={results:e};return t.callback(n)};return e=i.includeGroups?function(e){return a.a.groups(t.term,{},(function(t){var i=t.concat(e);return n(i)}))}:n,i.groupId?a.a.groupProjects(i.groupId,t.term,{search_namespaces:!0,with_issues_enabled:i.withIssuesEnabled,with_merge_requests_enabled:i.withMergeRequestsEnabled,with_shared:i.withShared,include_subgroups:i.includeProjectsInSubgroups},e):i.userId?a.a.userProjects(i.userId,t.term,{with_issues_enabled:i.withIssuesEnabled,with_merge_requests_enabled:i.withMergeRequestsEnabled,with_shared:i.withShared,include_subgroups:i.includeProjectsInSubgroups},e):a.a.projects(t.term,{order_by:i.orderBy,with_issues_enabled:i.withIssuesEnabled,with_merge_requests_enabled:i.withMergeRequestsEnabled,membership:!i.allProjects},e)},id:function(t){return o?t.id:JSON.stringify({name:t.name,url:t.web_url})},text:function(t){return t.name_with_namespace||t.name},initSelection:function(t,e){return a.a.project(t.val()).then((function(t){var n=t.data;return e(n)}))},allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),s||o?e:new l(e)}))};e.a=function(){return n.e(311).then(n.t.bind(null,"p9g0",7)).then(u).catch((function(){}))}},lNHW:function(t,e,n){!function(e){"use strict";var n=-1,i={onVisible:function(t){var e=i.isSupported();if(!e||!i.hidden())return t(),e;var n=i.change((function(e,r){i.hidden()||(i.unbind(n),t())}));return n},change:function(t){if(!i.isSupported())return!1;var e=n+=1;return i._callbacks[e]=t,i._listen(),e},unbind:function(t){delete i._callbacks[t]},afterPrerendering:function(t){var e=i.isSupported();if(!e||"prerender"!=i.state())return t(),e;var n=i.change((function(e,r){"prerender"!=r&&(i.unbind(n),t())}));return n},hidden:function(){return!(!i._doc.hidden&&!i._doc.webkitHidden)},state:function(){return i._doc.visibilityState||i._doc.webkitVisibilityState||"visible"},isSupported:function(){return!(!i._doc.visibilityState&&!i._doc.webkitVisibilityState)},_doc:document||{},_callbacks:{},_change:function(t){var e=i.state();for(var n in i._callbacks)i._callbacks[n].call(i._doc,t,e)},_listen:function(){if(!i._init){var t="visibilitychange";i._doc.webkitVisibilityState&&(t="webkit"+t);var e=function(){i._change.apply(i,arguments)};i._doc.addEventListener?i._doc.addEventListener(t,e):i._doc.attachEvent(t,e),i._init=!0}}};t.exports?t.exports=i:e.Visibility=i}(this)},o4PY:function(t,e,n){var i=n("rhmX"),r=0;t.exports=function(t){var e=++r;return i(t)+e}},qKWp:function(t,e,n){"use strict";n("8Qi2"),n("+xU6");var i=n("MV2A"),r=n("GTGS"),a=n("LLbv"),o=n("/lV4"),s=n("2Swe"),l=n("Fsq/"),c=n("+kWK"),u={components:{CiIconBadge:s.a,TimeagoTooltip:l.a,UserAvatarImage:c.a,GlLink:i.a,GlDeprecatedButton:r.a},directives:{GlTooltip:a.a},props:{status:{type:Object,required:!0},itemName:{type:String,required:!0},itemId:{type:Number,required:!0},time:{type:String,required:!0},user:{type:Object,required:!1,default:function(){return{}}},hasSidebarButton:{type:Boolean,required:!1,default:!1},shouldRenderTriggeredLabel:{type:Boolean,required:!1,default:!0}},computed:{userAvatarAltText:function(){return Object(o.e)(Object(o.a)("%{username}'s avatar"),{username:this.user.name})}},methods:{onClickSidebarButton:function(){this.$emit("clickedSidebarButton")}}},d=n("tBpV"),p=Object(d.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"page-content-header ci-header-container"},[n("section",{staticClass:"header-main-content"},[n("ci-icon-badge",{attrs:{status:t.status}}),t._v(" "),n("strong",[t._v(" "+t._s(t.itemName)+" #"+t._s(t.itemId)+" ")]),t._v(" "),t.shouldRenderTriggeredLabel?[t._v(t._s(t.__("triggered")))]:[t._v(t._s(t.__("created")))],t._v(" "),n("timeago-tooltip",{attrs:{time:t.time}}),t._v("\n\n      "+t._s(t.__("by"))+"\n\n      "),t.user?[n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-user-link commit-committer-link",attrs:{href:t.user.path,title:t.user.email}},[n("user-avatar-image",{attrs:{"img-src":t.user.avatar_url,"img-alt":t.userAvatarAltText,"tooltip-text":t.user.name,"img-size":24}}),t._v("\n\n          "+t._s(t.user.name)+"\n        ")],1),t._v(" "),t.user.status_tooltip_html?n("span",{domProps:{innerHTML:t._s(t.user.status_tooltip_html)}}):t._e()]:t._e()],2),t._v(" "),t.$slots.default?n("section",{staticClass:"header-action-buttons"},[t._t("default")],2):t._e(),t._v(" "),t.hasSidebarButton?n("gl-deprecated-button",{staticClass:"d-block d-sm-none\nsidebar-toggle-btn js-sidebar-build-toggle js-sidebar-build-toggle-header",attrs:{id:"toggleSidebar"},on:{click:t.onClickSidebarButton}},[n("i",{staticClass:"fa fa-angle-double-left",attrs:{"aria-hidden":"true","aria-labelledby":"toggleSidebar"}})]):t._e()],1)}),[],!1,null,null,null);e.a=p.exports},"rK/1":function(t,e,n){"use strict";var i=n("LLbv"),r=n("GTGS"),a=n("s1D3"),o={name:"ClipboardButton",directives:{GlTooltip:i.a},components:{GlDeprecatedButton:r.a,GlIcon:a.a},props:{text:{type:String,required:!0},gfm:{type:String,required:!1,default:null},title:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},tooltipContainer:{type:[String,Boolean],required:!1,default:!1},cssClass:{type:String,required:!1,default:"btn-default"}},computed:{clipboardText:function(){return null!==this.gfm?JSON.stringify({text:this.text,gfm:this.gfm}):this.text}}},s=n("tBpV"),l=Object(s.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("gl-deprecated-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{placement:this.tooltipPlacement,container:this.tooltipContainer},expression:"{ placement: tooltipPlacement, container: tooltipContainer }"},{name:"gl-tooltip",rawName:"v-gl-tooltip.hover.blur",modifiers:{hover:!0,blur:!0}}],class:this.cssClass,attrs:{title:this.title,"data-clipboard-text":this.clipboardText}},[e("gl-icon",{attrs:{name:"copy-to-clipboard"}})],1)}),[],!1,null,null,null);e.a=l.exports},sBkv:function(t,e,n){var i=n("kd5c").isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&i(t)}},wSP0:function(t,e,n){var i=n("WmU+");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}}},[[134,1,0]]]);
//# sourceMappingURL=pages.projects.jobs.show.d64bf40a.chunk.js.map