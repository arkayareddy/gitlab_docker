(this.webpackJsonp=this.webpackJsonp||[]).push([[286],{191:function(e,t,n){n("HVBj"),n("gjpc"),e.exports=n("Ctp5")},CX32:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n("va8A"),n("z4I3"),n("dj/k"),n("x/6R"),n("WQYg"),n("MRnW"),n("EfZm"),n("GzNv"),n("tbvx"),n("orcL");var r=n("t6Yz"),i=n.n(r),o=n("yQ8t");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,e);var t=u(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),e=t.call(this),i.a.bind("g p",(function(){return Object(o.a)(".shortcuts-project")})),i.a.bind("g v",(function(){return Object(o.a)(".shortcuts-project-activity")})),i.a.bind("g r",(function(){return Object(o.a)(".shortcuts-project-releases")})),i.a.bind("g f",(function(){return Object(o.a)(".shortcuts-tree")})),i.a.bind("g c",(function(){return Object(o.a)(".shortcuts-commits")})),i.a.bind("g j",(function(){return Object(o.a)(".shortcuts-builds")})),i.a.bind("g n",(function(){return Object(o.a)(".shortcuts-network")})),i.a.bind("g d",(function(){return Object(o.a)(".shortcuts-repository-charts")})),i.a.bind("g i",(function(){return Object(o.a)(".shortcuts-issues")})),i.a.bind("g b",(function(){return Object(o.a)(".shortcuts-issue-boards")})),i.a.bind("g m",(function(){return Object(o.a)(".shortcuts-merge_requests")})),i.a.bind("g w",(function(){return Object(o.a)(".shortcuts-wiki")})),i.a.bind("g s",(function(){return Object(o.a)(".shortcuts-snippets")})),i.a.bind("g k",(function(){return Object(o.a)(".shortcuts-kubernetes")})),i.a.bind("g e",(function(){return Object(o.a)(".shortcuts-environments")})),i.a.bind("g l",(function(){return Object(o.a)(".shortcuts-metrics")})),i.a.bind("i",(function(){return Object(o.a)(".shortcuts-new-issue")})),e}return n}(n("v+Mp").a)},Ctp5:function(e,t,n){"use strict";n.r(t);var r=n("lFVp");document.addEventListener("DOMContentLoaded",r.default)},XqDB:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("Mm9T"),i=n("o/E4"),o=n("QXXq"),a=n("BrvI"),c=n("7bmO"),u="__bv_modal_directive__",s=function(e){var t=e.modifiers,n=void 0===t?{}:t,r=e.arg,i=e.value;return Object(a.i)(i)?i:Object(a.i)(r)?r:Object(c.j)(n).reverse()[0]},l=function(e){return e&&Object(i.p)(e,".dropdown-menu > li, li.nav-item")&&Object(i.v)("a, button",e)||e},d=function(e){e&&"BUTTON"!==e.tagName&&(Object(i.k)(e,"role")||Object(i.x)(e,"role","button"),"A"===e.tagName||Object(i.k)(e,"tabindex")||Object(i.x)(e,"tabindex","0"))},f=function(e){var t=e[u]||{},n=t.trigger,r=t.handler;n&&r&&(Object(o.c)(n,"click",r,o.b),Object(o.c)(n,"keydown",r,o.b),Object(o.c)(e,"click",r,o.b),Object(o.c)(e,"keydown",r,o.b)),delete e[u]},p=function(e,t,n){var a=e[u]||{},c=s(t),p=l(e);c===a.target&&p===a.trigger||(f(e),function(e,t,n){var a=s(t),c=l(e);if(a&&c){var f=function(e){var t=e.currentTarget;if(!Object(i.m)(t)){var o=e.type,c=e.keyCode;"click"!==o&&("keydown"!==o||c!==r.a.ENTER&&c!==r.a.SPACE)||n.context.$root.$emit("bv::show::modal",a,t)}};e[u]={handler:f,target:a,trigger:c},d(c),Object(o.d)(c,"click",f,o.b),"BUTTON"!==c.tagName&&"button"===Object(i.e)(c,"role")&&Object(o.d)(c,"keydown",f,o.b)}}(e,t,n)),d(p)},b={inserted:p,updated:function(){},componentUpdated:p,unbind:f}},ZeWX:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n("t3Gg"),n("+xeR");var r=n("3a3M"),i=n.n(r),o=n("06tH"),a=n.n(o),c=n("/lV4"),u=n("3twG");n("kO4A"),n("OZM5"),n("x/6R"),n("Z5ek"),n("yaFd"),n("8Qi2"),n("EWC9"),n("MRnW"),n("tbvx"),n("orcL");var s=function(e){return e.reduce((function(e,t){var n=t.name,r=t.value;return Object.assign(e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,r))}),{})},l=n("2ibD"),d=n("XRO8"),f=n("k/Fq");function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=i()("ul.clone-options-dropdown"),n=i()("#project_clone"),r=i()(".js-git-clone-holder .js-clone-dropdown-label"),o=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),c=r.text().trim();c.length>0&&i()("a:contains('".concat(c,"')"),t).addClass("is-active"),i()("a",t).on("click",(function(e){e.preventDefault();var r=i()(e.currentTarget),a=r.attr("href"),c=r.data("cloneType");i()(".is-active",t).removeClass("is-active"),i()('a[data-clone-type="'.concat(c,'"]')).each((function(){var e=i()(this),t=e.find(".dropdown-menu-inner-title").text(),n=e.closest(".project-clone-holder").find(".js-clone-dropdown-label");e.toggleClass("is-active"),n.text(t)})),o?o.dataset.clipboardText=a:n.val(a),i()(".js-git-empty .js-clone").text(a)})),e.initRefSwitcher(),i()(".project-refs-select").on("change",(function(){return i()(this).parents("form").submit()})),i()(".hide-no-ssh-message").on("click",(function(e){return a.a.set("hide_no_ssh_message","false"),i()(this).parents(".no-ssh-key-message").remove(),e.preventDefault()})),i()(".hide-no-password-message").on("click",(function(e){return a.a.set("hide_no_password_message","false"),i()(this).parents(".no-password-message").remove(),e.preventDefault()})),i()(".hide-auto-devops-implicitly-enabled-banner").on("click",(function(e){var t=i()(this).data("project-id"),n="hide_auto_devops_implicitly_enabled_banner_".concat(t);return a.a.set(n,"false"),i()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),e.preventDefault()})),e.projectSelectDropdown()}var t,n,r;return t=e,r=[{key:"projectSelectDropdown",value:function(){Object(f.a)(),i()(".project-item-select").on("click",(function(t){return e.changeProject(i()(t.currentTarget).val())}))}},{key:"changeProject",value:function(e){return window.location=e}},{key:"initRefSwitcher",value:function(){var e=document.createElement("li"),t=document.createElement("a");return t.href="#",i()(".js-project-refs-dropdown").each((function(){var n,r,o,a=i()(this),f=a.data("selected"),p=a.data("fieldName"),b=Boolean(a.data("visit")),h=a.closest("form"),m=h.attr("action"),g=Object(u.n)((n=h[0],r=new FormData(n),o=Array.from(r.keys()).map((function(e){var t=r.getAll(e);return{name:e,value:1===(t=t.filter((function(e){return e}))).length?t[0]:t}})),s(o)),m);return a.glDropdown({data:function(e,t){l.a.get(a.data("refsUrl"),{params:{ref:a.data("ref"),search:e}}).then((function(e){var n=e.data;return t(n)})).catch((function(){return Object(d.a)(Object(c.a)("An error occurred while getting projects"))}))},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:a.data("inputFieldName"),fieldName:p,renderRow:function(n){var r,i,o,a=e.cloneNode(!1),c=t.cloneNode(!1);return n===f&&(c.className="is-active"),c.textContent=n,c.dataset.ref=n,n.length>0&&b&&(c.href=Object(u.n)((o=n,(i=p)in(r={})?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,r),g)),a.appendChild(c),a},id:function(e,t){return t.attr("data-ref")},toggleLabel:function(e,t){return t.text().trim()},clicked:function(e){var t=e.e;b||t.preventDefault()}})}))}}],(n=null)&&p(t.prototype,n),r&&p(t,r),e}()},gjpc:function(e,t,n){"use strict";n.r(t);var r=n("ZeWX"),i=n("CX32");document.addEventListener("DOMContentLoaded",(function(){new r.a,new i.a}))},"k/Fq":function(e,t,n){"use strict";n("9U97"),n("8Qi2"),n("MRnW"),n("jaBk");var r=n("3a3M"),i=n.n(r),o=n("qPgm"),a=(n("gyUR"),n("4ql4"),n("IdsT"),n("pBsb"),n("n7CP"));function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.projectSelectInput=i()(t),this.newItemBtn=i()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}var t,r,o;return t=e,(r=[{key:"bindEvents",value:function(){var e=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",(function(t){return e.openDropdown(t)})),this.newItemBtn.on("click",(function(t){e.getProjectFromLocalStorage()||(t.preventDefault(),e.openDropdown(t))})),this.projectSelectInput.on("change",(function(){return e.selectProject()}))}},{key:"initLocalStorage",value:function(){a.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}},{key:"openDropdown",value:function(e){n.e(311).then(n.t.bind(null,"p9g0",7)).then((function(){i()(e.currentTarget).siblings(".project-item-select").select2("open")})).catch((function(){}))}},{key:"selectProject",value:function(){var e=JSON.parse(this.projectSelectInput.val()),t={url:"".concat(e.url,"/").concat(this.projectSelectInput.data("relativePath")),name:e.name};this.setNewItemBtnAttributes(t),this.setProjectInLocalStorage(t)}},{key:"setBtnTextFromLocalStorage",value:function(){var e=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(e)}},{key:"setNewItemBtnAttributes",value:function(e){e?(this.newItemBtn.attr("href",e.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(e.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}},{key:"getProjectFromLocalStorage",value:function(){var e=localStorage.getItem(this.localStorageKey);return JSON.parse(e)}},{key:"setProjectInLocalStorage",value:function(e){var t=JSON.stringify(e);localStorage.setItem(this.localStorageKey,t)}},{key:"deriveTextVariants",value:function(){var e=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:e,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}])&&c(t.prototype,r),o&&c(t,o),e}(),s=n("/lV4"),l=function(){i()(".ajax-project-select").each((function(e,t){var n,r=this,a=i()(t).data("simpleFilter")||!1,c=i()(t).data("select2");return this.groupId=i()(t).data("groupId"),this.userId=i()(t).data("userId"),this.includeGroups=i()(t).data("includeGroups"),this.allProjects=i()(t).data("allProjects")||!1,this.orderBy=i()(t).data("orderBy")||"id",this.withIssuesEnabled=i()(t).data("withIssuesEnabled"),this.withMergeRequestsEnabled=i()(t).data("withMergeRequestsEnabled"),this.withShared=void 0===i()(t).data("withShared")||i()(t).data("withShared"),this.includeProjectsInSubgroups=i()(t).data("includeProjectsInSubgroups")||!1,this.allowClear=i()(t).data("allowClear")||!1,n=Object(s.d)("ProjectSelect|Search for project"),this.includeGroups&&(n+=Object(s.d)("ProjectSelect| or group")),i()(t).select2({placeholder:n,minimumInputLength:0,query:function(e){var t,n=function(t){var n={results:t};return e.callback(n)};return t=r.includeGroups?function(t){return o.a.groups(e.term,{},(function(e){var r=e.concat(t);return n(r)}))}:n,r.groupId?o.a.groupProjects(r.groupId,e.term,{search_namespaces:!0,with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,with_shared:r.withShared,include_subgroups:r.includeProjectsInSubgroups},t):r.userId?o.a.userProjects(r.userId,e.term,{with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,with_shared:r.withShared,include_subgroups:r.includeProjectsInSubgroups},t):o.a.projects(e.term,{order_by:r.orderBy,with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,membership:!r.allProjects},t)},id:function(e){return a?e.id:JSON.stringify({name:e.name,url:e.web_url})},text:function(e){return e.name_with_namespace||e.name},initSelection:function(e,t){return o.a.project(e.val()).then((function(e){var n=e.data;return t(n)}))},allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),c||a?t:new u(t)}))};t.a=function(){return n.e(311).then(n.t.bind(null,"p9g0",7)).then(l).catch((function(){}))}},lFVp:function(e,t,n){"use strict";n.r(t);var r=n("3a3M"),i=n.n(r),o=n("jB52"),a=n("0KyK"),c=n("Qhxq"),u=(n("va8A"),n("z4I3"),n("dj/k"),n("x/6R"),n("WQYg"),n("MRnW"),n("EfZm"),n("GzNv"),n("tbvx"),n("orcL"),n("t6Yz")),s=n.n(u),l=n("CX32"),d=n("yQ8t");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(o,e);var t,n,r,i=h(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),e=i.call(this),s.a.bind("e",o.editWiki),e}return t=o,r=[{key:"editWiki",value:function(){Object(d.a)(".js-wiki-edit")}}],(n=null)&&p(t.prototype,n),r&&p(t,r),o}(l.a),y=(n("IdsT"),n("S26F"),n("eVUo")),j=n("/lV4");function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k={markdown:"[Link Title](page-slug)",rdoc:"{Link title}[link:page-slug]",asciidoc:"link:page-slug[Link title]",org:"[[page-slug]]"},O=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sidebarEl=document.querySelector(".js-wiki-sidebar"),this.sidebarExpanded=!1;for(var n=document.querySelectorAll(".js-sidebar-wiki-toggle"),r=0;r<n.length;r+=1)n[r].addEventListener("click",(function(e){return t.handleToggleSidebar(e)}));this.isNewWikiPage=Boolean(document.querySelector(".js-new-wiki-page")),this.editTitleInput=document.querySelector("form.wiki-form #wiki_title"),this.commitMessageInput=document.querySelector("form.wiki-form #wiki_message"),this.commitMessageI18n=this.isNewWikiPage?Object(j.d)("WikiPageCreate|Create %{pageTitle}"):Object(j.d)("WikiPageEdit|Update %{pageTitle}"),this.editTitleInput&&(this.editTitleInput.value&&this.setWikiCommitMessage(this.editTitleInput.value),this.editTitleInput.addEventListener("keyup",(function(e){return t.handleWikiTitleChange(e)}))),window.addEventListener("resize",(function(){return t.renderSidebar()})),this.renderSidebar();var i=document.querySelector("#wiki_format"),o=document.querySelector(".js-markup-link-example");i&&i.addEventListener("change",(function(e){o.innerHTML=k[e.target.value]}));var a=document.querySelector("form.wiki-form #wiki_content"),c=document.querySelector("form.wiki-form");a&&(a.addEventListener("input",(function(){window.onbeforeunload=function(){return""}})),c.addEventListener("submit",(function(){window.onbeforeunload=null})))}var t,n,r;return t=e,r=[{key:"sidebarCanCollapse",value:function(){var e=y.b.getBreakpointSize();return"xs"===e||"sm"===e}}],(n=[{key:"handleWikiTitleChange",value:function(e){this.setWikiCommitMessage(e.target.value)}},{key:"setWikiCommitMessage",value:function(e){var t=e;t&&(t=t.replace(/-+/g," "));var n=Object(j.e)(this.commitMessageI18n,{pageTitle:t},!1);this.commitMessageInput.value=n}},{key:"handleToggleSidebar",value:function(e){e.preventDefault(),this.sidebarExpanded=!this.sidebarExpanded,this.renderSidebar()}},{key:"renderSidebar",value:function(){if(this.sidebarEl){var t=this.sidebarEl.classList;this.sidebarExpanded||!e.sidebarCanCollapse()?t.contains("right-sidebar-expanded")||(t.remove("right-sidebar-collapsed"),t.add("right-sidebar-expanded")):t.contains("right-sidebar-expanded")&&(t.add("right-sidebar-collapsed"),t.remove("right-sidebar-expanded"))}}}])&&w(t.prototype,n),r&&w(t,r),e}(),S=n("Ylta"),_=n("FVJN"),I=n("G3fq"),T=n.n(I),x=n("1cpz"),P=n("XqDB"),E={components:{GlModal:x.a},directives:{"gl-modal":P.a},props:{deleteWikiUrl:{type:String,required:!0,default:""},pageTitle:{type:String,required:!0,default:""},csrfToken:{type:String,required:!0,default:""}},computed:{modalId:function(){return"delete-wiki-modal"},message:function(){return Object(j.d)("WikiPageConfirmDelete|Are you sure you want to delete this page?")},title:function(){return Object(j.e)(Object(j.d)("WikiPageConfirmDelete|Delete page %{pageTitle}?"),{pageTitle:T()(this.pageTitle)},!1)}},methods:{onSubmit:function(){window.onbeforeunload=null,this.$refs.form.submit()}}},C=n("tBpV"),q=Object(C.a)(E,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-inline-block"},[n("button",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:e.modalId,expression:"modalId"}],staticClass:"btn btn-danger",attrs:{type:"button"}},[e._v(e._s(e.__("Delete")))]),e._v(" "),n("gl-modal",{attrs:{title:e.title,"ok-title":e.s__("WikiPageConfirmDelete|Delete page"),"modal-id":e.modalId,"title-tag":"h4","ok-variant":"danger"},on:{ok:e.onSubmit}},[e._v("\n    "+e._s(e.message)+"\n    "),n("form",{ref:"form",staticClass:"js-requires-input",attrs:{action:e.deleteWikiUrl,method:"post"}},[n("input",{ref:"method",attrs:{type:"hidden",name:"_method",value:"delete"}}),e._v(" "),n("input",{attrs:{type:"hidden",name:"authenticity_token"},domProps:{value:e.csrfToken}})])])],1)}),[],!1,null,null,null).exports;t.default=function(){new O,new v,new S.a,new _.a(i()(".wiki-form"));var e=document.getElementById("delete-wiki-modal-wrapper");if(e){o.default.use(a.a);var t=e.dataset,n=t.deleteWikiUrl,r=t.pageTitle;new o.default({el:e,data:{deleteWikiUrl:""},render:function(e){return e(q,{props:{pageTitle:r,deleteWikiUrl:n,csrfToken:c.a.token}})}})}}}},[[191,1,0,2,5]]]);
//# sourceMappingURL=pages.projects.wikis.3183d6c8.chunk.js.map