(this.webpackJsonp=this.webpackJsonp||[]).push([[49],{"4lAS":function(t,e,n){"use strict";var r=n("ofGl"),i=n("s1D3"),o=n("FkSe"),a=n("LCwo"),s=n("XBTk"),l=n("Pyw5"),c=n.n(l);const u={components:{BButton:r.a,GlIcon:i.a,GlLoadingIcon:o.a},mixins:[a.a],props:{category:{type:String,required:!1,default:s.u.tertiary,validator:function(t){return Object.keys(s.u).includes(t)}},variant:{type:String,required:!1,default:s.x.default,validator:function(t){return Object.keys(s.x).includes(t)}},size:{type:String,required:!1,default:s.v.medium,validator:function(t){return Object.keys(s.v).includes(t)}},selected:{type:Boolean,required:!1,default:!1},icon:{type:String,required:!1,default:""},label:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1}},computed:{hasIcon:function(){return""!==this.icon},hasIconOnly:function(){return 0===Object.keys(this.$slots).length&&this.hasIcon},isButtonDisabled:function(){return this.disabled||this.loading},buttonClasses:function(){return{"btn-icon":this.hasIconOnly,"button-ellipsis-horizontal":this.hasIconOnly&&"ellipsis_h"===this.icon,"btn-secondary":this.category===s.u.secondary,"gl-button":this.variant!==s.x.link,"btn-label":this.label,selected:this.selected}},buttonSize:function(){return s.w[this.size]}}};const d=c()({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-button",t._g(t._b({class:t.buttonClasses,attrs:{rel:t.relType,target:t.target,variant:t.variant,size:t.buttonSize,disabled:t.isButtonDisabled}},"b-button",t.$attrs,!1),t.$listeners),[t.loading?n("gl-loading-icon",{staticClass:"gl-button-loading-indicator",attrs:{inline:""}}):t._e(),t._v(" "),t.hasIcon?n("gl-icon",{attrs:{name:t.icon}}):t._e(),t._v(" "),t._t("emoji"),t._v(" "),t.hasIconOnly?t._e():n("span",{staticClass:"gl-button-text"},[t._t("default")],2)],2)},staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=d},MV2A:function(t,e,n){"use strict";var r=n("1m+M"),i=n("jB52"),o=function(t){try{var e=new URL(t,(n=window.location,r=n.protocol,i=n.host,"".concat(r,"//").concat(i)));return["http:","https:","mailto:","ftp:"].includes(e.protocol)}catch(t){return!1}var n,r,i},a=function(t){var e=t.href,n=t.target,r=t.rel,i=t.hostname;o(e)||(t.href="about:blank"),function(t,e){return"_blank"===t&&e!==window.location.hostname}(n,i)&&(t.rel=function(t){var e=t?t.trim().split(" "):[];return e.includes("noopener")||e.push("noopener"),e.includes("noreferrer")||e.push("noreferrer"),e.join(" ")}(r))},s={inserted:a,update:function(t){i.default.nextTick((function(){a(t)}))}},l=n("Pyw5"),c=n.n(l);const u={components:{BLink:r.a},directives:{SafeLink:s},props:{target:{type:String,required:!1,default:null}}};const d=c()({render:function(){var t=this.$createElement;return(this._self._c||t)("b-link",this._g(this._b({directives:[{name:"safe-link",rawName:"v-safe-link"}],staticClass:"gl-link",attrs:{target:this.target}},"b-link",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=d},Z7xD:function(t,e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"JiraImport"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"JiraImport"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"jiraProjectKey"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scheduledAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scheduledBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:98}};n.loc.source={body:"fragment JiraImport on JiraImport {\n  jiraProjectKey\n  scheduledAt\n  scheduledBy {\n    name\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};t.exports=n},dsLq:function(t,e,n){"use strict";var r=n("4lAS"),i=n("Pyw5"),o=n.n(i);const a={components:{GlButton:r.a},props:{title:{type:String,required:!0},svgPath:{type:String,required:!1,default:null},description:{type:String,required:!1,default:null},primaryButtonLink:{type:String,required:!1,default:null},primaryButtonText:{type:String,required:!1,default:null},secondaryButtonLink:{type:String,required:!1,default:null},secondaryButtonText:{type:String,required:!1,default:null},compact:{type:Boolean,required:!1,default:!1}},computed:{shouldRenderPrimaryButton:function(){return Boolean(this.primaryButtonLink&&this.primaryButtonText)},shouldRenderSecondaryButton:function(){return Boolean(this.shouldRenderPrimaryButton&&this.secondaryButtonLink&&this.secondaryButtonText)}}};const s=o()({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"row",class:{"empty-state text-center":!t.compact}},[n("div",{class:{"col-3 d-none d-sm-block":t.compact,"col-12":!t.compact}},[t.svgPath?n("div",{staticClass:"svg-250",class:{"svg-content":!t.compact}},[n("img",{staticClass:"gl-max-w-full",attrs:{src:t.svgPath,alt:t.title}})]):t._e()]),t._v(" "),n("div",{class:t.compact?"col-sm-9":"col-12"},[n("div",{staticClass:"text-content gl-mx-auto gl-my-0",class:{"gl-p-5":!t.compact}},[n("h1",{ref:"title",class:t.compact?"h5":"h4"},[t._v(t._s(t.title))]),t._v(" "),t.description||t.$slots.description?n("p",{ref:"description"},[t._t("description",[t._v("\n          "+t._s(t.description)+"\n        ")])],2):t._e(),t._v(" "),n("div",[t._t("actions",[t.shouldRenderPrimaryButton?n("gl-button",{attrs:{variant:"success",href:t.primaryButtonLink}},[t._v(t._s(t.primaryButtonText))]):t._e(),t._v(" "),t.shouldRenderSecondaryButton?n("gl-button",{attrs:{href:t.secondaryButtonLink}},[t._v(t._s(t.secondaryButtonText))]):t._e()])],2)])])])},staticRenderFns:[]},void 0,a,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=s},dsWN:function(t,e,n){"use strict";var r=n("s1D3"),i=n("4lAS"),o=n("XBTk"),a=n("Pyw5"),s=n.n(a);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const d={components:{GlIcon:r.a,GlButton:i.a},props:{title:{type:String,required:!1,default:""},dismissible:{type:Boolean,required:!1,default:!0},dismissLabel:{type:String,required:!1,default:"Dismiss"},variant:{type:String,required:!1,default:o.b.info,validator:function(t){return Object.keys(o.b).includes(t)}},primaryButtonLink:{type:String,required:!1,default:""},primaryButtonText:{type:String,required:!1,default:""},secondaryButtonLink:{type:String,required:!1,default:""},secondaryButtonText:{type:String,required:!1,default:""}},computed:{iconName:function(){return o.a[this.variant]},shouldRenderActions:function(){return Boolean(this.$slots.actions||this.actionButtons.length)},actionButtons:function(){return[{text:this.primaryButtonText,attrs:{href:this.primaryButtonLink,variant:"info",category:o.u.primary},listeners:{click:this.primaryButtonClicked}},{text:this.secondaryButtonText,attrs:{href:this.secondaryButtonLink,variant:"default",category:o.u.secondary},listeners:{click:this.secondaryButtonClicked}}].reduce((function(t,e){if(!e.text)return t;var n=u({},e.attrs);return n.href||delete n.href,t.push(u(u({},e),{},{attrs:n})),t}),[])},variantClass:function(){return"gl-alert-".concat(this.variant)}},methods:{primaryButtonClicked:function(t){this.$emit("primaryAction",t)},secondaryButtonClicked:function(t){this.$emit("secondaryAction",t)},onDismiss:function(){this.$emit("dismiss")}}};const p=s()({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["gl-alert",t.variantClass],attrs:{role:"alert"}},[n("gl-icon",{class:{"gl-alert-icon":!0,"gl-alert-icon-no-title":!t.title},attrs:{name:t.iconName}}),t._v(" "),t.dismissible?n("button",{ref:"dismiss",staticClass:"gl-alert-dismiss",attrs:{type:"button","aria-label":t.dismissLabel},on:{click:t.onDismiss}},[n("gl-icon",{attrs:{name:"close"}})],1):t._e(),t._v(" "),t.title?n("h4",{staticClass:"gl-alert-title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),n("div",{staticClass:"gl-alert-body"},[t._t("default")],2),t._v(" "),t.shouldRenderActions?n("div",{staticClass:"gl-alert-actions"},[t._t("actions",t._l(t.actionButtons,(function(e,r){return n("gl-button",t._g(t._b({key:r,staticClass:"gl-alert-action"},"gl-button",e.attrs,!1),e.listeners),[t._v("\n        "+t._s(e.text)+"\n      ")])})))],2):t._e()],1)},staticRenderFns:[]},void 0,d,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=p},jYmY:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return u}));n("9U97"),n("kO4A"),n("t3Gg"),n("Z5ek"),n("8Qi2");var r=n("gAdM"),i=n.n(r),o={FAILED:"failed",FINISHED:"finished",NONE:"none",SCHEDULED:"scheduled",STARTED:"started"},a=function(t){return t===o.SCHEDULED||t===o.STARTED},s=function(t){return t===o.FINISHED},l=function(t){return t.map((function(t){var e=t.key,n=t.name;return{text:"".concat(n," (").concat(e,")"),value:e}}))},c=function(t,e){var n;return null===(n=e.find((function(e){return e.title===t})))||void 0===n?void 0:n.color},u=function(t,e){var n=function(t){var e,n=null===(e=i()(t))||void 0===e?void 0:e.jiraProjectKey,r=t.filter((function(t){return t.jiraProjectKey===n})).length;return"jira-import::".concat(n,"-").concat(r)}(t);return{color:c(n,e),title:n}}},jl6Z:function(t,e,n){"use strict";var r,i=n("MV2A"),o=n("DZUU"),a=n("XBTk"),s=n("Qog8"),l=n("Pyw5"),c=n.n(l);function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=(u(r={},a.r.dark,"gl-label-text-dark"),u(r,a.r.light,"gl-label-text-light"),r);const p={components:{GlLink:i.a,GlTooltip:o.a},props:{backgroundColor:{type:String,required:!0,validator:function(t){return/^(#|rgb|rgba)/.test(t)}},title:{type:String,required:!0,default:""},description:{type:String,required:!1,default:""},size:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"},target:{type:String,required:!1,default:"#"},scoped:{type:Boolean,required:!1,default:!1},scopedLabelsDocumentationLink:{type:String,required:!1,default:"#"}},data:function(){return{splitScopedLabelIndex:this.title.lastIndexOf("::")}},computed:{cssClasses:function(){return{"gl-label-sm":"sm"===this.size,"gl-label-scoped":this.scoped}},titleColorClass:function(){return d[Object(s.a)(this.backgroundColor)]},scopedKey:function(){return this.scoped?this.title.slice(0,this.splitScopedLabelIndex):this.title},scopedValue:function(){return this.title.slice(this.splitScopedLabelIndex+2)},scopedValueColor:function(){return Object(s.a)(this.backgroundColor)===a.r.light?this.backgroundColor:void 0},boxShadow:function(){return{"--label-inset-border":"inset 0 0 0 ".concat("sm"===this.size?"1px":"2px"," ").concat(this.backgroundColor)}}},watch:{title:function(){this.splitScopedLabelIndex=this.title.lastIndexOf("::")}}};const h=c()({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",t._b({ref:"labelTitle",staticClass:"gl-label",class:[t.titleColorClass,t.cssClasses],style:t.boxShadow,on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[n("gl-link",{staticClass:"gl-label-link",attrs:{href:t.target}},[n("span",{staticClass:"gl-label-text",style:{backgroundColor:t.backgroundColor}},[t._v(t._s(t.scopedKey))]),t._v(" "),t.scoped&&t.scopedValue?n("span",{staticClass:"gl-label-text",style:{color:t.scopedValueColor}},[t._v("\n      "+t._s(t.scopedValue)+"\n    ")]):t._e()]),t._v(" "),t.description?n("gl-tooltip",{attrs:{target:function(){return t.$refs.labelTitle},placement:t.tooltipPlacement,boundary:"viewport"}},[t.scoped?n("span",{staticClass:"gl-label-tooltip-title"},[t._v("Scoped label")]):t._e(),t._v("\n    "+t._s(t.description)+"\n  ")]):t._e()],1)},staticRenderFns:[]},void 0,p,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=h},"k/Fq":function(t,e,n){"use strict";n("9U97"),n("8Qi2"),n("MRnW"),n("jaBk");var r=n("3a3M"),i=n.n(r),o=n("qPgm"),a=(n("gyUR"),n("4ql4"),n("IdsT"),n("pBsb"),n("n7CP"));function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.projectSelectInput=i()(e),this.newItemBtn=i()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}var e,r,o;return e=t,(r=[{key:"bindEvents",value:function(){var t=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",(function(e){return t.openDropdown(e)})),this.newItemBtn.on("click",(function(e){t.getProjectFromLocalStorage()||(e.preventDefault(),t.openDropdown(e))})),this.projectSelectInput.on("change",(function(){return t.selectProject()}))}},{key:"initLocalStorage",value:function(){a.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}},{key:"openDropdown",value:function(t){n.e(311).then(n.t.bind(null,"p9g0",7)).then((function(){i()(t.currentTarget).siblings(".project-item-select").select2("open")})).catch((function(){}))}},{key:"selectProject",value:function(){var t=JSON.parse(this.projectSelectInput.val()),e={url:"".concat(t.url,"/").concat(this.projectSelectInput.data("relativePath")),name:t.name};this.setNewItemBtnAttributes(e),this.setProjectInLocalStorage(e)}},{key:"setBtnTextFromLocalStorage",value:function(){var t=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(t)}},{key:"setNewItemBtnAttributes",value:function(t){t?(this.newItemBtn.attr("href",t.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(t.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}},{key:"getProjectFromLocalStorage",value:function(){var t=localStorage.getItem(this.localStorageKey);return JSON.parse(t)}},{key:"setProjectInLocalStorage",value:function(t){var e=JSON.stringify(t);localStorage.setItem(this.localStorageKey,e)}},{key:"deriveTextVariants",value:function(){var t=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:t,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}])&&s(e.prototype,r),o&&s(e,o),t}(),c=n("/lV4"),u=function(){i()(".ajax-project-select").each((function(t,e){var n,r=this,a=i()(e).data("simpleFilter")||!1,s=i()(e).data("select2");return this.groupId=i()(e).data("groupId"),this.userId=i()(e).data("userId"),this.includeGroups=i()(e).data("includeGroups"),this.allProjects=i()(e).data("allProjects")||!1,this.orderBy=i()(e).data("orderBy")||"id",this.withIssuesEnabled=i()(e).data("withIssuesEnabled"),this.withMergeRequestsEnabled=i()(e).data("withMergeRequestsEnabled"),this.withShared=void 0===i()(e).data("withShared")||i()(e).data("withShared"),this.includeProjectsInSubgroups=i()(e).data("includeProjectsInSubgroups")||!1,this.allowClear=i()(e).data("allowClear")||!1,n=Object(c.d)("ProjectSelect|Search for project"),this.includeGroups&&(n+=Object(c.d)("ProjectSelect| or group")),i()(e).select2({placeholder:n,minimumInputLength:0,query:function(t){var e,n=function(e){var n={results:e};return t.callback(n)};return e=r.includeGroups?function(e){return o.a.groups(t.term,{},(function(t){var r=t.concat(e);return n(r)}))}:n,r.groupId?o.a.groupProjects(r.groupId,t.term,{search_namespaces:!0,with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,with_shared:r.withShared,include_subgroups:r.includeProjectsInSubgroups},e):r.userId?o.a.userProjects(r.userId,t.term,{with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,with_shared:r.withShared,include_subgroups:r.includeProjectsInSubgroups},e):o.a.projects(t.term,{order_by:r.orderBy,with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,membership:!r.allProjects},e)},id:function(t){return a?t.id:JSON.stringify({name:t.name,url:t.web_url})},text:function(t){return t.name_with_namespace||t.name},initSelection:function(t,e){return o.a.project(t.val()).then((function(t){var n=t.data;return e(n)}))},allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),s||a?e:new l(e)}))};e.a=function(){return n.e(311).then(n.t.bind(null,"p9g0",7)).then(u).catch((function(){}))}}}]);
//# sourceMappingURL=commons~pages.groups.issues~pages.projects.import.jira~pages.projects.issues.index.67c9c6c0.chunk.js.map